var j6=Object.defineProperty;var N6=(n,e,s)=>e in n?j6(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s;var bi=(n,e,s)=>N6(n,typeof e!="symbol"?e+"":e,s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=s(i);fetch(i.href,l)}})();function ju(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Wy={exports:{}},Mh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C2;function _6(){if(C2)return Mh;C2=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(r,i,l){var c=null;if(l!==void 0&&(c=""+l),i.key!==void 0&&(c=""+i.key),"key"in i){l={};for(var f in i)f!=="key"&&(l[f]=i[f])}else l=i;return i=l.ref,{$$typeof:n,type:r,key:c,ref:i!==void 0?i:null,props:l}}return Mh.Fragment=e,Mh.jsx=s,Mh.jsxs=s,Mh}var A2;function k6(){return A2||(A2=1,Wy.exports=_6()),Wy.exports}var t=k6(),Yy={exports:{}},st={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I2;function S6(){if(I2)return st;I2=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),v=Symbol.iterator;function E($){return $===null||typeof $!="object"?null:($=v&&$[v]||$["@@iterator"],typeof $=="function"?$:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,T={};function O($,ie,G){this.props=$,this.context=ie,this.refs=T,this.updater=G||N}O.prototype.isReactComponent={},O.prototype.setState=function($,ie){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,ie,"setState")},O.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function F(){}F.prototype=O.prototype;function z($,ie,G){this.props=$,this.context=ie,this.refs=T,this.updater=G||N}var M=z.prototype=new F;M.constructor=z,C(M,O.prototype),M.isPureReactComponent=!0;var U=Array.isArray;function X(){}var A={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function _($,ie,G){var H=G.ref;return{$$typeof:n,type:$,key:ie,ref:H!==void 0?H:null,props:G}}function k($,ie){return _($.type,ie,$.props)}function D($){return typeof $=="object"&&$!==null&&$.$$typeof===n}function L($){var ie={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(G){return ie[G]})}var R=/\/+/g;function Y($,ie){return typeof $=="object"&&$!==null&&$.key!=null?L(""+$.key):ie.toString(36)}function ve($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(X,X):($.status="pending",$.then(function(ie){$.status==="pending"&&($.status="fulfilled",$.value=ie)},function(ie){$.status==="pending"&&($.status="rejected",$.reason=ie)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function J($,ie,G,H,me){var K=typeof $;(K==="undefined"||K==="boolean")&&($=null);var Te=!1;if($===null)Te=!0;else switch(K){case"bigint":case"string":case"number":Te=!0;break;case"object":switch($.$$typeof){case n:case e:Te=!0;break;case g:return Te=$._init,J(Te($._payload),ie,G,H,me)}}if(Te)return me=me($),Te=H===""?"."+Y($,0):H,U(me)?(G="",Te!=null&&(G=Te.replace(R,"$&/")+"/"),J(me,ie,G,"",function(gt){return gt})):me!=null&&(D(me)&&(me=k(me,G+(me.key==null||$&&$.key===me.key?"":(""+me.key).replace(R,"$&/")+"/")+Te)),ie.push(me)),1;Te=0;var Re=H===""?".":H+":";if(U($))for(var Oe=0;Oe<$.length;Oe++)H=$[Oe],K=Re+Y(H,Oe),Te+=J(H,ie,G,K,me);else if(Oe=E($),typeof Oe=="function")for($=Oe.call($),Oe=0;!(H=$.next()).done;)H=H.value,K=Re+Y(H,Oe++),Te+=J(H,ie,G,K,me);else if(K==="object"){if(typeof $.then=="function")return J(ve($),ie,G,H,me);throw ie=String($),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Te}function W($,ie,G){if($==null)return $;var H=[],me=0;return J($,H,"","",function(K){return ie.call(G,K,me++)}),H}function xe($){if($._status===-1){var ie=$._result;ie=ie(),ie.then(function(G){($._status===0||$._status===-1)&&($._status=1,$._result=G)},function(G){($._status===0||$._status===-1)&&($._status=2,$._result=G)}),$._status===-1&&($._status=0,$._result=ie)}if($._status===1)return $._result.default;throw $._result}var Ie=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},Ae={map:W,forEach:function($,ie,G){W($,function(){ie.apply(this,arguments)},G)},count:function($){var ie=0;return W($,function(){ie++}),ie},toArray:function($){return W($,function(ie){return ie})||[]},only:function($){if(!D($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return st.Activity=b,st.Children=Ae,st.Component=O,st.Fragment=s,st.Profiler=i,st.PureComponent=z,st.StrictMode=r,st.Suspense=u,st.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,st.__COMPILER_RUNTIME={__proto__:null,c:function($){return A.H.useMemoCache($)}},st.cache=function($){return function(){return $.apply(null,arguments)}},st.cacheSignal=function(){return null},st.cloneElement=function($,ie,G){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var H=C({},$.props),me=$.key;if(ie!=null)for(K in ie.key!==void 0&&(me=""+ie.key),ie)!P.call(ie,K)||K==="key"||K==="__self"||K==="__source"||K==="ref"&&ie.ref===void 0||(H[K]=ie[K]);var K=arguments.length-2;if(K===1)H.children=G;else if(1<K){for(var Te=Array(K),Re=0;Re<K;Re++)Te[Re]=arguments[Re+2];H.children=Te}return _($.type,me,H)},st.createContext=function($){return $={$$typeof:c,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:l,_context:$},$},st.createElement=function($,ie,G){var H,me={},K=null;if(ie!=null)for(H in ie.key!==void 0&&(K=""+ie.key),ie)P.call(ie,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(me[H]=ie[H]);var Te=arguments.length-2;if(Te===1)me.children=G;else if(1<Te){for(var Re=Array(Te),Oe=0;Oe<Te;Oe++)Re[Oe]=arguments[Oe+2];me.children=Re}if($&&$.defaultProps)for(H in Te=$.defaultProps,Te)me[H]===void 0&&(me[H]=Te[H]);return _($,K,me)},st.createRef=function(){return{current:null}},st.forwardRef=function($){return{$$typeof:f,render:$}},st.isValidElement=D,st.lazy=function($){return{$$typeof:g,_payload:{_status:-1,_result:$},_init:xe}},st.memo=function($,ie){return{$$typeof:m,type:$,compare:ie===void 0?null:ie}},st.startTransition=function($){var ie=A.T,G={};A.T=G;try{var H=$(),me=A.S;me!==null&&me(G,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(X,Ie)}catch(K){Ie(K)}finally{ie!==null&&G.types!==null&&(ie.types=G.types),A.T=ie}},st.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},st.use=function($){return A.H.use($)},st.useActionState=function($,ie,G){return A.H.useActionState($,ie,G)},st.useCallback=function($,ie){return A.H.useCallback($,ie)},st.useContext=function($){return A.H.useContext($)},st.useDebugValue=function(){},st.useDeferredValue=function($,ie){return A.H.useDeferredValue($,ie)},st.useEffect=function($,ie){return A.H.useEffect($,ie)},st.useEffectEvent=function($){return A.H.useEffectEvent($)},st.useId=function(){return A.H.useId()},st.useImperativeHandle=function($,ie,G){return A.H.useImperativeHandle($,ie,G)},st.useInsertionEffect=function($,ie){return A.H.useInsertionEffect($,ie)},st.useLayoutEffect=function($,ie){return A.H.useLayoutEffect($,ie)},st.useMemo=function($,ie){return A.H.useMemo($,ie)},st.useOptimistic=function($,ie){return A.H.useOptimistic($,ie)},st.useReducer=function($,ie,G){return A.H.useReducer($,ie,G)},st.useRef=function($){return A.H.useRef($)},st.useState=function($){return A.H.useState($)},st.useSyncExternalStore=function($,ie,G){return A.H.useSyncExternalStore($,ie,G)},st.useTransition=function(){return A.H.useTransition()},st.version="19.2.4",st}var R2;function Jv(){return R2||(R2=1,Yy.exports=S6()),Yy.exports}var w=Jv();const Fe=ju(w);var Qy={exports:{}},Lh={},Jy={exports:{}},Xy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P2;function T6(){return P2||(P2=1,(function(n){function e(J,W){var xe=J.length;J.push(W);e:for(;0<xe;){var Ie=xe-1>>>1,Ae=J[Ie];if(0<i(Ae,W))J[Ie]=W,J[xe]=Ae,xe=Ie;else break e}}function s(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var W=J[0],xe=J.pop();if(xe!==W){J[0]=xe;e:for(var Ie=0,Ae=J.length,$=Ae>>>1;Ie<$;){var ie=2*(Ie+1)-1,G=J[ie],H=ie+1,me=J[H];if(0>i(G,xe))H<Ae&&0>i(me,G)?(J[Ie]=me,J[H]=xe,Ie=H):(J[Ie]=G,J[ie]=xe,Ie=ie);else if(H<Ae&&0>i(me,xe))J[Ie]=me,J[H]=xe,Ie=H;else break e}}return W}function i(J,W){var xe=J.sortIndex-W.sortIndex;return xe!==0?xe:J.id-W.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var u=[],m=[],g=1,b=null,v=3,E=!1,N=!1,C=!1,T=!1,O=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function M(J){for(var W=s(m);W!==null;){if(W.callback===null)r(m);else if(W.startTime<=J)r(m),W.sortIndex=W.expirationTime,e(u,W);else break;W=s(m)}}function U(J){if(C=!1,M(J),!N)if(s(u)!==null)N=!0,X||(X=!0,L());else{var W=s(m);W!==null&&ve(U,W.startTime-J)}}var X=!1,A=-1,P=5,_=-1;function k(){return T?!0:!(n.unstable_now()-_<P)}function D(){if(T=!1,X){var J=n.unstable_now();_=J;var W=!0;try{e:{N=!1,C&&(C=!1,F(A),A=-1),E=!0;var xe=v;try{t:{for(M(J),b=s(u);b!==null&&!(b.expirationTime>J&&k());){var Ie=b.callback;if(typeof Ie=="function"){b.callback=null,v=b.priorityLevel;var Ae=Ie(b.expirationTime<=J);if(J=n.unstable_now(),typeof Ae=="function"){b.callback=Ae,M(J),W=!0;break t}b===s(u)&&r(u),M(J)}else r(u);b=s(u)}if(b!==null)W=!0;else{var $=s(m);$!==null&&ve(U,$.startTime-J),W=!1}}break e}finally{b=null,v=xe,E=!1}W=void 0}}finally{W?L():X=!1}}}var L;if(typeof z=="function")L=function(){z(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Y=R.port2;R.port1.onmessage=D,L=function(){Y.postMessage(null)}}else L=function(){O(D,0)};function ve(J,W){A=O(function(){J(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(J){J.callback=null},n.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<J?Math.floor(1e3/J):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(J){switch(v){case 1:case 2:case 3:var W=3;break;default:W=v}var xe=v;v=W;try{return J()}finally{v=xe}},n.unstable_requestPaint=function(){T=!0},n.unstable_runWithPriority=function(J,W){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var xe=v;v=J;try{return W()}finally{v=xe}},n.unstable_scheduleCallback=function(J,W,xe){var Ie=n.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?Ie+xe:Ie):xe=Ie,J){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=xe+Ae,J={id:g++,callback:W,priorityLevel:J,startTime:xe,expirationTime:Ae,sortIndex:-1},xe>Ie?(J.sortIndex=xe,e(m,J),s(u)===null&&J===s(m)&&(C?(F(A),A=-1):C=!0,ve(U,xe-Ie))):(J.sortIndex=Ae,e(u,J),N||E||(N=!0,X||(X=!0,L()))),J},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(J){var W=v;return function(){var xe=v;v=W;try{return J.apply(this,arguments)}finally{v=xe}}}})(Xy)),Xy}var D2;function E6(){return D2||(D2=1,Jy.exports=T6()),Jy.exports}var Zy={exports:{}},wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O2;function C6(){if(O2)return wn;O2=1;var n=Jv();function e(u){var m="https://react.dev/errors/"+u;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+u+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(u,m,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:b==null?null:""+b,children:u,containerInfo:m,implementation:g}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(u,m){if(u==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,wn.createPortal=function(u,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(u,m,null,g)},wn.flushSync=function(u){var m=c.T,g=r.p;try{if(c.T=null,r.p=2,u)return u()}finally{c.T=m,r.p=g,r.d.f()}},wn.preconnect=function(u,m){typeof u=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(u,m))},wn.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},wn.preinit=function(u,m){if(typeof u=="string"&&m&&typeof m.as=="string"){var g=m.as,b=f(g,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(u,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:E}):g==="script"&&r.d.X(u,{crossOrigin:b,integrity:v,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},wn.preinitModule=function(u,m){if(typeof u=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=f(m.as,m.crossOrigin);r.d.M(u,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(u)},wn.preload=function(u,m){if(typeof u=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,b=f(g,m.crossOrigin);r.d.L(u,g,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},wn.preloadModule=function(u,m){if(typeof u=="string")if(m){var g=f(m.as,m.crossOrigin);r.d.m(u,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(u)},wn.requestFormReset=function(u){r.d.r(u)},wn.unstable_batchedUpdates=function(u,m){return u(m)},wn.useFormState=function(u,m,g){return c.H.useFormState(u,m,g)},wn.useFormStatus=function(){return c.H.useHostTransitionStatus()},wn.version="19.2.4",wn}var M2;function A6(){if(M2)return Zy.exports;M2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Zy.exports=C6(),Zy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L2;function I6(){if(L2)return Lh;L2=1;var n=E6(),e=Jv(),s=A6();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function l(a){var o=a,d=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(d=o.return),a=o.return;while(a)}return o.tag===3?d:null}function c(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function f(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function u(a){if(l(a)!==a)throw Error(r(188))}function m(a){var o=a.alternate;if(!o){if(o=l(a),o===null)throw Error(r(188));return o!==a?null:a}for(var d=a,h=o;;){var x=d.return;if(x===null)break;var y=x.alternate;if(y===null){if(h=x.return,h!==null){d=h;continue}break}if(x.child===y.child){for(y=x.child;y;){if(y===d)return u(x),a;if(y===h)return u(x),o;y=y.sibling}throw Error(r(188))}if(d.return!==h.return)d=x,h=y;else{for(var S=!1,V=x.child;V;){if(V===d){S=!0,d=x,h=y;break}if(V===h){S=!0,h=x,d=y;break}V=V.sibling}if(!S){for(V=y.child;V;){if(V===d){S=!0,d=y,h=x;break}if(V===h){S=!0,h=y,d=x;break}V=V.sibling}if(!S)throw Error(r(189))}}if(d.alternate!==h)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?a:o}function g(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=g(a),o!==null)return o;a=a.sibling}return null}var b=Object.assign,v=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),z=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(a){return a===null||typeof a!="object"?null:(a=D&&a[D]||a["@@iterator"],typeof a=="function"?a:null)}var R=Symbol.for("react.client.reference");function Y(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===R?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case C:return"Fragment";case O:return"Profiler";case T:return"StrictMode";case U:return"Suspense";case X:return"SuspenseList";case _:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case N:return"Portal";case z:return a.displayName||"Context";case F:return(a._context.displayName||"Context")+".Consumer";case M:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case A:return o=a.displayName||null,o!==null?o:Y(a.type)||"Memo";case P:o=a._payload,a=a._init;try{return Y(a(o))}catch{}}return null}var ve=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe={pending:!1,data:null,method:null,action:null},Ie=[],Ae=-1;function $(a){return{current:a}}function ie(a){0>Ae||(a.current=Ie[Ae],Ie[Ae]=null,Ae--)}function G(a,o){Ae++,Ie[Ae]=a.current,a.current=o}var H=$(null),me=$(null),K=$(null),Te=$(null);function Re(a,o){switch(G(K,o),G(me,a),G(H,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?X_(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=X_(o),a=Z_(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ie(H),G(H,a)}function Oe(){ie(H),ie(me),ie(K)}function gt(a){a.memoizedState!==null&&G(Te,a);var o=H.current,d=Z_(o,a.type);o!==d&&(G(me,a),G(H,d))}function wt(a){me.current===a&&(ie(H),ie(me)),Te.current===a&&(ie(Te),Rh._currentValue=xe)}var _t,kt;function _e(a){if(_t===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);_t=o&&o[1]||"",kt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_t+a+kt}var Le=!1;function xt(a,o){if(!a||Le)return"";Le=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var ke=function(){throw Error()};if(Object.defineProperty(ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ke,[])}catch(ge){var ue=ge}Reflect.construct(a,[],ke)}else{try{ke.call()}catch(ge){ue=ge}a.call(ke.prototype)}}else{try{throw Error()}catch(ge){ue=ge}(ke=a())&&typeof ke.catch=="function"&&ke.catch(function(){})}}catch(ge){if(ge&&ue&&typeof ge.stack=="string")return[ge.stack,ue.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),S=y[0],V=y[1];if(S&&V){var Q=S.split(`
`),de=V.split(`
`);for(x=h=0;h<Q.length&&!Q[h].includes("DetermineComponentFrameRoot");)h++;for(;x<de.length&&!de[x].includes("DetermineComponentFrameRoot");)x++;if(h===Q.length||x===de.length)for(h=Q.length-1,x=de.length-1;1<=h&&0<=x&&Q[h]!==de[x];)x--;for(;1<=h&&0<=x;h--,x--)if(Q[h]!==de[x]){if(h!==1||x!==1)do if(h--,x--,0>x||Q[h]!==de[x]){var je=`
`+Q[h].replace(" at new "," at ");return a.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",a.displayName)),je}while(1<=h&&0<=x);break}}}finally{Le=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?_e(d):""}function we(a,o){switch(a.tag){case 26:case 27:case 5:return _e(a.type);case 16:return _e("Lazy");case 13:return a.child!==o&&o!==null?_e("Suspense Fallback"):_e("Suspense");case 19:return _e("SuspenseList");case 0:case 15:return xt(a.type,!1);case 11:return xt(a.type.render,!1);case 1:return xt(a.type,!0);case 31:return _e("Activity");default:return""}}function se(a){try{var o="",d=null;do o+=we(a,d),d=a,a=a.return;while(a);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var $e=Object.prototype.hasOwnProperty,tt=n.unstable_scheduleCallback,ae=n.unstable_cancelCallback,It=n.unstable_shouldYield,ls=n.unstable_requestPaint,be=n.unstable_now,Ue=n.unstable_getCurrentPriorityLevel,ee=n.unstable_ImmediatePriority,Me=n.unstable_UserBlockingPriority,Xe=n.unstable_NormalPriority,Zt=n.unstable_LowPriority,Gs=n.unstable_IdlePriority,js=n.log,rr=n.unstable_setDisableYieldValue,Us=null,Fs=null;function bn(a){if(typeof js=="function"&&rr(a),Fs&&typeof Fs.setStrictMode=="function")try{Fs.setStrictMode(Us,a)}catch{}}var Vt=Math.clz32?Math.clz32:ll,Rc=Math.log,Bi=Math.LN2;function ll(a){return a>>>=0,a===0?32:31-(Rc(a)/Bi|0)|0}var ar=256,ja=262144,cs=4194304;function ir(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function te(a,o,d){var h=a.pendingLanes;if(h===0)return 0;var x=0,y=a.suspendedLanes,S=a.pingedLanes;a=a.warmLanes;var V=h&134217727;return V!==0?(h=V&~y,h!==0?x=ir(h):(S&=V,S!==0?x=ir(S):d||(d=V&~a,d!==0&&(x=ir(d))))):(V=h&~y,V!==0?x=ir(V):S!==0?x=ir(S):d||(d=h&~a,d!==0&&(x=ir(d)))),x===0?0:o!==0&&o!==x&&(o&y)===0&&(y=x&-x,d=o&-o,y>=d||y===32&&(d&4194048)!==0)?o:x}function qe(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function dt(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function es(){var a=cs;return cs<<=1,(cs&62914560)===0&&(cs=4194304),a}function ot(a){for(var o=[],d=0;31>d;d++)o.push(a);return o}function tn(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Qr(a,o,d,h,x,y){var S=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var V=a.entanglements,Q=a.expirationTimes,de=a.hiddenUpdates;for(d=S&~d;0<d;){var je=31-Vt(d),ke=1<<je;V[je]=0,Q[je]=-1;var ue=de[je];if(ue!==null)for(de[je]=null,je=0;je<ue.length;je++){var ge=ue[je];ge!==null&&(ge.lane&=-536870913)}d&=~ke}h!==0&&vn(a,h,0),y!==0&&x===0&&a.tag!==0&&(a.suspendedLanes|=y&~(S&~o))}function vn(a,o,d){a.pendingLanes|=o,a.suspendedLanes&=~o;var h=31-Vt(o);a.entangledLanes|=o,a.entanglements[h]=a.entanglements[h]|1073741824|d&261930}function $i(a,o){var d=a.entangledLanes|=o;for(a=a.entanglements;d;){var h=31-Vt(d),x=1<<h;x&o|a[h]&o&&(a[h]|=o),d&=~x}}function qi(a,o){var d=o&-o;return d=(d&42)!==0?1:Jr(d),(d&(a.suspendedLanes|o))!==0?0:d}function Jr(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Xr(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Em(){var a=W.p;return a!==0?a:(a=window.event,a===void 0?32:j2(a.type))}function Zr(a,o){var d=W.p;try{return W.p=a,o()}finally{W.p=d}}var ea=Math.random().toString(36).slice(2),As="__reactFiber$"+ea,Ks="__reactProps$"+ea,Na="__reactContainer$"+ea,Pc="__reactEvents$"+ea,e0="__reactListeners$"+ea,Cm="__reactHandles$"+ea,Am="__reactResources$"+ea,_a="__reactMarker$"+ea;function Dc(a){delete a[As],delete a[Ks],delete a[Pc],delete a[e0],delete a[Cm]}function ka(a){var o=a[As];if(o)return o;for(var d=a.parentNode;d;){if(o=d[Na]||d[As]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(a=i2(a);a!==null;){if(d=a[As])return d;a=i2(a)}return o}a=d,d=a.parentNode}return null}function Sr(a){if(a=a[As]||a[Na]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function or(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function Sa(a){var o=a[Am];return o||(o=a[Am]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Is(a){a[_a]=!0}var Vu=new Set,Uu={};function Ta(a,o){Ea(a,o),Ea(a+"Capture",o)}function Ea(a,o){for(Uu[a]=o,a=0;a<o.length;a++)Vu.add(o[a])}var Fu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bu={},$u={};function Im(a){return $e.call($u,a)?!0:$e.call(Bu,a)?!1:Fu.test(a)?$u[a]=!0:(Bu[a]=!0,!1)}function Oc(a,o,d){if(Im(o))if(d===null)a.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+d)}}function lr(a,o,d){if(d===null)a.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+d)}}function Rs(a,o,d,h){if(h===null)a.removeAttribute(d);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(o,d,""+h)}}function Ws(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Hi(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function qu(a,o,d){var h=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var x=h.get,y=h.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return x.call(this)},set:function(S){d=""+S,y.call(this,S)}}),Object.defineProperty(a,o,{enumerable:h.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Pt(a){if(!a._valueTracker){var o=Hi(a)?"checked":"value";a._valueTracker=qu(a,o,""+a[o])}}function cl(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var d=o.getValue(),h="";return a&&(h=Hi(a)?a.checked?"true":"false":a.value),a=h,a!==d?(o.setValue(a),!0):!1}function Ca(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var dl=/[\n"\\]/g;function Vn(a){return a.replace(dl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Mc(a,o,d,h,x,y,S,V){a.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?a.type=S:a.removeAttribute("type"),o!=null?S==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Ws(o)):a.value!==""+Ws(o)&&(a.value=""+Ws(o)):S!=="submit"&&S!=="reset"||a.removeAttribute("value"),o!=null?Hu(a,S,Ws(o)):d!=null?Hu(a,S,Ws(d)):h!=null&&a.removeAttribute("value"),x==null&&y!=null&&(a.defaultChecked=!!y),x!=null&&(a.checked=x&&typeof x!="function"&&typeof x!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?a.name=""+Ws(V):a.removeAttribute("name")}function Rm(a,o,d,h,x,y,S,V){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(a.type=y),o!=null||d!=null){if(!(y!=="submit"&&y!=="reset"||o!=null)){Pt(a);return}d=d!=null?""+Ws(d):"",o=o!=null?""+Ws(o):d,V||o===a.value||(a.value=o),a.defaultValue=o}h=h??x,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=V?a.checked:!!h,a.defaultChecked=!!h,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(a.name=S),Pt(a)}function Hu(a,o,d){o==="number"&&Ca(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function Gi(a,o,d,h){if(a=a.options,o){o={};for(var x=0;x<d.length;x++)o["$"+d[x]]=!0;for(d=0;d<a.length;d++)x=o.hasOwnProperty("$"+a[d].value),a[d].selected!==x&&(a[d].selected=x),x&&h&&(a[d].defaultSelected=!0)}else{for(d=""+Ws(d),o=null,x=0;x<a.length;x++){if(a[x].value===d){a[x].selected=!0,h&&(a[x].defaultSelected=!0);return}o!==null||a[x].disabled||(o=a[x])}o!==null&&(o.selected=!0)}}function Pm(a,o,d){if(o!=null&&(o=""+Ws(o),o!==a.value&&(a.value=o),d==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=d!=null?""+Ws(d):""}function Ki(a,o,d,h){if(o==null){if(h!=null){if(d!=null)throw Error(r(92));if(ve(h)){if(1<h.length)throw Error(r(93));h=h[0]}d=h}d==null&&(d=""),o=d}d=Ws(o),a.defaultValue=d,h=a.textContent,h===d&&h!==""&&h!==null&&(a.value=h),Pt(a)}function Un(a,o){if(o){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=o;return}}a.textContent=o}var Dm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gu(a,o,d){var h=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?h?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":h?a.setProperty(o,d):typeof d!="number"||d===0||Dm.has(o)?o==="float"?a.cssFloat=d:a[o]=(""+d).trim():a[o]=d+"px"}function Ku(a,o,d){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,d!=null){for(var h in d)!d.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var x in o)h=o[x],o.hasOwnProperty(x)&&d[x]!==h&&Gu(a,x,h)}else for(var y in o)o.hasOwnProperty(y)&&Gu(a,y,o[y])}function Lc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Om=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zc(a){return Wi.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function ta(){}var Wu=null;function Tr(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Yi=null,Aa=null;function ul(a){var o=Sr(a);if(o&&(a=o.stateNode)){var d=a[Ks]||null;e:switch(a=o.stateNode,o.type){case"input":if(Mc(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Vn(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var h=d[o];if(h!==a&&h.form===a.form){var x=h[Ks]||null;if(!x)throw Error(r(90));Mc(h,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(o=0;o<d.length;o++)h=d[o],h.form===a.form&&cl(h)}break e;case"textarea":Pm(a,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&Gi(a,!!d.multiple,o,!1)}}}var Vc=!1;function Qi(a,o,d){if(Vc)return a(o,d);Vc=!0;try{var h=a(o);return h}finally{if(Vc=!1,(Yi!==null||Aa!==null)&&(Ep(),Yi&&(o=Yi,a=Aa,Aa=Yi=null,ul(o),a)))for(o=0;o<a.length;o++)ul(a[o])}}function sa(a,o){var d=a.stateNode;if(d===null)return null;var h=d[Ks]||null;if(h===null)return null;d=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(r(231,o,typeof d));return d}var Er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hl=!1;if(Er)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){hl=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch{hl=!1}var Ia=null,Yu=null,fl=null;function Qu(){if(fl)return fl;var a,o=Yu,d=o.length,h,x="value"in Ia?Ia.value:Ia.textContent,y=x.length;for(a=0;a<d&&o[a]===x[a];a++);var S=d-a;for(h=1;h<=S&&o[d-h]===x[y-h];h++);return fl=x.slice(a,1<h?1-h:void 0)}function ml(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function ti(){return!0}function na(){return!1}function sn(a){function o(d,h,x,y,S){this._reactName=d,this._targetInst=x,this.type=h,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var V in a)a.hasOwnProperty(V)&&(d=a[V],this[V]=d?d(y):y[V]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ti:na,this.isPropagationStopped=na,this}return b(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=ti)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=ti)},persist:function(){},isPersistent:ti}),o}var si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ra=sn(si),Ji=b({},si,{view:0,detail:0}),Ju=sn(Ji),Xi,Uc,Pa,Fc=b({},Ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zi,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Pa&&(Pa&&a.type==="mousemove"?(Xi=a.screenX-Pa.screenX,Uc=a.screenY-Pa.screenY):Uc=Xi=0,Pa=a),Xi)},movementY:function(a){return"movementY"in a?a.movementY:Uc}}),Xu=sn(Fc),pl=b({},Fc,{dataTransfer:0}),Mm=sn(pl),Lm=b({},Ji,{relatedTarget:0}),gl=sn(Lm),Zu=b({},si,{animationName:0,elapsedTime:0,pseudoElement:0}),zm=sn(Zu),Bc=b({},si,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Vm=sn(Bc),Um=b({},si,{data:0}),Da=sn(Um),Fm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$m={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qm(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=$m[a])?!!o[a]:!1}function Zi(){return qm}var En=b({},Ji,{key:function(a){if(a.key){var o=Fm[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=ml(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Bm[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zi,charCode:function(a){return a.type==="keypress"?ml(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ml(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Hm=sn(En),Gm=b({},Fc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ni=sn(Gm),p=b({},Ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zi}),j=sn(p),I=b({},si,{propertyName:0,elapsedTime:0,pseudoElement:0}),B=sn(I),oe=b({},Fc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),fe=sn(oe),Pe=b({},si,{newState:0,oldState:0}),rt=sn(Pe),Ns=[9,13,27,32],Ct=Er&&"CompositionEvent"in window,ts=null;Er&&"documentMode"in document&&(ts=document.documentMode);var Cr=Er&&"TextEvent"in window&&!ts,Oa=Er&&(!Ct||ts&&8<ts&&11>=ts),ra=" ",aa=!1;function xl(a,o){switch(a){case"keyup":return Ns.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $c(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var qc=!1;function GR(a,o){switch(a){case"compositionend":return $c(o);case"keypress":return o.which!==32?null:(aa=!0,ra);case"textInput":return a=o.data,a===ra&&aa?null:a;default:return null}}function KR(a,o){if(qc)return a==="compositionend"||!Ct&&xl(a,o)?(a=Qu(),fl=Yu=Ia=null,qc=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Oa&&o.locale!=="ko"?null:o.data;default:return null}}var WR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function c1(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!WR[a.type]:o==="textarea"}function d1(a,o,d,h){Yi?Aa?Aa.push(h):Aa=[h]:Yi=h,o=Op(o,"onChange"),0<o.length&&(d=new Ra("onChange","change",null,d,h),a.push({event:d,listeners:o}))}var eh=null,th=null;function YR(a){G_(a,0)}function Km(a){var o=or(a);if(cl(o))return a}function u1(a,o){if(a==="change")return o}var h1=!1;if(Er){var t0;if(Er){var s0="oninput"in document;if(!s0){var f1=document.createElement("div");f1.setAttribute("oninput","return;"),s0=typeof f1.oninput=="function"}t0=s0}else t0=!1;h1=t0&&(!document.documentMode||9<document.documentMode)}function m1(){eh&&(eh.detachEvent("onpropertychange",p1),th=eh=null)}function p1(a){if(a.propertyName==="value"&&Km(th)){var o=[];d1(o,th,a,Tr(a)),Qi(YR,o)}}function QR(a,o,d){a==="focusin"?(m1(),eh=o,th=d,eh.attachEvent("onpropertychange",p1)):a==="focusout"&&m1()}function JR(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Km(th)}function XR(a,o){if(a==="click")return Km(o)}function ZR(a,o){if(a==="input"||a==="change")return Km(o)}function e5(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var cr=typeof Object.is=="function"?Object.is:e5;function sh(a,o){if(cr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var d=Object.keys(a),h=Object.keys(o);if(d.length!==h.length)return!1;for(h=0;h<d.length;h++){var x=d[h];if(!$e.call(o,x)||!cr(a[x],o[x]))return!1}return!0}function g1(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function x1(a,o){var d=g1(a);a=0;for(var h;d;){if(d.nodeType===3){if(h=a+d.textContent.length,a<=o&&h>=o)return{node:d,offset:o-a};a=h}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=g1(d)}}function y1(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?y1(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function b1(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Ca(a.document);o instanceof a.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)a=o.contentWindow;else break;o=Ca(a.document)}return o}function n0(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var t5=Er&&"documentMode"in document&&11>=document.documentMode,Hc=null,r0=null,nh=null,a0=!1;function v1(a,o,d){var h=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;a0||Hc==null||Hc!==Ca(h)||(h=Hc,"selectionStart"in h&&n0(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),nh&&sh(nh,h)||(nh=h,h=Op(r0,"onSelect"),0<h.length&&(o=new Ra("onSelect","select",null,o,d),a.push({event:o,listeners:h}),o.target=Hc)))}function yl(a,o){var d={};return d[a.toLowerCase()]=o.toLowerCase(),d["Webkit"+a]="webkit"+o,d["Moz"+a]="moz"+o,d}var Gc={animationend:yl("Animation","AnimationEnd"),animationiteration:yl("Animation","AnimationIteration"),animationstart:yl("Animation","AnimationStart"),transitionrun:yl("Transition","TransitionRun"),transitionstart:yl("Transition","TransitionStart"),transitioncancel:yl("Transition","TransitionCancel"),transitionend:yl("Transition","TransitionEnd")},i0={},w1={};Er&&(w1=document.createElement("div").style,"AnimationEvent"in window||(delete Gc.animationend.animation,delete Gc.animationiteration.animation,delete Gc.animationstart.animation),"TransitionEvent"in window||delete Gc.transitionend.transition);function bl(a){if(i0[a])return i0[a];if(!Gc[a])return a;var o=Gc[a],d;for(d in o)if(o.hasOwnProperty(d)&&d in w1)return i0[a]=o[d];return a}var j1=bl("animationend"),N1=bl("animationiteration"),_1=bl("animationstart"),s5=bl("transitionrun"),n5=bl("transitionstart"),r5=bl("transitioncancel"),k1=bl("transitionend"),S1=new Map,o0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");o0.push("scrollEnd");function ia(a,o){S1.set(a,o),Ta(o,[a])}var Wm=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Ar=[],Kc=0,l0=0;function Ym(){for(var a=Kc,o=l0=Kc=0;o<a;){var d=Ar[o];Ar[o++]=null;var h=Ar[o];Ar[o++]=null;var x=Ar[o];Ar[o++]=null;var y=Ar[o];if(Ar[o++]=null,h!==null&&x!==null){var S=h.pending;S===null?x.next=x:(x.next=S.next,S.next=x),h.pending=x}y!==0&&T1(d,x,y)}}function Qm(a,o,d,h){Ar[Kc++]=a,Ar[Kc++]=o,Ar[Kc++]=d,Ar[Kc++]=h,l0|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function c0(a,o,d,h){return Qm(a,o,d,h),Jm(a)}function vl(a,o){return Qm(a,null,null,o),Jm(a)}function T1(a,o,d){a.lanes|=d;var h=a.alternate;h!==null&&(h.lanes|=d);for(var x=!1,y=a.return;y!==null;)y.childLanes|=d,h=y.alternate,h!==null&&(h.childLanes|=d),y.tag===22&&(a=y.stateNode,a===null||a._visibility&1||(x=!0)),a=y,y=y.return;return a.tag===3?(y=a.stateNode,x&&o!==null&&(x=31-Vt(d),a=y.hiddenUpdates,h=a[x],h===null?a[x]=[o]:h.push(o),o.lane=d|536870912),y):null}function Jm(a){if(50<kh)throw kh=0,yy=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Wc={};function a5(a,o,d,h){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(a,o,d,h){return new a5(a,o,d,h)}function d0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ri(a,o){var d=a.alternate;return d===null?(d=dr(a.tag,o,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=o,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,o=a.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function E1(a,o){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,o=d.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Xm(a,o,d,h,x,y){var S=0;if(h=a,typeof a=="function")d0(a)&&(S=1);else if(typeof a=="string")S=d6(a,d,H.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case _:return a=dr(31,d,o,x),a.elementType=_,a.lanes=y,a;case C:return wl(d.children,x,y,o);case T:S=8,x|=24;break;case O:return a=dr(12,d,o,x|2),a.elementType=O,a.lanes=y,a;case U:return a=dr(13,d,o,x),a.elementType=U,a.lanes=y,a;case X:return a=dr(19,d,o,x),a.elementType=X,a.lanes=y,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case z:S=10;break e;case F:S=9;break e;case M:S=11;break e;case A:S=14;break e;case P:S=16,h=null;break e}S=29,d=Error(r(130,a===null?"null":typeof a,"")),h=null}return o=dr(S,d,o,x),o.elementType=a,o.type=h,o.lanes=y,o}function wl(a,o,d,h){return a=dr(7,a,h,o),a.lanes=d,a}function u0(a,o,d){return a=dr(6,a,null,o),a.lanes=d,a}function C1(a){var o=dr(18,null,null,0);return o.stateNode=a,o}function h0(a,o,d){return o=dr(4,a.children!==null?a.children:[],a.key,o),o.lanes=d,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var A1=new WeakMap;function Ir(a,o){if(typeof a=="object"&&a!==null){var d=A1.get(a);return d!==void 0?d:(o={value:a,source:o,stack:se(o)},A1.set(a,o),o)}return{value:a,source:o,stack:se(o)}}var Yc=[],Qc=0,Zm=null,rh=0,Rr=[],Pr=0,eo=null,Ma=1,La="";function ai(a,o){Yc[Qc++]=rh,Yc[Qc++]=Zm,Zm=a,rh=o}function I1(a,o,d){Rr[Pr++]=Ma,Rr[Pr++]=La,Rr[Pr++]=eo,eo=a;var h=Ma;a=La;var x=32-Vt(h)-1;h&=~(1<<x),d+=1;var y=32-Vt(o)+x;if(30<y){var S=x-x%5;y=(h&(1<<S)-1).toString(32),h>>=S,x-=S,Ma=1<<32-Vt(o)+x|d<<x|h,La=y+a}else Ma=1<<y|d<<x|h,La=a}function f0(a){a.return!==null&&(ai(a,1),I1(a,1,0))}function m0(a){for(;a===Zm;)Zm=Yc[--Qc],Yc[Qc]=null,rh=Yc[--Qc],Yc[Qc]=null;for(;a===eo;)eo=Rr[--Pr],Rr[Pr]=null,La=Rr[--Pr],Rr[Pr]=null,Ma=Rr[--Pr],Rr[Pr]=null}function R1(a,o){Rr[Pr++]=Ma,Rr[Pr++]=La,Rr[Pr++]=eo,Ma=o.id,La=o.overflow,eo=a}var nn=null,Qt=null,jt=!1,to=null,Dr=!1,p0=Error(r(519));function so(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ah(Ir(o,a)),p0}function P1(a){var o=a.stateNode,d=a.type,h=a.memoizedProps;switch(o[As]=a,o[Ks]=h,d){case"dialog":ht("cancel",o),ht("close",o);break;case"iframe":case"object":case"embed":ht("load",o);break;case"video":case"audio":for(d=0;d<Th.length;d++)ht(Th[d],o);break;case"source":ht("error",o);break;case"img":case"image":case"link":ht("error",o),ht("load",o);break;case"details":ht("toggle",o);break;case"input":ht("invalid",o),Rm(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":ht("invalid",o);break;case"textarea":ht("invalid",o),Ki(o,h.value,h.defaultValue,h.children)}d=h.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||h.suppressHydrationWarning===!0||Q_(o.textContent,d)?(h.popover!=null&&(ht("beforetoggle",o),ht("toggle",o)),h.onScroll!=null&&ht("scroll",o),h.onScrollEnd!=null&&ht("scrollend",o),h.onClick!=null&&(o.onclick=ta),o=!0):o=!1,o||so(a,!0)}function D1(a){for(nn=a.return;nn;)switch(nn.tag){case 5:case 31:case 13:Dr=!1;return;case 27:case 3:Dr=!0;return;default:nn=nn.return}}function Jc(a){if(a!==nn)return!1;if(!jt)return D1(a),jt=!0,!1;var o=a.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||Py(a.type,a.memoizedProps)),d=!d),d&&Qt&&so(a),D1(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Qt=a2(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Qt=a2(a)}else o===27?(o=Qt,xo(a.type)?(a=zy,zy=null,Qt=a):Qt=o):Qt=nn?Mr(a.stateNode.nextSibling):null;return!0}function jl(){Qt=nn=null,jt=!1}function g0(){var a=to;return a!==null&&(qn===null?qn=a:qn.push.apply(qn,a),to=null),a}function ah(a){to===null?to=[a]:to.push(a)}var x0=$(null),Nl=null,ii=null;function no(a,o,d){G(x0,o._currentValue),o._currentValue=d}function oi(a){a._currentValue=x0.current,ie(x0)}function y0(a,o,d){for(;a!==null;){var h=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),a===d)break;a=a.return}}function b0(a,o,d,h){var x=a.child;for(x!==null&&(x.return=a);x!==null;){var y=x.dependencies;if(y!==null){var S=x.child;y=y.firstContext;e:for(;y!==null;){var V=y;y=x;for(var Q=0;Q<o.length;Q++)if(V.context===o[Q]){y.lanes|=d,V=y.alternate,V!==null&&(V.lanes|=d),y0(y.return,d,a),h||(S=null);break e}y=V.next}}else if(x.tag===18){if(S=x.return,S===null)throw Error(r(341));S.lanes|=d,y=S.alternate,y!==null&&(y.lanes|=d),y0(S,d,a),S=null}else S=x.child;if(S!==null)S.return=x;else for(S=x;S!==null;){if(S===a){S=null;break}if(x=S.sibling,x!==null){x.return=S.return,S=x;break}S=S.return}x=S}}function Xc(a,o,d,h){a=null;for(var x=o,y=!1;x!==null;){if(!y){if((x.flags&524288)!==0)y=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var S=x.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var V=x.type;cr(x.pendingProps.value,S.value)||(a!==null?a.push(V):a=[V])}}else if(x===Te.current){if(S=x.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(a!==null?a.push(Rh):a=[Rh])}x=x.return}a!==null&&b0(o,a,d,h),o.flags|=262144}function ep(a){for(a=a.firstContext;a!==null;){if(!cr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function _l(a){Nl=a,ii=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function rn(a){return O1(Nl,a)}function tp(a,o){return Nl===null&&_l(a),O1(a,o)}function O1(a,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},ii===null){if(a===null)throw Error(r(308));ii=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else ii=ii.next=o;return d}var i5=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(d,h){a.push(h)}};this.abort=function(){o.aborted=!0,a.forEach(function(d){return d()})}},o5=n.unstable_scheduleCallback,l5=n.unstable_NormalPriority,Ps={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function v0(){return{controller:new i5,data:new Map,refCount:0}}function ih(a){a.refCount--,a.refCount===0&&o5(l5,function(){a.controller.abort()})}var oh=null,w0=0,Zc=0,ed=null;function c5(a,o){if(oh===null){var d=oh=[];w0=0,Zc=_y(),ed={status:"pending",value:void 0,then:function(h){d.push(h)}}}return w0++,o.then(M1,M1),o}function M1(){if(--w0===0&&oh!==null){ed!==null&&(ed.status="fulfilled");var a=oh;oh=null,Zc=0,ed=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function d5(a,o){var d=[],h={status:"pending",value:null,reason:null,then:function(x){d.push(x)}};return a.then(function(){h.status="fulfilled",h.value=o;for(var x=0;x<d.length;x++)(0,d[x])(o)},function(x){for(h.status="rejected",h.reason=x,x=0;x<d.length;x++)(0,d[x])(void 0)}),h}var L1=J.S;J.S=function(a,o){v_=be(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&c5(a,o),L1!==null&&L1(a,o)};var kl=$(null);function j0(){var a=kl.current;return a!==null?a:qt.pooledCache}function sp(a,o){o===null?G(kl,kl.current):G(kl,o.pool)}function z1(){var a=j0();return a===null?null:{parent:Ps._currentValue,pool:a}}var td=Error(r(460)),N0=Error(r(474)),np=Error(r(542)),rp={then:function(){}};function V1(a){return a=a.status,a==="fulfilled"||a==="rejected"}function U1(a,o,d){switch(d=a[d],d===void 0?a.push(o):d!==o&&(o.then(ta,ta),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,B1(a),a;default:if(typeof o.status=="string")o.then(ta,ta);else{if(a=qt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(h){if(o.status==="pending"){var x=o;x.status="fulfilled",x.value=h}},function(h){if(o.status==="pending"){var x=o;x.status="rejected",x.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,B1(a),a}throw Tl=o,td}}function Sl(a){try{var o=a._init;return o(a._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Tl=d,td):d}}var Tl=null;function F1(){if(Tl===null)throw Error(r(459));var a=Tl;return Tl=null,a}function B1(a){if(a===td||a===np)throw Error(r(483))}var sd=null,lh=0;function ap(a){var o=lh;return lh+=1,sd===null&&(sd=[]),U1(sd,a,o)}function ch(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function ip(a,o){throw o.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function $1(a){function o(ne,Z){if(a){var ce=ne.deletions;ce===null?(ne.deletions=[Z],ne.flags|=16):ce.push(Z)}}function d(ne,Z){if(!a)return null;for(;Z!==null;)o(ne,Z),Z=Z.sibling;return null}function h(ne){for(var Z=new Map;ne!==null;)ne.key!==null?Z.set(ne.key,ne):Z.set(ne.index,ne),ne=ne.sibling;return Z}function x(ne,Z){return ne=ri(ne,Z),ne.index=0,ne.sibling=null,ne}function y(ne,Z,ce){return ne.index=ce,a?(ce=ne.alternate,ce!==null?(ce=ce.index,ce<Z?(ne.flags|=67108866,Z):ce):(ne.flags|=67108866,Z)):(ne.flags|=1048576,Z)}function S(ne){return a&&ne.alternate===null&&(ne.flags|=67108866),ne}function V(ne,Z,ce,Ne){return Z===null||Z.tag!==6?(Z=u0(ce,ne.mode,Ne),Z.return=ne,Z):(Z=x(Z,ce),Z.return=ne,Z)}function Q(ne,Z,ce,Ne){var Je=ce.type;return Je===C?je(ne,Z,ce.props.children,Ne,ce.key):Z!==null&&(Z.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===P&&Sl(Je)===Z.type)?(Z=x(Z,ce.props),ch(Z,ce),Z.return=ne,Z):(Z=Xm(ce.type,ce.key,ce.props,null,ne.mode,Ne),ch(Z,ce),Z.return=ne,Z)}function de(ne,Z,ce,Ne){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==ce.containerInfo||Z.stateNode.implementation!==ce.implementation?(Z=h0(ce,ne.mode,Ne),Z.return=ne,Z):(Z=x(Z,ce.children||[]),Z.return=ne,Z)}function je(ne,Z,ce,Ne,Je){return Z===null||Z.tag!==7?(Z=wl(ce,ne.mode,Ne,Je),Z.return=ne,Z):(Z=x(Z,ce),Z.return=ne,Z)}function ke(ne,Z,ce){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=u0(""+Z,ne.mode,ce),Z.return=ne,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case E:return ce=Xm(Z.type,Z.key,Z.props,null,ne.mode,ce),ch(ce,Z),ce.return=ne,ce;case N:return Z=h0(Z,ne.mode,ce),Z.return=ne,Z;case P:return Z=Sl(Z),ke(ne,Z,ce)}if(ve(Z)||L(Z))return Z=wl(Z,ne.mode,ce,null),Z.return=ne,Z;if(typeof Z.then=="function")return ke(ne,ap(Z),ce);if(Z.$$typeof===z)return ke(ne,tp(ne,Z),ce);ip(ne,Z)}return null}function ue(ne,Z,ce,Ne){var Je=Z!==null?Z.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Je!==null?null:V(ne,Z,""+ce,Ne);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case E:return ce.key===Je?Q(ne,Z,ce,Ne):null;case N:return ce.key===Je?de(ne,Z,ce,Ne):null;case P:return ce=Sl(ce),ue(ne,Z,ce,Ne)}if(ve(ce)||L(ce))return Je!==null?null:je(ne,Z,ce,Ne,null);if(typeof ce.then=="function")return ue(ne,Z,ap(ce),Ne);if(ce.$$typeof===z)return ue(ne,Z,tp(ne,ce),Ne);ip(ne,ce)}return null}function ge(ne,Z,ce,Ne,Je){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return ne=ne.get(ce)||null,V(Z,ne,""+Ne,Je);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case E:return ne=ne.get(Ne.key===null?ce:Ne.key)||null,Q(Z,ne,Ne,Je);case N:return ne=ne.get(Ne.key===null?ce:Ne.key)||null,de(Z,ne,Ne,Je);case P:return Ne=Sl(Ne),ge(ne,Z,ce,Ne,Je)}if(ve(Ne)||L(Ne))return ne=ne.get(ce)||null,je(Z,ne,Ne,Je,null);if(typeof Ne.then=="function")return ge(ne,Z,ce,ap(Ne),Je);if(Ne.$$typeof===z)return ge(ne,Z,ce,tp(Z,Ne),Je);ip(Z,Ne)}return null}function Be(ne,Z,ce,Ne){for(var Je=null,St=null,Ke=Z,lt=Z=0,bt=null;Ke!==null&&lt<ce.length;lt++){Ke.index>lt?(bt=Ke,Ke=null):bt=Ke.sibling;var Tt=ue(ne,Ke,ce[lt],Ne);if(Tt===null){Ke===null&&(Ke=bt);break}a&&Ke&&Tt.alternate===null&&o(ne,Ke),Z=y(Tt,Z,lt),St===null?Je=Tt:St.sibling=Tt,St=Tt,Ke=bt}if(lt===ce.length)return d(ne,Ke),jt&&ai(ne,lt),Je;if(Ke===null){for(;lt<ce.length;lt++)Ke=ke(ne,ce[lt],Ne),Ke!==null&&(Z=y(Ke,Z,lt),St===null?Je=Ke:St.sibling=Ke,St=Ke);return jt&&ai(ne,lt),Je}for(Ke=h(Ke);lt<ce.length;lt++)bt=ge(Ke,ne,lt,ce[lt],Ne),bt!==null&&(a&&bt.alternate!==null&&Ke.delete(bt.key===null?lt:bt.key),Z=y(bt,Z,lt),St===null?Je=bt:St.sibling=bt,St=bt);return a&&Ke.forEach(function(jo){return o(ne,jo)}),jt&&ai(ne,lt),Je}function Ze(ne,Z,ce,Ne){if(ce==null)throw Error(r(151));for(var Je=null,St=null,Ke=Z,lt=Z=0,bt=null,Tt=ce.next();Ke!==null&&!Tt.done;lt++,Tt=ce.next()){Ke.index>lt?(bt=Ke,Ke=null):bt=Ke.sibling;var jo=ue(ne,Ke,Tt.value,Ne);if(jo===null){Ke===null&&(Ke=bt);break}a&&Ke&&jo.alternate===null&&o(ne,Ke),Z=y(jo,Z,lt),St===null?Je=jo:St.sibling=jo,St=jo,Ke=bt}if(Tt.done)return d(ne,Ke),jt&&ai(ne,lt),Je;if(Ke===null){for(;!Tt.done;lt++,Tt=ce.next())Tt=ke(ne,Tt.value,Ne),Tt!==null&&(Z=y(Tt,Z,lt),St===null?Je=Tt:St.sibling=Tt,St=Tt);return jt&&ai(ne,lt),Je}for(Ke=h(Ke);!Tt.done;lt++,Tt=ce.next())Tt=ge(Ke,ne,lt,Tt.value,Ne),Tt!==null&&(a&&Tt.alternate!==null&&Ke.delete(Tt.key===null?lt:Tt.key),Z=y(Tt,Z,lt),St===null?Je=Tt:St.sibling=Tt,St=Tt);return a&&Ke.forEach(function(w6){return o(ne,w6)}),jt&&ai(ne,lt),Je}function $t(ne,Z,ce,Ne){if(typeof ce=="object"&&ce!==null&&ce.type===C&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case E:e:{for(var Je=ce.key;Z!==null;){if(Z.key===Je){if(Je=ce.type,Je===C){if(Z.tag===7){d(ne,Z.sibling),Ne=x(Z,ce.props.children),Ne.return=ne,ne=Ne;break e}}else if(Z.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===P&&Sl(Je)===Z.type){d(ne,Z.sibling),Ne=x(Z,ce.props),ch(Ne,ce),Ne.return=ne,ne=Ne;break e}d(ne,Z);break}else o(ne,Z);Z=Z.sibling}ce.type===C?(Ne=wl(ce.props.children,ne.mode,Ne,ce.key),Ne.return=ne,ne=Ne):(Ne=Xm(ce.type,ce.key,ce.props,null,ne.mode,Ne),ch(Ne,ce),Ne.return=ne,ne=Ne)}return S(ne);case N:e:{for(Je=ce.key;Z!==null;){if(Z.key===Je)if(Z.tag===4&&Z.stateNode.containerInfo===ce.containerInfo&&Z.stateNode.implementation===ce.implementation){d(ne,Z.sibling),Ne=x(Z,ce.children||[]),Ne.return=ne,ne=Ne;break e}else{d(ne,Z);break}else o(ne,Z);Z=Z.sibling}Ne=h0(ce,ne.mode,Ne),Ne.return=ne,ne=Ne}return S(ne);case P:return ce=Sl(ce),$t(ne,Z,ce,Ne)}if(ve(ce))return Be(ne,Z,ce,Ne);if(L(ce)){if(Je=L(ce),typeof Je!="function")throw Error(r(150));return ce=Je.call(ce),Ze(ne,Z,ce,Ne)}if(typeof ce.then=="function")return $t(ne,Z,ap(ce),Ne);if(ce.$$typeof===z)return $t(ne,Z,tp(ne,ce),Ne);ip(ne,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,Z!==null&&Z.tag===6?(d(ne,Z.sibling),Ne=x(Z,ce),Ne.return=ne,ne=Ne):(d(ne,Z),Ne=u0(ce,ne.mode,Ne),Ne.return=ne,ne=Ne),S(ne)):d(ne,Z)}return function(ne,Z,ce,Ne){try{lh=0;var Je=$t(ne,Z,ce,Ne);return sd=null,Je}catch(Ke){if(Ke===td||Ke===np)throw Ke;var St=dr(29,Ke,null,ne.mode);return St.lanes=Ne,St.return=ne,St}finally{}}}var El=$1(!0),q1=$1(!1),ro=!1;function _0(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function k0(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ao(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function io(a,o,d){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(At&2)!==0){var x=h.pending;return x===null?o.next=o:(o.next=x.next,x.next=o),h.pending=o,o=Jm(a),T1(a,null,d),o}return Qm(a,h,o,d),Jm(a)}function dh(a,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var h=o.lanes;h&=a.pendingLanes,d|=h,o.lanes=d,$i(a,d)}}function S0(a,o){var d=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,d===h)){var x=null,y=null;if(d=d.firstBaseUpdate,d!==null){do{var S={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};y===null?x=y=S:y=y.next=S,d=d.next}while(d!==null);y===null?x=y=o:y=y.next=o}else x=y=o;d={baseState:h.baseState,firstBaseUpdate:x,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=o:a.next=o,d.lastBaseUpdate=o}var T0=!1;function uh(){if(T0){var a=ed;if(a!==null)throw a}}function hh(a,o,d,h){T0=!1;var x=a.updateQueue;ro=!1;var y=x.firstBaseUpdate,S=x.lastBaseUpdate,V=x.shared.pending;if(V!==null){x.shared.pending=null;var Q=V,de=Q.next;Q.next=null,S===null?y=de:S.next=de,S=Q;var je=a.alternate;je!==null&&(je=je.updateQueue,V=je.lastBaseUpdate,V!==S&&(V===null?je.firstBaseUpdate=de:V.next=de,je.lastBaseUpdate=Q))}if(y!==null){var ke=x.baseState;S=0,je=de=Q=null,V=y;do{var ue=V.lane&-536870913,ge=ue!==V.lane;if(ge?(yt&ue)===ue:(h&ue)===ue){ue!==0&&ue===Zc&&(T0=!0),je!==null&&(je=je.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var Be=a,Ze=V;ue=o;var $t=d;switch(Ze.tag){case 1:if(Be=Ze.payload,typeof Be=="function"){ke=Be.call($t,ke,ue);break e}ke=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Ze.payload,ue=typeof Be=="function"?Be.call($t,ke,ue):Be,ue==null)break e;ke=b({},ke,ue);break e;case 2:ro=!0}}ue=V.callback,ue!==null&&(a.flags|=64,ge&&(a.flags|=8192),ge=x.callbacks,ge===null?x.callbacks=[ue]:ge.push(ue))}else ge={lane:ue,tag:V.tag,payload:V.payload,callback:V.callback,next:null},je===null?(de=je=ge,Q=ke):je=je.next=ge,S|=ue;if(V=V.next,V===null){if(V=x.shared.pending,V===null)break;ge=V,V=ge.next,ge.next=null,x.lastBaseUpdate=ge,x.shared.pending=null}}while(!0);je===null&&(Q=ke),x.baseState=Q,x.firstBaseUpdate=de,x.lastBaseUpdate=je,y===null&&(x.shared.lanes=0),ho|=S,a.lanes=S,a.memoizedState=ke}}function H1(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function G1(a,o){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)H1(d[a],o)}var nd=$(null),op=$(0);function K1(a,o){a=gi,G(op,a),G(nd,o),gi=a|o.baseLanes}function E0(){G(op,gi),G(nd,nd.current)}function C0(){gi=op.current,ie(nd),ie(op)}var ur=$(null),Or=null;function oo(a){var o=a.alternate;G(_s,_s.current&1),G(ur,a),Or===null&&(o===null||nd.current!==null||o.memoizedState!==null)&&(Or=a)}function A0(a){G(_s,_s.current),G(ur,a),Or===null&&(Or=a)}function W1(a){a.tag===22?(G(_s,_s.current),G(ur,a),Or===null&&(Or=a)):lo()}function lo(){G(_s,_s.current),G(ur,ur.current)}function hr(a){ie(ur),Or===a&&(Or=null),ie(_s)}var _s=$(0);function lp(a){for(var o=a;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||My(d)||Ly(d)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var li=0,at=null,Ft=null,Ds=null,cp=!1,rd=!1,Cl=!1,dp=0,fh=0,ad=null,u5=0;function hs(){throw Error(r(321))}function I0(a,o){if(o===null)return!1;for(var d=0;d<o.length&&d<a.length;d++)if(!cr(a[d],o[d]))return!1;return!0}function R0(a,o,d,h,x,y){return li=y,at=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,J.H=a===null||a.memoizedState===null?IN:K0,Cl=!1,y=d(h,x),Cl=!1,rd&&(y=Q1(o,d,h,x)),Y1(a),y}function Y1(a){J.H=gh;var o=Ft!==null&&Ft.next!==null;if(li=0,Ds=Ft=at=null,cp=!1,fh=0,ad=null,o)throw Error(r(300));a===null||Os||(a=a.dependencies,a!==null&&ep(a)&&(Os=!0))}function Q1(a,o,d,h){at=a;var x=0;do{if(rd&&(ad=null),fh=0,rd=!1,25<=x)throw Error(r(301));if(x+=1,Ds=Ft=null,a.updateQueue!=null){var y=a.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}J.H=RN,y=o(d,h)}while(rd);return y}function h5(){var a=J.H,o=a.useState()[0];return o=typeof o.then=="function"?mh(o):o,a=a.useState()[0],(Ft!==null?Ft.memoizedState:null)!==a&&(at.flags|=1024),o}function P0(){var a=dp!==0;return dp=0,a}function D0(a,o,d){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~d}function O0(a){if(cp){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}cp=!1}li=0,Ds=Ft=at=null,rd=!1,fh=dp=0,ad=null}function Cn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ds===null?at.memoizedState=Ds=a:Ds=Ds.next=a,Ds}function ks(){if(Ft===null){var a=at.alternate;a=a!==null?a.memoizedState:null}else a=Ft.next;var o=Ds===null?at.memoizedState:Ds.next;if(o!==null)Ds=o,Ft=a;else{if(a===null)throw at.alternate===null?Error(r(467)):Error(r(310));Ft=a,a={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Ds===null?at.memoizedState=Ds=a:Ds=Ds.next=a}return Ds}function up(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mh(a){var o=fh;return fh+=1,ad===null&&(ad=[]),a=U1(ad,a,o),o=at,(Ds===null?o.memoizedState:Ds.next)===null&&(o=o.alternate,J.H=o===null||o.memoizedState===null?IN:K0),a}function hp(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return mh(a);if(a.$$typeof===z)return rn(a)}throw Error(r(438,String(a)))}function M0(a){var o=null,d=at.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var h=at.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(x){return x.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=up(),at.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(a),h=0;h<a;h++)d[h]=k;return o.index++,d}function ci(a,o){return typeof o=="function"?o(a):o}function fp(a){var o=ks();return L0(o,Ft,a)}function L0(a,o,d){var h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=d;var x=a.baseQueue,y=h.pending;if(y!==null){if(x!==null){var S=x.next;x.next=y.next,y.next=S}o.baseQueue=x=y,h.pending=null}if(y=a.baseState,x===null)a.memoizedState=y;else{o=x.next;var V=S=null,Q=null,de=o,je=!1;do{var ke=de.lane&-536870913;if(ke!==de.lane?(yt&ke)===ke:(li&ke)===ke){var ue=de.revertLane;if(ue===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),ke===Zc&&(je=!0);else if((li&ue)===ue){de=de.next,ue===Zc&&(je=!0);continue}else ke={lane:0,revertLane:de.revertLane,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},Q===null?(V=Q=ke,S=y):Q=Q.next=ke,at.lanes|=ue,ho|=ue;ke=de.action,Cl&&d(y,ke),y=de.hasEagerState?de.eagerState:d(y,ke)}else ue={lane:ke,revertLane:de.revertLane,gesture:de.gesture,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},Q===null?(V=Q=ue,S=y):Q=Q.next=ue,at.lanes|=ke,ho|=ke;de=de.next}while(de!==null&&de!==o);if(Q===null?S=y:Q.next=V,!cr(y,a.memoizedState)&&(Os=!0,je&&(d=ed,d!==null)))throw d;a.memoizedState=y,a.baseState=S,a.baseQueue=Q,h.lastRenderedState=y}return x===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function z0(a){var o=ks(),d=o.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var h=d.dispatch,x=d.pending,y=o.memoizedState;if(x!==null){d.pending=null;var S=x=x.next;do y=a(y,S.action),S=S.next;while(S!==x);cr(y,o.memoizedState)||(Os=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),d.lastRenderedState=y}return[y,h]}function J1(a,o,d){var h=at,x=ks(),y=jt;if(y){if(d===void 0)throw Error(r(407));d=d()}else d=o();var S=!cr((Ft||x).memoizedState,d);if(S&&(x.memoizedState=d,Os=!0),x=x.queue,F0(eN.bind(null,h,x,a),[a]),x.getSnapshot!==o||S||Ds!==null&&Ds.memoizedState.tag&1){if(h.flags|=2048,id(9,{destroy:void 0},Z1.bind(null,h,x,d,o),null),qt===null)throw Error(r(349));y||(li&127)!==0||X1(h,o,d)}return d}function X1(a,o,d){a.flags|=16384,a={getSnapshot:o,value:d},o=at.updateQueue,o===null?(o=up(),at.updateQueue=o,o.stores=[a]):(d=o.stores,d===null?o.stores=[a]:d.push(a))}function Z1(a,o,d,h){o.value=d,o.getSnapshot=h,tN(o)&&sN(a)}function eN(a,o,d){return d(function(){tN(o)&&sN(a)})}function tN(a){var o=a.getSnapshot;a=a.value;try{var d=o();return!cr(a,d)}catch{return!0}}function sN(a){var o=vl(a,2);o!==null&&Hn(o,a,2)}function V0(a){var o=Cn();if(typeof a=="function"){var d=a;if(a=d(),Cl){bn(!0);try{d()}finally{bn(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:a},o}function nN(a,o,d,h){return a.baseState=d,L0(a,Ft,typeof h=="function"?h:ci)}function f5(a,o,d,h,x){if(gp(a))throw Error(r(485));if(a=o.action,a!==null){var y={payload:x,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};J.T!==null?d(!0):y.isTransition=!1,h(y),d=o.pending,d===null?(y.next=o.pending=y,rN(o,y)):(y.next=d.next,o.pending=d.next=y)}}function rN(a,o){var d=o.action,h=o.payload,x=a.state;if(o.isTransition){var y=J.T,S={};J.T=S;try{var V=d(x,h),Q=J.S;Q!==null&&Q(S,V),aN(a,o,V)}catch(de){U0(a,o,de)}finally{y!==null&&S.types!==null&&(y.types=S.types),J.T=y}}else try{y=d(x,h),aN(a,o,y)}catch(de){U0(a,o,de)}}function aN(a,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(h){iN(a,o,h)},function(h){return U0(a,o,h)}):iN(a,o,d)}function iN(a,o,d){o.status="fulfilled",o.value=d,oN(o),a.state=d,o=a.pending,o!==null&&(d=o.next,d===o?a.pending=null:(d=d.next,o.next=d,rN(a,d)))}function U0(a,o,d){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=d,oN(o),o=o.next;while(o!==h)}a.action=null}function oN(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function lN(a,o){return o}function cN(a,o){if(jt){var d=qt.formState;if(d!==null){e:{var h=at;if(jt){if(Qt){t:{for(var x=Qt,y=Dr;x.nodeType!==8;){if(!y){x=null;break t}if(x=Mr(x.nextSibling),x===null){x=null;break t}}y=x.data,x=y==="F!"||y==="F"?x:null}if(x){Qt=Mr(x.nextSibling),h=x.data==="F!";break e}}so(h)}h=!1}h&&(o=d[0])}}return d=Cn(),d.memoizedState=d.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lN,lastRenderedState:o},d.queue=h,d=EN.bind(null,at,h),h.dispatch=d,h=V0(!1),y=G0.bind(null,at,!1,h.queue),h=Cn(),x={state:o,dispatch:null,action:a,pending:null},h.queue=x,d=f5.bind(null,at,x,y,d),x.dispatch=d,h.memoizedState=a,[o,d,!1]}function dN(a){var o=ks();return uN(o,Ft,a)}function uN(a,o,d){if(o=L0(a,o,lN)[0],a=fp(ci)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=mh(o)}catch(S){throw S===td?np:S}else h=o;o=ks();var x=o.queue,y=x.dispatch;return d!==o.memoizedState&&(at.flags|=2048,id(9,{destroy:void 0},m5.bind(null,x,d),null)),[h,y,a]}function m5(a,o){a.action=o}function hN(a){var o=ks(),d=Ft;if(d!==null)return uN(o,d,a);ks(),o=o.memoizedState,d=ks();var h=d.queue.dispatch;return d.memoizedState=a,[o,h,!1]}function id(a,o,d,h){return a={tag:a,create:d,deps:h,inst:o,next:null},o=at.updateQueue,o===null&&(o=up(),at.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=a.next=a:(h=d.next,d.next=a,a.next=h,o.lastEffect=a),a}function fN(){return ks().memoizedState}function mp(a,o,d,h){var x=Cn();at.flags|=a,x.memoizedState=id(1|o,{destroy:void 0},d,h===void 0?null:h)}function pp(a,o,d,h){var x=ks();h=h===void 0?null:h;var y=x.memoizedState.inst;Ft!==null&&h!==null&&I0(h,Ft.memoizedState.deps)?x.memoizedState=id(o,y,d,h):(at.flags|=a,x.memoizedState=id(1|o,y,d,h))}function mN(a,o){mp(8390656,8,a,o)}function F0(a,o){pp(2048,8,a,o)}function p5(a){at.flags|=4;var o=at.updateQueue;if(o===null)o=up(),at.updateQueue=o,o.events=[a];else{var d=o.events;d===null?o.events=[a]:d.push(a)}}function pN(a){var o=ks().memoizedState;return p5({ref:o,nextImpl:a}),function(){if((At&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function gN(a,o){return pp(4,2,a,o)}function xN(a,o){return pp(4,4,a,o)}function yN(a,o){if(typeof o=="function"){a=a();var d=o(a);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function bN(a,o,d){d=d!=null?d.concat([a]):null,pp(4,4,yN.bind(null,o,a),d)}function B0(){}function vN(a,o){var d=ks();o=o===void 0?null:o;var h=d.memoizedState;return o!==null&&I0(o,h[1])?h[0]:(d.memoizedState=[a,o],a)}function wN(a,o){var d=ks();o=o===void 0?null:o;var h=d.memoizedState;if(o!==null&&I0(o,h[1]))return h[0];if(h=a(),Cl){bn(!0);try{a()}finally{bn(!1)}}return d.memoizedState=[h,o],h}function $0(a,o,d){return d===void 0||(li&1073741824)!==0&&(yt&261930)===0?a.memoizedState=o:(a.memoizedState=d,a=j_(),at.lanes|=a,ho|=a,d)}function jN(a,o,d,h){return cr(d,o)?d:nd.current!==null?(a=$0(a,d,h),cr(a,o)||(Os=!0),a):(li&42)===0||(li&1073741824)!==0&&(yt&261930)===0?(Os=!0,a.memoizedState=d):(a=j_(),at.lanes|=a,ho|=a,o)}function NN(a,o,d,h,x){var y=W.p;W.p=y!==0&&8>y?y:8;var S=J.T,V={};J.T=V,G0(a,!1,o,d);try{var Q=x(),de=J.S;if(de!==null&&de(V,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var je=d5(Q,h);ph(a,o,je,pr(a))}else ph(a,o,h,pr(a))}catch(ke){ph(a,o,{then:function(){},status:"rejected",reason:ke},pr())}finally{W.p=y,S!==null&&V.types!==null&&(S.types=V.types),J.T=S}}function g5(){}function q0(a,o,d,h){if(a.tag!==5)throw Error(r(476));var x=_N(a).queue;NN(a,x,o,xe,d===null?g5:function(){return kN(a),d(h)})}function _N(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:xe,baseState:xe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:xe},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:d},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function kN(a){var o=_N(a);o.next===null&&(o=a.alternate.memoizedState),ph(a,o.next.queue,{},pr())}function H0(){return rn(Rh)}function SN(){return ks().memoizedState}function TN(){return ks().memoizedState}function x5(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var d=pr();a=ao(d);var h=io(o,a,d);h!==null&&(Hn(h,o,d),dh(h,o,d)),o={cache:v0()},a.payload=o;return}o=o.return}}function y5(a,o,d){var h=pr();d={lane:h,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},gp(a)?CN(o,d):(d=c0(a,o,d,h),d!==null&&(Hn(d,a,h),AN(d,o,h)))}function EN(a,o,d){var h=pr();ph(a,o,d,h)}function ph(a,o,d,h){var x={lane:h,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(gp(a))CN(o,x);else{var y=a.alternate;if(a.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var S=o.lastRenderedState,V=y(S,d);if(x.hasEagerState=!0,x.eagerState=V,cr(V,S))return Qm(a,o,x,0),qt===null&&Ym(),!1}catch{}finally{}if(d=c0(a,o,x,h),d!==null)return Hn(d,a,h),AN(d,o,h),!0}return!1}function G0(a,o,d,h){if(h={lane:2,revertLane:_y(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},gp(a)){if(o)throw Error(r(479))}else o=c0(a,d,h,2),o!==null&&Hn(o,a,2)}function gp(a){var o=a.alternate;return a===at||o!==null&&o===at}function CN(a,o){rd=cp=!0;var d=a.pending;d===null?o.next=o:(o.next=d.next,d.next=o),a.pending=o}function AN(a,o,d){if((d&4194048)!==0){var h=o.lanes;h&=a.pendingLanes,d|=h,o.lanes=d,$i(a,d)}}var gh={readContext:rn,use:hp,useCallback:hs,useContext:hs,useEffect:hs,useImperativeHandle:hs,useLayoutEffect:hs,useInsertionEffect:hs,useMemo:hs,useReducer:hs,useRef:hs,useState:hs,useDebugValue:hs,useDeferredValue:hs,useTransition:hs,useSyncExternalStore:hs,useId:hs,useHostTransitionStatus:hs,useFormState:hs,useActionState:hs,useOptimistic:hs,useMemoCache:hs,useCacheRefresh:hs};gh.useEffectEvent=hs;var IN={readContext:rn,use:hp,useCallback:function(a,o){return Cn().memoizedState=[a,o===void 0?null:o],a},useContext:rn,useEffect:mN,useImperativeHandle:function(a,o,d){d=d!=null?d.concat([a]):null,mp(4194308,4,yN.bind(null,o,a),d)},useLayoutEffect:function(a,o){return mp(4194308,4,a,o)},useInsertionEffect:function(a,o){mp(4,2,a,o)},useMemo:function(a,o){var d=Cn();o=o===void 0?null:o;var h=a();if(Cl){bn(!0);try{a()}finally{bn(!1)}}return d.memoizedState=[h,o],h},useReducer:function(a,o,d){var h=Cn();if(d!==void 0){var x=d(o);if(Cl){bn(!0);try{d(o)}finally{bn(!1)}}}else x=o;return h.memoizedState=h.baseState=x,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:x},h.queue=a,a=a.dispatch=y5.bind(null,at,a),[h.memoizedState,a]},useRef:function(a){var o=Cn();return a={current:a},o.memoizedState=a},useState:function(a){a=V0(a);var o=a.queue,d=EN.bind(null,at,o);return o.dispatch=d,[a.memoizedState,d]},useDebugValue:B0,useDeferredValue:function(a,o){var d=Cn();return $0(d,a,o)},useTransition:function(){var a=V0(!1);return a=NN.bind(null,at,a.queue,!0,!1),Cn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,d){var h=at,x=Cn();if(jt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=o(),qt===null)throw Error(r(349));(yt&127)!==0||X1(h,o,d)}x.memoizedState=d;var y={value:d,getSnapshot:o};return x.queue=y,mN(eN.bind(null,h,y,a),[a]),h.flags|=2048,id(9,{destroy:void 0},Z1.bind(null,h,y,d,o),null),d},useId:function(){var a=Cn(),o=qt.identifierPrefix;if(jt){var d=La,h=Ma;d=(h&~(1<<32-Vt(h)-1)).toString(32)+d,o="_"+o+"R_"+d,d=dp++,0<d&&(o+="H"+d.toString(32)),o+="_"}else d=u5++,o="_"+o+"r_"+d.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:H0,useFormState:cN,useActionState:cN,useOptimistic:function(a){var o=Cn();o.memoizedState=o.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=G0.bind(null,at,!0,d),d.dispatch=o,[a,o]},useMemoCache:M0,useCacheRefresh:function(){return Cn().memoizedState=x5.bind(null,at)},useEffectEvent:function(a){var o=Cn(),d={impl:a};return o.memoizedState=d,function(){if((At&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},K0={readContext:rn,use:hp,useCallback:vN,useContext:rn,useEffect:F0,useImperativeHandle:bN,useInsertionEffect:gN,useLayoutEffect:xN,useMemo:wN,useReducer:fp,useRef:fN,useState:function(){return fp(ci)},useDebugValue:B0,useDeferredValue:function(a,o){var d=ks();return jN(d,Ft.memoizedState,a,o)},useTransition:function(){var a=fp(ci)[0],o=ks().memoizedState;return[typeof a=="boolean"?a:mh(a),o]},useSyncExternalStore:J1,useId:SN,useHostTransitionStatus:H0,useFormState:dN,useActionState:dN,useOptimistic:function(a,o){var d=ks();return nN(d,Ft,a,o)},useMemoCache:M0,useCacheRefresh:TN};K0.useEffectEvent=pN;var RN={readContext:rn,use:hp,useCallback:vN,useContext:rn,useEffect:F0,useImperativeHandle:bN,useInsertionEffect:gN,useLayoutEffect:xN,useMemo:wN,useReducer:z0,useRef:fN,useState:function(){return z0(ci)},useDebugValue:B0,useDeferredValue:function(a,o){var d=ks();return Ft===null?$0(d,a,o):jN(d,Ft.memoizedState,a,o)},useTransition:function(){var a=z0(ci)[0],o=ks().memoizedState;return[typeof a=="boolean"?a:mh(a),o]},useSyncExternalStore:J1,useId:SN,useHostTransitionStatus:H0,useFormState:hN,useActionState:hN,useOptimistic:function(a,o){var d=ks();return Ft!==null?nN(d,Ft,a,o):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:M0,useCacheRefresh:TN};RN.useEffectEvent=pN;function W0(a,o,d,h){o=a.memoizedState,d=d(h,o),d=d==null?o:b({},o,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var Y0={enqueueSetState:function(a,o,d){a=a._reactInternals;var h=pr(),x=ao(h);x.payload=o,d!=null&&(x.callback=d),o=io(a,x,h),o!==null&&(Hn(o,a,h),dh(o,a,h))},enqueueReplaceState:function(a,o,d){a=a._reactInternals;var h=pr(),x=ao(h);x.tag=1,x.payload=o,d!=null&&(x.callback=d),o=io(a,x,h),o!==null&&(Hn(o,a,h),dh(o,a,h))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var d=pr(),h=ao(d);h.tag=2,o!=null&&(h.callback=o),o=io(a,h,d),o!==null&&(Hn(o,a,d),dh(o,a,d))}};function PN(a,o,d,h,x,y,S){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,y,S):o.prototype&&o.prototype.isPureReactComponent?!sh(d,h)||!sh(x,y):!0}function DN(a,o,d,h){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,h),o.state!==a&&Y0.enqueueReplaceState(o,o.state,null)}function Al(a,o){var d=o;if("ref"in o){d={};for(var h in o)h!=="ref"&&(d[h]=o[h])}if(a=a.defaultProps){d===o&&(d=b({},d));for(var x in a)d[x]===void 0&&(d[x]=a[x])}return d}function ON(a){Wm(a)}function MN(a){console.error(a)}function LN(a){Wm(a)}function xp(a,o){try{var d=a.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function zN(a,o,d){try{var h=a.onCaughtError;h(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function Q0(a,o,d){return d=ao(d),d.tag=3,d.payload={element:null},d.callback=function(){xp(a,o)},d}function VN(a){return a=ao(a),a.tag=3,a}function UN(a,o,d,h){var x=d.type.getDerivedStateFromError;if(typeof x=="function"){var y=h.value;a.payload=function(){return x(y)},a.callback=function(){zN(o,d,h)}}var S=d.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(a.callback=function(){zN(o,d,h),typeof x!="function"&&(fo===null?fo=new Set([this]):fo.add(this));var V=h.stack;this.componentDidCatch(h.value,{componentStack:V!==null?V:""})})}function b5(a,o,d,h,x){if(d.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=d.alternate,o!==null&&Xc(o,d,x,!0),d=ur.current,d!==null){switch(d.tag){case 31:case 13:return Or===null?Cp():d.alternate===null&&fs===0&&(fs=3),d.flags&=-257,d.flags|=65536,d.lanes=x,h===rp?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([h]):o.add(h),wy(a,h,x)),!1;case 22:return d.flags|=65536,h===rp?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([h]):d.add(h)),wy(a,h,x)),!1}throw Error(r(435,d.tag))}return wy(a,h,x),Cp(),!1}if(jt)return o=ur.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=x,h!==p0&&(a=Error(r(422),{cause:h}),ah(Ir(a,d)))):(h!==p0&&(o=Error(r(423),{cause:h}),ah(Ir(o,d))),a=a.current.alternate,a.flags|=65536,x&=-x,a.lanes|=x,h=Ir(h,d),x=Q0(a.stateNode,h,x),S0(a,x),fs!==4&&(fs=2)),!1;var y=Error(r(520),{cause:h});if(y=Ir(y,d),_h===null?_h=[y]:_h.push(y),fs!==4&&(fs=2),o===null)return!0;h=Ir(h,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,a=x&-x,d.lanes|=a,a=Q0(d.stateNode,h,a),S0(d,a),!1;case 1:if(o=d.type,y=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(fo===null||!fo.has(y))))return d.flags|=65536,x&=-x,d.lanes|=x,x=VN(x),UN(x,a,d,h),S0(d,x),!1}d=d.return}while(d!==null);return!1}var J0=Error(r(461)),Os=!1;function an(a,o,d,h){o.child=a===null?q1(o,null,d,h):El(o,a.child,d,h)}function FN(a,o,d,h,x){d=d.render;var y=o.ref;if("ref"in h){var S={};for(var V in h)V!=="ref"&&(S[V]=h[V])}else S=h;return _l(o),h=R0(a,o,d,S,y,x),V=P0(),a!==null&&!Os?(D0(a,o,x),di(a,o,x)):(jt&&V&&f0(o),o.flags|=1,an(a,o,h,x),o.child)}function BN(a,o,d,h,x){if(a===null){var y=d.type;return typeof y=="function"&&!d0(y)&&y.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=y,$N(a,o,y,h,x)):(a=Xm(d.type,null,h,o,o.mode,x),a.ref=o.ref,a.return=o,o.child=a)}if(y=a.child,!ay(a,x)){var S=y.memoizedProps;if(d=d.compare,d=d!==null?d:sh,d(S,h)&&a.ref===o.ref)return di(a,o,x)}return o.flags|=1,a=ri(y,h),a.ref=o.ref,a.return=o,o.child=a}function $N(a,o,d,h,x){if(a!==null){var y=a.memoizedProps;if(sh(y,h)&&a.ref===o.ref)if(Os=!1,o.pendingProps=h=y,ay(a,x))(a.flags&131072)!==0&&(Os=!0);else return o.lanes=a.lanes,di(a,o,x)}return X0(a,o,d,h,x)}function qN(a,o,d,h){var x=h.children,y=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(y=y!==null?y.baseLanes|d:d,a!==null){for(h=o.child=a.child,x=0;h!==null;)x=x|h.lanes|h.childLanes,h=h.sibling;h=x&~y}else h=0,o.child=null;return HN(a,o,y,d,h)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&sp(o,y!==null?y.cachePool:null),y!==null?K1(o,y):E0(),W1(o);else return h=o.lanes=536870912,HN(a,o,y!==null?y.baseLanes|d:d,d,h)}else y!==null?(sp(o,y.cachePool),K1(o,y),lo(),o.memoizedState=null):(a!==null&&sp(o,null),E0(),lo());return an(a,o,x,d),o.child}function xh(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function HN(a,o,d,h,x){var y=j0();return y=y===null?null:{parent:Ps._currentValue,pool:y},o.memoizedState={baseLanes:d,cachePool:y},a!==null&&sp(o,null),E0(),W1(o),a!==null&&Xc(a,o,h,!0),o.childLanes=x,null}function yp(a,o){return o=vp({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function GN(a,o,d){return El(o,a.child,null,d),a=yp(o,o.pendingProps),a.flags|=2,hr(o),o.memoizedState=null,a}function v5(a,o,d){var h=o.pendingProps,x=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(jt){if(h.mode==="hidden")return a=yp(o,h),o.lanes=536870912,xh(null,a);if(A0(o),(a=Qt)?(a=r2(a,Dr),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:eo!==null?{id:Ma,overflow:La}:null,retryLane:536870912,hydrationErrors:null},d=C1(a),d.return=o,o.child=d,nn=o,Qt=null)):a=null,a===null)throw so(o);return o.lanes=536870912,null}return yp(o,h)}var y=a.memoizedState;if(y!==null){var S=y.dehydrated;if(A0(o),x)if(o.flags&256)o.flags&=-257,o=GN(a,o,d);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(Os||Xc(a,o,d,!1),x=(d&a.childLanes)!==0,Os||x){if(h=qt,h!==null&&(S=qi(h,d),S!==0&&S!==y.retryLane))throw y.retryLane=S,vl(a,S),Hn(h,a,S),J0;Cp(),o=GN(a,o,d)}else a=y.treeContext,Qt=Mr(S.nextSibling),nn=o,jt=!0,to=null,Dr=!1,a!==null&&R1(o,a),o=yp(o,h),o.flags|=4096;return o}return a=ri(a.child,{mode:h.mode,children:h.children}),a.ref=o.ref,o.child=a,a.return=o,a}function bp(a,o){var d=o.ref;if(d===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(a===null||a.ref!==d)&&(o.flags|=4194816)}}function X0(a,o,d,h,x){return _l(o),d=R0(a,o,d,h,void 0,x),h=P0(),a!==null&&!Os?(D0(a,o,x),di(a,o,x)):(jt&&h&&f0(o),o.flags|=1,an(a,o,d,x),o.child)}function KN(a,o,d,h,x,y){return _l(o),o.updateQueue=null,d=Q1(o,h,d,x),Y1(a),h=P0(),a!==null&&!Os?(D0(a,o,y),di(a,o,y)):(jt&&h&&f0(o),o.flags|=1,an(a,o,d,y),o.child)}function WN(a,o,d,h,x){if(_l(o),o.stateNode===null){var y=Wc,S=d.contextType;typeof S=="object"&&S!==null&&(y=rn(S)),y=new d(h,y),o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Y0,o.stateNode=y,y._reactInternals=o,y=o.stateNode,y.props=h,y.state=o.memoizedState,y.refs={},_0(o),S=d.contextType,y.context=typeof S=="object"&&S!==null?rn(S):Wc,y.state=o.memoizedState,S=d.getDerivedStateFromProps,typeof S=="function"&&(W0(o,d,S,h),y.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&Y0.enqueueReplaceState(y,y.state,null),hh(o,h,y,x),uh(),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(a===null){y=o.stateNode;var V=o.memoizedProps,Q=Al(d,V);y.props=Q;var de=y.context,je=d.contextType;S=Wc,typeof je=="object"&&je!==null&&(S=rn(je));var ke=d.getDerivedStateFromProps;je=typeof ke=="function"||typeof y.getSnapshotBeforeUpdate=="function",V=o.pendingProps!==V,je||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(V||de!==S)&&DN(o,y,h,S),ro=!1;var ue=o.memoizedState;y.state=ue,hh(o,h,y,x),uh(),de=o.memoizedState,V||ue!==de||ro?(typeof ke=="function"&&(W0(o,d,ke,h),de=o.memoizedState),(Q=ro||PN(o,d,Q,h,ue,de,S))?(je||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(o.flags|=4194308)):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=de),y.props=h,y.state=de,y.context=S,h=Q):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{y=o.stateNode,k0(a,o),S=o.memoizedProps,je=Al(d,S),y.props=je,ke=o.pendingProps,ue=y.context,de=d.contextType,Q=Wc,typeof de=="object"&&de!==null&&(Q=rn(de)),V=d.getDerivedStateFromProps,(de=typeof V=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==ke||ue!==Q)&&DN(o,y,h,Q),ro=!1,ue=o.memoizedState,y.state=ue,hh(o,h,y,x),uh();var ge=o.memoizedState;S!==ke||ue!==ge||ro||a!==null&&a.dependencies!==null&&ep(a.dependencies)?(typeof V=="function"&&(W0(o,d,V,h),ge=o.memoizedState),(je=ro||PN(o,d,je,h,ue,ge,Q)||a!==null&&a.dependencies!==null&&ep(a.dependencies))?(de||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,ge,Q),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,ge,Q)),typeof y.componentDidUpdate=="function"&&(o.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===a.memoizedProps&&ue===a.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===a.memoizedProps&&ue===a.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ge),y.props=h,y.state=ge,y.context=Q,h=je):(typeof y.componentDidUpdate!="function"||S===a.memoizedProps&&ue===a.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===a.memoizedProps&&ue===a.memoizedState||(o.flags|=1024),h=!1)}return y=h,bp(a,o),h=(o.flags&128)!==0,y||h?(y=o.stateNode,d=h&&typeof d.getDerivedStateFromError!="function"?null:y.render(),o.flags|=1,a!==null&&h?(o.child=El(o,a.child,null,x),o.child=El(o,null,d,x)):an(a,o,d,x),o.memoizedState=y.state,a=o.child):a=di(a,o,x),a}function YN(a,o,d,h){return jl(),o.flags|=256,an(a,o,d,h),o.child}var Z0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ey(a){return{baseLanes:a,cachePool:z1()}}function ty(a,o,d){return a=a!==null?a.childLanes&~d:0,o&&(a|=mr),a}function QN(a,o,d){var h=o.pendingProps,x=!1,y=(o.flags&128)!==0,S;if((S=y)||(S=a!==null&&a.memoizedState===null?!1:(_s.current&2)!==0),S&&(x=!0,o.flags&=-129),S=(o.flags&32)!==0,o.flags&=-33,a===null){if(jt){if(x?oo(o):lo(),(a=Qt)?(a=r2(a,Dr),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:eo!==null?{id:Ma,overflow:La}:null,retryLane:536870912,hydrationErrors:null},d=C1(a),d.return=o,o.child=d,nn=o,Qt=null)):a=null,a===null)throw so(o);return Ly(a)?o.lanes=32:o.lanes=536870912,null}var V=h.children;return h=h.fallback,x?(lo(),x=o.mode,V=vp({mode:"hidden",children:V},x),h=wl(h,x,d,null),V.return=o,h.return=o,V.sibling=h,o.child=V,h=o.child,h.memoizedState=ey(d),h.childLanes=ty(a,S,d),o.memoizedState=Z0,xh(null,h)):(oo(o),sy(o,V))}var Q=a.memoizedState;if(Q!==null&&(V=Q.dehydrated,V!==null)){if(y)o.flags&256?(oo(o),o.flags&=-257,o=ny(a,o,d)):o.memoizedState!==null?(lo(),o.child=a.child,o.flags|=128,o=null):(lo(),V=h.fallback,x=o.mode,h=vp({mode:"visible",children:h.children},x),V=wl(V,x,d,null),V.flags|=2,h.return=o,V.return=o,h.sibling=V,o.child=h,El(o,a.child,null,d),h=o.child,h.memoizedState=ey(d),h.childLanes=ty(a,S,d),o.memoizedState=Z0,o=xh(null,h));else if(oo(o),Ly(V)){if(S=V.nextSibling&&V.nextSibling.dataset,S)var de=S.dgst;S=de,h=Error(r(419)),h.stack="",h.digest=S,ah({value:h,source:null,stack:null}),o=ny(a,o,d)}else if(Os||Xc(a,o,d,!1),S=(d&a.childLanes)!==0,Os||S){if(S=qt,S!==null&&(h=qi(S,d),h!==0&&h!==Q.retryLane))throw Q.retryLane=h,vl(a,h),Hn(S,a,h),J0;My(V)||Cp(),o=ny(a,o,d)}else My(V)?(o.flags|=192,o.child=a.child,o=null):(a=Q.treeContext,Qt=Mr(V.nextSibling),nn=o,jt=!0,to=null,Dr=!1,a!==null&&R1(o,a),o=sy(o,h.children),o.flags|=4096);return o}return x?(lo(),V=h.fallback,x=o.mode,Q=a.child,de=Q.sibling,h=ri(Q,{mode:"hidden",children:h.children}),h.subtreeFlags=Q.subtreeFlags&65011712,de!==null?V=ri(de,V):(V=wl(V,x,d,null),V.flags|=2),V.return=o,h.return=o,h.sibling=V,o.child=h,xh(null,h),h=o.child,V=a.child.memoizedState,V===null?V=ey(d):(x=V.cachePool,x!==null?(Q=Ps._currentValue,x=x.parent!==Q?{parent:Q,pool:Q}:x):x=z1(),V={baseLanes:V.baseLanes|d,cachePool:x}),h.memoizedState=V,h.childLanes=ty(a,S,d),o.memoizedState=Z0,xh(a.child,h)):(oo(o),d=a.child,a=d.sibling,d=ri(d,{mode:"visible",children:h.children}),d.return=o,d.sibling=null,a!==null&&(S=o.deletions,S===null?(o.deletions=[a],o.flags|=16):S.push(a)),o.child=d,o.memoizedState=null,d)}function sy(a,o){return o=vp({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function vp(a,o){return a=dr(22,a,null,o),a.lanes=0,a}function ny(a,o,d){return El(o,a.child,null,d),a=sy(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function JN(a,o,d){a.lanes|=o;var h=a.alternate;h!==null&&(h.lanes|=o),y0(a.return,o,d)}function ry(a,o,d,h,x,y){var S=a.memoizedState;S===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:d,tailMode:x,treeForkCount:y}:(S.isBackwards=o,S.rendering=null,S.renderingStartTime=0,S.last=h,S.tail=d,S.tailMode=x,S.treeForkCount=y)}function XN(a,o,d){var h=o.pendingProps,x=h.revealOrder,y=h.tail;h=h.children;var S=_s.current,V=(S&2)!==0;if(V?(S=S&1|2,o.flags|=128):S&=1,G(_s,S),an(a,o,h,d),h=jt?rh:0,!V&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&JN(a,d,o);else if(a.tag===19)JN(a,d,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(x){case"forwards":for(d=o.child,x=null;d!==null;)a=d.alternate,a!==null&&lp(a)===null&&(x=d),d=d.sibling;d=x,d===null?(x=o.child,o.child=null):(x=d.sibling,d.sibling=null),ry(o,!1,x,d,y,h);break;case"backwards":case"unstable_legacy-backwards":for(d=null,x=o.child,o.child=null;x!==null;){if(a=x.alternate,a!==null&&lp(a)===null){o.child=x;break}a=x.sibling,x.sibling=d,d=x,x=a}ry(o,!0,d,null,y,h);break;case"together":ry(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function di(a,o,d){if(a!==null&&(o.dependencies=a.dependencies),ho|=o.lanes,(d&o.childLanes)===0)if(a!==null){if(Xc(a,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,d=ri(a,a.pendingProps),o.child=d,d.return=o;a.sibling!==null;)a=a.sibling,d=d.sibling=ri(a,a.pendingProps),d.return=o;d.sibling=null}return o.child}function ay(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&ep(a)))}function w5(a,o,d){switch(o.tag){case 3:Re(o,o.stateNode.containerInfo),no(o,Ps,a.memoizedState.cache),jl();break;case 27:case 5:gt(o);break;case 4:Re(o,o.stateNode.containerInfo);break;case 10:no(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,A0(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(oo(o),o.flags|=128,null):(d&o.child.childLanes)!==0?QN(a,o,d):(oo(o),a=di(a,o,d),a!==null?a.sibling:null);oo(o);break;case 19:var x=(a.flags&128)!==0;if(h=(d&o.childLanes)!==0,h||(Xc(a,o,d,!1),h=(d&o.childLanes)!==0),x){if(h)return XN(a,o,d);o.flags|=128}if(x=o.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),G(_s,_s.current),h)break;return null;case 22:return o.lanes=0,qN(a,o,d,o.pendingProps);case 24:no(o,Ps,a.memoizedState.cache)}return di(a,o,d)}function ZN(a,o,d){if(a!==null)if(a.memoizedProps!==o.pendingProps)Os=!0;else{if(!ay(a,d)&&(o.flags&128)===0)return Os=!1,w5(a,o,d);Os=(a.flags&131072)!==0}else Os=!1,jt&&(o.flags&1048576)!==0&&I1(o,rh,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(a=Sl(o.elementType),o.type=a,typeof a=="function")d0(a)?(h=Al(a,h),o.tag=1,o=WN(null,o,a,h,d)):(o.tag=0,o=X0(null,o,a,h,d));else{if(a!=null){var x=a.$$typeof;if(x===M){o.tag=11,o=FN(null,o,a,h,d);break e}else if(x===A){o.tag=14,o=BN(null,o,a,h,d);break e}}throw o=Y(a)||a,Error(r(306,o,""))}}return o;case 0:return X0(a,o,o.type,o.pendingProps,d);case 1:return h=o.type,x=Al(h,o.pendingProps),WN(a,o,h,x,d);case 3:e:{if(Re(o,o.stateNode.containerInfo),a===null)throw Error(r(387));h=o.pendingProps;var y=o.memoizedState;x=y.element,k0(a,o),hh(o,h,null,d);var S=o.memoizedState;if(h=S.cache,no(o,Ps,h),h!==y.cache&&b0(o,[Ps],d,!0),uh(),h=S.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:S.cache},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){o=YN(a,o,h,d);break e}else if(h!==x){x=Ir(Error(r(424)),o),ah(x),o=YN(a,o,h,d);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Qt=Mr(a.firstChild),nn=o,jt=!0,to=null,Dr=!0,d=q1(o,null,h,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(jl(),h===x){o=di(a,o,d);break e}an(a,o,h,d)}o=o.child}return o;case 26:return bp(a,o),a===null?(d=d2(o.type,null,o.pendingProps,null))?o.memoizedState=d:jt||(d=o.type,a=o.pendingProps,h=Mp(K.current).createElement(d),h[As]=o,h[Ks]=a,on(h,d,a),Is(h),o.stateNode=h):o.memoizedState=d2(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return gt(o),a===null&&jt&&(h=o.stateNode=o2(o.type,o.pendingProps,K.current),nn=o,Dr=!0,x=Qt,xo(o.type)?(zy=x,Qt=Mr(h.firstChild)):Qt=x),an(a,o,o.pendingProps.children,d),bp(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&jt&&((x=h=Qt)&&(h=J5(h,o.type,o.pendingProps,Dr),h!==null?(o.stateNode=h,nn=o,Qt=Mr(h.firstChild),Dr=!1,x=!0):x=!1),x||so(o)),gt(o),x=o.type,y=o.pendingProps,S=a!==null?a.memoizedProps:null,h=y.children,Py(x,y)?h=null:S!==null&&Py(x,S)&&(o.flags|=32),o.memoizedState!==null&&(x=R0(a,o,h5,null,null,d),Rh._currentValue=x),bp(a,o),an(a,o,h,d),o.child;case 6:return a===null&&jt&&((a=d=Qt)&&(d=X5(d,o.pendingProps,Dr),d!==null?(o.stateNode=d,nn=o,Qt=null,a=!0):a=!1),a||so(o)),null;case 13:return QN(a,o,d);case 4:return Re(o,o.stateNode.containerInfo),h=o.pendingProps,a===null?o.child=El(o,null,h,d):an(a,o,h,d),o.child;case 11:return FN(a,o,o.type,o.pendingProps,d);case 7:return an(a,o,o.pendingProps,d),o.child;case 8:return an(a,o,o.pendingProps.children,d),o.child;case 12:return an(a,o,o.pendingProps.children,d),o.child;case 10:return h=o.pendingProps,no(o,o.type,h.value),an(a,o,h.children,d),o.child;case 9:return x=o.type._context,h=o.pendingProps.children,_l(o),x=rn(x),h=h(x),o.flags|=1,an(a,o,h,d),o.child;case 14:return BN(a,o,o.type,o.pendingProps,d);case 15:return $N(a,o,o.type,o.pendingProps,d);case 19:return XN(a,o,d);case 31:return v5(a,o,d);case 22:return qN(a,o,d,o.pendingProps);case 24:return _l(o),h=rn(Ps),a===null?(x=j0(),x===null&&(x=qt,y=v0(),x.pooledCache=y,y.refCount++,y!==null&&(x.pooledCacheLanes|=d),x=y),o.memoizedState={parent:h,cache:x},_0(o),no(o,Ps,x)):((a.lanes&d)!==0&&(k0(a,o),hh(o,null,null,d),uh()),x=a.memoizedState,y=o.memoizedState,x.parent!==h?(x={parent:h,cache:h},o.memoizedState=x,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=x),no(o,Ps,h)):(h=y.cache,no(o,Ps,h),h!==x.cache&&b0(o,[Ps],d,!0))),an(a,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function ui(a){a.flags|=4}function iy(a,o,d,h,x){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(x&335544128)===x)if(a.stateNode.complete)a.flags|=8192;else if(S_())a.flags|=8192;else throw Tl=rp,N0}else a.flags&=-16777217}function e_(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!p2(o))if(S_())a.flags|=8192;else throw Tl=rp,N0}function wp(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?es():536870912,a.lanes|=o,dd|=o)}function yh(a,o){if(!jt)switch(a.tailMode){case"hidden":o=a.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var h=null;d!==null;)d.alternate!==null&&(h=d),d=d.sibling;h===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function Jt(a){var o=a.alternate!==null&&a.alternate.child===a.child,d=0,h=0;if(o)for(var x=a.child;x!==null;)d|=x.lanes|x.childLanes,h|=x.subtreeFlags&65011712,h|=x.flags&65011712,x.return=a,x=x.sibling;else for(x=a.child;x!==null;)d|=x.lanes|x.childLanes,h|=x.subtreeFlags,h|=x.flags,x.return=a,x=x.sibling;return a.subtreeFlags|=h,a.childLanes=d,o}function j5(a,o,d){var h=o.pendingProps;switch(m0(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(o),null;case 1:return Jt(o),null;case 3:return d=o.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),oi(Ps),Oe(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(Jc(o)?ui(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,g0())),Jt(o),null;case 26:var x=o.type,y=o.memoizedState;return a===null?(ui(o),y!==null?(Jt(o),e_(o,y)):(Jt(o),iy(o,x,null,h,d))):y?y!==a.memoizedState?(ui(o),Jt(o),e_(o,y)):(Jt(o),o.flags&=-16777217):(a=a.memoizedProps,a!==h&&ui(o),Jt(o),iy(o,x,a,h,d)),null;case 27:if(wt(o),d=K.current,x=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&ui(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Jt(o),null}a=H.current,Jc(o)?P1(o):(a=o2(x,h,d),o.stateNode=a,ui(o))}return Jt(o),null;case 5:if(wt(o),x=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&ui(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Jt(o),null}if(y=H.current,Jc(o))P1(o);else{var S=Mp(K.current);switch(y){case 1:y=S.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:y=S.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":y=S.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":y=S.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":y=S.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof h.is=="string"?S.createElement("select",{is:h.is}):S.createElement("select"),h.multiple?y.multiple=!0:h.size&&(y.size=h.size);break;default:y=typeof h.is=="string"?S.createElement(x,{is:h.is}):S.createElement(x)}}y[As]=o,y[Ks]=h;e:for(S=o.child;S!==null;){if(S.tag===5||S.tag===6)y.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===o)break e;for(;S.sibling===null;){if(S.return===null||S.return===o)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}o.stateNode=y;e:switch(on(y,x,h),x){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&ui(o)}}return Jt(o),iy(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,d),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==h&&ui(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(a=K.current,Jc(o)){if(a=o.stateNode,d=o.memoizedProps,h=null,x=nn,x!==null)switch(x.tag){case 27:case 5:h=x.memoizedProps}a[As]=o,a=!!(a.nodeValue===d||h!==null&&h.suppressHydrationWarning===!0||Q_(a.nodeValue,d)),a||so(o,!0)}else a=Mp(a).createTextNode(h),a[As]=o,o.stateNode=a}return Jt(o),null;case 31:if(d=o.memoizedState,a===null||a.memoizedState!==null){if(h=Jc(o),d!==null){if(a===null){if(!h)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[As]=o}else jl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Jt(o),a=!1}else d=g0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=d),a=!0;if(!a)return o.flags&256?(hr(o),o):(hr(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Jt(o),null;case 13:if(h=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(x=Jc(o),h!==null&&h.dehydrated!==null){if(a===null){if(!x)throw Error(r(318));if(x=o.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[As]=o}else jl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Jt(o),x=!1}else x=g0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=x),x=!0;if(!x)return o.flags&256?(hr(o),o):(hr(o),null)}return hr(o),(o.flags&128)!==0?(o.lanes=d,o):(d=h!==null,a=a!==null&&a.memoizedState!==null,d&&(h=o.child,x=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(x=h.alternate.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==x&&(h.flags|=2048)),d!==a&&d&&(o.child.flags|=8192),wp(o,o.updateQueue),Jt(o),null);case 4:return Oe(),a===null&&Ey(o.stateNode.containerInfo),Jt(o),null;case 10:return oi(o.type),Jt(o),null;case 19:if(ie(_s),h=o.memoizedState,h===null)return Jt(o),null;if(x=(o.flags&128)!==0,y=h.rendering,y===null)if(x)yh(h,!1);else{if(fs!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(y=lp(a),y!==null){for(o.flags|=128,yh(h,!1),a=y.updateQueue,o.updateQueue=a,wp(o,a),o.subtreeFlags=0,a=d,d=o.child;d!==null;)E1(d,a),d=d.sibling;return G(_s,_s.current&1|2),jt&&ai(o,h.treeForkCount),o.child}a=a.sibling}h.tail!==null&&be()>Sp&&(o.flags|=128,x=!0,yh(h,!1),o.lanes=4194304)}else{if(!x)if(a=lp(y),a!==null){if(o.flags|=128,x=!0,a=a.updateQueue,o.updateQueue=a,wp(o,a),yh(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!jt)return Jt(o),null}else 2*be()-h.renderingStartTime>Sp&&d!==536870912&&(o.flags|=128,x=!0,yh(h,!1),o.lanes=4194304);h.isBackwards?(y.sibling=o.child,o.child=y):(a=h.last,a!==null?a.sibling=y:o.child=y,h.last=y)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=be(),a.sibling=null,d=_s.current,G(_s,x?d&1|2:d&1),jt&&ai(o,h.treeForkCount),a):(Jt(o),null);case 22:case 23:return hr(o),C0(),h=o.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(d&536870912)!==0&&(o.flags&128)===0&&(Jt(o),o.subtreeFlags&6&&(o.flags|=8192)):Jt(o),d=o.updateQueue,d!==null&&wp(o,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==d&&(o.flags|=2048),a!==null&&ie(kl),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),oi(Ps),Jt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function N5(a,o){switch(m0(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return oi(Ps),Oe(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return wt(o),null;case 31:if(o.memoizedState!==null){if(hr(o),o.alternate===null)throw Error(r(340));jl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(hr(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));jl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return ie(_s),null;case 4:return Oe(),null;case 10:return oi(o.type),null;case 22:case 23:return hr(o),C0(),a!==null&&ie(kl),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return oi(Ps),null;case 25:return null;default:return null}}function t_(a,o){switch(m0(o),o.tag){case 3:oi(Ps),Oe();break;case 26:case 27:case 5:wt(o);break;case 4:Oe();break;case 31:o.memoizedState!==null&&hr(o);break;case 13:hr(o);break;case 19:ie(_s);break;case 10:oi(o.type);break;case 22:case 23:hr(o),C0(),a!==null&&ie(kl);break;case 24:oi(Ps)}}function bh(a,o){try{var d=o.updateQueue,h=d!==null?d.lastEffect:null;if(h!==null){var x=h.next;d=x;do{if((d.tag&a)===a){h=void 0;var y=d.create,S=d.inst;h=y(),S.destroy=h}d=d.next}while(d!==x)}}catch(V){Ot(o,o.return,V)}}function co(a,o,d){try{var h=o.updateQueue,x=h!==null?h.lastEffect:null;if(x!==null){var y=x.next;h=y;do{if((h.tag&a)===a){var S=h.inst,V=S.destroy;if(V!==void 0){S.destroy=void 0,x=o;var Q=d,de=V;try{de()}catch(je){Ot(x,Q,je)}}}h=h.next}while(h!==y)}}catch(je){Ot(o,o.return,je)}}function s_(a){var o=a.updateQueue;if(o!==null){var d=a.stateNode;try{G1(o,d)}catch(h){Ot(a,a.return,h)}}}function n_(a,o,d){d.props=Al(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(h){Ot(a,o,h)}}function vh(a,o){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof d=="function"?a.refCleanup=d(h):d.current=h}}catch(x){Ot(a,o,x)}}function za(a,o){var d=a.ref,h=a.refCleanup;if(d!==null)if(typeof h=="function")try{h()}catch(x){Ot(a,o,x)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(x){Ot(a,o,x)}else d.current=null}function r_(a){var o=a.type,d=a.memoizedProps,h=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&h.focus();break e;case"img":d.src?h.src=d.src:d.srcSet&&(h.srcset=d.srcSet)}}catch(x){Ot(a,a.return,x)}}function oy(a,o,d){try{var h=a.stateNode;H5(h,a.type,d,o),h[Ks]=o}catch(x){Ot(a,a.return,x)}}function a_(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&xo(a.type)||a.tag===4}function ly(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||a_(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&xo(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function cy(a,o,d){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(a),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=ta));else if(h!==4&&(h===27&&xo(a.type)&&(d=a.stateNode,o=null),a=a.child,a!==null))for(cy(a,o,d),a=a.sibling;a!==null;)cy(a,o,d),a=a.sibling}function jp(a,o,d){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?d.insertBefore(a,o):d.appendChild(a);else if(h!==4&&(h===27&&xo(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(jp(a,o,d),a=a.sibling;a!==null;)jp(a,o,d),a=a.sibling}function i_(a){var o=a.stateNode,d=a.memoizedProps;try{for(var h=a.type,x=o.attributes;x.length;)o.removeAttributeNode(x[0]);on(o,h,d),o[As]=a,o[Ks]=d}catch(y){Ot(a,a.return,y)}}var hi=!1,Ms=!1,dy=!1,o_=typeof WeakSet=="function"?WeakSet:Set,Ys=null;function _5(a,o){if(a=a.containerInfo,Iy=$p,a=b1(a),n0(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var h=d.getSelection&&d.getSelection();if(h&&h.rangeCount!==0){d=h.anchorNode;var x=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{d.nodeType,y.nodeType}catch{d=null;break e}var S=0,V=-1,Q=-1,de=0,je=0,ke=a,ue=null;t:for(;;){for(var ge;ke!==d||x!==0&&ke.nodeType!==3||(V=S+x),ke!==y||h!==0&&ke.nodeType!==3||(Q=S+h),ke.nodeType===3&&(S+=ke.nodeValue.length),(ge=ke.firstChild)!==null;)ue=ke,ke=ge;for(;;){if(ke===a)break t;if(ue===d&&++de===x&&(V=S),ue===y&&++je===h&&(Q=S),(ge=ke.nextSibling)!==null)break;ke=ue,ue=ke.parentNode}ke=ge}d=V===-1||Q===-1?null:{start:V,end:Q}}else d=null}d=d||{start:0,end:0}}else d=null;for(Ry={focusedElem:a,selectionRange:d},$p=!1,Ys=o;Ys!==null;)if(o=Ys,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Ys=a;else for(;Ys!==null;){switch(o=Ys,y=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(d=0;d<a.length;d++)x=a[d],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&y!==null){a=void 0,d=o,x=y.memoizedProps,y=y.memoizedState,h=d.stateNode;try{var Be=Al(d.type,x);a=h.getSnapshotBeforeUpdate(Be,y),h.__reactInternalSnapshotBeforeUpdate=a}catch(Ze){Ot(d,d.return,Ze)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,d=a.nodeType,d===9)Oy(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Oy(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,Ys=a;break}Ys=o.return}}function l_(a,o,d){var h=d.flags;switch(d.tag){case 0:case 11:case 15:mi(a,d),h&4&&bh(5,d);break;case 1:if(mi(a,d),h&4)if(a=d.stateNode,o===null)try{a.componentDidMount()}catch(S){Ot(d,d.return,S)}else{var x=Al(d.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(x,o,a.__reactInternalSnapshotBeforeUpdate)}catch(S){Ot(d,d.return,S)}}h&64&&s_(d),h&512&&vh(d,d.return);break;case 3:if(mi(a,d),h&64&&(a=d.updateQueue,a!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{G1(a,o)}catch(S){Ot(d,d.return,S)}}break;case 27:o===null&&h&4&&i_(d);case 26:case 5:mi(a,d),o===null&&h&4&&r_(d),h&512&&vh(d,d.return);break;case 12:mi(a,d);break;case 31:mi(a,d),h&4&&u_(a,d);break;case 13:mi(a,d),h&4&&h_(a,d),h&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=P5.bind(null,d),Z5(a,d))));break;case 22:if(h=d.memoizedState!==null||hi,!h){o=o!==null&&o.memoizedState!==null||Ms,x=hi;var y=Ms;hi=h,(Ms=o)&&!y?pi(a,d,(d.subtreeFlags&8772)!==0):mi(a,d),hi=x,Ms=y}break;case 30:break;default:mi(a,d)}}function c_(a){var o=a.alternate;o!==null&&(a.alternate=null,c_(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Dc(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var ss=null,Fn=!1;function fi(a,o,d){for(d=d.child;d!==null;)d_(a,o,d),d=d.sibling}function d_(a,o,d){if(Fs&&typeof Fs.onCommitFiberUnmount=="function")try{Fs.onCommitFiberUnmount(Us,d)}catch{}switch(d.tag){case 26:Ms||za(d,o),fi(a,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Ms||za(d,o);var h=ss,x=Fn;xo(d.type)&&(ss=d.stateNode,Fn=!1),fi(a,o,d),Ch(d.stateNode),ss=h,Fn=x;break;case 5:Ms||za(d,o);case 6:if(h=ss,x=Fn,ss=null,fi(a,o,d),ss=h,Fn=x,ss!==null)if(Fn)try{(ss.nodeType===9?ss.body:ss.nodeName==="HTML"?ss.ownerDocument.body:ss).removeChild(d.stateNode)}catch(y){Ot(d,o,y)}else try{ss.removeChild(d.stateNode)}catch(y){Ot(d,o,y)}break;case 18:ss!==null&&(Fn?(a=ss,s2(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),yd(a)):s2(ss,d.stateNode));break;case 4:h=ss,x=Fn,ss=d.stateNode.containerInfo,Fn=!0,fi(a,o,d),ss=h,Fn=x;break;case 0:case 11:case 14:case 15:co(2,d,o),Ms||co(4,d,o),fi(a,o,d);break;case 1:Ms||(za(d,o),h=d.stateNode,typeof h.componentWillUnmount=="function"&&n_(d,o,h)),fi(a,o,d);break;case 21:fi(a,o,d);break;case 22:Ms=(h=Ms)||d.memoizedState!==null,fi(a,o,d),Ms=h;break;default:fi(a,o,d)}}function u_(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{yd(a)}catch(d){Ot(o,o.return,d)}}}function h_(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{yd(a)}catch(d){Ot(o,o.return,d)}}function k5(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new o_),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new o_),o;default:throw Error(r(435,a.tag))}}function Np(a,o){var d=k5(a);o.forEach(function(h){if(!d.has(h)){d.add(h);var x=D5.bind(null,a,h);h.then(x,x)}})}function Bn(a,o){var d=o.deletions;if(d!==null)for(var h=0;h<d.length;h++){var x=d[h],y=a,S=o,V=S;e:for(;V!==null;){switch(V.tag){case 27:if(xo(V.type)){ss=V.stateNode,Fn=!1;break e}break;case 5:ss=V.stateNode,Fn=!1;break e;case 3:case 4:ss=V.stateNode.containerInfo,Fn=!0;break e}V=V.return}if(ss===null)throw Error(r(160));d_(y,S,x),ss=null,Fn=!1,y=x.alternate,y!==null&&(y.return=null),x.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)f_(o,a),o=o.sibling}var oa=null;function f_(a,o){var d=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Bn(o,a),$n(a),h&4&&(co(3,a,a.return),bh(3,a),co(5,a,a.return));break;case 1:Bn(o,a),$n(a),h&512&&(Ms||d===null||za(d,d.return)),h&64&&hi&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?h:d.concat(h))));break;case 26:var x=oa;if(Bn(o,a),$n(a),h&512&&(Ms||d===null||za(d,d.return)),h&4){var y=d!==null?d.memoizedState:null;if(h=a.memoizedState,d===null)if(h===null)if(a.stateNode===null){e:{h=a.type,d=a.memoizedProps,x=x.ownerDocument||x;t:switch(h){case"title":y=x.getElementsByTagName("title")[0],(!y||y[_a]||y[As]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=x.createElement(h),x.head.insertBefore(y,x.querySelector("head > title"))),on(y,h,d),y[As]=a,Is(y),h=y;break e;case"link":var S=f2("link","href",x).get(h+(d.href||""));if(S){for(var V=0;V<S.length;V++)if(y=S[V],y.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&y.getAttribute("rel")===(d.rel==null?null:d.rel)&&y.getAttribute("title")===(d.title==null?null:d.title)&&y.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){S.splice(V,1);break t}}y=x.createElement(h),on(y,h,d),x.head.appendChild(y);break;case"meta":if(S=f2("meta","content",x).get(h+(d.content||""))){for(V=0;V<S.length;V++)if(y=S[V],y.getAttribute("content")===(d.content==null?null:""+d.content)&&y.getAttribute("name")===(d.name==null?null:d.name)&&y.getAttribute("property")===(d.property==null?null:d.property)&&y.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&y.getAttribute("charset")===(d.charSet==null?null:d.charSet)){S.splice(V,1);break t}}y=x.createElement(h),on(y,h,d),x.head.appendChild(y);break;default:throw Error(r(468,h))}y[As]=a,Is(y),h=y}a.stateNode=h}else m2(x,a.type,a.stateNode);else a.stateNode=h2(x,h,a.memoizedProps);else y!==h?(y===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):y.count--,h===null?m2(x,a.type,a.stateNode):h2(x,h,a.memoizedProps)):h===null&&a.stateNode!==null&&oy(a,a.memoizedProps,d.memoizedProps)}break;case 27:Bn(o,a),$n(a),h&512&&(Ms||d===null||za(d,d.return)),d!==null&&h&4&&oy(a,a.memoizedProps,d.memoizedProps);break;case 5:if(Bn(o,a),$n(a),h&512&&(Ms||d===null||za(d,d.return)),a.flags&32){x=a.stateNode;try{Un(x,"")}catch(Be){Ot(a,a.return,Be)}}h&4&&a.stateNode!=null&&(x=a.memoizedProps,oy(a,x,d!==null?d.memoizedProps:x)),h&1024&&(dy=!0);break;case 6:if(Bn(o,a),$n(a),h&4){if(a.stateNode===null)throw Error(r(162));h=a.memoizedProps,d=a.stateNode;try{d.nodeValue=h}catch(Be){Ot(a,a.return,Be)}}break;case 3:if(Vp=null,x=oa,oa=Lp(o.containerInfo),Bn(o,a),oa=x,$n(a),h&4&&d!==null&&d.memoizedState.isDehydrated)try{yd(o.containerInfo)}catch(Be){Ot(a,a.return,Be)}dy&&(dy=!1,m_(a));break;case 4:h=oa,oa=Lp(a.stateNode.containerInfo),Bn(o,a),$n(a),oa=h;break;case 12:Bn(o,a),$n(a);break;case 31:Bn(o,a),$n(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Np(a,h)));break;case 13:Bn(o,a),$n(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(kp=be()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Np(a,h)));break;case 22:x=a.memoizedState!==null;var Q=d!==null&&d.memoizedState!==null,de=hi,je=Ms;if(hi=de||x,Ms=je||Q,Bn(o,a),Ms=je,hi=de,$n(a),h&8192)e:for(o=a.stateNode,o._visibility=x?o._visibility&-2:o._visibility|1,x&&(d===null||Q||hi||Ms||Il(a)),d=null,o=a;;){if(o.tag===5||o.tag===26){if(d===null){Q=d=o;try{if(y=Q.stateNode,x)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{V=Q.stateNode;var ke=Q.memoizedProps.style,ue=ke!=null&&ke.hasOwnProperty("display")?ke.display:null;V.style.display=ue==null||typeof ue=="boolean"?"":(""+ue).trim()}}catch(Be){Ot(Q,Q.return,Be)}}}else if(o.tag===6){if(d===null){Q=o;try{Q.stateNode.nodeValue=x?"":Q.memoizedProps}catch(Be){Ot(Q,Q.return,Be)}}}else if(o.tag===18){if(d===null){Q=o;try{var ge=Q.stateNode;x?n2(ge,!0):n2(Q.stateNode,!1)}catch(Be){Ot(Q,Q.return,Be)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=a.updateQueue,h!==null&&(d=h.retryQueue,d!==null&&(h.retryQueue=null,Np(a,d))));break;case 19:Bn(o,a),$n(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Np(a,h)));break;case 30:break;case 21:break;default:Bn(o,a),$n(a)}}function $n(a){var o=a.flags;if(o&2){try{for(var d,h=a.return;h!==null;){if(a_(h)){d=h;break}h=h.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var x=d.stateNode,y=ly(a);jp(a,y,x);break;case 5:var S=d.stateNode;d.flags&32&&(Un(S,""),d.flags&=-33);var V=ly(a);jp(a,V,S);break;case 3:case 4:var Q=d.stateNode.containerInfo,de=ly(a);cy(a,de,Q);break;default:throw Error(r(161))}}catch(je){Ot(a,a.return,je)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function m_(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;m_(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function mi(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)l_(a,o.alternate,o),o=o.sibling}function Il(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:co(4,o,o.return),Il(o);break;case 1:za(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&n_(o,o.return,d),Il(o);break;case 27:Ch(o.stateNode);case 26:case 5:za(o,o.return),Il(o);break;case 22:o.memoizedState===null&&Il(o);break;case 30:Il(o);break;default:Il(o)}a=a.sibling}}function pi(a,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,x=a,y=o,S=y.flags;switch(y.tag){case 0:case 11:case 15:pi(x,y,d),bh(4,y);break;case 1:if(pi(x,y,d),h=y,x=h.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(de){Ot(h,h.return,de)}if(h=y,x=h.updateQueue,x!==null){var V=h.stateNode;try{var Q=x.shared.hiddenCallbacks;if(Q!==null)for(x.shared.hiddenCallbacks=null,x=0;x<Q.length;x++)H1(Q[x],V)}catch(de){Ot(h,h.return,de)}}d&&S&64&&s_(y),vh(y,y.return);break;case 27:i_(y);case 26:case 5:pi(x,y,d),d&&h===null&&S&4&&r_(y),vh(y,y.return);break;case 12:pi(x,y,d);break;case 31:pi(x,y,d),d&&S&4&&u_(x,y);break;case 13:pi(x,y,d),d&&S&4&&h_(x,y);break;case 22:y.memoizedState===null&&pi(x,y,d),vh(y,y.return);break;case 30:break;default:pi(x,y,d)}o=o.sibling}}function uy(a,o){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&ih(d))}function hy(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&ih(a))}function la(a,o,d,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)p_(a,o,d,h),o=o.sibling}function p_(a,o,d,h){var x=o.flags;switch(o.tag){case 0:case 11:case 15:la(a,o,d,h),x&2048&&bh(9,o);break;case 1:la(a,o,d,h);break;case 3:la(a,o,d,h),x&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&ih(a)));break;case 12:if(x&2048){la(a,o,d,h),a=o.stateNode;try{var y=o.memoizedProps,S=y.id,V=y.onPostCommit;typeof V=="function"&&V(S,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(Q){Ot(o,o.return,Q)}}else la(a,o,d,h);break;case 31:la(a,o,d,h);break;case 13:la(a,o,d,h);break;case 23:break;case 22:y=o.stateNode,S=o.alternate,o.memoizedState!==null?y._visibility&2?la(a,o,d,h):wh(a,o):y._visibility&2?la(a,o,d,h):(y._visibility|=2,od(a,o,d,h,(o.subtreeFlags&10256)!==0||!1)),x&2048&&uy(S,o);break;case 24:la(a,o,d,h),x&2048&&hy(o.alternate,o);break;default:la(a,o,d,h)}}function od(a,o,d,h,x){for(x=x&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var y=a,S=o,V=d,Q=h,de=S.flags;switch(S.tag){case 0:case 11:case 15:od(y,S,V,Q,x),bh(8,S);break;case 23:break;case 22:var je=S.stateNode;S.memoizedState!==null?je._visibility&2?od(y,S,V,Q,x):wh(y,S):(je._visibility|=2,od(y,S,V,Q,x)),x&&de&2048&&uy(S.alternate,S);break;case 24:od(y,S,V,Q,x),x&&de&2048&&hy(S.alternate,S);break;default:od(y,S,V,Q,x)}o=o.sibling}}function wh(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=a,h=o,x=h.flags;switch(h.tag){case 22:wh(d,h),x&2048&&uy(h.alternate,h);break;case 24:wh(d,h),x&2048&&hy(h.alternate,h);break;default:wh(d,h)}o=o.sibling}}var jh=8192;function ld(a,o,d){if(a.subtreeFlags&jh)for(a=a.child;a!==null;)g_(a,o,d),a=a.sibling}function g_(a,o,d){switch(a.tag){case 26:ld(a,o,d),a.flags&jh&&a.memoizedState!==null&&u6(d,oa,a.memoizedState,a.memoizedProps);break;case 5:ld(a,o,d);break;case 3:case 4:var h=oa;oa=Lp(a.stateNode.containerInfo),ld(a,o,d),oa=h;break;case 22:a.memoizedState===null&&(h=a.alternate,h!==null&&h.memoizedState!==null?(h=jh,jh=16777216,ld(a,o,d),jh=h):ld(a,o,d));break;default:ld(a,o,d)}}function x_(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Nh(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var h=o[d];Ys=h,b_(h,a)}x_(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)y_(a),a=a.sibling}function y_(a){switch(a.tag){case 0:case 11:case 15:Nh(a),a.flags&2048&&co(9,a,a.return);break;case 3:Nh(a);break;case 12:Nh(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,_p(a)):Nh(a);break;default:Nh(a)}}function _p(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var h=o[d];Ys=h,b_(h,a)}x_(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:co(8,o,o.return),_p(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,_p(o));break;default:_p(o)}a=a.sibling}}function b_(a,o){for(;Ys!==null;){var d=Ys;switch(d.tag){case 0:case 11:case 15:co(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var h=d.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:ih(d.memoizedState.cache)}if(h=d.child,h!==null)h.return=d,Ys=h;else e:for(d=a;Ys!==null;){h=Ys;var x=h.sibling,y=h.return;if(c_(h),h===d){Ys=null;break e}if(x!==null){x.return=y,Ys=x;break e}Ys=y}}}var S5={getCacheForType:function(a){var o=rn(Ps),d=o.data.get(a);return d===void 0&&(d=a(),o.data.set(a,d)),d},cacheSignal:function(){return rn(Ps).controller.signal}},T5=typeof WeakMap=="function"?WeakMap:Map,At=0,qt=null,ut=null,yt=0,Dt=0,fr=null,uo=!1,cd=!1,fy=!1,gi=0,fs=0,ho=0,Rl=0,my=0,mr=0,dd=0,_h=null,qn=null,py=!1,kp=0,v_=0,Sp=1/0,Tp=null,fo=null,Bs=0,mo=null,ud=null,xi=0,gy=0,xy=null,w_=null,kh=0,yy=null;function pr(){return(At&2)!==0&&yt!==0?yt&-yt:J.T!==null?_y():Em()}function j_(){if(mr===0)if((yt&536870912)===0||jt){var a=ja;ja<<=1,(ja&3932160)===0&&(ja=262144),mr=a}else mr=536870912;return a=ur.current,a!==null&&(a.flags|=32),mr}function Hn(a,o,d){(a===qt&&(Dt===2||Dt===9)||a.cancelPendingCommit!==null)&&(hd(a,0),po(a,yt,mr,!1)),tn(a,d),((At&2)===0||a!==qt)&&(a===qt&&((At&2)===0&&(Rl|=d),fs===4&&po(a,yt,mr,!1)),Va(a))}function N_(a,o,d){if((At&6)!==0)throw Error(r(327));var h=!d&&(o&127)===0&&(o&a.expiredLanes)===0||qe(a,o),x=h?A5(a,o):vy(a,o,!0),y=h;do{if(x===0){cd&&!h&&po(a,o,0,!1);break}else{if(d=a.current.alternate,y&&!E5(d)){x=vy(a,o,!1),y=!1;continue}if(x===2){if(y=o,a.errorRecoveryDisabledLanes&y)var S=0;else S=a.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){o=S;e:{var V=a;x=_h;var Q=V.current.memoizedState.isDehydrated;if(Q&&(hd(V,S).flags|=256),S=vy(V,S,!1),S!==2){if(fy&&!Q){V.errorRecoveryDisabledLanes|=y,Rl|=y,x=4;break e}y=qn,qn=x,y!==null&&(qn===null?qn=y:qn.push.apply(qn,y))}x=S}if(y=!1,x!==2)continue}}if(x===1){hd(a,0),po(a,o,0,!0);break}e:{switch(h=a,y=x,y){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:po(h,o,mr,!uo);break e;case 2:qn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(x=kp+300-be(),10<x)){if(po(h,o,mr,!uo),te(h,0,!0)!==0)break e;xi=o,h.timeoutHandle=e2(__.bind(null,h,d,qn,Tp,py,o,mr,Rl,dd,uo,y,"Throttled",-0,0),x);break e}__(h,d,qn,Tp,py,o,mr,Rl,dd,uo,y,null,-0,0)}}break}while(!0);Va(a)}function __(a,o,d,h,x,y,S,V,Q,de,je,ke,ue,ge){if(a.timeoutHandle=-1,ke=o.subtreeFlags,ke&8192||(ke&16785408)===16785408){ke={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ta},g_(o,y,ke);var Be=(y&62914560)===y?kp-be():(y&4194048)===y?v_-be():0;if(Be=h6(ke,Be),Be!==null){xi=y,a.cancelPendingCommit=Be(R_.bind(null,a,o,y,d,h,x,S,V,Q,je,ke,null,ue,ge)),po(a,y,S,!de);return}}R_(a,o,y,d,h,x,S,V,Q)}function E5(a){for(var o=a;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var h=0;h<d.length;h++){var x=d[h],y=x.getSnapshot;x=x.value;try{if(!cr(y(),x))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function po(a,o,d,h){o&=~my,o&=~Rl,a.suspendedLanes|=o,a.pingedLanes&=~o,h&&(a.warmLanes|=o),h=a.expirationTimes;for(var x=o;0<x;){var y=31-Vt(x),S=1<<y;h[y]=-1,x&=~S}d!==0&&vn(a,d,o)}function Ep(){return(At&6)===0?(Sh(0),!1):!0}function by(){if(ut!==null){if(Dt===0)var a=ut.return;else a=ut,ii=Nl=null,O0(a),sd=null,lh=0,a=ut;for(;a!==null;)t_(a.alternate,a),a=a.return;ut=null}}function hd(a,o){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,W5(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),xi=0,by(),qt=a,ut=d=ri(a.current,null),yt=o,Dt=0,fr=null,uo=!1,cd=qe(a,o),fy=!1,dd=mr=my=Rl=ho=fs=0,qn=_h=null,py=!1,(o&8)!==0&&(o|=o&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=o;0<h;){var x=31-Vt(h),y=1<<x;o|=a[x],h&=~y}return gi=o,Ym(),d}function k_(a,o){at=null,J.H=gh,o===td||o===np?(o=F1(),Dt=3):o===N0?(o=F1(),Dt=4):Dt=o===J0?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,fr=o,ut===null&&(fs=1,xp(a,Ir(o,a.current)))}function S_(){var a=ur.current;return a===null?!0:(yt&4194048)===yt?Or===null:(yt&62914560)===yt||(yt&536870912)!==0?a===Or:!1}function T_(){var a=J.H;return J.H=gh,a===null?gh:a}function E_(){var a=J.A;return J.A=S5,a}function Cp(){fs=4,uo||(yt&4194048)!==yt&&ur.current!==null||(cd=!0),(ho&134217727)===0&&(Rl&134217727)===0||qt===null||po(qt,yt,mr,!1)}function vy(a,o,d){var h=At;At|=2;var x=T_(),y=E_();(qt!==a||yt!==o)&&(Tp=null,hd(a,o)),o=!1;var S=fs;e:do try{if(Dt!==0&&ut!==null){var V=ut,Q=fr;switch(Dt){case 8:by(),S=6;break e;case 3:case 2:case 9:case 6:ur.current===null&&(o=!0);var de=Dt;if(Dt=0,fr=null,fd(a,V,Q,de),d&&cd){S=0;break e}break;default:de=Dt,Dt=0,fr=null,fd(a,V,Q,de)}}C5(),S=fs;break}catch(je){k_(a,je)}while(!0);return o&&a.shellSuspendCounter++,ii=Nl=null,At=h,J.H=x,J.A=y,ut===null&&(qt=null,yt=0,Ym()),S}function C5(){for(;ut!==null;)C_(ut)}function A5(a,o){var d=At;At|=2;var h=T_(),x=E_();qt!==a||yt!==o?(Tp=null,Sp=be()+500,hd(a,o)):cd=qe(a,o);e:do try{if(Dt!==0&&ut!==null){o=ut;var y=fr;t:switch(Dt){case 1:Dt=0,fr=null,fd(a,o,y,1);break;case 2:case 9:if(V1(y)){Dt=0,fr=null,A_(o);break}o=function(){Dt!==2&&Dt!==9||qt!==a||(Dt=7),Va(a)},y.then(o,o);break e;case 3:Dt=7;break e;case 4:Dt=5;break e;case 7:V1(y)?(Dt=0,fr=null,A_(o)):(Dt=0,fr=null,fd(a,o,y,7));break;case 5:var S=null;switch(ut.tag){case 26:S=ut.memoizedState;case 5:case 27:var V=ut;if(S?p2(S):V.stateNode.complete){Dt=0,fr=null;var Q=V.sibling;if(Q!==null)ut=Q;else{var de=V.return;de!==null?(ut=de,Ap(de)):ut=null}break t}}Dt=0,fr=null,fd(a,o,y,5);break;case 6:Dt=0,fr=null,fd(a,o,y,6);break;case 8:by(),fs=6;break e;default:throw Error(r(462))}}I5();break}catch(je){k_(a,je)}while(!0);return ii=Nl=null,J.H=h,J.A=x,At=d,ut!==null?0:(qt=null,yt=0,Ym(),fs)}function I5(){for(;ut!==null&&!It();)C_(ut)}function C_(a){var o=ZN(a.alternate,a,gi);a.memoizedProps=a.pendingProps,o===null?Ap(a):ut=o}function A_(a){var o=a,d=o.alternate;switch(o.tag){case 15:case 0:o=KN(d,o,o.pendingProps,o.type,void 0,yt);break;case 11:o=KN(d,o,o.pendingProps,o.type.render,o.ref,yt);break;case 5:O0(o);default:t_(d,o),o=ut=E1(o,gi),o=ZN(d,o,gi)}a.memoizedProps=a.pendingProps,o===null?Ap(a):ut=o}function fd(a,o,d,h){ii=Nl=null,O0(o),sd=null,lh=0;var x=o.return;try{if(b5(a,x,o,d,yt)){fs=1,xp(a,Ir(d,a.current)),ut=null;return}}catch(y){if(x!==null)throw ut=x,y;fs=1,xp(a,Ir(d,a.current)),ut=null;return}o.flags&32768?(jt||h===1?a=!0:cd||(yt&536870912)!==0?a=!1:(uo=a=!0,(h===2||h===9||h===3||h===6)&&(h=ur.current,h!==null&&h.tag===13&&(h.flags|=16384))),I_(o,a)):Ap(o)}function Ap(a){var o=a;do{if((o.flags&32768)!==0){I_(o,uo);return}a=o.return;var d=j5(o.alternate,o,gi);if(d!==null){ut=d;return}if(o=o.sibling,o!==null){ut=o;return}ut=o=a}while(o!==null);fs===0&&(fs=5)}function I_(a,o){do{var d=N5(a.alternate,a);if(d!==null){d.flags&=32767,ut=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(a=a.sibling,a!==null)){ut=a;return}ut=a=d}while(a!==null);fs=6,ut=null}function R_(a,o,d,h,x,y,S,V,Q){a.cancelPendingCommit=null;do Ip();while(Bs!==0);if((At&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(y=o.lanes|o.childLanes,y|=l0,Qr(a,d,y,S,V,Q),a===qt&&(ut=qt=null,yt=0),ud=o,mo=a,xi=d,gy=y,xy=x,w_=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,O5(Xe,function(){return L_(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=J.T,J.T=null,x=W.p,W.p=2,S=At,At|=4;try{_5(a,o,d)}finally{At=S,W.p=x,J.T=h}}Bs=1,P_(),D_(),O_()}}function P_(){if(Bs===1){Bs=0;var a=mo,o=ud,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=J.T,J.T=null;var h=W.p;W.p=2;var x=At;At|=4;try{f_(o,a);var y=Ry,S=b1(a.containerInfo),V=y.focusedElem,Q=y.selectionRange;if(S!==V&&V&&V.ownerDocument&&y1(V.ownerDocument.documentElement,V)){if(Q!==null&&n0(V)){var de=Q.start,je=Q.end;if(je===void 0&&(je=de),"selectionStart"in V)V.selectionStart=de,V.selectionEnd=Math.min(je,V.value.length);else{var ke=V.ownerDocument||document,ue=ke&&ke.defaultView||window;if(ue.getSelection){var ge=ue.getSelection(),Be=V.textContent.length,Ze=Math.min(Q.start,Be),$t=Q.end===void 0?Ze:Math.min(Q.end,Be);!ge.extend&&Ze>$t&&(S=$t,$t=Ze,Ze=S);var ne=x1(V,Ze),Z=x1(V,$t);if(ne&&Z&&(ge.rangeCount!==1||ge.anchorNode!==ne.node||ge.anchorOffset!==ne.offset||ge.focusNode!==Z.node||ge.focusOffset!==Z.offset)){var ce=ke.createRange();ce.setStart(ne.node,ne.offset),ge.removeAllRanges(),Ze>$t?(ge.addRange(ce),ge.extend(Z.node,Z.offset)):(ce.setEnd(Z.node,Z.offset),ge.addRange(ce))}}}}for(ke=[],ge=V;ge=ge.parentNode;)ge.nodeType===1&&ke.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<ke.length;V++){var Ne=ke[V];Ne.element.scrollLeft=Ne.left,Ne.element.scrollTop=Ne.top}}$p=!!Iy,Ry=Iy=null}finally{At=x,W.p=h,J.T=d}}a.current=o,Bs=2}}function D_(){if(Bs===2){Bs=0;var a=mo,o=ud,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=J.T,J.T=null;var h=W.p;W.p=2;var x=At;At|=4;try{l_(a,o.alternate,o)}finally{At=x,W.p=h,J.T=d}}Bs=3}}function O_(){if(Bs===4||Bs===3){Bs=0,ls();var a=mo,o=ud,d=xi,h=w_;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Bs=5:(Bs=0,ud=mo=null,M_(a,a.pendingLanes));var x=a.pendingLanes;if(x===0&&(fo=null),Xr(d),o=o.stateNode,Fs&&typeof Fs.onCommitFiberRoot=="function")try{Fs.onCommitFiberRoot(Us,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=J.T,x=W.p,W.p=2,J.T=null;try{for(var y=a.onRecoverableError,S=0;S<h.length;S++){var V=h[S];y(V.value,{componentStack:V.stack})}}finally{J.T=o,W.p=x}}(xi&3)!==0&&Ip(),Va(a),x=a.pendingLanes,(d&261930)!==0&&(x&42)!==0?a===yy?kh++:(kh=0,yy=a):kh=0,Sh(0)}}function M_(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,ih(o)))}function Ip(){return P_(),D_(),O_(),L_()}function L_(){if(Bs!==5)return!1;var a=mo,o=gy;gy=0;var d=Xr(xi),h=J.T,x=W.p;try{W.p=32>d?32:d,J.T=null,d=xy,xy=null;var y=mo,S=xi;if(Bs=0,ud=mo=null,xi=0,(At&6)!==0)throw Error(r(331));var V=At;if(At|=4,y_(y.current),p_(y,y.current,S,d),At=V,Sh(0,!1),Fs&&typeof Fs.onPostCommitFiberRoot=="function")try{Fs.onPostCommitFiberRoot(Us,y)}catch{}return!0}finally{W.p=x,J.T=h,M_(a,o)}}function z_(a,o,d){o=Ir(d,o),o=Q0(a.stateNode,o,2),a=io(a,o,2),a!==null&&(tn(a,2),Va(a))}function Ot(a,o,d){if(a.tag===3)z_(a,a,d);else for(;o!==null;){if(o.tag===3){z_(o,a,d);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(fo===null||!fo.has(h))){a=Ir(d,a),d=VN(2),h=io(o,d,2),h!==null&&(UN(d,h,o,a),tn(h,2),Va(h));break}}o=o.return}}function wy(a,o,d){var h=a.pingCache;if(h===null){h=a.pingCache=new T5;var x=new Set;h.set(o,x)}else x=h.get(o),x===void 0&&(x=new Set,h.set(o,x));x.has(d)||(fy=!0,x.add(d),a=R5.bind(null,a,o,d),o.then(a,a))}function R5(a,o,d){var h=a.pingCache;h!==null&&h.delete(o),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,qt===a&&(yt&d)===d&&(fs===4||fs===3&&(yt&62914560)===yt&&300>be()-kp?(At&2)===0&&hd(a,0):my|=d,dd===yt&&(dd=0)),Va(a)}function V_(a,o){o===0&&(o=es()),a=vl(a,o),a!==null&&(tn(a,o),Va(a))}function P5(a){var o=a.memoizedState,d=0;o!==null&&(d=o.retryLane),V_(a,d)}function D5(a,o){var d=0;switch(a.tag){case 31:case 13:var h=a.stateNode,x=a.memoizedState;x!==null&&(d=x.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),V_(a,d)}function O5(a,o){return tt(a,o)}var Rp=null,md=null,jy=!1,Pp=!1,Ny=!1,go=0;function Va(a){a!==md&&a.next===null&&(md===null?Rp=md=a:md=md.next=a),Pp=!0,jy||(jy=!0,L5())}function Sh(a,o){if(!Ny&&Pp){Ny=!0;do for(var d=!1,h=Rp;h!==null;){if(a!==0){var x=h.pendingLanes;if(x===0)var y=0;else{var S=h.suspendedLanes,V=h.pingedLanes;y=(1<<31-Vt(42|a)+1)-1,y&=x&~(S&~V),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(d=!0,$_(h,y))}else y=yt,y=te(h,h===qt?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||qe(h,y)||(d=!0,$_(h,y));h=h.next}while(d);Ny=!1}}function M5(){U_()}function U_(){Pp=jy=!1;var a=0;go!==0&&K5()&&(a=go);for(var o=be(),d=null,h=Rp;h!==null;){var x=h.next,y=F_(h,o);y===0?(h.next=null,d===null?Rp=x:d.next=x,x===null&&(md=d)):(d=h,(a!==0||(y&3)!==0)&&(Pp=!0)),h=x}Bs!==0&&Bs!==5||Sh(a),go!==0&&(go=0)}function F_(a,o){for(var d=a.suspendedLanes,h=a.pingedLanes,x=a.expirationTimes,y=a.pendingLanes&-62914561;0<y;){var S=31-Vt(y),V=1<<S,Q=x[S];Q===-1?((V&d)===0||(V&h)!==0)&&(x[S]=dt(V,o)):Q<=o&&(a.expiredLanes|=V),y&=~V}if(o=qt,d=yt,d=te(a,a===o?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,d===0||a===o&&(Dt===2||Dt===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&ae(h),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||qe(a,d)){if(o=d&-d,o===a.callbackPriority)return o;switch(h!==null&&ae(h),Xr(d)){case 2:case 8:d=Me;break;case 32:d=Xe;break;case 268435456:d=Gs;break;default:d=Xe}return h=B_.bind(null,a),d=tt(d,h),a.callbackPriority=o,a.callbackNode=d,o}return h!==null&&h!==null&&ae(h),a.callbackPriority=2,a.callbackNode=null,2}function B_(a,o){if(Bs!==0&&Bs!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(Ip()&&a.callbackNode!==d)return null;var h=yt;return h=te(a,a===qt?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(N_(a,h,o),F_(a,be()),a.callbackNode!=null&&a.callbackNode===d?B_.bind(null,a):null)}function $_(a,o){if(Ip())return null;N_(a,o,!0)}function L5(){Y5(function(){(At&6)!==0?tt(ee,M5):U_()})}function _y(){if(go===0){var a=Zc;a===0&&(a=ar,ar<<=1,(ar&261888)===0&&(ar=256)),go=a}return go}function q_(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:zc(""+a)}function H_(a,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,a.id&&d.setAttribute("form",a.id),o.parentNode.insertBefore(d,o),a=new FormData(a),d.parentNode.removeChild(d),a}function z5(a,o,d,h,x){if(o==="submit"&&d&&d.stateNode===x){var y=q_((x[Ks]||null).action),S=h.submitter;S&&(o=(o=S[Ks]||null)?q_(o.formAction):S.getAttribute("formAction"),o!==null&&(y=o,S=null));var V=new Ra("action","action",null,h,x);a.push({event:V,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(go!==0){var Q=S?H_(x,S):new FormData(x);q0(d,{pending:!0,data:Q,method:x.method,action:y},null,Q)}}else typeof y=="function"&&(V.preventDefault(),Q=S?H_(x,S):new FormData(x),q0(d,{pending:!0,data:Q,method:x.method,action:y},y,Q))},currentTarget:x}]})}}for(var ky=0;ky<o0.length;ky++){var Sy=o0[ky],V5=Sy.toLowerCase(),U5=Sy[0].toUpperCase()+Sy.slice(1);ia(V5,"on"+U5)}ia(j1,"onAnimationEnd"),ia(N1,"onAnimationIteration"),ia(_1,"onAnimationStart"),ia("dblclick","onDoubleClick"),ia("focusin","onFocus"),ia("focusout","onBlur"),ia(s5,"onTransitionRun"),ia(n5,"onTransitionStart"),ia(r5,"onTransitionCancel"),ia(k1,"onTransitionEnd"),Ea("onMouseEnter",["mouseout","mouseover"]),Ea("onMouseLeave",["mouseout","mouseover"]),Ea("onPointerEnter",["pointerout","pointerover"]),Ea("onPointerLeave",["pointerout","pointerover"]),Ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ta("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Th="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Th));function G_(a,o){o=(o&4)!==0;for(var d=0;d<a.length;d++){var h=a[d],x=h.event;h=h.listeners;e:{var y=void 0;if(o)for(var S=h.length-1;0<=S;S--){var V=h[S],Q=V.instance,de=V.currentTarget;if(V=V.listener,Q!==y&&x.isPropagationStopped())break e;y=V,x.currentTarget=de;try{y(x)}catch(je){Wm(je)}x.currentTarget=null,y=Q}else for(S=0;S<h.length;S++){if(V=h[S],Q=V.instance,de=V.currentTarget,V=V.listener,Q!==y&&x.isPropagationStopped())break e;y=V,x.currentTarget=de;try{y(x)}catch(je){Wm(je)}x.currentTarget=null,y=Q}}}}function ht(a,o){var d=o[Pc];d===void 0&&(d=o[Pc]=new Set);var h=a+"__bubble";d.has(h)||(K_(o,a,2,!1),d.add(h))}function Ty(a,o,d){var h=0;o&&(h|=4),K_(d,a,h,o)}var Dp="_reactListening"+Math.random().toString(36).slice(2);function Ey(a){if(!a[Dp]){a[Dp]=!0,Vu.forEach(function(d){d!=="selectionchange"&&(F5.has(d)||Ty(d,!1,a),Ty(d,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Dp]||(o[Dp]=!0,Ty("selectionchange",!1,o))}}function K_(a,o,d,h){switch(j2(o)){case 2:var x=p6;break;case 8:x=g6;break;default:x=$y}d=x.bind(null,o,d,a),x=void 0,!hl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(x=!0),h?x!==void 0?a.addEventListener(o,d,{capture:!0,passive:x}):a.addEventListener(o,d,!0):x!==void 0?a.addEventListener(o,d,{passive:x}):a.addEventListener(o,d,!1)}function Cy(a,o,d,h,x){var y=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var V=h.stateNode.containerInfo;if(V===x)break;if(S===4)for(S=h.return;S!==null;){var Q=S.tag;if((Q===3||Q===4)&&S.stateNode.containerInfo===x)return;S=S.return}for(;V!==null;){if(S=ka(V),S===null)return;if(Q=S.tag,Q===5||Q===6||Q===26||Q===27){h=y=S;continue e}V=V.parentNode}}h=h.return}Qi(function(){var de=y,je=Tr(d),ke=[];e:{var ue=S1.get(a);if(ue!==void 0){var ge=Ra,Be=a;switch(a){case"keypress":if(ml(d)===0)break e;case"keydown":case"keyup":ge=Hm;break;case"focusin":Be="focus",ge=gl;break;case"focusout":Be="blur",ge=gl;break;case"beforeblur":case"afterblur":ge=gl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Xu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=Mm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=j;break;case j1:case N1:case _1:ge=zm;break;case k1:ge=B;break;case"scroll":case"scrollend":ge=Ju;break;case"wheel":ge=fe;break;case"copy":case"cut":case"paste":ge=Vm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=ni;break;case"toggle":case"beforetoggle":ge=rt}var Ze=(o&4)!==0,$t=!Ze&&(a==="scroll"||a==="scrollend"),ne=Ze?ue!==null?ue+"Capture":null:ue;Ze=[];for(var Z=de,ce;Z!==null;){var Ne=Z;if(ce=Ne.stateNode,Ne=Ne.tag,Ne!==5&&Ne!==26&&Ne!==27||ce===null||ne===null||(Ne=sa(Z,ne),Ne!=null&&Ze.push(Eh(Z,Ne,ce))),$t)break;Z=Z.return}0<Ze.length&&(ue=new ge(ue,Be,null,d,je),ke.push({event:ue,listeners:Ze}))}}if((o&7)===0){e:{if(ue=a==="mouseover"||a==="pointerover",ge=a==="mouseout"||a==="pointerout",ue&&d!==Wu&&(Be=d.relatedTarget||d.fromElement)&&(ka(Be)||Be[Na]))break e;if((ge||ue)&&(ue=je.window===je?je:(ue=je.ownerDocument)?ue.defaultView||ue.parentWindow:window,ge?(Be=d.relatedTarget||d.toElement,ge=de,Be=Be?ka(Be):null,Be!==null&&($t=l(Be),Ze=Be.tag,Be!==$t||Ze!==5&&Ze!==27&&Ze!==6)&&(Be=null)):(ge=null,Be=de),ge!==Be)){if(Ze=Xu,Ne="onMouseLeave",ne="onMouseEnter",Z="mouse",(a==="pointerout"||a==="pointerover")&&(Ze=ni,Ne="onPointerLeave",ne="onPointerEnter",Z="pointer"),$t=ge==null?ue:or(ge),ce=Be==null?ue:or(Be),ue=new Ze(Ne,Z+"leave",ge,d,je),ue.target=$t,ue.relatedTarget=ce,Ne=null,ka(je)===de&&(Ze=new Ze(ne,Z+"enter",Be,d,je),Ze.target=ce,Ze.relatedTarget=$t,Ne=Ze),$t=Ne,ge&&Be)t:{for(Ze=B5,ne=ge,Z=Be,ce=0,Ne=ne;Ne;Ne=Ze(Ne))ce++;Ne=0;for(var Je=Z;Je;Je=Ze(Je))Ne++;for(;0<ce-Ne;)ne=Ze(ne),ce--;for(;0<Ne-ce;)Z=Ze(Z),Ne--;for(;ce--;){if(ne===Z||Z!==null&&ne===Z.alternate){Ze=ne;break t}ne=Ze(ne),Z=Ze(Z)}Ze=null}else Ze=null;ge!==null&&W_(ke,ue,ge,Ze,!1),Be!==null&&$t!==null&&W_(ke,$t,Be,Ze,!0)}}e:{if(ue=de?or(de):window,ge=ue.nodeName&&ue.nodeName.toLowerCase(),ge==="select"||ge==="input"&&ue.type==="file")var St=u1;else if(c1(ue))if(h1)St=ZR;else{St=JR;var Ke=QR}else ge=ue.nodeName,!ge||ge.toLowerCase()!=="input"||ue.type!=="checkbox"&&ue.type!=="radio"?de&&Lc(de.elementType)&&(St=u1):St=XR;if(St&&(St=St(a,de))){d1(ke,St,d,je);break e}Ke&&Ke(a,ue,de),a==="focusout"&&de&&ue.type==="number"&&de.memoizedProps.value!=null&&Hu(ue,"number",ue.value)}switch(Ke=de?or(de):window,a){case"focusin":(c1(Ke)||Ke.contentEditable==="true")&&(Hc=Ke,r0=de,nh=null);break;case"focusout":nh=r0=Hc=null;break;case"mousedown":a0=!0;break;case"contextmenu":case"mouseup":case"dragend":a0=!1,v1(ke,d,je);break;case"selectionchange":if(t5)break;case"keydown":case"keyup":v1(ke,d,je)}var lt;if(Ct)e:{switch(a){case"compositionstart":var bt="onCompositionStart";break e;case"compositionend":bt="onCompositionEnd";break e;case"compositionupdate":bt="onCompositionUpdate";break e}bt=void 0}else qc?xl(a,d)&&(bt="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(bt="onCompositionStart");bt&&(Oa&&d.locale!=="ko"&&(qc||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&qc&&(lt=Qu()):(Ia=je,Yu="value"in Ia?Ia.value:Ia.textContent,qc=!0)),Ke=Op(de,bt),0<Ke.length&&(bt=new Da(bt,a,null,d,je),ke.push({event:bt,listeners:Ke}),lt?bt.data=lt:(lt=$c(d),lt!==null&&(bt.data=lt)))),(lt=Cr?GR(a,d):KR(a,d))&&(bt=Op(de,"onBeforeInput"),0<bt.length&&(Ke=new Da("onBeforeInput","beforeinput",null,d,je),ke.push({event:Ke,listeners:bt}),Ke.data=lt)),z5(ke,a,de,d,je)}G_(ke,o)})}function Eh(a,o,d){return{instance:a,listener:o,currentTarget:d}}function Op(a,o){for(var d=o+"Capture",h=[];a!==null;){var x=a,y=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||y===null||(x=sa(a,d),x!=null&&h.unshift(Eh(a,x,y)),x=sa(a,o),x!=null&&h.push(Eh(a,x,y))),a.tag===3)return h;a=a.return}return[]}function B5(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function W_(a,o,d,h,x){for(var y=o._reactName,S=[];d!==null&&d!==h;){var V=d,Q=V.alternate,de=V.stateNode;if(V=V.tag,Q!==null&&Q===h)break;V!==5&&V!==26&&V!==27||de===null||(Q=de,x?(de=sa(d,y),de!=null&&S.unshift(Eh(d,de,Q))):x||(de=sa(d,y),de!=null&&S.push(Eh(d,de,Q)))),d=d.return}S.length!==0&&a.push({event:o,listeners:S})}var $5=/\r\n?/g,q5=/\u0000|\uFFFD/g;function Y_(a){return(typeof a=="string"?a:""+a).replace($5,`
`).replace(q5,"")}function Q_(a,o){return o=Y_(o),Y_(a)===o}function Bt(a,o,d,h,x,y){switch(d){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||Un(a,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&Un(a,""+h);break;case"className":lr(a,"class",h);break;case"tabIndex":lr(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(a,d,h);break;case"style":Ku(a,h,y);break;case"data":if(o!=="object"){lr(a,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||d!=="href")){a.removeAttribute(d);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(d);break}h=zc(""+h),a.setAttribute(d,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(d==="formAction"?(o!=="input"&&Bt(a,o,"name",x.name,x,null),Bt(a,o,"formEncType",x.formEncType,x,null),Bt(a,o,"formMethod",x.formMethod,x,null),Bt(a,o,"formTarget",x.formTarget,x,null)):(Bt(a,o,"encType",x.encType,x,null),Bt(a,o,"method",x.method,x,null),Bt(a,o,"target",x.target,x,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(d);break}h=zc(""+h),a.setAttribute(d,h);break;case"onClick":h!=null&&(a.onclick=ta);break;case"onScroll":h!=null&&ht("scroll",a);break;case"onScrollEnd":h!=null&&ht("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(d=h.__html,d!=null){if(x.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}d=zc(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(d,""+h):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":h===!0?a.setAttribute(d,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(d,h):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(d,h):a.removeAttribute(d);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(d):a.setAttribute(d,h);break;case"popover":ht("beforetoggle",a),ht("toggle",a),Oc(a,"popover",h);break;case"xlinkActuate":Rs(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Rs(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Rs(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Rs(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Rs(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Rs(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Rs(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Rs(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Rs(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Oc(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Om.get(d)||d,Oc(a,d,h))}}function Ay(a,o,d,h,x,y){switch(d){case"style":Ku(a,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(d=h.__html,d!=null){if(x.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"children":typeof h=="string"?Un(a,h):(typeof h=="number"||typeof h=="bigint")&&Un(a,""+h);break;case"onScroll":h!=null&&ht("scroll",a);break;case"onScrollEnd":h!=null&&ht("scrollend",a);break;case"onClick":h!=null&&(a.onclick=ta);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Uu.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(x=d.endsWith("Capture"),o=d.slice(2,x?d.length-7:void 0),y=a[Ks]||null,y=y!=null?y[d]:null,typeof y=="function"&&a.removeEventListener(o,y,x),typeof h=="function")){typeof y!="function"&&y!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(o,h,x);break e}d in a?a[d]=h:h===!0?a.setAttribute(d,""):Oc(a,d,h)}}}function on(a,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ht("error",a),ht("load",a);var h=!1,x=!1,y;for(y in d)if(d.hasOwnProperty(y)){var S=d[y];if(S!=null)switch(y){case"src":h=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Bt(a,o,y,S,d,null)}}x&&Bt(a,o,"srcSet",d.srcSet,d,null),h&&Bt(a,o,"src",d.src,d,null);return;case"input":ht("invalid",a);var V=y=S=x=null,Q=null,de=null;for(h in d)if(d.hasOwnProperty(h)){var je=d[h];if(je!=null)switch(h){case"name":x=je;break;case"type":S=je;break;case"checked":Q=je;break;case"defaultChecked":de=je;break;case"value":y=je;break;case"defaultValue":V=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(r(137,o));break;default:Bt(a,o,h,je,d,null)}}Rm(a,y,V,Q,de,S,x,!1);return;case"select":ht("invalid",a),h=S=y=null;for(x in d)if(d.hasOwnProperty(x)&&(V=d[x],V!=null))switch(x){case"value":y=V;break;case"defaultValue":S=V;break;case"multiple":h=V;default:Bt(a,o,x,V,d,null)}o=y,d=S,a.multiple=!!h,o!=null?Gi(a,!!h,o,!1):d!=null&&Gi(a,!!h,d,!0);return;case"textarea":ht("invalid",a),y=x=h=null;for(S in d)if(d.hasOwnProperty(S)&&(V=d[S],V!=null))switch(S){case"value":h=V;break;case"defaultValue":x=V;break;case"children":y=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(91));break;default:Bt(a,o,S,V,d,null)}Ki(a,h,x,y);return;case"option":for(Q in d)if(d.hasOwnProperty(Q)&&(h=d[Q],h!=null))switch(Q){case"selected":a.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Bt(a,o,Q,h,d,null)}return;case"dialog":ht("beforetoggle",a),ht("toggle",a),ht("cancel",a),ht("close",a);break;case"iframe":case"object":ht("load",a);break;case"video":case"audio":for(h=0;h<Th.length;h++)ht(Th[h],a);break;case"image":ht("error",a),ht("load",a);break;case"details":ht("toggle",a);break;case"embed":case"source":case"link":ht("error",a),ht("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(de in d)if(d.hasOwnProperty(de)&&(h=d[de],h!=null))switch(de){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Bt(a,o,de,h,d,null)}return;default:if(Lc(o)){for(je in d)d.hasOwnProperty(je)&&(h=d[je],h!==void 0&&Ay(a,o,je,h,d,void 0));return}}for(V in d)d.hasOwnProperty(V)&&(h=d[V],h!=null&&Bt(a,o,V,h,d,null))}function H5(a,o,d,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,y=null,S=null,V=null,Q=null,de=null,je=null;for(ge in d){var ke=d[ge];if(d.hasOwnProperty(ge)&&ke!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":Q=ke;default:h.hasOwnProperty(ge)||Bt(a,o,ge,null,h,ke)}}for(var ue in h){var ge=h[ue];if(ke=d[ue],h.hasOwnProperty(ue)&&(ge!=null||ke!=null))switch(ue){case"type":y=ge;break;case"name":x=ge;break;case"checked":de=ge;break;case"defaultChecked":je=ge;break;case"value":S=ge;break;case"defaultValue":V=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(r(137,o));break;default:ge!==ke&&Bt(a,o,ue,ge,h,ke)}}Mc(a,S,V,Q,de,je,y,x);return;case"select":ge=S=V=ue=null;for(y in d)if(Q=d[y],d.hasOwnProperty(y)&&Q!=null)switch(y){case"value":break;case"multiple":ge=Q;default:h.hasOwnProperty(y)||Bt(a,o,y,null,h,Q)}for(x in h)if(y=h[x],Q=d[x],h.hasOwnProperty(x)&&(y!=null||Q!=null))switch(x){case"value":ue=y;break;case"defaultValue":V=y;break;case"multiple":S=y;default:y!==Q&&Bt(a,o,x,y,h,Q)}o=V,d=S,h=ge,ue!=null?Gi(a,!!d,ue,!1):!!h!=!!d&&(o!=null?Gi(a,!!d,o,!0):Gi(a,!!d,d?[]:"",!1));return;case"textarea":ge=ue=null;for(V in d)if(x=d[V],d.hasOwnProperty(V)&&x!=null&&!h.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:Bt(a,o,V,null,h,x)}for(S in h)if(x=h[S],y=d[S],h.hasOwnProperty(S)&&(x!=null||y!=null))switch(S){case"value":ue=x;break;case"defaultValue":ge=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==y&&Bt(a,o,S,x,h,y)}Pm(a,ue,ge);return;case"option":for(var Be in d)if(ue=d[Be],d.hasOwnProperty(Be)&&ue!=null&&!h.hasOwnProperty(Be))switch(Be){case"selected":a.selected=!1;break;default:Bt(a,o,Be,null,h,ue)}for(Q in h)if(ue=h[Q],ge=d[Q],h.hasOwnProperty(Q)&&ue!==ge&&(ue!=null||ge!=null))switch(Q){case"selected":a.selected=ue&&typeof ue!="function"&&typeof ue!="symbol";break;default:Bt(a,o,Q,ue,h,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in d)ue=d[Ze],d.hasOwnProperty(Ze)&&ue!=null&&!h.hasOwnProperty(Ze)&&Bt(a,o,Ze,null,h,ue);for(de in h)if(ue=h[de],ge=d[de],h.hasOwnProperty(de)&&ue!==ge&&(ue!=null||ge!=null))switch(de){case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,o));break;default:Bt(a,o,de,ue,h,ge)}return;default:if(Lc(o)){for(var $t in d)ue=d[$t],d.hasOwnProperty($t)&&ue!==void 0&&!h.hasOwnProperty($t)&&Ay(a,o,$t,void 0,h,ue);for(je in h)ue=h[je],ge=d[je],!h.hasOwnProperty(je)||ue===ge||ue===void 0&&ge===void 0||Ay(a,o,je,ue,h,ge);return}}for(var ne in d)ue=d[ne],d.hasOwnProperty(ne)&&ue!=null&&!h.hasOwnProperty(ne)&&Bt(a,o,ne,null,h,ue);for(ke in h)ue=h[ke],ge=d[ke],!h.hasOwnProperty(ke)||ue===ge||ue==null&&ge==null||Bt(a,o,ke,ue,h,ge)}function J_(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function G5(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,d=performance.getEntriesByType("resource"),h=0;h<d.length;h++){var x=d[h],y=x.transferSize,S=x.initiatorType,V=x.duration;if(y&&V&&J_(S)){for(S=0,V=x.responseEnd,h+=1;h<d.length;h++){var Q=d[h],de=Q.startTime;if(de>V)break;var je=Q.transferSize,ke=Q.initiatorType;je&&J_(ke)&&(Q=Q.responseEnd,S+=je*(Q<V?1:(V-de)/(Q-de)))}if(--h,o+=8*(y+S)/(x.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Iy=null,Ry=null;function Mp(a){return a.nodeType===9?a:a.ownerDocument}function X_(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Z_(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function Py(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Dy=null;function K5(){var a=window.event;return a&&a.type==="popstate"?a===Dy?!1:(Dy=a,!0):(Dy=null,!1)}var e2=typeof setTimeout=="function"?setTimeout:void 0,W5=typeof clearTimeout=="function"?clearTimeout:void 0,t2=typeof Promise=="function"?Promise:void 0,Y5=typeof queueMicrotask=="function"?queueMicrotask:typeof t2<"u"?function(a){return t2.resolve(null).then(a).catch(Q5)}:e2;function Q5(a){setTimeout(function(){throw a})}function xo(a){return a==="head"}function s2(a,o){var d=o,h=0;do{var x=d.nextSibling;if(a.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"||d==="/&"){if(h===0){a.removeChild(x),yd(o);return}h--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")h++;else if(d==="html")Ch(a.ownerDocument.documentElement);else if(d==="head"){d=a.ownerDocument.head,Ch(d);for(var y=d.firstChild;y;){var S=y.nextSibling,V=y.nodeName;y[_a]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&y.rel.toLowerCase()==="stylesheet"||d.removeChild(y),y=S}}else d==="body"&&Ch(a.ownerDocument.body);d=x}while(d);yd(o)}function n2(a,o){var d=a;a=0;do{var h=d.nextSibling;if(d.nodeType===1?o?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(o?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),h&&h.nodeType===8)if(d=h.data,d==="/$"){if(a===0)break;a--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||a++;d=h}while(d)}function Oy(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Oy(d),Dc(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function J5(a,o,d,h){for(;a.nodeType===1;){var x=d;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[_a])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(y=a.getAttribute("rel"),y==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(y!==x.rel||a.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||a.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||a.getAttribute("title")!==(x.title==null?null:x.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(y=a.getAttribute("src"),(y!==(x.src==null?null:x.src)||a.getAttribute("type")!==(x.type==null?null:x.type)||a.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&y&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var y=x.name==null?null:""+x.name;if(x.type==="hidden"&&a.getAttribute("name")===y)return a}else return a;if(a=Mr(a.nextSibling),a===null)break}return null}function X5(a,o,d){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=Mr(a.nextSibling),a===null))return null;return a}function r2(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Mr(a.nextSibling),a===null))return null;return a}function My(a){return a.data==="$?"||a.data==="$~"}function Ly(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function Z5(a,o){var d=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||d.readyState!=="loading")o();else{var h=function(){o(),d.removeEventListener("DOMContentLoaded",h)};d.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function Mr(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var zy=null;function a2(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"||d==="/&"){if(o===0)return Mr(a.nextSibling);o--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||o++}a=a.nextSibling}return null}function i2(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(o===0)return a;o--}else d!=="/$"&&d!=="/&"||o++}a=a.previousSibling}return null}function o2(a,o,d){switch(o=Mp(d),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Ch(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Dc(a)}var Lr=new Map,l2=new Set;function Lp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var yi=W.d;W.d={f:e6,r:t6,D:s6,C:n6,L:r6,m:a6,X:o6,S:i6,M:l6};function e6(){var a=yi.f(),o=Ep();return a||o}function t6(a){var o=Sr(a);o!==null&&o.tag===5&&o.type==="form"?kN(o):yi.r(a)}var pd=typeof document>"u"?null:document;function c2(a,o,d){var h=pd;if(h&&typeof o=="string"&&o){var x=Vn(o);x='link[rel="'+a+'"][href="'+x+'"]',typeof d=="string"&&(x+='[crossorigin="'+d+'"]'),l2.has(x)||(l2.add(x),a={rel:a,crossOrigin:d,href:o},h.querySelector(x)===null&&(o=h.createElement("link"),on(o,"link",a),Is(o),h.head.appendChild(o)))}}function s6(a){yi.D(a),c2("dns-prefetch",a,null)}function n6(a,o){yi.C(a,o),c2("preconnect",a,o)}function r6(a,o,d){yi.L(a,o,d);var h=pd;if(h&&a&&o){var x='link[rel="preload"][as="'+Vn(o)+'"]';o==="image"&&d&&d.imageSrcSet?(x+='[imagesrcset="'+Vn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(x+='[imagesizes="'+Vn(d.imageSizes)+'"]')):x+='[href="'+Vn(a)+'"]';var y=x;switch(o){case"style":y=gd(a);break;case"script":y=xd(a)}Lr.has(y)||(a=b({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:a,as:o},d),Lr.set(y,a),h.querySelector(x)!==null||o==="style"&&h.querySelector(Ah(y))||o==="script"&&h.querySelector(Ih(y))||(o=h.createElement("link"),on(o,"link",a),Is(o),h.head.appendChild(o)))}}function a6(a,o){yi.m(a,o);var d=pd;if(d&&a){var h=o&&typeof o.as=="string"?o.as:"script",x='link[rel="modulepreload"][as="'+Vn(h)+'"][href="'+Vn(a)+'"]',y=x;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=xd(a)}if(!Lr.has(y)&&(a=b({rel:"modulepreload",href:a},o),Lr.set(y,a),d.querySelector(x)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Ih(y)))return}h=d.createElement("link"),on(h,"link",a),Is(h),d.head.appendChild(h)}}}function i6(a,o,d){yi.S(a,o,d);var h=pd;if(h&&a){var x=Sa(h).hoistableStyles,y=gd(a);o=o||"default";var S=x.get(y);if(!S){var V={loading:0,preload:null};if(S=h.querySelector(Ah(y)))V.loading=5;else{a=b({rel:"stylesheet",href:a,"data-precedence":o},d),(d=Lr.get(y))&&Vy(a,d);var Q=S=h.createElement("link");Is(Q),on(Q,"link",a),Q._p=new Promise(function(de,je){Q.onload=de,Q.onerror=je}),Q.addEventListener("load",function(){V.loading|=1}),Q.addEventListener("error",function(){V.loading|=2}),V.loading|=4,zp(S,o,h)}S={type:"stylesheet",instance:S,count:1,state:V},x.set(y,S)}}}function o6(a,o){yi.X(a,o);var d=pd;if(d&&a){var h=Sa(d).hoistableScripts,x=xd(a),y=h.get(x);y||(y=d.querySelector(Ih(x)),y||(a=b({src:a,async:!0},o),(o=Lr.get(x))&&Uy(a,o),y=d.createElement("script"),Is(y),on(y,"link",a),d.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(x,y))}}function l6(a,o){yi.M(a,o);var d=pd;if(d&&a){var h=Sa(d).hoistableScripts,x=xd(a),y=h.get(x);y||(y=d.querySelector(Ih(x)),y||(a=b({src:a,async:!0,type:"module"},o),(o=Lr.get(x))&&Uy(a,o),y=d.createElement("script"),Is(y),on(y,"link",a),d.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(x,y))}}function d2(a,o,d,h){var x=(x=K.current)?Lp(x):null;if(!x)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=gd(d.href),d=Sa(x).hoistableStyles,h=d.get(o),h||(h={type:"style",instance:null,count:0,state:null},d.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=gd(d.href);var y=Sa(x).hoistableStyles,S=y.get(a);if(S||(x=x.ownerDocument||x,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(a,S),(y=x.querySelector(Ah(a)))&&!y._p&&(S.instance=y,S.state.loading=5),Lr.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Lr.set(a,d),y||c6(x,a,d,S.state))),o&&h===null)throw Error(r(528,""));return S}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=xd(d),d=Sa(x).hoistableScripts,h=d.get(o),h||(h={type:"script",instance:null,count:0,state:null},d.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function gd(a){return'href="'+Vn(a)+'"'}function Ah(a){return'link[rel="stylesheet"]['+a+"]"}function u2(a){return b({},a,{"data-precedence":a.precedence,precedence:null})}function c6(a,o,d,h){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=a.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),on(o,"link",d),Is(o),a.head.appendChild(o))}function xd(a){return'[src="'+Vn(a)+'"]'}function Ih(a){return"script[async]"+a}function h2(a,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var h=a.querySelector('style[data-href~="'+Vn(d.href)+'"]');if(h)return o.instance=h,Is(h),h;var x=b({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),Is(h),on(h,"style",x),zp(h,d.precedence,a),o.instance=h;case"stylesheet":x=gd(d.href);var y=a.querySelector(Ah(x));if(y)return o.state.loading|=4,o.instance=y,Is(y),y;h=u2(d),(x=Lr.get(x))&&Vy(h,x),y=(a.ownerDocument||a).createElement("link"),Is(y);var S=y;return S._p=new Promise(function(V,Q){S.onload=V,S.onerror=Q}),on(y,"link",h),o.state.loading|=4,zp(y,d.precedence,a),o.instance=y;case"script":return y=xd(d.src),(x=a.querySelector(Ih(y)))?(o.instance=x,Is(x),x):(h=d,(x=Lr.get(y))&&(h=b({},d),Uy(h,x)),a=a.ownerDocument||a,x=a.createElement("script"),Is(x),on(x,"link",h),a.head.appendChild(x),o.instance=x);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,zp(h,d.precedence,a));return o.instance}function zp(a,o,d){for(var h=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=h.length?h[h.length-1]:null,y=x,S=0;S<h.length;S++){var V=h[S];if(V.dataset.precedence===o)y=V;else if(y!==x)break}y?y.parentNode.insertBefore(a,y.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(a,o.firstChild))}function Vy(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function Uy(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var Vp=null;function f2(a,o,d){if(Vp===null){var h=new Map,x=Vp=new Map;x.set(d,h)}else x=Vp,h=x.get(d),h||(h=new Map,x.set(d,h));if(h.has(a))return h;for(h.set(a,null),d=d.getElementsByTagName(a),x=0;x<d.length;x++){var y=d[x];if(!(y[_a]||y[As]||a==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(o)||"";S=a+S;var V=h.get(S);V?V.push(y):h.set(S,[y])}}return h}function m2(a,o,d){a=a.ownerDocument||a,a.head.insertBefore(d,o==="title"?a.querySelector("head > title"):null)}function d6(a,o,d){if(d===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function p2(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function u6(a,o,d,h){if(d.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var x=gd(h.href),y=o.querySelector(Ah(x));if(y){o=y._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=Up.bind(a),o.then(a,a)),d.state.loading|=4,d.instance=y,Is(y);return}y=o.ownerDocument||o,h=u2(h),(x=Lr.get(x))&&Vy(h,x),y=y.createElement("link"),Is(y);var S=y;S._p=new Promise(function(V,Q){S.onload=V,S.onerror=Q}),on(y,"link",h),d.instance=y}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(d,o),(o=d.state.preload)&&(d.state.loading&3)===0&&(a.count++,d=Up.bind(a),o.addEventListener("load",d),o.addEventListener("error",d))}}var Fy=0;function h6(a,o){return a.stylesheets&&a.count===0&&Bp(a,a.stylesheets),0<a.count||0<a.imgCount?function(d){var h=setTimeout(function(){if(a.stylesheets&&Bp(a,a.stylesheets),a.unsuspend){var y=a.unsuspend;a.unsuspend=null,y()}},6e4+o);0<a.imgBytes&&Fy===0&&(Fy=62500*G5());var x=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Bp(a,a.stylesheets),a.unsuspend)){var y=a.unsuspend;a.unsuspend=null,y()}},(a.imgBytes>Fy?50:800)+o);return a.unsuspend=d,function(){a.unsuspend=null,clearTimeout(h),clearTimeout(x)}}:null}function Up(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bp(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Fp=null;function Bp(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Fp=new Map,o.forEach(f6,a),Fp=null,Up.call(a))}function f6(a,o){if(!(o.state.loading&4)){var d=Fp.get(a);if(d)var h=d.get(null);else{d=new Map,Fp.set(a,d);for(var x=a.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<x.length;y++){var S=x[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(d.set(S.dataset.precedence,S),h=S)}h&&d.set(null,h)}x=o.instance,S=x.getAttribute("data-precedence"),y=d.get(S)||h,y===h&&d.set(null,x),d.set(S,x),this.count++,h=Up.bind(this),x.addEventListener("load",h),x.addEventListener("error",h),y?y.parentNode.insertBefore(x,y.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(x,a.firstChild)),o.state.loading|=4}}var Rh={$$typeof:z,Provider:null,Consumer:null,_currentValue:xe,_currentValue2:xe,_threadCount:0};function m6(a,o,d,h,x,y,S,V,Q){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ot(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ot(0),this.hiddenUpdates=ot(null),this.identifierPrefix=h,this.onUncaughtError=x,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function g2(a,o,d,h,x,y,S,V,Q,de,je,ke){return a=new m6(a,o,d,S,Q,de,je,ke,V),o=1,y===!0&&(o|=24),y=dr(3,null,null,o),a.current=y,y.stateNode=a,o=v0(),o.refCount++,a.pooledCache=o,o.refCount++,y.memoizedState={element:h,isDehydrated:d,cache:o},_0(y),a}function x2(a){return a?(a=Wc,a):Wc}function y2(a,o,d,h,x,y){x=x2(x),h.context===null?h.context=x:h.pendingContext=x,h=ao(o),h.payload={element:d},y=y===void 0?null:y,y!==null&&(h.callback=y),d=io(a,h,o),d!==null&&(Hn(d,a,o),dh(d,a,o))}function b2(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<o?d:o}}function By(a,o){b2(a,o),(a=a.alternate)&&b2(a,o)}function v2(a){if(a.tag===13||a.tag===31){var o=vl(a,67108864);o!==null&&Hn(o,a,67108864),By(a,67108864)}}function w2(a){if(a.tag===13||a.tag===31){var o=pr();o=Jr(o);var d=vl(a,o);d!==null&&Hn(d,a,o),By(a,o)}}var $p=!0;function p6(a,o,d,h){var x=J.T;J.T=null;var y=W.p;try{W.p=2,$y(a,o,d,h)}finally{W.p=y,J.T=x}}function g6(a,o,d,h){var x=J.T;J.T=null;var y=W.p;try{W.p=8,$y(a,o,d,h)}finally{W.p=y,J.T=x}}function $y(a,o,d,h){if($p){var x=qy(h);if(x===null)Cy(a,o,h,qp,d),N2(a,h);else if(y6(x,a,o,d,h))h.stopPropagation();else if(N2(a,h),o&4&&-1<x6.indexOf(a)){for(;x!==null;){var y=Sr(x);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=ir(y.pendingLanes);if(S!==0){var V=y;for(V.pendingLanes|=2,V.entangledLanes|=2;S;){var Q=1<<31-Vt(S);V.entanglements[1]|=Q,S&=~Q}Va(y),(At&6)===0&&(Sp=be()+500,Sh(0))}}break;case 31:case 13:V=vl(y,2),V!==null&&Hn(V,y,2),Ep(),By(y,2)}if(y=qy(h),y===null&&Cy(a,o,h,qp,d),y===x)break;x=y}x!==null&&h.stopPropagation()}else Cy(a,o,h,null,d)}}function qy(a){return a=Tr(a),Hy(a)}var qp=null;function Hy(a){if(qp=null,a=ka(a),a!==null){var o=l(a);if(o===null)a=null;else{var d=o.tag;if(d===13){if(a=c(o),a!==null)return a;a=null}else if(d===31){if(a=f(o),a!==null)return a;a=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return qp=a,null}function j2(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ue()){case ee:return 2;case Me:return 8;case Xe:case Zt:return 32;case Gs:return 268435456;default:return 32}default:return 32}}var Gy=!1,yo=null,bo=null,vo=null,Ph=new Map,Dh=new Map,wo=[],x6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function N2(a,o){switch(a){case"focusin":case"focusout":yo=null;break;case"dragenter":case"dragleave":bo=null;break;case"mouseover":case"mouseout":vo=null;break;case"pointerover":case"pointerout":Ph.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dh.delete(o.pointerId)}}function Oh(a,o,d,h,x,y){return a===null||a.nativeEvent!==y?(a={blockedOn:o,domEventName:d,eventSystemFlags:h,nativeEvent:y,targetContainers:[x]},o!==null&&(o=Sr(o),o!==null&&v2(o)),a):(a.eventSystemFlags|=h,o=a.targetContainers,x!==null&&o.indexOf(x)===-1&&o.push(x),a)}function y6(a,o,d,h,x){switch(o){case"focusin":return yo=Oh(yo,a,o,d,h,x),!0;case"dragenter":return bo=Oh(bo,a,o,d,h,x),!0;case"mouseover":return vo=Oh(vo,a,o,d,h,x),!0;case"pointerover":var y=x.pointerId;return Ph.set(y,Oh(Ph.get(y)||null,a,o,d,h,x)),!0;case"gotpointercapture":return y=x.pointerId,Dh.set(y,Oh(Dh.get(y)||null,a,o,d,h,x)),!0}return!1}function _2(a){var o=ka(a.target);if(o!==null){var d=l(o);if(d!==null){if(o=d.tag,o===13){if(o=c(d),o!==null){a.blockedOn=o,Zr(a.priority,function(){w2(d)});return}}else if(o===31){if(o=f(d),o!==null){a.blockedOn=o,Zr(a.priority,function(){w2(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Hp(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var d=qy(a.nativeEvent);if(d===null){d=a.nativeEvent;var h=new d.constructor(d.type,d);Wu=h,d.target.dispatchEvent(h),Wu=null}else return o=Sr(d),o!==null&&v2(o),a.blockedOn=d,!1;o.shift()}return!0}function k2(a,o,d){Hp(a)&&d.delete(o)}function b6(){Gy=!1,yo!==null&&Hp(yo)&&(yo=null),bo!==null&&Hp(bo)&&(bo=null),vo!==null&&Hp(vo)&&(vo=null),Ph.forEach(k2),Dh.forEach(k2)}function Gp(a,o){a.blockedOn===o&&(a.blockedOn=null,Gy||(Gy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,b6)))}var Kp=null;function S2(a){Kp!==a&&(Kp=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Kp===a&&(Kp=null);for(var o=0;o<a.length;o+=3){var d=a[o],h=a[o+1],x=a[o+2];if(typeof h!="function"){if(Hy(h||d)===null)continue;break}var y=Sr(d);y!==null&&(a.splice(o,3),o-=3,q0(y,{pending:!0,data:x,method:d.method,action:h},h,x))}}))}function yd(a){function o(Q){return Gp(Q,a)}yo!==null&&Gp(yo,a),bo!==null&&Gp(bo,a),vo!==null&&Gp(vo,a),Ph.forEach(o),Dh.forEach(o);for(var d=0;d<wo.length;d++){var h=wo[d];h.blockedOn===a&&(h.blockedOn=null)}for(;0<wo.length&&(d=wo[0],d.blockedOn===null);)_2(d),d.blockedOn===null&&wo.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(h=0;h<d.length;h+=3){var x=d[h],y=d[h+1],S=x[Ks]||null;if(typeof y=="function")S||S2(d);else if(S){var V=null;if(y&&y.hasAttribute("formAction")){if(x=y,S=y[Ks]||null)V=S.formAction;else if(Hy(x)!==null)continue}else V=S.action;typeof V=="function"?d[h+1]=V:(d.splice(h,3),h-=3),S2(d)}}}function T2(){function a(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(S){return x=S})},focusReset:"manual",scroll:"manual"})}function o(){x!==null&&(x(),x=null),h||setTimeout(d,20)}function d(){if(!h&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,x=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(d,100),function(){h=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),x!==null&&(x(),x=null)}}}function Ky(a){this._internalRoot=a}Wp.prototype.render=Ky.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var d=o.current,h=pr();y2(d,h,a,o,null,null)},Wp.prototype.unmount=Ky.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;y2(a.current,2,null,a,null,null),Ep(),o[Na]=null}};function Wp(a){this._internalRoot=a}Wp.prototype.unstable_scheduleHydration=function(a){if(a){var o=Em();a={blockedOn:null,target:a,priority:o};for(var d=0;d<wo.length&&o!==0&&o<wo[d].priority;d++);wo.splice(d,0,a),d===0&&_2(a)}};var E2=e.version;if(E2!=="19.2.4")throw Error(r(527,E2,"19.2.4"));W.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=m(o),a=a!==null?g(a):null,a=a===null?null:a.stateNode,a};var v6={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yp.isDisabled&&Yp.supportsFiber)try{Us=Yp.inject(v6),Fs=Yp}catch{}}return Lh.createRoot=function(a,o){if(!i(a))throw Error(r(299));var d=!1,h="",x=ON,y=MN,S=LN;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(x=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError)),o=g2(a,1,!1,null,null,d,h,null,x,y,S,T2),a[Na]=o.current,Ey(a),new Ky(o)},Lh.hydrateRoot=function(a,o,d){if(!i(a))throw Error(r(299));var h=!1,x="",y=ON,S=MN,V=LN,Q=null;return d!=null&&(d.unstable_strictMode===!0&&(h=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onUncaughtError!==void 0&&(y=d.onUncaughtError),d.onCaughtError!==void 0&&(S=d.onCaughtError),d.onRecoverableError!==void 0&&(V=d.onRecoverableError),d.formState!==void 0&&(Q=d.formState)),o=g2(a,1,!0,o,d??null,h,x,Q,y,S,V,T2),o.context=x2(null),d=o.current,h=pr(),h=Jr(h),x=ao(h),x.callback=null,io(d,x,h),d=h,o.current.lanes=d,tn(o,d),Va(o),a[Na]=o.current,Ey(a),new Wp(o)},Lh.version="19.2.4",Lh}var z2;function R6(){if(z2)return Qy.exports;z2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Qy.exports=I6(),Qy.exports}var P6=R6();const D6=ju(P6);var eb,V2;function O6(){if(V2)return eb;V2=1;var n=typeof Element<"u",e=typeof Map=="function",s=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(l,c){if(l===c)return!0;if(l&&c&&typeof l=="object"&&typeof c=="object"){if(l.constructor!==c.constructor)return!1;var f,u,m;if(Array.isArray(l)){if(f=l.length,f!=c.length)return!1;for(u=f;u--!==0;)if(!i(l[u],c[u]))return!1;return!0}var g;if(e&&l instanceof Map&&c instanceof Map){if(l.size!==c.size)return!1;for(g=l.entries();!(u=g.next()).done;)if(!c.has(u.value[0]))return!1;for(g=l.entries();!(u=g.next()).done;)if(!i(u.value[1],c.get(u.value[0])))return!1;return!0}if(s&&l instanceof Set&&c instanceof Set){if(l.size!==c.size)return!1;for(g=l.entries();!(u=g.next()).done;)if(!c.has(u.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(l)&&ArrayBuffer.isView(c)){if(f=l.length,f!=c.length)return!1;for(u=f;u--!==0;)if(l[u]!==c[u])return!1;return!0}if(l.constructor===RegExp)return l.source===c.source&&l.flags===c.flags;if(l.valueOf!==Object.prototype.valueOf&&typeof l.valueOf=="function"&&typeof c.valueOf=="function")return l.valueOf()===c.valueOf();if(l.toString!==Object.prototype.toString&&typeof l.toString=="function"&&typeof c.toString=="function")return l.toString()===c.toString();if(m=Object.keys(l),f=m.length,f!==Object.keys(c).length)return!1;for(u=f;u--!==0;)if(!Object.prototype.hasOwnProperty.call(c,m[u]))return!1;if(n&&l instanceof Element)return!1;for(u=f;u--!==0;)if(!((m[u]==="_owner"||m[u]==="__v"||m[u]==="__o")&&l.$$typeof)&&!i(l[m[u]],c[m[u]]))return!1;return!0}return l!==l&&c!==c}return eb=function(c,f){try{return i(c,f)}catch(u){if((u.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw u}},eb}var M6=O6();const L6=ju(M6);var tb,U2;function z6(){if(U2)return tb;U2=1;var n=function(e,s,r,i,l,c,f,u){if(!e){var m;if(s===void 0)m=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var g=[r,i,l,c,f,u],b=0;m=new Error(s.replace(/%s/g,function(){return g[b++]})),m.name="Invariant Violation"}throw m.framesToPop=1,m}};return tb=n,tb}var V6=z6();const F2=ju(V6);var sb,B2;function U6(){return B2||(B2=1,sb=function(e,s,r,i){var l=r?r.call(i,e,s):void 0;if(l!==void 0)return!!l;if(e===s)return!0;if(typeof e!="object"||!e||typeof s!="object"||!s)return!1;var c=Object.keys(e),f=Object.keys(s);if(c.length!==f.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(s),m=0;m<c.length;m++){var g=c[m];if(!u(g))return!1;var b=e[g],v=s[g];if(l=r?r.call(i,b,v,g):void 0,l===!1||l===void 0&&b!==v)return!1}return!0}),sb}var F6=U6();const B6=ju(F6);var H4=(n=>(n.BASE="base",n.BODY="body",n.HEAD="head",n.HTML="html",n.LINK="link",n.META="meta",n.NOSCRIPT="noscript",n.SCRIPT="script",n.STYLE="style",n.TITLE="title",n.FRAGMENT="Symbol(react.fragment)",n))(H4||{}),nb={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},$2=Object.values(H4),Xv={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},$6=Object.entries(Xv).reduce((n,[e,s])=>(n[s]=e,n),{}),ua="data-rh",Ld={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},zd=(n,e)=>{for(let s=n.length-1;s>=0;s-=1){const r=n[s];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},q6=n=>{let e=zd(n,"title");const s=zd(n,Ld.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),s&&e)return s.replace(/%s/g,()=>e);const r=zd(n,Ld.DEFAULT_TITLE);return e||r||void 0},H6=n=>zd(n,Ld.ON_CHANGE_CLIENT_STATE)||(()=>{}),rb=(n,e)=>e.filter(s=>typeof s[n]<"u").map(s=>s[n]).reduce((s,r)=>({...s,...r}),{}),G6=(n,e)=>e.filter(s=>typeof s.base<"u").map(s=>s.base).reverse().reduce((s,r)=>{if(!s.length){const i=Object.keys(r);for(let l=0;l<i.length;l+=1){const f=i[l].toLowerCase();if(n.indexOf(f)!==-1&&r[f])return s.concat(r)}}return s},[]),K6=n=>console&&typeof console.warn=="function"&&console.warn(n),zh=(n,e,s)=>{const r={};return s.filter(i=>Array.isArray(i[n])?!0:(typeof i[n]<"u"&&K6(`Helmet: ${n} should be of type "Array". Instead found type "${typeof i[n]}"`),!1)).map(i=>i[n]).reverse().reduce((i,l)=>{const c={};l.filter(u=>{let m;const g=Object.keys(u);for(let v=0;v<g.length;v+=1){const E=g[v],N=E.toLowerCase();e.indexOf(N)!==-1&&!(m==="rel"&&u[m].toLowerCase()==="canonical")&&!(N==="rel"&&u[N].toLowerCase()==="stylesheet")&&(m=N),e.indexOf(E)!==-1&&(E==="innerHTML"||E==="cssText"||E==="itemprop")&&(m=E)}if(!m||!u[m])return!1;const b=u[m].toLowerCase();return r[m]||(r[m]={}),c[m]||(c[m]={}),r[m][b]?!1:(c[m][b]=!0,!0)}).reverse().forEach(u=>i.push(u));const f=Object.keys(c);for(let u=0;u<f.length;u+=1){const m=f[u],g={...r[m],...c[m]};r[m]=g}return i},[]).reverse()},W6=(n,e)=>{if(Array.isArray(n)&&n.length){for(let s=0;s<n.length;s+=1)if(n[s][e])return!0}return!1},Y6=n=>({baseTag:G6(["href"],n),bodyAttributes:rb("bodyAttributes",n),defer:zd(n,Ld.DEFER),encode:zd(n,Ld.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:rb("htmlAttributes",n),linkTags:zh("link",["rel","href"],n),metaTags:zh("meta",["name","charset","http-equiv","property","itemprop"],n),noscriptTags:zh("noscript",["innerHTML"],n),onChangeClientState:H6(n),scriptTags:zh("script",["src","innerHTML"],n),styleTags:zh("style",["cssText"],n),title:q6(n),titleAttributes:rb("titleAttributes",n),prioritizeSeoTags:W6(n,Ld.PRIORITIZE_SEO_TAGS)}),G4=n=>Array.isArray(n)?n.join(""):n,Q6=(n,e)=>{const s=Object.keys(n);for(let r=0;r<s.length;r+=1)if(e[s[r]]&&e[s[r]].includes(n[s[r]]))return!0;return!1},ab=(n,e)=>Array.isArray(n)?n.reduce((s,r)=>(Q6(r,e)?s.priority.push(r):s.default.push(r),s),{priority:[],default:[]}):{default:n,priority:[]},q2=(n,e)=>({...n,[e]:void 0}),J6=["noscript","script","style"],Bb=(n,e=!0)=>e===!1?String(n):String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),K4=n=>Object.keys(n).reduce((e,s)=>{const r=typeof n[s]<"u"?`${s}="${n[s]}"`:`${s}`;return e?`${e} ${r}`:r},""),X6=(n,e,s,r)=>{const i=K4(s),l=G4(e);return i?`<${n} ${ua}="true" ${i}>${Bb(l,r)}</${n}>`:`<${n} ${ua}="true">${Bb(l,r)}</${n}>`},Z6=(n,e,s=!0)=>e.reduce((r,i)=>{const l=i,c=Object.keys(l).filter(m=>!(m==="innerHTML"||m==="cssText")).reduce((m,g)=>{const b=typeof l[g]>"u"?g:`${g}="${Bb(l[g],s)}"`;return m?`${m} ${b}`:b},""),f=l.innerHTML||l.cssText||"",u=J6.indexOf(n)===-1;return`${r}<${n} ${ua}="true" ${c}${u?"/>":`>${f}</${n}>`}`},""),W4=(n,e={})=>Object.keys(n).reduce((s,r)=>{const i=Xv[r];return s[i||r]=n[r],s},e),e3=(n,e,s)=>{const r={key:e,[ua]:!0},i=W4(s,r);return[Fe.createElement("title",i,e)]},dg=(n,e)=>e.map((s,r)=>{const i={key:r,[ua]:!0};return Object.keys(s).forEach(l=>{const f=Xv[l]||l;if(f==="innerHTML"||f==="cssText"){const u=s.innerHTML||s.cssText;i.dangerouslySetInnerHTML={__html:u}}else i[f]=s[l]}),Fe.createElement(n,i)}),Vr=(n,e,s=!0)=>{switch(n){case"title":return{toComponent:()=>e3(n,e.title,e.titleAttributes),toString:()=>X6(n,e.title,e.titleAttributes,s)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>W4(e),toString:()=>K4(e)};default:return{toComponent:()=>dg(n,e),toString:()=>Z6(n,e,s)}}},t3=({metaTags:n,linkTags:e,scriptTags:s,encode:r})=>{const i=ab(n,nb.meta),l=ab(e,nb.link),c=ab(s,nb.script);return{priorityMethods:{toComponent:()=>[...dg("meta",i.priority),...dg("link",l.priority),...dg("script",c.priority)],toString:()=>`${Vr("meta",i.priority,r)} ${Vr("link",l.priority,r)} ${Vr("script",c.priority,r)}`},metaTags:i.default,linkTags:l.default,scriptTags:c.default}},s3=n=>{const{baseTag:e,bodyAttributes:s,encode:r=!0,htmlAttributes:i,noscriptTags:l,styleTags:c,title:f="",titleAttributes:u,prioritizeSeoTags:m}=n;let{linkTags:g,metaTags:b,scriptTags:v}=n,E={toComponent:()=>{},toString:()=>""};return m&&({priorityMethods:E,linkTags:g,metaTags:b,scriptTags:v}=t3(n)),{priority:E,base:Vr("base",e,r),bodyAttributes:Vr("bodyAttributes",s,r),htmlAttributes:Vr("htmlAttributes",i,r),link:Vr("link",g,r),meta:Vr("meta",b,r),noscript:Vr("noscript",l,r),script:Vr("script",v,r),style:Vr("style",c,r),title:Vr("title",{title:f,titleAttributes:u},r)}},$b=s3,Qp=[],Y4=!!(typeof window<"u"&&window.document&&window.document.createElement),qb=class{constructor(n,e){bi(this,"instances",[]);bi(this,"canUseDOM",Y4);bi(this,"context");bi(this,"value",{setHelmet:n=>{this.context.helmet=n},helmetInstances:{get:()=>this.canUseDOM?Qp:this.instances,add:n=>{(this.canUseDOM?Qp:this.instances).push(n)},remove:n=>{const e=(this.canUseDOM?Qp:this.instances).indexOf(n);(this.canUseDOM?Qp:this.instances).splice(e,1)}}});this.context=n,this.canUseDOM=e||!1,e||(n.helmet=$b({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},n3={},Q4=Fe.createContext(n3),Wl,J4=(Wl=class extends w.Component{constructor(s){super(s);bi(this,"helmetData");this.helmetData=new qb(this.props.context||{},Wl.canUseDOM)}render(){return Fe.createElement(Q4.Provider,{value:this.helmetData.value},this.props.children)}},bi(Wl,"canUseDOM",Y4),Wl),bd=(n,e)=>{const s=document.head||document.querySelector("head"),r=s.querySelectorAll(`${n}[${ua}]`),i=[].slice.call(r),l=[];let c;return e&&e.length&&e.forEach(f=>{const u=document.createElement(n);for(const m in f)if(Object.prototype.hasOwnProperty.call(f,m))if(m==="innerHTML")u.innerHTML=f.innerHTML;else if(m==="cssText")u.styleSheet?u.styleSheet.cssText=f.cssText:u.appendChild(document.createTextNode(f.cssText));else{const g=m,b=typeof f[g]>"u"?"":f[g];u.setAttribute(m,b)}u.setAttribute(ua,"true"),i.some((m,g)=>(c=g,u.isEqualNode(m)))?i.splice(c,1):l.push(u)}),i.forEach(f=>{var u;return(u=f.parentNode)==null?void 0:u.removeChild(f)}),l.forEach(f=>s.appendChild(f)),{oldTags:i,newTags:l}},Hb=(n,e)=>{const s=document.getElementsByTagName(n)[0];if(!s)return;const r=s.getAttribute(ua),i=r?r.split(","):[],l=[...i],c=Object.keys(e);for(const f of c){const u=e[f]||"";s.getAttribute(f)!==u&&s.setAttribute(f,u),i.indexOf(f)===-1&&i.push(f);const m=l.indexOf(f);m!==-1&&l.splice(m,1)}for(let f=l.length-1;f>=0;f-=1)s.removeAttribute(l[f]);i.length===l.length?s.removeAttribute(ua):s.getAttribute(ua)!==c.join(",")&&s.setAttribute(ua,c.join(","))},r3=(n,e)=>{typeof n<"u"&&document.title!==n&&(document.title=G4(n)),Hb("title",e)},H2=(n,e)=>{const{baseTag:s,bodyAttributes:r,htmlAttributes:i,linkTags:l,metaTags:c,noscriptTags:f,onChangeClientState:u,scriptTags:m,styleTags:g,title:b,titleAttributes:v}=n;Hb("body",r),Hb("html",i),r3(b,v);const E={baseTag:bd("base",s),linkTags:bd("link",l),metaTags:bd("meta",c),noscriptTags:bd("noscript",f),scriptTags:bd("script",m),styleTags:bd("style",g)},N={},C={};Object.keys(E).forEach(T=>{const{newTags:O,oldTags:F}=E[T];O.length&&(N[T]=O),F.length&&(C[T]=E[T].oldTags)}),e&&e(),u(n,N,C)},Vh=null,a3=n=>{Vh&&cancelAnimationFrame(Vh),n.defer?Vh=requestAnimationFrame(()=>{H2(n,()=>{Vh=null})}):(H2(n),Vh=null)},i3=a3,G2=class extends w.Component{constructor(){super(...arguments);bi(this,"rendered",!1)}shouldComponentUpdate(e){return!B6(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:s}=this.props.context;let r=null;const i=Y6(e.get().map(l=>{const c={...l.props};return delete c.context,c}));J4.canUseDOM?i3(i):$b&&(r=$b(i)),s(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Fb,o3=(Fb=class extends w.Component{shouldComponentUpdate(n){return!L6(q2(this.props,"helmetData"),q2(n,"helmetData"))}mapNestedChildrenToProps(n,e){if(!e)return null;switch(n.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${n.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(n,e,s,r){return{...e,[n.type]:[...e[n.type]||[],{...s,...this.mapNestedChildrenToProps(n,r)}]}}mapObjectTypeChildren(n,e,s,r){switch(n.type){case"title":return{...e,[n.type]:r,titleAttributes:{...s}};case"body":return{...e,bodyAttributes:{...s}};case"html":return{...e,htmlAttributes:{...s}};default:return{...e,[n.type]:{...s}}}}mapArrayTypeChildrenToProps(n,e){let s={...e};return Object.keys(n).forEach(r=>{s={...s,[r]:n[r]}}),s}warnOnInvalidChildren(n,e){return F2($2.some(s=>n.type===s),typeof n.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${$2.join(", ")} are allowed. Helmet does not support rendering <${n.type}> elements. Refer to our API for more information.`),F2(!e||typeof e=="string"||Array.isArray(e)&&!e.some(s=>typeof s!="string"),`Helmet expects a string as a child of <${n.type}>. Did you forget to wrap your children in braces? ( <${n.type}>{\`\`}</${n.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(n,e){let s={};return Fe.Children.forEach(n,r=>{if(!r||!r.props)return;const{children:i,...l}=r.props,c=Object.keys(l).reduce((u,m)=>(u[$6[m]||m]=l[m],u),{});let{type:f}=r;switch(typeof f=="symbol"?f=f.toString():this.warnOnInvalidChildren(r,i),f){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":s=this.flattenArrayTypeChildren(r,s,c,i);break;default:e=this.mapObjectTypeChildren(r,e,c,i);break}}),this.mapArrayTypeChildrenToProps(s,e)}render(){const{children:n,...e}=this.props;let s={...e},{helmetData:r}=e;if(n&&(s=this.mapChildrenToProps(n,s)),r&&!(r instanceof qb)){const i=r;r=new qb(i.context,!0),delete s.helmetData}return r?Fe.createElement(G2,{...s,context:r.value}):Fe.createElement(Q4.Consumer,null,i=>Fe.createElement(G2,{...s,context:i}))}},bi(Fb,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Fb);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var K2="popstate";function l3(n={}){function e(r,i){let{pathname:l,search:c,hash:f}=r.location;return Gb("",{pathname:l,search:c,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(r,i){return typeof i=="string"?i:Sf(i)}return d3(e,s,null,n)}function os(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function qr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function c3(){return Math.random().toString(36).substring(2,10)}function W2(n,e){return{usr:n.state,key:n.key,idx:e}}function Gb(n,e,s=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Nu(e):e,state:s,key:e&&e.key||r||c3()}}function Sf({pathname:n="/",search:e="",hash:s=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function Nu(n){let e={};if(n){let s=n.indexOf("#");s>=0&&(e.hash=n.substring(s),n=n.substring(0,s));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function d3(n,e,s,r={}){let{window:i=document.defaultView,v5Compat:l=!1}=r,c=i.history,f="POP",u=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function b(){f="POP";let T=g(),O=T==null?null:T-m;m=T,u&&u({action:f,location:C.location,delta:O})}function v(T,O){f="PUSH";let F=Gb(C.location,T,O);m=g()+1;let z=W2(F,m),M=C.createHref(F);try{c.pushState(z,"",M)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(M)}l&&u&&u({action:f,location:C.location,delta:1})}function E(T,O){f="REPLACE";let F=Gb(C.location,T,O);m=g();let z=W2(F,m),M=C.createHref(F);c.replaceState(z,"",M),l&&u&&u({action:f,location:C.location,delta:0})}function N(T){return u3(T)}let C={get action(){return f},get location(){return n(i,c)},listen(T){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(K2,b),u=T,()=>{i.removeEventListener(K2,b),u=null}},createHref(T){return e(i,T)},createURL:N,encodeLocation(T){let O=N(T);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:v,replace:E,go(T){return c.go(T)}};return C}function u3(n,e=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),os(s,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Sf(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=s+r),new URL(r,s)}function X4(n,e,s="/"){return h3(n,e,s,!1)}function h3(n,e,s,r){let i=typeof e=="string"?Nu(e):e,l=Ei(i.pathname||"/",s);if(l==null)return null;let c=Z4(n);f3(c);let f=null;for(let u=0;f==null&&u<c.length;++u){let m=_3(l);f=j3(c[u],m,r)}return f}function Z4(n,e=[],s=[],r="",i=!1){let l=(c,f,u=i,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&u)return;os(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let b=_i([r,g.relativePath]),v=s.concat(g);c.children&&c.children.length>0&&(os(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Z4(c.children,e,v,b,u)),!(c.path==null&&!c.index)&&e.push({path:b,score:v3(b,c.index),routesMeta:v})};return n.forEach((c,f)=>{var u;if(c.path===""||!((u=c.path)!=null&&u.includes("?")))l(c,f);else for(let m of eT(c.path))l(c,f,!0,m)}),e}function eT(n){let e=n.split("/");if(e.length===0)return[];let[s,...r]=e,i=s.endsWith("?"),l=s.replace(/\?$/,"");if(r.length===0)return i?[l,""]:[l];let c=eT(r.join("/")),f=[];return f.push(...c.map(u=>u===""?l:[l,u].join("/"))),i&&f.push(...c),f.map(u=>n.startsWith("/")&&u===""?"/":u)}function f3(n){n.sort((e,s)=>e.score!==s.score?s.score-e.score:w3(e.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}var m3=/^:[\w-]+$/,p3=3,g3=2,x3=1,y3=10,b3=-2,Y2=n=>n==="*";function v3(n,e){let s=n.split("/"),r=s.length;return s.some(Y2)&&(r+=b3),e&&(r+=g3),s.filter(i=>!Y2(i)).reduce((i,l)=>i+(m3.test(l)?p3:l===""?x3:y3),r)}function w3(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function j3(n,e,s=!1){let{routesMeta:r}=n,i={},l="/",c=[];for(let f=0;f<r.length;++f){let u=r[f],m=f===r.length-1,g=l==="/"?e:e.slice(l.length)||"/",b=Ig({path:u.relativePath,caseSensitive:u.caseSensitive,end:m},g),v=u.route;if(!b&&m&&s&&!r[r.length-1].route.index&&(b=Ig({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},g)),!b)return null;Object.assign(i,b.params),c.push({params:i,pathname:_i([l,b.pathname]),pathnameBase:E3(_i([l,b.pathnameBase])),route:v}),b.pathnameBase!=="/"&&(l=_i([l,b.pathnameBase]))}return c}function Ig(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[s,r]=N3(n.path,n.caseSensitive,n.end),i=e.match(s);if(!i)return null;let l=i[0],c=l.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:r.reduce((m,{paramName:g,isOptional:b},v)=>{if(g==="*"){let N=f[v]||"";c=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const E=f[v];return b&&!E?m[g]=void 0:m[g]=(E||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:n}}function N3(n,e=!1,s=!0){qr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,u)=>(r.push({paramName:f,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function _3(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ei(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,r=n.charAt(s);return r&&r!=="/"?null:n.slice(s)||"/"}var k3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function S3(n,e="/"){let{pathname:s,search:r="",hash:i=""}=typeof n=="string"?Nu(n):n,l;return s?(s=s.replace(/\/\/+/g,"/"),s.startsWith("/")?l=Q2(s.substring(1),"/"):l=Q2(s,e)):l=e,{pathname:l,search:C3(r),hash:A3(i)}}function Q2(n,e){let s=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function ib(n,e,s,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function T3(n){return n.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function Zv(n){let e=T3(n);return e.map((s,r)=>r===e.length-1?s.pathname:s.pathnameBase)}function ew(n,e,s,r=!1){let i;typeof n=="string"?i=Nu(n):(i={...n},os(!i.pathname||!i.pathname.includes("?"),ib("?","pathname","search",i)),os(!i.pathname||!i.pathname.includes("#"),ib("#","pathname","hash",i)),os(!i.search||!i.search.includes("#"),ib("#","search","hash",i)));let l=n===""||i.pathname==="",c=l?"/":i.pathname,f;if(c==null)f=s;else{let b=e.length-1;if(!r&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),b-=1;i.pathname=v.join("/")}f=b>=0?e[b]:"/"}let u=S3(i,f),m=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&s.endsWith("/");return!u.pathname.endsWith("/")&&(m||g)&&(u.pathname+="/"),u}var _i=n=>n.join("/").replace(/\/\/+/g,"/"),E3=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),C3=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,A3=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,I3=class{constructor(n,e,s,r=!1){this.status=n,this.statusText=e||"",this.internal=r,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function R3(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function P3(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var tT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function sT(n,e){let s=n;if(typeof s!="string"||!k3.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let r=s,i=!1;if(tT)try{let l=new URL(window.location.href),c=s.startsWith("//")?new URL(l.protocol+s):new URL(s),f=Ei(c.pathname,e);c.origin===l.origin&&f!=null?s=f+c.search+c.hash:i=!0}catch{qr(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var nT=["POST","PUT","PATCH","DELETE"];new Set(nT);var D3=["GET",...nT];new Set(D3);var _u=w.createContext(null);_u.displayName="DataRouter";var ox=w.createContext(null);ox.displayName="DataRouterState";var O3=w.createContext(!1),rT=w.createContext({isTransitioning:!1});rT.displayName="ViewTransition";var M3=w.createContext(new Map);M3.displayName="Fetchers";var L3=w.createContext(null);L3.displayName="Await";var kr=w.createContext(null);kr.displayName="Navigation";var em=w.createContext(null);em.displayName="Location";var wa=w.createContext({outlet:null,matches:[],isDataRoute:!1});wa.displayName="Route";var tw=w.createContext(null);tw.displayName="RouteError";var aT="REACT_ROUTER_ERROR",z3="REDIRECT",V3="ROUTE_ERROR_RESPONSE";function U3(n){if(n.startsWith(`${aT}:${z3}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function F3(n){if(n.startsWith(`${aT}:${V3}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new I3(e.status,e.statusText,e.data)}catch{}}function B3(n,{relative:e}={}){os(ku(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:r}=w.useContext(kr),{hash:i,pathname:l,search:c}=tm(n,{relative:e}),f=l;return s!=="/"&&(f=l==="/"?s:_i([s,l])),r.createHref({pathname:f,search:c,hash:i})}function ku(){return w.useContext(em)!=null}function tr(){return os(ku(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(em).location}var iT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function oT(n){w.useContext(kr).static||w.useLayoutEffect(n)}function qs(){let{isDataRoute:n}=w.useContext(wa);return n?tP():$3()}function $3(){os(ku(),"useNavigate() may be used only in the context of a <Router> component.");let n=w.useContext(_u),{basename:e,navigator:s}=w.useContext(kr),{matches:r}=w.useContext(wa),{pathname:i}=tr(),l=JSON.stringify(Zv(r)),c=w.useRef(!1);return oT(()=>{c.current=!0}),w.useCallback((u,m={})=>{if(qr(c.current,iT),!c.current)return;if(typeof u=="number"){s.go(u);return}let g=ew(u,JSON.parse(l),i,m.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:_i([e,g.pathname])),(m.replace?s.replace:s.push)(g,m.state,m)},[e,s,l,i,n])}w.createContext(null);function Vd(){let{matches:n}=w.useContext(wa),e=n[n.length-1];return e?e.params:{}}function tm(n,{relative:e}={}){let{matches:s}=w.useContext(wa),{pathname:r}=tr(),i=JSON.stringify(Zv(s));return w.useMemo(()=>ew(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function q3(n,e){return lT(n,e)}function lT(n,e,s,r,i){var F;os(ku(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=w.useContext(kr),{matches:c}=w.useContext(wa),f=c[c.length-1],u=f?f.params:{},m=f?f.pathname:"/",g=f?f.pathnameBase:"/",b=f&&f.route;{let z=b&&b.path||"";dT(m,!b||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let v=tr(),E;if(e){let z=typeof e=="string"?Nu(e):e;os(g==="/"||((F=z.pathname)==null?void 0:F.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${z.pathname}" was given in the \`location\` prop.`),E=z}else E=v;let N=E.pathname||"/",C=N;if(g!=="/"){let z=g.replace(/^\//,"").split("/");C="/"+N.replace(/^\//,"").split("/").slice(z.length).join("/")}let T=X4(n,{pathname:C});qr(b||T!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),qr(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=Y3(T&&T.map(z=>Object.assign({},z,{params:Object.assign({},u,z.params),pathname:_i([g,l.encodeLocation?l.encodeLocation(z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?g:_i([g,l.encodeLocation?l.encodeLocation(z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathnameBase])})),c,s,r,i);return e&&O?w.createElement(em.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},O):O}function H3(){let n=eP(),e=R3(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),s=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:l},"ErrorBoundary")," or"," ",w.createElement("code",{style:l},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),s?w.createElement("pre",{style:i},s):null,c)}var G3=w.createElement(H3,null),cT=class extends w.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const s=F3(n.digest);s&&(n=s)}let e=n!==void 0?w.createElement(wa.Provider,{value:this.props.routeContext},w.createElement(tw.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?w.createElement(K3,{error:n},e):e}};cT.contextType=O3;var ob=new WeakMap;function K3({children:n,error:e}){let{basename:s}=w.useContext(kr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=U3(e.digest);if(r){let i=ob.get(e);if(i)throw i;let l=sT(r.location,s);if(tT&&!ob.get(e))if(l.isExternal||r.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:r.replace}));throw ob.set(e,c),c}return w.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return n}function W3({routeContext:n,match:e,children:s}){let r=w.useContext(_u);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(wa.Provider,{value:n},s)}function Y3(n,e=[],s=null,r=null,i=null){if(n==null){if(!s)return null;if(s.errors)n=s.matches;else if(e.length===0&&!s.initialized&&s.matches.length>0)n=s.matches;else return null}let l=n,c=s==null?void 0:s.errors;if(c!=null){let g=l.findIndex(b=>b.route.id&&(c==null?void 0:c[b.route.id])!==void 0);os(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let f=!1,u=-1;if(s)for(let g=0;g<l.length;g++){let b=l[g];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(u=g),b.route.id){let{loaderData:v,errors:E}=s,N=b.route.loader&&!v.hasOwnProperty(b.route.id)&&(!E||E[b.route.id]===void 0);if(b.route.lazy||N){f=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}let m=s&&r?(g,b)=>{var v,E;r(g,{location:s.location,params:((E=(v=s.matches)==null?void 0:v[0])==null?void 0:E.params)??{},unstable_pattern:P3(s.matches),errorInfo:b})}:void 0;return l.reduceRight((g,b,v)=>{let E,N=!1,C=null,T=null;s&&(E=c&&b.route.id?c[b.route.id]:void 0,C=b.route.errorElement||G3,f&&(u<0&&v===0?(dT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,T=null):u===v&&(N=!0,T=b.route.hydrateFallbackElement||null)));let O=e.concat(l.slice(0,v+1)),F=()=>{let z;return E?z=C:N?z=T:b.route.Component?z=w.createElement(b.route.Component,null):b.route.element?z=b.route.element:z=g,w.createElement(W3,{match:b,routeContext:{outlet:g,matches:O,isDataRoute:s!=null},children:z})};return s&&(b.route.ErrorBoundary||b.route.errorElement||v===0)?w.createElement(cT,{location:s.location,revalidation:s.revalidation,component:C,error:E,children:F(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:m}):F()},null)}function sw(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q3(n){let e=w.useContext(_u);return os(e,sw(n)),e}function J3(n){let e=w.useContext(ox);return os(e,sw(n)),e}function X3(n){let e=w.useContext(wa);return os(e,sw(n)),e}function nw(n){let e=X3(n),s=e.matches[e.matches.length-1];return os(s.route.id,`${n} can only be used on routes that contain a unique "id"`),s.route.id}function Z3(){return nw("useRouteId")}function eP(){var r;let n=w.useContext(tw),e=J3("useRouteError"),s=nw("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[s]}function tP(){let{router:n}=Q3("useNavigate"),e=nw("useNavigate"),s=w.useRef(!1);return oT(()=>{s.current=!0}),w.useCallback(async(i,l={})=>{qr(s.current,iT),s.current&&(typeof i=="number"?await n.navigate(i):await n.navigate(i,{fromRouteId:e,...l}))},[n,e])}var J2={};function dT(n,e,s){!e&&!J2[n]&&(J2[n]=!0,qr(!1,s))}w.memo(sP);function sP({routes:n,future:e,state:s,onError:r}){return lT(n,void 0,s,r,e)}function ca({to:n,replace:e,state:s,relative:r}){os(ku(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=w.useContext(kr);qr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=w.useContext(wa),{pathname:c}=tr(),f=qs(),u=ew(n,Zv(l),c,r==="path"),m=JSON.stringify(u);return w.useEffect(()=>{f(JSON.parse(m),{replace:e,state:s,relative:r})},[f,m,r,e,s]),null}function We(n){os(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nP({basename:n="/",children:e=null,location:s,navigationType:r="POP",navigator:i,static:l=!1,unstable_useTransitions:c}){os(!ku(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:f,navigator:i,static:l,unstable_useTransitions:c,future:{}}),[f,i,l,c]);typeof s=="string"&&(s=Nu(s));let{pathname:m="/",search:g="",hash:b="",state:v=null,key:E="default"}=s,N=w.useMemo(()=>{let C=Ei(m,f);return C==null?null:{location:{pathname:C,search:g,hash:b,state:v,key:E},navigationType:r}},[f,m,g,b,v,E,r]);return qr(N!=null,`<Router basename="${f}"> is not able to match the URL "${m}${g}${b}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:w.createElement(kr.Provider,{value:u},w.createElement(em.Provider,{children:e,value:N}))}function rw({children:n,location:e}){return q3(Kb(n),e)}function Kb(n,e=[]){let s=[];return w.Children.forEach(n,(r,i)=>{if(!w.isValidElement(r))return;let l=[...e,i];if(r.type===w.Fragment){s.push.apply(s,Kb(r.props.children,l));return}os(r.type===We,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),os(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Kb(r.props.children,l)),s.push(c)}),s}var ug="get",hg="application/x-www-form-urlencoded";function lx(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function rP(n){return lx(n)&&n.tagName.toLowerCase()==="button"}function aP(n){return lx(n)&&n.tagName.toLowerCase()==="form"}function iP(n){return lx(n)&&n.tagName.toLowerCase()==="input"}function oP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function lP(n,e){return n.button===0&&(!e||e==="_self")&&!oP(n)}function Wb(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,s)=>{let r=n[s];return e.concat(Array.isArray(r)?r.map(i=>[s,i]):[[s,r]])},[]))}function cP(n,e){let s=Wb(n);return e&&e.forEach((r,i)=>{s.has(i)||e.getAll(i).forEach(l=>{s.append(i,l)})}),s}var Jp=null;function dP(){if(Jp===null)try{new FormData(document.createElement("form"),0),Jp=!1}catch{Jp=!0}return Jp}var uP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lb(n){return n!=null&&!uP.has(n)?(qr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hg}"`),null):n}function hP(n,e){let s,r,i,l,c;if(aP(n)){let f=n.getAttribute("action");r=f?Ei(f,e):null,s=n.getAttribute("method")||ug,i=lb(n.getAttribute("enctype"))||hg,l=new FormData(n)}else if(rP(n)||iP(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||f.getAttribute("action");if(r=u?Ei(u,e):null,s=n.getAttribute("formmethod")||f.getAttribute("method")||ug,i=lb(n.getAttribute("formenctype"))||lb(f.getAttribute("enctype"))||hg,l=new FormData(f,n),!dP()){let{name:m,type:g,value:b}=n;if(g==="image"){let v=m?`${m}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else m&&l.append(m,b)}}else{if(lx(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=ug,r=null,i=hg,c=n}return l&&i==="text/plain"&&(c=l,l=void 0),{action:r,method:s.toLowerCase(),encType:i,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function aw(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function fP(n,e,s,r){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:e&&Ei(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function mP(n,e){if(n.id in e)return e[n.id];try{let s=await import(n.module);return e[n.id]=s,s}catch(s){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pP(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function gP(n,e,s){let r=await Promise.all(n.map(async i=>{let l=e.routes[i.route.id];if(l){let c=await mP(l,s);return c.links?c.links():[]}return[]}));return vP(r.flat(1).filter(pP).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function X2(n,e,s,r,i,l){let c=(u,m)=>s[m]?u.route.id!==s[m].route.id:!0,f=(u,m)=>{var g;return s[m].pathname!==u.pathname||((g=s[m].route.path)==null?void 0:g.endsWith("*"))&&s[m].params["*"]!==u.params["*"]};return l==="assets"?e.filter((u,m)=>c(u,m)||f(u,m)):l==="data"?e.filter((u,m)=>{var b;let g=r.routes[u.route.id];if(!g||!g.hasLoader)return!1;if(c(u,m)||f(u,m))return!0;if(u.route.shouldRevalidate){let v=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((b=s[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function xP(n,e,{includeHydrateFallback:s}={}){return yP(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),s&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function yP(n){return[...new Set(n)]}function bP(n){let e={},s=Object.keys(n).sort();for(let r of s)e[r]=n[r];return e}function vP(n,e){let s=new Set;return new Set(e),n.reduce((r,i)=>{let l=JSON.stringify(bP(i));return s.has(l)||(s.add(l),r.push({key:l,link:i})),r},[])}function uT(){let n=w.useContext(_u);return aw(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function wP(){let n=w.useContext(ox);return aw(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var iw=w.createContext(void 0);iw.displayName="FrameworkContext";function hT(){let n=w.useContext(iw);return aw(n,"You must render this element inside a <HydratedRouter> element"),n}function jP(n,e){let s=w.useContext(iw),[r,i]=w.useState(!1),[l,c]=w.useState(!1),{onFocus:f,onBlur:u,onMouseEnter:m,onMouseLeave:g,onTouchStart:b}=e,v=w.useRef(null);w.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let C=O=>{O.forEach(F=>{c(F.isIntersecting)})},T=new IntersectionObserver(C,{threshold:.5});return v.current&&T.observe(v.current),()=>{T.disconnect()}}},[n]),w.useEffect(()=>{if(r){let C=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(C)}}},[r]);let E=()=>{i(!0)},N=()=>{i(!1),c(!1)};return s?n!=="intent"?[l,v,{}]:[l,v,{onFocus:Uh(f,E),onBlur:Uh(u,N),onMouseEnter:Uh(m,E),onMouseLeave:Uh(g,N),onTouchStart:Uh(b,E)}]:[!1,v,{}]}function Uh(n,e){return s=>{n&&n(s),s.defaultPrevented||e(s)}}function NP({page:n,...e}){let{router:s}=uT(),r=w.useMemo(()=>X4(s.routes,n,s.basename),[s.routes,n,s.basename]);return r?w.createElement(kP,{page:n,matches:r,...e}):null}function _P(n){let{manifest:e,routeModules:s}=hT(),[r,i]=w.useState([]);return w.useEffect(()=>{let l=!1;return gP(n,e,s).then(c=>{l||i(c)}),()=>{l=!0}},[n,e,s]),r}function kP({page:n,matches:e,...s}){let r=tr(),{future:i,manifest:l,routeModules:c}=hT(),{basename:f}=uT(),{loaderData:u,matches:m}=wP(),g=w.useMemo(()=>X2(n,e,m,l,r,"data"),[n,e,m,l,r]),b=w.useMemo(()=>X2(n,e,m,l,r,"assets"),[n,e,m,l,r]),v=w.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let C=new Set,T=!1;if(e.forEach(F=>{var M;let z=l.routes[F.route.id];!z||!z.hasLoader||(!g.some(U=>U.route.id===F.route.id)&&F.route.id in u&&((M=c[F.route.id])!=null&&M.shouldRevalidate)||z.hasClientLoader?T=!0:C.add(F.route.id))}),C.size===0)return[];let O=fP(n,f,i.unstable_trailingSlashAwareDataRequests,"data");return T&&C.size>0&&O.searchParams.set("_routes",e.filter(F=>C.has(F.route.id)).map(F=>F.route.id).join(",")),[O.pathname+O.search]},[f,i.unstable_trailingSlashAwareDataRequests,u,r,l,g,e,n,c]),E=w.useMemo(()=>xP(b,l),[b,l]),N=_P(b);return w.createElement(w.Fragment,null,v.map(C=>w.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...s})),E.map(C=>w.createElement("link",{key:C,rel:"modulepreload",href:C,...s})),N.map(({key:C,link:T})=>w.createElement("link",{key:C,nonce:s.nonce,...T,crossOrigin:T.crossOrigin??s.crossOrigin})))}function SP(...n){return e=>{n.forEach(s=>{typeof s=="function"?s(e):s!=null&&(s.current=e)})}}var TP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{TP&&(window.__reactRouterVersion="7.13.0")}catch{}function EP({basename:n,children:e,unstable_useTransitions:s,window:r}){let i=w.useRef();i.current==null&&(i.current=l3({window:r,v5Compat:!0}));let l=i.current,[c,f]=w.useState({action:l.action,location:l.location}),u=w.useCallback(m=>{s===!1?f(m):w.startTransition(()=>f(m))},[s]);return w.useLayoutEffect(()=>l.listen(u),[l,u]),w.createElement(nP,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:s})}var fT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ge=w.forwardRef(function({onClick:e,discover:s="render",prefetch:r="none",relative:i,reloadDocument:l,replace:c,state:f,target:u,to:m,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:v,...E},N){let{basename:C,unstable_useTransitions:T}=w.useContext(kr),O=typeof m=="string"&&fT.test(m),F=sT(m,C);m=F.to;let z=B3(m,{relative:i}),[M,U,X]=jP(r,E),A=RP(m,{replace:c,state:f,target:u,preventScrollReset:g,relative:i,viewTransition:b,unstable_defaultShouldRevalidate:v,unstable_useTransitions:T});function P(k){e&&e(k),k.defaultPrevented||A(k)}let _=w.createElement("a",{...E,...X,href:F.absoluteURL||z,onClick:F.isExternal||l?e:P,ref:SP(N,U),target:u,"data-discover":!O&&s==="render"?"true":void 0});return M&&!O?w.createElement(w.Fragment,null,_,w.createElement(NP,{page:z})):_});Ge.displayName="Link";var CP=w.forwardRef(function({"aria-current":e="page",caseSensitive:s=!1,className:r="",end:i=!1,style:l,to:c,viewTransition:f,children:u,...m},g){let b=tm(c,{relative:m.relative}),v=tr(),E=w.useContext(ox),{navigator:N,basename:C}=w.useContext(kr),T=E!=null&&LP(b)&&f===!0,O=N.encodeLocation?N.encodeLocation(b).pathname:b.pathname,F=v.pathname,z=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;s||(F=F.toLowerCase(),z=z?z.toLowerCase():null,O=O.toLowerCase()),z&&C&&(z=Ei(z,C)||z);const M=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let U=F===O||!i&&F.startsWith(O)&&F.charAt(M)==="/",X=z!=null&&(z===O||!i&&z.startsWith(O)&&z.charAt(O.length)==="/"),A={isActive:U,isPending:X,isTransitioning:T},P=U?e:void 0,_;typeof r=="function"?_=r(A):_=[r,U?"active":null,X?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(A):l;return w.createElement(Ge,{...m,"aria-current":P,className:_,ref:g,style:k,to:c,viewTransition:f},typeof u=="function"?u(A):u)});CP.displayName="NavLink";var AP=w.forwardRef(({discover:n="render",fetcherKey:e,navigate:s,reloadDocument:r,replace:i,state:l,method:c=ug,action:f,onSubmit:u,relative:m,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:v,...E},N)=>{let{unstable_useTransitions:C}=w.useContext(kr),T=OP(),O=MP(f,{relative:m}),F=c.toLowerCase()==="get"?"get":"post",z=typeof f=="string"&&fT.test(f),M=U=>{if(u&&u(U),U.defaultPrevented)return;U.preventDefault();let X=U.nativeEvent.submitter,A=(X==null?void 0:X.getAttribute("formmethod"))||c,P=()=>T(X||U.currentTarget,{fetcherKey:e,method:A,navigate:s,replace:i,state:l,relative:m,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:v});C&&s!==!1?w.startTransition(()=>P()):P()};return w.createElement("form",{ref:N,method:F,action:O,onSubmit:r?u:M,...E,"data-discover":!z&&n==="render"?"true":void 0})});AP.displayName="Form";function IP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mT(n){let e=w.useContext(_u);return os(e,IP(n)),e}function RP(n,{target:e,replace:s,state:r,preventScrollReset:i,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:u}={}){let m=qs(),g=tr(),b=tm(n,{relative:l});return w.useCallback(v=>{if(lP(v,e)){v.preventDefault();let E=s!==void 0?s:Sf(g)===Sf(b),N=()=>m(n,{replace:E,state:r,preventScrollReset:i,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f});u?w.startTransition(()=>N()):N()}},[g,m,b,s,r,e,n,i,l,c,f,u])}function cx(n){qr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=w.useRef(Wb(n)),s=w.useRef(!1),r=tr(),i=w.useMemo(()=>cP(r.search,s.current?null:e.current),[r.search]),l=qs(),c=w.useCallback((f,u)=>{const m=Wb(typeof f=="function"?f(new URLSearchParams(i)):f);s.current=!0,l("?"+m,u)},[l,i]);return[i,c]}var PP=0,DP=()=>`__${String(++PP)}__`;function OP(){let{router:n}=mT("useSubmit"),{basename:e}=w.useContext(kr),s=Z3(),r=n.fetch,i=n.navigate;return w.useCallback(async(l,c={})=>{let{action:f,method:u,encType:m,formData:g,body:b}=hP(l,e);if(c.navigate===!1){let v=c.fetcherKey||DP();await r(v,s,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:b,formMethod:c.method||u,formEncType:c.encType||m,flushSync:c.flushSync})}else await i(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:b,formMethod:c.method||u,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:s,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,i,e,s])}function MP(n,{relative:e}={}){let{basename:s}=w.useContext(kr),r=w.useContext(wa);os(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),l={...tm(n||".",{relative:e})},c=tr();if(n==null){l.search=c.search;let f=new URLSearchParams(l.search),u=f.getAll("index");if(u.some(g=>g==="")){f.delete("index"),u.filter(b=>b).forEach(b=>f.append("index",b));let g=f.toString();l.search=g?`?${g}`:""}}return(!n||n===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(l.pathname=l.pathname==="/"?s:_i([s,l.pathname])),Sf(l)}function LP(n,{relative:e}={}){let s=w.useContext(rT);os(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=mT("useViewTransitionState"),i=tm(n,{relative:e});if(!s.isTransitioning)return!1;let l=Ei(s.currentLocation.pathname,r)||s.currentLocation.pathname,c=Ei(s.nextLocation.pathname,r)||s.nextLocation.pathname;return Ig(i.pathname,c)!=null||Ig(i.pathname,l)!=null}/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VP=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,r)=>r?r.toUpperCase():s.toLowerCase()),Z2=n=>{const e=VP(n);return e.charAt(0).toUpperCase()+e.slice(1)},pT=(...n)=>n.filter((e,s,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===s).join(" ").trim(),UP=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=w.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:i="",children:l,iconNode:c,...f},u)=>w.createElement("svg",{ref:u,...FP,width:e,height:e,stroke:n,strokeWidth:r?Number(s)*24/Number(e):s,className:pT("lucide",i),...!l&&!UP(f)&&{"aria-hidden":"true"},...f},[...c.map(([m,g])=>w.createElement(m,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(n,e)=>{const s=w.forwardRef(({className:r,...i},l)=>w.createElement(BP,{ref:l,iconNode:e,className:pT(`lucide-${zP(Z2(n))}`,`lucide-${n}`,r),...i}));return s.displayName=Z2(n),s};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],br=pe("activity",$P);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],HP=pe("archive",qP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],KP=pe("arrow-down-left",GP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Zn=pe("arrow-left",WP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],xs=pe("arrow-right",YP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],gT=pe("arrow-up-right",QP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Tf=pe("award",JP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ZP=pe("ban",XP);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],tD=pe("banknote",eD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Yb=pe("bell",sD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]],xT=pe("bitcoin",nD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],aD=pe("bold",rD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],oD=pe("briefcase",iD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],cb=pe("building-2",lD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],dD=pe("calculator",cD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Uo=pe("calendar",uD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],fD=pe("camera",hD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Bl=pe("chart-column",mD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],gD=pe("chart-no-axes-column-increasing",pD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],Ef=pe("chart-no-axes-column",xD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],fn=pe("check",yD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Hr=pe("chevron-down",bD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ow=pe("chevron-left",vD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Nc=pe("chevron-right",wD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],_c=pe("chevron-up",jD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Kn=pe("circle-alert",ND);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ct=pe("circle-check-big",_D);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ec=pe("circle-check",kD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],ek=pe("circle-pause",SD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],tk=pe("circle-play",TD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],CD=pe("circle-question-mark",ED);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],tc=pe("circle-x",AD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Kt=pe("clock",ID);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],yT=pe("code",RD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],DD=pe("coins",PD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]],MD=pe("cookie",OD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],cn=pe("copy",LD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],VD=pe("cpu",zD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],xn=pe("credit-card",UD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],BD=pe("database",FD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ki=pe("dollar-sign",$D);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ya=pe("download",qD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],GD=pe("earth",HD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],sc=pe("external-link",KD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Cf=pe("eye-off",WD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kc=pe("eye",YD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],JD=pe("facebook",QD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],bT=pe("file-code",XD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Kd=pe("file-text",ZD);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],sk=pe("flag",eO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Do=pe("flame",tO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],nO=pe("folder-plus",sO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],aO=pe("folder",rO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Sc=pe("funnel",iO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Wn=pe("gift",oO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Ts=pe("globe",lO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],nk=pe("hard-drive",cO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],rk=pe("hash",dO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],vT=pe("history",uO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],fO=pe("hourglass",hO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],nc=pe("info",mO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],gO=pe("instagram",pO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],yO=pe("italic",xO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Wd=pe("key",bO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],wT=pe("landmark",vO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],ga=pe("layers",wO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],jT=pe("layout-dashboard",jO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]],ak=pe("layout-template",NO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],kO=pe("link-2",_O);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Af=pe("link",SO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],EO=pe("list",TO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],gs=pe("loader-circle",CO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Yn=pe("lock",AO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],NT=pe("log-in",IO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],PO=pe("log-out",RO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],xa=pe("mail",DO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Fo=pe("map-pin",OO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Qb=pe("megaphone",MO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],zO=pe("menu",LO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],UO=pe("message-circle",VO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Gr=pe("message-square",FO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=[["path",{d:"M5 12h14",key:"1ays0h"}]],ik=pe("minus",BO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Yd=pe("monitor",$O);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],HO=pe("moon",qO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],KO=pe("mouse-pointer-2",GO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],Ci=pe("mouse-pointer",WO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],QO=pe("octagon-alert",YO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],XO=pe("panels-top-left",JO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],df=pe("paperclip",ZO);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],_T=pe("pause",eM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],lw=pe("pen",tM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],nM=pe("pencil",sM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],aM=pe("phone",rM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],sm=pe("play",iM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],er=pe("plus",oM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],cM=pe("printer",lM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],cw=pe("radio",dM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],kT=pe("receipt",uM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ur=pe("refresh-cw",hM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],mM=pe("rocket",fM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ok=pe("rotate-ccw",pM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"M4 11a9 9 0 0 1 9 9",key:"pv89mb"}],["path",{d:"M4 4a16 16 0 0 1 16 16",key:"k0647b"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]],xM=pe("rss",gM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ya=pe("save",yM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],jr=pe("search",bM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Qd=pe("send",vM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],ST=pe("server",wM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Bo=pe("settings",jM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],dw=pe("share-2",NM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Jb=pe("shield-check",_M);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],kn=pe("shield",kM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],uw=pe("shopping-cart",SM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],TT=pe("sliders-vertical",TM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],dx=pe("smartphone",EM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ux=pe("sparkles",CM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Yl=pe("square-check-big",AM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],RM=pe("square-pen",IM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Jd=pe("square",PM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Kr=pe("star",DM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],MM=pe("sun",OM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Xb=pe("tag",LM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],rc=pe("target",zM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],ET=pe("terminal",VM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],FM=pe("ticket",UM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],$M=pe("toggle-left",BM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],HM=pe("toggle-right",qM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ba=pe("trash-2",GM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Dn=pe("trending-up",KM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ys=pe("triangle-alert",WM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Ql=pe("trophy",YM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],JM=pe("twitter",QM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],If=pe("upload",XM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],e9=pe("user-check",ZM);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],un=pe("user",t9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Nr=pe("users",s9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],CT=pe("wallet",n9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],a9=pe("wifi-off",r9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],o9=pe("wifi",i9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],c9=pe("wrench",l9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],mn=pe("x",d9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],h9=pe("youtube",u9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Lt=pe("zap",f9),le=typeof window<"u"?window.location.origin:"",m9="",lk=()=>!1,AT=n=>typeof localStorage<"u"?localStorage.getItem(n):null;let wi=AT("tgp_token");AT("modus_current_user_id");const ye=async(n,e={})=>{const s={"Content-Type":"application/json",...e.headers};wi&&(s.Authorization=`Bearer ${wi}`);const r=await fetch(n,{...e,headers:s});return r.status===401&&(wi=null,localStorage.removeItem("tgp_token"),window.dispatchEvent(new Event("auth-expired"))),r},ck=(n,e=30)=>{const s=[],r=new Map(n.map(i=>[i.date,i]));for(let i=e-1;i>=0;i--){const l=new Date;l.setDate(l.getDate()-i);const c=l.toISOString().split("T")[0],f=r.get(c);s.push(f||{date:c,visitors:0,pageviews:0})}return s},q={init:()=>{console.log("Remote Database Initialized")},getCurrentUser:()=>{try{const n=localStorage.getItem("modus_current_user");return n?JSON.parse(n):void 0}catch(n){console.error("Failed to parse user data from localStorage:",n),localStorage.removeItem("modus_current_user");return}},refreshCurrentUser:async()=>{var n,e;try{const s=await ye(`${le}/users/me`);if(!s.ok){if(s.status===401){q.logout();return}throw new Error("Failed to fetch user")}const r=await s.json(),i={id:r.id,email:r.email,name:r.name||((n=r.email)==null?void 0:n.split("@")[0])||"User",role:r.role,balance:r.balance,balanceEconomy:r.balance_economy,balanceProfessional:r.balance_professional,balanceExpert:r.balance_expert,status:r.status||"active",joinedDate:((e=r.created_at)==null?void 0:e.split("T")[0])||new Date().toISOString().split("T")[0],projectsCount:r.projects_count||0,apiKey:r.api_key,isVerified:r.is_verified??!1,phone:r.phone,company:r.company,vatId:r.vat_id,address:r.address,city:r.city,country:r.country,zip:r.zip,website:r.website,displayName:r.display_name,bio:r.bio,jobTitle:r.job_title,publicProfile:r.public_profile,twoFactorEnabled:r.two_factor_enabled,emailFrequency:r.email_frequency,loginNotificationEnabled:r.login_notification_enabled,newsletterSub:r.newsletter_sub,soundEffects:r.sound_effects,developerMode:r.developer_mode,apiWhitelist:r.api_whitelist,webhookSecret:r.webhook_secret,accessibility:r.accessibility,socialLinks:r.social_links,recoveryEmail:r.recovery_email,timezone:r.timezone,language:r.language,themeAccentColor:r.theme_accent_color,dateFormat:r.date_format,numberFormat:r.number_format,requirePasswordReset:r.require_password_reset,avatarUrl:r.avatar_url};return q.setCurrentUser(i),i}catch(s){console.error("Failed to refresh user:",s);return}},setCurrentUser:n=>{n?(localStorage.setItem("modus_current_user",JSON.stringify(n)),localStorage.setItem("modus_current_user_id",n.id),n.id):(localStorage.removeItem("modus_current_user"),localStorage.removeItem("modus_current_user_id"))},logout:()=>{wi=null,localStorage.removeItem("tgp_token"),localStorage.removeItem("modus_current_user"),localStorage.removeItem("modus_current_user_id"),window.localStorage.clear(),window.location.href="/login"},login:async(n,e)=>{var u,m;const s=new URLSearchParams;s.append("username",n),s.append("password",e);const r=await fetch(`${le}/auth/token`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s});if(!r.ok)throw new Error("Invalid email or password");const i=await r.json();wi=i.access_token,localStorage.setItem("tgp_token",i.access_token);const c=await(await ye(`${le}/users/me`)).json(),f={id:c.id,email:c.email,name:((u=c.email)==null?void 0:u.split("@")[0])||c.name||"User",role:c.role,balance:c.balance,balanceEconomy:c.balance_economy,balanceProfessional:c.balance_professional,balanceExpert:c.balance_expert,status:"active",joinedDate:((m=c.created_at)==null?void 0:m.split("T")[0])||new Date().toISOString().split("T")[0],projectsCount:c.projects_count||0,apiKey:c.api_key,isVerified:c.is_verified??!1,phone:c.phone,company:c.company,vatId:c.vat_id,address:c.address,city:c.city,country:c.country,zip:c.zip,website:c.website,displayName:c.display_name,bio:c.bio,jobTitle:c.job_title,publicProfile:c.public_profile,twoFactorEnabled:c.two_factor_enabled,emailFrequency:c.email_frequency,loginNotificationEnabled:c.login_notification_enabled,newsletterSub:c.newsletter_sub,soundEffects:c.sound_effects,developerMode:c.developer_mode,apiWhitelist:c.api_whitelist,webhookSecret:c.webhook_secret,accessibility:c.accessibility,socialLinks:c.social_links,loginHistory:c.login_history,recoveryEmail:c.recovery_email,timezone:c.timezone,language:c.language,themeAccentColor:c.theme_accent_color,skillsBadges:c.skills_badges,referralCode:c.referral_code,supportPin:c.support_pin,dateFormat:c.date_format,numberFormat:c.number_format,requirePasswordReset:c.require_password_reset,gamificationXp:c.gamification_xp,gamificationLevel:c.gamification_level,gamificationTotalSpent:c.gamification_total_spent,gamificationPermanentDiscount:c.gamification_permanent_discount,streakDays:c.streak_days,streakBest:c.streak_best};if(q.setCurrentUser(f),lk()){const g=window.location.pathname+window.location.search,b=`${m9}/sso?token=${encodeURIComponent(i.access_token)}&return=${encodeURIComponent(g)}`;window.location.href=b}return f},validateSsoToken:async n=>{var e,s;try{const r=await fetch(`${le}/auth/validate-sso`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n})});if(!r.ok)return{valid:!1};const i=await r.json();if(!i.valid||!i.user)return{valid:!1};const l=i.user;return{valid:!0,user:{id:l.id,email:l.email,name:((e=l.email)==null?void 0:e.split("@")[0])||l.name||"User",role:l.role,balance:l.balance,balanceEconomy:l.balance_economy,balanceProfessional:l.balance_professional,balanceExpert:l.balance_expert,status:"active",joinedDate:((s=l.created_at)==null?void 0:s.split("T")[0])||new Date().toISOString().split("T")[0],projectsCount:l.projects_count||0,apiKey:l.api_key,isVerified:l.is_verified??!1,phone:l.phone,company:l.company,vatId:l.vat_id,address:l.address,city:l.city,country:l.country,zip:l.zip,website:l.website,displayName:l.display_name,bio:l.bio,jobTitle:l.job_title,publicProfile:l.public_profile,twoFactorEnabled:l.two_factor_enabled,emailFrequency:l.email_frequency,loginNotificationEnabled:l.login_notification_enabled,newsletterSub:l.newsletter_sub,soundEffects:l.sound_effects,developerMode:l.developer_mode,apiWhitelist:l.api_whitelist,webhookSecret:l.webhook_secret,accessibility:l.accessibility,socialLinks:l.social_links,loginHistory:l.login_history,recoveryEmail:l.recovery_email,timezone:l.timezone,language:l.language,themeAccentColor:l.theme_accent_color,skillsBadges:l.skills_badges,referralCode:l.referral_code,supportPin:l.support_pin,dateFormat:l.date_format,numberFormat:l.number_format,requirePasswordReset:l.require_password_reset,gamificationXp:l.gamification_xp,gamificationLevel:l.gamification_level,gamificationTotalSpent:l.gamification_total_spent,gamificationPermanentDiscount:l.gamification_permanent_discount,streakDays:l.streak_days,streakBest:l.streak_best},token:n}}catch{return{valid:!1}}},register:async(n,e,s)=>{const r=await fetch(`${le}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,email:e,password:s})});if(!r.ok){const i=await r.json();throw new Error(i.detail||"Registration failed")}if(lk())return q.login(e,s);await r.json()},verifyEmail:async n=>{const e=await fetch(`${le}/auth/verify-email`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:n})});if(!e.ok){const s=await e.json();throw new Error(s.detail||"Email verification failed")}return await e.json()},resendVerificationEmail:async n=>{const e=await fetch(`${le}/auth/resend-verification`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n})});if(!e.ok){const s=await e.json();throw new Error(s.detail||"Failed to resend verification email")}return await e.json()},forgotPassword:async n=>{const e=await fetch(`${le}/auth/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n})});if(!e.ok){const s=await e.json();throw new Error(s.detail||"Failed to send reset email")}return await e.json()},resetPassword:async(n,e)=>{const s=await fetch(`${le}/auth/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n,new_password:e})});if(!s.ok){const r=await s.json();throw new Error(r.detail||"Password reset failed")}return await s.json()},getProjects:()=>{const n=localStorage.getItem("modus_projects_cache");return n?JSON.parse(n):[]},getAdminProjects:()=>{const n=localStorage.getItem("modus_admin_projects_cache");return n?JSON.parse(n):[]},syncProjects:async()=>{try{const n=await ye(`${le}/projects`);if(!n.ok)return;const e=await n.json();let s={};try{const i=await ye(`${le}/projects/stats?days=30`);i.ok&&(s=await i.json())}catch(i){console.error("Failed to fetch project stats:",i)}const r=e.map(i=>({id:i.id,userId:i.user_id,name:i.name,plan:i.plan_type||"Custom",tier:i.tier,status:i.status,startAt:i.start_at,expires:i.expires_at||"Never",createdAt:i.created_at,settings:i.settings,stats:ck(s[i.id]||[],30),totalHits:i.total_hits||0,hitsToday:i.hits_today||0,customTarget:{totalVisitors:i.total_target||0,dailyLimit:i.daily_limit||0}}));localStorage.setItem("modus_projects_cache",JSON.stringify(r))}catch(n){console.error("Failed to sync projects:",n)}},syncProjectStats:async(n,e=30)=>{try{const s=await ye(`${le}/projects/${n}/stats?days=${e}`);return s.ok?await s.json():[]}catch(s){return console.error("Failed to fetch project stats:",s),[]}},syncProjectStatsHourly:async(n,e=24)=>{try{const s=await ye(`${le}/projects/${n}/stats/hourly?hours=${e}`);return s.ok?await s.json():[]}catch(s){return console.error("Failed to fetch hourly project stats:",s),[]}},syncProjectStatsLive:async n=>{try{const e=await ye(`${le}/projects/${n}/stats/live`);return e.ok?await e.json():[]}catch(e){return console.error("Failed to fetch live project stats:",e),[]}},getCalculatedExpiry:async n=>{try{const e=await ye(`${le}/projects/${n}/expires-calculated`);return e.ok?await e.json():{daysRemaining:null,expiresDate:null,balance:0,totalDailyConsumption:0,message:"Failed to calculate"}}catch(e){return console.error("Failed to fetch calculated expiry:",e),{daysRemaining:null,expiresDate:null,balance:0,totalDailyConsumption:0,message:"Error"}}},getActiveNow:async()=>{try{const n=await ye(`${le}/projects/active-now`);return n.ok?await n.json():{activeNow:0,projects:{}}}catch(n){return console.error("Failed to fetch active now:",n),{activeNow:0,projects:{}}}},syncAdminProjects:async()=>{try{const n=await ye(`${le}/admin/projects`);if(!n.ok)return;const e=await n.json();let s={};try{const i=await ye(`${le}/projects/stats?days=30`);i.ok&&(s=await i.json())}catch(i){console.error("Failed to fetch project stats:",i)}const r=e.map(i=>({id:i.id,userId:i.user_id,name:i.name,plan:i.plan_type||"Custom",tier:i.tier,status:i.status,expires:i.expires_at||"Never",expiresAt:i.expires_at,createdAt:i.created_at,settings:i.settings,stats:ck(s[i.id]||[],30),totalHits:i.total_hits||0,hitsToday:i.hits_today||0,dailyLimit:i.daily_limit||0,totalTarget:i.total_target||0,priority:i.priority||0,forceStopReason:i.force_stop_reason,isHidden:i.is_hidden||!1,internalTags:i.internal_tags||[],notes:i.notes,isFlagged:i.is_flagged||!1,userEmail:i.user_email,userName:i.user_name,userBalance:i.user_balance}));localStorage.setItem("modus_admin_projects_cache",JSON.stringify(r))}catch(n){console.error("Failed to sync admin projects:",n)}},bulkUpdateAdminProjects:async(n,e)=>{try{await Promise.all(n.map(async s=>{(await ye(`${le}/admin/projects/${s}`,{method:"PUT",body:JSON.stringify(e)})).ok||console.error(`Failed to update project ${s}`)})),await q.syncAdminProjects()}catch(s){console.error("Failed to bulk update projects:",s)}},getProjectById:n=>{let s=q.getProjects().find(r=>r.id===n);return s||(s=q.getAdminProjects().find(i=>i.id===n)),s},addProject:async n=>{var i,l;const e={name:n.name,plan_type:n.plan,tier:n.tier,settings:n.settings,daily_limit:((i=n.customTarget)==null?void 0:i.dailyLimit)||0,total_target:((l=n.customTarget)==null?void 0:l.totalVisitors)||0,start_at:n.startAt||null},s=await ye(`${le}/projects`,{method:"POST",body:JSON.stringify(e)});if(!s.ok){const c=await s.json().catch(()=>({}));throw new Error(c.detail||"Failed to create project")}const r=await s.json();return await q.syncProjects(),r},updateProject:async n=>{var i,l,c;const e=((i=n.settings)==null?void 0:i.scheduleTrafficAmount)||((l=n.customTarget)==null?void 0:l.dailyLimit)||0,s={name:n.name,settings:n.settings,daily_limit:e,total_target:((c=n.customTarget)==null?void 0:c.totalVisitors)||0,status:n.status,tier:n.tier};if(!(await ye(`${le}/projects/${n.id}`,{method:"PUT",body:JSON.stringify(s)})).ok)throw new Error("Failed to update project");return await q.syncProjects(),q.getProjects()},updateProjectStatus:async(n,e)=>(await ye(`${le}/projects/${n}/${e==="active"?"start":"stop"}`,{method:"POST"}),await q.syncProjects(),q.getProjects()),deleteProject:async n=>(await ye(`${le}/projects/${n}`,{method:"DELETE"}),await q.syncProjects(),q.getProjects()),cloneProject:async n=>{if(!(await ye(`${le}/projects/${n}/clone`,{method:"POST"})).ok)throw new Error("Failed to clone project");return await q.syncProjects(),q.getProjects()},bulkUpdateProjectStatus:async(n,e)=>(await Promise.all(n.map(s=>ye(`${le}/projects/${s}/${e==="active"?"start":"stop"}`,{method:"POST"}))),await q.syncProjects(),q.getProjects()),bulkDeleteProjects:async n=>(await Promise.all(n.map(e=>ye(`${le}/projects/${e}`,{method:"DELETE"}))),await q.syncProjects(),q.getProjects()),getMaxTierBalance:()=>{const n=q.getCurrentUser(),e=[(n==null?void 0:n.balanceEconomy)??0,(n==null?void 0:n.balanceProfessional)??0,(n==null?void 0:n.balanceExpert)??0];return Math.max(...e)},getBalance:()=>{const n=q.getCurrentUser();return(n==null?void 0:n.balance)??0},syncAll:async()=>{await Promise.all([q.syncProjects(),q.syncTransactions(),q.syncSettings(),q.syncUsers(),q.syncAllTransactions(),q.syncTickets(),q.syncTickets(),q.syncNotifications(),q.syncAlerts()])},getUsers:()=>{const n=localStorage.getItem("modus_users_cache");return n?JSON.parse(n):[]},getAdmins:()=>q.getUsers().filter(e=>e.role==="admin"),syncUsers:async()=>{const n=await ye(`${le}/admin/users`);if(!n.ok)return[];const s=(await n.json()).map(r=>{var i;return{id:r.id,email:r.email,name:r.name||r.email.split("@")[0],role:r.role,balance:r.balance,balanceEconomy:r.balance_economy,balanceProfessional:r.balance_professional,balanceExpert:r.balance_expert,status:r.status||"active",joinedDate:((i=r.created_at)==null?void 0:i.split("T")[0])||r.joinedDate||new Date().toISOString().split("T")[0],projectsCount:r.projects_count||0,plan:r.plan||"free",shadowBanned:r.shadow_banned||!1,isVerified:r.is_verified||!1,notes:r.notes||"",tags:r.tags||[],banReason:r.ban_reason||"",lastIp:r.last_ip||"",lastActive:r.last_active||"",spamScore:r.spam_score||0,ipSharedWithCount:r.ip_shared_with_count||0,affiliateEarnings:r.affiliate_earnings||0}});return localStorage.setItem("modus_users_cache",JSON.stringify(s)),s},getUserStats:async()=>{try{const n=await ye(`${le}/admin/users/stats`);if(!n.ok)return null;const e=await n.json();return{totalUsers:e.total_users,activeUsers24h:e.active_users_24h,activeUsers7d:e.active_users_7d,newUsersToday:e.new_users_today,newUsers7d:e.new_users_7d,newUsers30d:e.new_users_30d,highRiskUsers:e.high_risk_users,fraudAlertsCount:e.fraud_alerts_count}}catch(n){return console.error("Failed to fetch user stats:",n),null}},getFraudAlerts:async()=>{try{const n=await ye(`${le}/admin/fraud-alerts`);return n.ok?(await n.json()).map(s=>({id:s.id,type:s.type,ip:s.ip,userIds:s.user_ids,userEmails:s.user_emails,affiliateEarnings:s.affiliate_earnings,hasAffiliateRelation:s.has_affiliate_relation,detectedAt:s.detected_at,riskLevel:s.risk_level})):[]}catch(n){return console.error("Failed to fetch fraud alerts:",n),[]}},updateUser:async n=>{const e=q.getUsers(),s=e.findIndex(r=>r.id===n.id);return s>=0&&(e[s]=n,localStorage.setItem("modus_users_cache",JSON.stringify(e))),n},getTransactions:()=>{const n=localStorage.getItem("modus_transactions_cache");return n?JSON.parse(n):[]},syncTransactions:async()=>{const n=await ye(`${le}/transactions`);if(!n.ok)return[];const s=(await n.json()).map(r=>{var i;return{id:r.id,date:((i=r.created_at)==null?void 0:i.split("T")[0])||r.date||new Date().toISOString().split("T")[0],desc:r.description||r.desc,amount:r.amount,status:r.status||"completed",type:r.type,userId:r.user_id||r.userId,tier:r.tier,hits:r.hits,reference:r.reference}});return localStorage.setItem("modus_transactions_cache",JSON.stringify(s)),s},getAllTransactionsAdmin:()=>{const n=localStorage.getItem("modus_admin_transactions_cache");return n?JSON.parse(n):[]},syncAllTransactions:async()=>{const n=await ye(`${le}/admin/transactions`);if(!n.ok)return[];const s=(await n.json()).map(r=>{var i;return{id:r.id,date:((i=r.created_at)==null?void 0:i.split("T")[0])||r.date||new Date().toISOString().split("T")[0],desc:r.description||r.desc,amount:r.amount,status:r.status||"completed",type:r.type,userId:r.user_id||r.userId,tier:r.tier,hits:r.hits,reference:r.reference}});return localStorage.setItem("modus_admin_transactions_cache",JSON.stringify(s)),s},createPaymentIntent:async(n,e="eur")=>{const s=localStorage.getItem("tgp_token");if(!s)throw new Error("Not authenticated");const r=await fetch(`${le}/create-payment-intent`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({amount:n,currency:e})});if(!r.ok){const i=await r.json();throw new Error(i.detail||"Failed to create payment intent")}return await r.json()},createCheckoutSession:async n=>{const e=localStorage.getItem("tgp_token");if(!e)throw new Error("Not authenticated");const s=window.location.origin,r=await fetch(`${le}/subscriptions/create-checkout`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({price_id:n,success_url:`${s}/dashboard/payment-success?type=subscription&session_id={CHECKOUT_SESSION_ID}`,cancel_url:`${s}/pricing?subscription=cancelled`})});if(!r.ok){const i=await r.json();throw new Error(i.detail||"Failed to create checkout session")}return await r.json()},createCreditsCheckout:async n=>{const e=localStorage.getItem("tgp_token");if(!e)throw new Error("Not authenticated");const s=window.location.origin,r=await fetch(`${le}/stripe/create-checkout`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({tier:n.tier,visitors:n.visitors,bulk_months:n.bulk_months,currency:n.currency||"eur",success_url:`${s}/dashboard/payment-success?type=credits&session_id={CHECKOUT_SESSION_ID}`,cancel_url:`${s}/dashboard/buy-credits?payment=cancelled`})});if(!r.ok){const i=await r.json();throw new Error(i.detail||"Failed to create checkout session")}return await r.json()},createPortalSession:async()=>{const n=localStorage.getItem("tgp_token");if(!n)throw new Error("Not authenticated");const e=window.location.origin,s=await fetch(`${le}/subscriptions/portal`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({return_url:`${e}/dashboard`})});if(!s.ok){const r=await s.json();throw new Error(r.detail||"Failed to create portal session")}return await s.json()},getCurrentSubscription:async()=>{const n=localStorage.getItem("tgp_token");if(!n)throw new Error("Not authenticated");const e=await fetch(`${le}/subscriptions/current`,{headers:{Authorization:`Bearer ${n}`}});if(!e.ok){const s=await e.json();throw new Error(s.detail||"Failed to get subscription")}return await e.json()},purchaseCredits:async(n,e,s,r)=>{const i=q.getCurrentUser();if(!i)return 0;await ye(`${le}/webhooks/deposit`,{method:"POST",body:JSON.stringify({user_email:i.email,amount:n,description:e,tier:s,hits:r})});const c=await(await ye(`${le}/users/me`)).json();return q.setCurrentUser({...i,balance:c.balance,balanceEconomy:c.balance_economy,balanceProfessional:c.balance_professional,balanceExpert:c.balance_expert}),await q.syncTransactions(),c.balance},getTickets:n=>{const e=localStorage.getItem("modus_tickets_cache");let s=e?JSON.parse(e):[];if(n&&(n.status&&(s=s.filter(r=>r.status===n.status)),n.category&&(s=s.filter(r=>r.category===n.category)),n.search)){const r=n.search.toLowerCase();s=s.filter(i=>{var l,c;return i.subject.toLowerCase().includes(r)||((l=i.lastMessage)==null?void 0:l.toLowerCase().includes(r))||((c=i.messages)==null?void 0:c.some(f=>f.text.toLowerCase().includes(r)))})}return s},syncTickets:async n=>{let e=`${le}/tickets`;const s=new URLSearchParams;n!=null&&n.status&&s.append("status",n.status),n!=null&&n.category&&s.append("category",n.category),n!=null&&n.search&&s.append("search",n.search),s.toString()&&(e+=`?${s.toString()}`);const r=await ye(e);if(!r.ok)return;const l=(await r.json()).map(c=>{var f,u,m;return{id:c.id,type:c.type||"ticket",userId:c.user_id,userName:c.user_name||((f=c.user_email)==null?void 0:f.split("@")[0])||"User",userEmail:c.user_email,subject:c.subject,status:c.status||"open",priority:c.priority||"low",category:c.category||"general",assigneeId:c.assignee_id,assigneeName:c.assignee_name,tags:c.tags||[],projectId:c.project_id,projectName:c.project_name,attachmentUrls:c.attachment_urls||[],date:((u=c.created_at)==null?void 0:u.split("T")[0])||new Date().toLocaleDateString(),lastMessage:((m=c.messages)==null?void 0:m.length)>0?c.messages[c.messages.length-1].text:"Ticket created",messages:c.messages||[],unread:!1,updatedAt:c.updated_at,slaDueAt:c.sla_due_at}});localStorage.setItem("modus_tickets_cache",JSON.stringify(l))},createTicket:async n=>{const e={subject:n.subject,priority:n.priority||"low",type:n.type||"ticket",category:n.category||"general",project_id:n.projectId,attachment_urls:n.attachmentUrls||[],messages:n.messages||[]};return await ye(`${le}/tickets`,{method:"POST",body:JSON.stringify(e)}),await q.syncTickets(),q.getTickets()},closeTicket:async n=>{if(!(await ye(`${le}/tickets/${n}/close`,{method:"POST"})).ok)throw new Error("Failed to close ticket");await q.syncTickets()},uploadTicketAttachment:async n=>{const e=new FormData;e.append("file",n);const s=localStorage.getItem("tgp_token"),r=await fetch(`${le}/tickets/upload`,{method:"POST",headers:s?{Authorization:`Bearer ${s}`}:{},body:e});if(!r.ok)throw new Error("Failed to upload file");return await r.json()},getNotifications:()=>{const n=localStorage.getItem("modus_notifications_cache");return n?JSON.parse(n):[]},syncNotifications:async()=>{const n=await ye(`${le}/notifications`);if(!n.ok)return;const s=(await n.json()).map(r=>{var i;return{id:r.id,userId:r.user_id,title:r.title,message:r.message,date:((i=r.created_at)==null?void 0:i.split("T")[0])||new Date().toLocaleDateString(),read:r.is_read,type:r.type||"info"}});localStorage.setItem("modus_notifications_cache",JSON.stringify(s))},getAdminNotifications:()=>q.getNotifications(),markNotificationRead:async n=>{await ye(`${le}/notifications/${n}/read`,{method:"PUT"}),await q.syncNotifications()},markAllNotificationsRead:async()=>{await ye(`${le}/notifications/mark-all-read`,{method:"PUT"}),await q.syncNotifications()},getSystemSettings:()=>{const n=localStorage.getItem("modus_settings_cache");return n?JSON.parse(n):{siteName:"Traffic Creator",maintenanceMode:!1,allowRegistrations:!0,supportEmail:"support@traffic-creator.com",minDeposit:10}},syncSettings:async()=>{const n=await fetch(`${le}/settings`);if(!n.ok)return;const e=await n.json();localStorage.setItem("modus_settings_cache",JSON.stringify(e.settings))},saveSystemSettings:async n=>{await ye(`${le}/settings`,{method:"PUT",body:JSON.stringify({settings:n})}),localStorage.setItem("modus_settings_cache",JSON.stringify(n))},trackPresence:(n,e)=>{const s=localStorage.getItem("modus_session_token");ye(`${le}/users/presence`,{method:"POST",body:JSON.stringify({session_token:s,current_page:n,user_agent:navigator.userAgent,device:/Mobi|Android/i.test(navigator.userAgent)?"mobile":"desktop"})}).then(r=>r.json()).then(r=>{r.session_token&&localStorage.setItem("modus_session_token",r.session_token)}).catch(()=>{})},getTicketById:n=>q.getTickets().find(s=>s.id===n),replyToTicket:async(n,e,s,r,i)=>{const l={text:e,sender:s,attachments:r||[],is_internal_note:i||!1},c=await ye(`${le}/tickets/${n}/reply`,{method:"POST",body:JSON.stringify(l)});if(!c.ok)throw console.error("Failed to reply to ticket"),new Error("Failed to send reply");return await q.syncTickets(),await c.json()},markTicketRead:async n=>{const e=q.getTickets(),s=e.find(r=>r.id===n);s&&(s.unread=!1,localStorage.setItem("modus_tickets_cache",JSON.stringify(e)))},updateTicketStatus:async(n,e)=>{if(!(await ye(`${le}/tickets/${n}`,{method:"PUT",body:JSON.stringify({status:e})})).ok)throw new Error("Failed to update ticket status");await q.syncTickets()},updateTicketPriority:async(n,e)=>{if(!(await ye(`${le}/tickets/${n}`,{method:"PUT",body:JSON.stringify({priority:e})})).ok)throw new Error("Failed to update ticket priority");await q.syncTickets()},deleteTicket:async n=>{if(!(await ye(`${le}/tickets/${n}`,{method:"DELETE"})).ok)throw new Error("Failed to delete ticket");await q.syncTickets()},bulkUpdateTickets:async(n,e)=>{if(!(await ye(`${le}/tickets/bulk-action`,{method:"PUT",body:JSON.stringify({ticket_ids:n,action:e})})).ok)throw new Error("Failed to perform bulk action");await q.syncTickets()},assignTicket:async(n,e)=>{if(!(await ye(`${le}/tickets/${n}/assign?assignee_id=${e||""}`,{method:"PUT"})).ok)throw new Error("Failed to assign ticket");await q.syncTickets()},updateTicketTags:async(n,e)=>{if(!(await ye(`${le}/tickets/${n}`,{method:"PUT",body:JSON.stringify({tags:e})})).ok)throw new Error("Failed to update ticket tags");await q.syncTickets()},getTicketTemplates:async()=>{const n=await ye(`${le}/ticket-templates`);return n.ok?await n.json():[]},createTicketTemplate:async n=>{const e=await ye(`${le}/ticket-templates`,{method:"POST",body:JSON.stringify({...n,is_active:!0})});if(!e.ok)throw new Error("Failed to create template");return await e.json()},deleteTicketTemplate:async n=>{if(!(await ye(`${le}/ticket-templates/${n}`,{method:"DELETE"})).ok)throw new Error("Failed to delete template")},getUserStatsById:async n=>{const e=await ye(`${le}/users/${n}/stats`);if(!e.ok)throw new Error("Failed to get user stats");return await e.json()},savePricing:async n=>{const e=q.getSystemSettings();e.pricingPlans=n,await q.saveSystemSettings(e)},updateUserProfile:async n=>{var l,c;console.log("Updating profile on backend:",n);const e={name:n.name,email:n.email,phone:n.phone,company:n.company,vat_id:n.vatId,address:n.address,city:n.city,country:n.country,zip:n.zip,website:n.website,display_name:n.displayName,bio:n.bio,job_title:n.jobTitle,public_profile:n.publicProfile,two_factor_enabled:n.twoFactorEnabled,email_frequency:n.emailFrequency,login_notification_enabled:n.loginNotificationEnabled,newsletter_sub:n.newsletterSub,sound_effects:n.soundEffects,developer_mode:n.developerMode,api_whitelist:n.apiWhitelist,webhook_secret:n.webhookSecret,accessibility:n.accessibility,social_links:n.socialLinks,recovery_email:n.recoveryEmail,timezone:n.timezone,language:n.language,theme_accent_color:n.themeAccentColor,date_format:n.dateFormat,number_format:n.numberFormat,require_password_reset:n.requirePasswordReset},s=await ye(`${le}/users/me`,{method:"PUT",body:JSON.stringify(e)});if(!s.ok){const f=await s.json();throw new Error(f.detail||"Failed to update profile")}const r=await s.json(),i={id:r.id,email:r.email,name:r.name||((l=r.email)==null?void 0:l.split("@")[0])||"User",role:r.role,balance:r.balance,balanceEconomy:r.balance_economy,balanceProfessional:r.balance_professional,balanceExpert:r.balance_expert,status:r.status||"active",joinedDate:((c=r.created_at)==null?void 0:c.split("T")[0])||new Date().toISOString().split("T")[0],projectsCount:r.projects_count||0,apiKey:r.api_key,isVerified:r.is_verified??!1,phone:r.phone,company:r.company,vatId:r.vat_id,address:r.address,city:r.city,country:r.country,zip:r.zip,website:r.website,displayName:r.display_name,bio:r.bio,jobTitle:r.job_title,publicProfile:r.public_profile,twoFactorEnabled:r.two_factor_enabled,emailFrequency:r.email_frequency,loginNotificationEnabled:r.login_notification_enabled,newsletterSub:r.newsletter_sub,soundEffects:r.sound_effects,developerMode:r.developer_mode,apiWhitelist:r.api_whitelist,webhookSecret:r.webhook_secret,accessibility:r.accessibility,socialLinks:r.social_links,recoveryEmail:r.recovery_email,timezone:r.timezone,language:r.language,themeAccentColor:r.theme_accent_color,dateFormat:r.date_format,numberFormat:r.number_format,requirePasswordReset:r.require_password_reset,avatarUrl:r.avatar_url};return q.setCurrentUser(i),i},regenerateApiKey:async()=>{const n=await ye(`${le}/auth/api-key`,{method:"POST"});if(!n.ok)throw new Error("Failed to regenerate key");const e=await n.json(),s=q.getCurrentUser();return s&&(s.apiKey=e.api_key,q.setCurrentUser(s)),e.api_key},changePassword:async(n,e,s)=>{const r=await ye(`${le}/auth/password`,{method:"PUT",body:JSON.stringify({current_password:n,new_password:e,confirm_password:s})});if(!r.ok){const i=await r.json();throw new Error(i.detail||"Password update failed")}return await r.json()},logoutAllSessions:async()=>{const n=await ye(`${le}/auth/logout-all`,{method:"POST"});if(!n.ok)throw new Error("Failed to logout all sessions");return await n.json()},exportUserData:async()=>{const n=await ye(`${le}/users/me/export`);if(!n.ok)throw new Error("Export failed");return await n.json()},uploadAvatar:async n=>{const e=localStorage.getItem("tgp_token"),s={};e&&(s.Authorization=`Bearer ${e}`);const r=new FormData;r.append("file",n);const i=await fetch(`${le}/users/me/avatar`,{method:"POST",headers:s,body:r});if(!i.ok)throw new Error("Avatar upload failed");const l=await i.json(),c=q.getCurrentUser();return c&&(c.avatarUrl=l.avatar_url,q.setCurrentUser(c)),l.avatar_url},deleteAccount:async()=>{if(!(await ye(`${le}/users/me`,{method:"DELETE"})).ok)throw new Error("Account deletion failed");q.logout()},getPricing:()=>{const n=q.getSystemSettings();return n.pricingPlans&&n.pricingPlans.length>0?n.pricingPlans:[{id:"foundation",name:"Foundation",hourlyRate:.58,baseFee:29,examFee:0},{id:"momentum",name:"Momentum",hourlyRate:.43,baseFee:129,examFee:0},{id:"breakthrough",name:"Breakthrough",hourlyRate:.4,baseFee:399,examFee:0},{id:"apex",name:"Apex",hourlyRate:.33,baseFee:999,examFee:0}]},getAlerts:()=>{const n=localStorage.getItem("modus_alerts_cache");return n?JSON.parse(n):[]},syncAlerts:async()=>{try{const n=await ye(`${le}/admin/broadcasts`);if(!n.ok)return;const s=(await n.json()).map(r=>({id:r.id,message:r.message,type:r.type,active:r.is_active,date:r.created_at,targetType:"all",title:r.title}));localStorage.setItem("modus_alerts_cache",JSON.stringify(s))}catch(n){console.error("Failed to sync alerts:",n)}},checkBroadcastTarget:(n,e)=>{if(!n.active)return!1;if(!e)return n.targetType==="all";switch(n.targetType){case"all":return!0;case"paying":return e.projectsCount>0;case"active_7d":const s=new Date(e.joinedDate).getTime(),r=10080*60*1e3;return Date.now()-s>r;case"specific":return n.targetUserIds?n.targetUserIds.includes(e.id):!1;default:return!1}},getRealTimeVisitors:async()=>{try{const n=await ye(`${le}/admin/active-users`);return n.ok?(await n.json()).map(s=>{var r,i,l;return{id:s.id,userId:(r=s.user)==null?void 0:r.id,name:((i=s.user)==null?void 0:i.name)||"Guest",email:((l=s.user)==null?void 0:l.email)||"",role:s.role,currentPage:s.currentPage,durationMinutes:s.durationMinutes,device:s.device,browser:s.browser,ip:s.ip,location:s.location,totalVisits:s.totalVisits,status:s.status,lastActive:s.lastActive}}):[]}catch(n){return console.error("Failed to fetch real-time visitors:",n),[]}},scanGA4:async n=>{const e=await ye(`${le}/tools/scan-ga4?url=${encodeURIComponent(n)}`);if(!e.ok){const r=await e.json().catch(()=>({}));throw new Error(r.detail||"GA4 ID not found")}return(await e.json()).tid},spendCredits:(n,e)=>{const s=q.getCurrentUser();return!s||s.balance<n?!1:(s.balance-=n,q.setCurrentUser(s),q.purchaseCredits(-n,e).catch(console.error),!0)},getActiveBroadcasts:async()=>{try{const n=await fetch(`${le}/broadcasts/active`);return n.ok?(await n.json()).map(s=>({id:s.id,title:s.title,message:s.message,type:s.type,isActive:s.is_active,createdAt:s.created_at,expiresAt:s.expires_at,actionUrl:s.action_url,actionText:s.action_text})):[]}catch(n){return console.error("Failed to fetch active broadcasts",n),[]}},getAdminBroadcasts:async()=>{try{const n=await ye(`${le}/admin/broadcasts`);return n.ok?(await n.json()).map(s=>({id:s.id,title:s.title,message:s.message,type:s.type,isActive:s.is_active,createdAt:s.created_at,expiresAt:s.expires_at,actionUrl:s.action_url,actionText:s.action_text})):[]}catch(n){return console.error("Failed to fetch admin broadcasts",n),[]}},createBroadcast:async n=>{const e={title:n.title,message:n.message,type:n.type,is_active:n.isActive,expires_at:n.expiresAt?new Date(n.expiresAt).toISOString():null,action_url:n.actionUrl,action_text:n.actionText};await ye(`${le}/admin/broadcasts`,{method:"POST",body:JSON.stringify(e)})},updateBroadcast:async(n,e)=>{const s={title:e.title,message:e.message,type:e.type,is_active:e.isActive,expires_at:e.expiresAt?new Date(e.expiresAt).toISOString():null,action_url:e.actionUrl,action_text:e.actionText};await ye(`${le}/admin/broadcasts/${n}`,{method:"PUT",body:JSON.stringify(s)})},deleteBroadcast:async n=>{await ye(`${le}/admin/broadcasts/${n}`,{method:"DELETE"})},getAdminStats:async()=>{try{const n=await ye(`${le}/admin/stats`);return n.ok?await n.json():null}catch(n){return console.error("Failed to fetch admin stats",n),null}},getCoupons:async()=>{try{const n=await ye(`${le}/admin/coupons`);if(!n.ok)throw new Error("Failed to fetch");return(await n.json()).map(s=>({id:s.id,code:s.code,discountType:s.discount_type,discountValue:s.discount_value,minPurchase:s.min_purchase,maxUses:s.max_uses,usedCount:s.used_count,maxUsesPerUser:s.max_uses_per_user,planRestriction:s.plan_restriction,duration:s.duration,expiryDate:s.expires_at?s.expires_at.split("T")[0]:null,active:s.is_active}))}catch{return[]}},saveCoupon:async n=>{const e={code:n.code,discount_type:n.discountType==="percent"?"percentage":"fixed",discount_value:n.discountValue,min_purchase:n.minPurchase||0,max_uses:n.maxUses,max_uses_per_user:n.maxUsesPerUser||1,plan_restriction:n.planRestriction,duration:n.duration||"once",expires_at:n.expiryDate||null};n.id?await ye(`${le}/admin/coupons/${n.id}`,{method:"PUT",body:JSON.stringify(e)}):await ye(`${le}/admin/coupons`,{method:"POST",body:JSON.stringify(e)})},deleteCoupon:async n=>{await ye(`${le}/admin/coupons/${n}`,{method:"DELETE"})},getMarketingStats:async()=>{try{const n=await ye(`${le}/admin/marketing`);if(!n.ok)throw new Error("Failed to fetch");return(await n.json()).map(s=>({id:s.id,name:s.name,type:s.campaign_type,status:s.status,clicks:s.clicks,conversions:s.conversions,revenue:s.revenue,spend:s.spend,dateCreated:s.created_at?s.created_at.split("T")[0]:new Date().toISOString().split("T")[0]}))}catch{return[]}},createMarketingCampaign:async n=>{await ye(`${le}/admin/marketing`,{method:"POST",body:JSON.stringify({name:n.name,campaign_type:n.type||"ad_tracking",start_date:n.dateCreated||null,end_date:null})})},sendEmailBlast:async(n,e,s="all")=>{await ye(`${le}/admin/email-blast`,{method:"POST",body:JSON.stringify({subject:n,body:e,target_audience:s})})},getConversionSettings:async()=>{try{const n=await ye(`${le}/conversion-settings`);if(!n.ok)throw new Error("Failed to fetch");const e=await n.json();return{socialProof:{enabled:e.socialProofEnabled,position:e.socialProofPosition,delay:e.socialProofDelay,showRealData:e.socialProofShowSimulated,customMessages:[]},exitIntent:{enabled:e.exitIntentEnabled,headline:e.exitIntentHeadline,subtext:e.exitIntentSubtext,couponCode:e.exitIntentCouponCode,showOncePerSession:!0},promoBar:{enabled:e.promoBarEnabled,message:e.promoBarMessage,buttonText:e.promoBarButtonText,buttonLink:e.promoBarButtonUrl,backgroundColor:e.promoBarBackgroundColor,textColor:e.promoBarTextColor}}}catch{return{socialProof:{enabled:!1,position:"bottom-left",delay:5,showRealData:!1,customMessages:[]},exitIntent:{enabled:!1,headline:"Wait! Don't miss out.",subtext:"Get 20% off with code: STAY20",couponCode:"STAY20",showOncePerSession:!0},promoBar:{enabled:!1,message:"Limited Time Offer!",buttonText:"Claim Offer",buttonLink:"/pricing",backgroundColor:"#ff4d00",textColor:"#ffffff"}}}},saveConversionSettings:async n=>{await ye(`${le}/conversion-settings`,{method:"PUT",body:JSON.stringify({social_proof_enabled:n.socialProof.enabled,social_proof_position:n.socialProof.position,social_proof_delay:n.socialProof.delay,social_proof_show_simulated:n.socialProof.showRealData,exit_intent_enabled:n.exitIntent.enabled,exit_intent_headline:n.exitIntent.headline,exit_intent_subtext:n.exitIntent.subtext,exit_intent_coupon_code:n.exitIntent.couponCode,promo_bar_enabled:n.promoBar.enabled,promo_bar_message:n.promoBar.message,promo_bar_button_text:n.promoBar.buttonText,promo_bar_button_url:n.promoBar.buttonLink,promo_bar_background_color:n.promoBar.backgroundColor,promo_bar_text_color:n.promoBar.textColor})})},getLoyaltySettings:async()=>{try{const n=await ye(`${le}/loyalty-settings`);if(!n.ok)throw new Error("Failed to fetch");const e=await n.json();return{enabled:e.enabled,pointsPerDollar:e.pointsPerDollar,redemptionRate:e.redemptionRate,bonusSignupPoints:e.bonusSignupPoints}}catch{return{enabled:!1,pointsPerDollar:1,redemptionRate:100,bonusSignupPoints:50}}},saveLoyaltySettings:async n=>{await ye(`${le}/loyalty-settings`,{method:"PUT",body:JSON.stringify(n)})},getReferralSettings:async()=>{try{const n=await ye(`${le}/referral-settings`);if(!n.ok)throw new Error("Failed to fetch");const e=await n.json();return{enabled:e.enabled,referrerReward:e.referrerRewardValue,refereeReward:e.refereeRewardValue,rewardType:e.referrerRewardType}}catch{return{enabled:!1,referrerReward:25,refereeReward:25,rewardType:"credit"}}},saveReferralSettings:async n=>{await ye(`${le}/referral-settings`,{method:"PUT",body:JSON.stringify({enabled:n.enabled,referrer_reward_type:n.rewardType,referrer_reward_value:n.referrerReward,referee_reward_type:n.rewardType,referee_reward_value:n.refereeReward})})},getBankTransfers:async(n="all")=>{const e=await ye(`${le}/admin/bank-transfers?status_filter=${n}`);return e.ok?await e.json():[]},getMyBankTransfers:async()=>{const n=await ye(`${le}/bank-transfer/my-proofs`);return n.ok?await n.json():[]},getFAQs:async()=>{try{const n=await fetch(`${le}/faqs`);return n.ok?await n.json():[]}catch{return[]}},approveBankTransfer:async(n,e,s)=>{const r=await ye(`${le}/admin/bank-transfers/${n}/approve`,{method:"PUT",body:JSON.stringify({approved:e,admin_notes:s})});if(!r.ok){const i=await r.json();throw new Error(i.detail||"Failed to process transfer")}return await r.json()},updateTransaction:async n=>{var r;const e=await ye(`${le}/admin/transactions/${n.id}`,{method:"PUT",body:JSON.stringify({description:n.desc,amount:n.amount,type:n.type,status:n.status,tier:n.tier,reference:n.reference})});if(!e.ok){const i=await e.json();throw new Error(i.detail||"Failed to update transaction")}const s=await e.json();return await q.syncAllTransactions(),{id:s.id,date:((r=s.created_at)==null?void 0:r.split("T")[0])||n.date,desc:s.description||n.desc,amount:s.amount,status:s.status,type:s.type,userId:s.user_id,tier:s.tier,reference:s.reference}},getUserDetails:async n=>{var r;const e=await ye(`${le}/admin/users/${n}/details`);if(!e.ok)throw new Error("Failed to fetch user details");const s=await e.json();return{user:{id:s.user.id,email:s.user.email,role:s.user.role,balance:s.user.balance,balanceEconomy:s.user.balance_economy,balanceProfessional:s.user.balance_professional,balanceExpert:s.user.balance_expert,status:s.user.status,plan:s.user.plan,isVerified:s.user.is_verified,shadowBanned:s.user.shadow_banned,notes:s.user.notes,tags:s.user.tags||[],banReason:s.user.ban_reason,lastIp:s.user.last_ip,joinedDate:(r=s.user.created_at)==null?void 0:r.split("T")[0]},tierBalances:s.tier_balances,totalSpent:s.total_spent,totalHitsPurchased:s.total_hits_purchased,totalHitsUsed:s.total_hits_used,transactionsCount:s.transactions_count,projectsCount:s.projects_count,ticketsCount:s.tickets_count,referralsCount:s.referrals_count,referralEarnings:s.referral_earnings,notificationPrefs:s.notification_prefs}},getUserActivity:async(n,e=50,s=0,r)=>{let i=`${le}/admin/users/${n}/activity?limit=${e}&offset=${s}`;r&&(i+=`&action_type=${r}`);const l=await ye(i);if(!l.ok)throw new Error("Failed to fetch activity");return(await l.json()).map(f=>({id:f.id,userId:f.user_id,actionType:f.action_type,actionDetail:f.action_detail,ipAddress:f.ip_address,userAgent:f.user_agent,createdAt:f.created_at}))},getUserSessions:async n=>{const e=await ye(`${le}/admin/users/${n}/sessions`);if(!e.ok)throw new Error("Failed to fetch sessions");return(await e.json()).map(r=>({id:r.id,userId:r.user_id,ipAddress:r.ip_address,userAgent:r.user_agent,deviceInfo:r.device_info,location:r.location,createdAt:r.created_at,lastActivity:r.last_activity,expiresAt:r.expires_at,isActive:r.is_active}))},terminateUserSession:async(n,e)=>{if(!(await ye(`${le}/admin/users/${n}/sessions/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to terminate session")},getImpersonationLog:async n=>{const e=await ye(`${le}/admin/users/${n}/impersonation-log`);if(!e.ok)throw new Error("Failed to fetch impersonation log");return(await e.json()).map(r=>({id:r.id,adminId:r.admin_id,targetUserId:r.target_user_id,action:r.action,ipAddress:r.ip_address,createdAt:r.created_at,adminEmail:r.admin_email}))},getBalanceAdjustments:async n=>{const e=await ye(`${le}/admin/users/${n}/balance-adjustments`);if(!e.ok)throw new Error("Failed to fetch balance adjustments");return(await e.json()).map(r=>({id:r.id,userId:r.user_id,adminId:r.admin_id,adjustmentType:r.adjustment_type,tier:r.tier,amount:r.amount,hits:r.hits,reason:r.reason,notes:r.notes,createdAt:r.created_at,adminEmail:r.admin_email}))},adjustUserBalance:async(n,e)=>{const s=await ye(`${le}/admin/users/${n}/adjust-balance`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({adjustment_type:e.adjustmentType,tier:e.tier,amount:e.amount,hits:e.hits,reason:e.reason,notes:e.notes})});if(!s.ok){let r="Failed to adjust balance";try{r=(await s.json()).detail||r}catch{}throw new Error(r)}},addBonusHits:async(n,e)=>{const s=await ye(`${le}/admin/users/${n}/add-bonus-hits`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok){let r="Failed to add bonus hits";try{r=(await s.json()).detail||r}catch{}throw new Error(r)}},getUserEmails:async(n,e=50)=>{const s=await ye(`${le}/admin/users/${n}/emails?limit=${e}`);if(!s.ok)throw new Error("Failed to fetch emails");return(await s.json()).map(i=>({id:i.id,userId:i.user_id,emailType:i.email_type,toEmail:i.to_email,subject:i.subject,status:i.status,errorMessage:i.error_message,sentAt:i.sent_at,deliveredAt:i.delivered_at}))},getUserReferrals:async n=>{const e=await ye(`${le}/admin/users/${n}/referrals`);if(!e.ok)throw new Error("Failed to fetch referrals");const s=await e.json();return{referrals:(s.referrals||[]).map(r=>({id:r.id,email:r.email,name:r.name,status:r.status,createdAt:r.created_at,totalSpent:r.total_spent,earningsFromRef:r.earnings_from_ref})),totalReferrals:s.total_referrals,totalEarnings:s.total_earnings}},getUserNotificationPrefs:async n=>{const e=await ye(`${le}/admin/users/${n}/notification-prefs`);if(!e.ok)throw new Error("Failed to fetch notification prefs");const s=await e.json();return{id:s.id,userId:s.user_id,emailMarketing:s.email_marketing,emailTransactional:s.email_transactional,emailAlerts:s.email_alerts,browserNotifications:s.browser_notifications,newsletterSub:s.newsletter_sub,emailFrequency:s.email_frequency,updatedAt:s.updated_at}},updateUserNotificationPrefs:async(n,e)=>{if(!(await ye(`${le}/admin/users/${n}/notification-prefs`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error("Failed to update notification prefs")},sendPasswordReset:async n=>{if(!(await ye(`${le}/admin/users/${n}/send-password-reset`,{method:"POST"})).ok)throw new Error("Failed to send password reset")},resendVerification:async n=>{if(!(await ye(`${le}/admin/users/${n}/resend-verification`,{method:"POST"})).ok)throw new Error("Failed to resend verification")},adminRegenerateApiKey:async n=>{const e=await ye(`${le}/admin/users/${n}/regenerate-api-key`,{method:"POST"});if(!e.ok)throw new Error("Failed to regenerate API key");return(await e.json()).api_key},startImpersonation:async n=>{const e=await ye(`${le}/admin/impersonate/${n}`,{method:"POST"});if(!e.ok)throw new Error("Failed to start impersonation");const s=await e.json();wi&&localStorage.setItem("tgp_admin_token",wi),localStorage.setItem("tgp_token",s.token),wi=s.token;const r=await ye(`${le}/users/me`);if(!r.ok)throw new Error("Failed to fetch impersonated user details");const i=await r.json(),l={id:i.id,email:i.email,name:i.name||i.email.split("@")[0],role:i.role,balance:i.balance,balanceEconomy:i.balance_economy,balanceProfessional:i.balance_professional,balanceExpert:i.balance_expert,status:i.status,plan:i.plan,isVerified:i.is_verified,shadowBanned:i.shadow_banned,notes:i.notes,tags:i.tags,banReason:i.ban_reason,createdAt:i.created_at,joinedDate:i.created_at||new Date().toISOString(),projectsCount:0,lastIp:i.last_ip,lastActive:i.last_active,phone:i.phone,company:i.company,vatId:i.vat_id,address:i.address,city:i.city,country:i.country,zip:i.zip,website:i.website,displayName:i.display_name,bio:i.bio,jobTitle:i.job_title,publicProfile:i.public_profile,twoFactorEnabled:i.two_factor_enabled,emailFrequency:i.email_frequency,loginNotificationEnabled:i.login_notification_enabled,newsletterSub:i.newsletter_sub,soundEffects:i.sound_effects,developerMode:i.developer_mode,apiWhitelist:i.api_whitelist,webhookSecret:i.webhook_secret,accessibility:i.accessibility,socialLinks:i.social_links,recoveryEmail:i.recovery_email,timezone:i.timezone,language:i.language,themeAccentColor:i.theme_accent_color,dateFormat:i.date_format,numberFormat:i.number_format,requirePasswordReset:i.require_password_reset};q.setCurrentUser(l)},stopImpersonation:async()=>{const n=localStorage.getItem("tgp_admin_token");if(!n)throw new Error("No admin session found");localStorage.setItem("tgp_token",n),wi=n,localStorage.removeItem("tgp_admin_token");const e=await ye(`${le}/users/me`);if(!e.ok)throw new Error("Failed to restore admin user details");const s=await e.json(),r={id:s.id,email:s.email,name:s.name||s.email.split("@")[0],role:s.role,balance:s.balance,balanceEconomy:s.balance_economy,balanceProfessional:s.balance_professional,balanceExpert:s.balance_expert,status:s.status,plan:s.plan,isVerified:s.is_verified,shadowBanned:s.shadow_banned,notes:s.notes,tags:s.tags,banReason:s.ban_reason,createdAt:s.created_at,joinedDate:s.created_at||new Date().toISOString(),projectsCount:0,lastIp:s.last_ip,lastActive:s.last_active};q.setCurrentUser(r)},adminExportUserData:async n=>{const e=await ye(`${le}/admin/users/${n}/export`);if(!e.ok)throw new Error("Failed to export user data");return e.json()},getUserTransactions:async n=>{const e=await ye(`${le}/transactions`);return e.ok?(await e.json()).filter(i=>i.user_id===n).map(i=>{var l;return{id:i.id,date:((l=i.created_at)==null?void 0:l.split("T")[0])||new Date().toISOString().split("T")[0],desc:i.description||"",amount:i.amount,status:i.status||"completed",type:i.type,userId:i.user_id,tier:i.tier,hits:i.hits,reference:i.reference}}):[]},getUserProjects:async n=>{const e=await ye(`${le}/admin/projects`);return e.ok?(await e.json()).filter(i=>i.user_id===n).map(i=>{var l;return{id:i.id,userId:i.user_id,name:i.name,plan:i.plan_type||"Custom",tier:i.tier,status:i.status,customTarget:{totalVisitors:i.total_target||0,durationDays:30,dailyLimit:i.daily_limit||0},expires:((l=i.expires_at)==null?void 0:l.split("T")[0])||"",createdAt:i.created_at,settings:i.settings}}):[]},getUserTickets:async n=>{const e=await ye(`${le}/tickets`);return e.ok?(await e.json()).filter(i=>i.user_id===n).map(i=>{var l,c;return{id:i.id,type:i.type||"ticket",userId:i.user_id,userName:"",subject:i.subject,status:i.status||"open",priority:i.priority||"low",date:((l=i.created_at)==null?void 0:l.split("T")[0])||"",lastMessage:((c=i.messages)==null?void 0:c.length)>0?i.messages[i.messages.length-1].text:"",messages:i.messages||[],unread:!1}}):[]},adminUpdateUser:async(n,e)=>{if(!(await ye(`${le}/admin/users/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error("Failed to update user")},updateUserStatus:async(n,e)=>(await q.adminUpdateUser(n,{status:e}),q.getUsers()),adminAdjustBalance:async(n,e,s,r)=>{await q.adjustUserBalance(n,{adjustmentType:s,tier:"general",amount:e,reason:r})},createAlert:async(n,e,s="System Alert")=>{const r={title:s,message:n,type:e,is_active:!0};await ye(`${le}/admin/broadcasts`,{method:"POST",body:JSON.stringify(r)}),await q.syncAlerts()},toggleAlert:async(n,e)=>{const r=q.getAlerts().find(l=>l.id===n);if(!r)return;const i={title:r.title||"System Alert",message:r.message,type:r.type,is_active:e};await ye(`${le}/admin/broadcasts/${n}`,{method:"PUT",body:JSON.stringify(i)}),await q.syncAlerts()},deleteAlert:async n=>{await ye(`${le}/admin/broadcasts/${n}`,{method:"DELETE"}),await q.syncAlerts()},getBenefitTypes:async()=>{const n=await ye(`${le}/benefits/types`);return n.ok?(await n.json()).map(s=>({id:s.id,type:s.type,category:s.category,name:s.name,value:s.value,requirements:s.requirements,active:s.active,displayOrder:s.display_order})):[]},getMyBenefitRequests:async n=>{const e=n?`${le}/benefits/my-requests?status=${n}`:`${le}/benefits/my-requests`,s=await ye(e);return s.ok?(await s.json()).map(i=>({id:i.id,userId:i.user_id,benefitType:i.benefit_type,benefitCategory:i.benefit_category,url:i.url,description:i.description,screenshotUrl:i.screenshot_url,claimedValue:i.claimed_value,approvedValue:i.approved_value,status:i.status,adminNotes:i.admin_notes,fraudFlagged:i.fraud_flagged,fraudReason:i.fraud_reason,submittedAt:i.submitted_at,reviewedAt:i.reviewed_at,reviewedBy:i.reviewed_by})):[]},getBenefitBalance:async()=>{const n=await ye(`${le}/benefits/balance`);if(!n.ok)return{benefitBalance:0,totalBenefitsClaimed:0,pendingRequests:0,approvedRequests:0,rejectedRequests:0};const e=await n.json();return{benefitBalance:e.benefit_balance,totalBenefitsClaimed:e.total_benefits_claimed,pendingRequests:e.pending_requests,approvedRequests:e.approved_requests,rejectedRequests:e.rejected_requests}},submitBenefit:async n=>{const e=await ye(`${le}/benefits/submit`,{method:"POST",body:JSON.stringify(n)});if(!e.ok){const r=await e.json();throw new Error(r.detail||"Failed to submit benefit")}const s=await e.json();return{id:s.id,userId:s.user_id,benefitType:s.benefit_type,benefitCategory:s.benefit_category,url:s.url,description:s.description,screenshotUrl:s.screenshot_url,claimedValue:s.claimed_value,approvedValue:s.approved_value,status:s.status,adminNotes:s.admin_notes,fraudFlagged:s.fraud_flagged,fraudReason:s.fraud_reason,submittedAt:s.submitted_at,reviewedAt:s.reviewed_at,reviewedBy:s.reviewed_by}},getAffiliateDashboard:async()=>{const n=await ye(`${le}/affiliate/dashboard`);if(!n.ok)throw new Error("Failed to fetch affiliate dashboard");const e=await n.json();return{tier:{id:e.tier.id,userId:e.tier.user_id,tierLevel:e.tier.tier_level,tierName:e.tier.tier_name,commissionRateL1:e.tier.commission_rate_l1,commissionRateL2:e.tier.commission_rate_l2,commissionRateL3:e.tier.commission_rate_l3,totalReferralsL1:e.tier.total_referrals_l1,totalReferralsL2:e.tier.total_referrals_l2,totalReferralsL3:e.tier.total_referrals_l3,totalEarnings:e.tier.total_earnings,pendingPayout:e.tier.pending_payout,lifetimePayout:e.tier.lifetime_payout,lastTierUpdate:e.tier.last_tier_update},relations:e.relations.map(s=>({id:s.id,userId:s.user_id,referrerL1Id:s.referrer_l1_id,referrerL2Id:s.referrer_l2_id,referrerL3Id:s.referrer_l3_id})),referralLink:e.referral_link,totalReferrals:e.total_referrals,totalEarnings:e.total_earnings,pendingPayout:e.pending_payout,benefitBalance:e.benefit_balance}},getAffiliateTier:async()=>{const n=await ye(`${le}/affiliate/tier`);if(!n.ok)throw new Error("Failed to fetch affiliate tier");const e=await n.json();return{id:e.id,userId:e.user_id,tierLevel:e.tier_level,tierName:e.tier_name,commissionRateL1:e.commission_rate_l1,commissionRateL2:e.commission_rate_l2,commissionRateL3:e.commission_rate_l3,totalReferralsL1:e.total_referrals_l1,totalReferralsL2:e.total_referrals_l2,totalReferralsL3:e.total_referrals_l3,totalEarnings:e.total_earnings,pendingPayout:e.pending_payout,lifetimePayout:e.lifetime_payout,lastTierUpdate:e.last_tier_update}},getAffiliateReferrals:async(n=1)=>{const e=await ye(`${le}/affiliate/referrals?tier=${n}`);return e.ok?await e.json():[]},requestPayout:async n=>{const e=await ye(`${le}/affiliate/payouts/request`,{method:"POST",body:JSON.stringify(n)});if(!e.ok){const r=await e.json();throw new Error(r.detail||"Failed to request payout")}const s=await e.json();return{id:s.id,userId:s.user_id,amount:s.amount,method:s.method,payoutDetails:s.payout_details,status:s.status,adminNotes:s.admin_notes,requestedAt:s.requested_at,processedAt:s.processed_at,processedBy:s.processed_by,transactionHash:s.transaction_hash}},getMyPayouts:async()=>{const n=await ye(`${le}/affiliate/payouts`);return n.ok?(await n.json()).map(s=>({id:s.id,userId:s.user_id,amount:s.amount,method:s.method,payoutDetails:s.payout_details,status:s.status,adminNotes:s.admin_notes,requestedAt:s.requested_at,processedAt:s.processed_at,processedBy:s.processed_by,transactionHash:s.transaction_hash})):[]},getPendingBenefits:async()=>{const n=await ye(`${le}/admin/benefits/pending`);return n.ok?await n.json():[]},getBenefitsHistory:async n=>{const e=n?`${le}/admin/benefits/history?status=${n}`:`${le}/admin/benefits/history`,s=await ye(e);return s.ok?await s.json():[]},approveBenefit:async(n,e,s)=>{if(!(await ye(`${le}/admin/benefits/${n}/approve`,{method:"POST",body:JSON.stringify({approved_value:e,status:"approved",admin_notes:s})})).ok)throw new Error("Failed to approve benefit")},rejectBenefit:async(n,e,s=!1,r)=>{if(!(await ye(`${le}/admin/benefits/${n}/reject`,{method:"POST",body:JSON.stringify({status:"rejected",admin_notes:e,fraud_flagged:s,fraud_reason:r})})).ok)throw new Error("Failed to reject benefit")},getPendingPayouts:async()=>{const n=await ye(`${le}/admin/payouts/pending`);return n.ok?await n.json():[]},approvePayout:async(n,e)=>{if(!(await ye(`${le}/admin/payouts/${n}/approve`,{method:"POST",body:JSON.stringify({status:"approved",admin_notes:e})})).ok)throw new Error("Failed to approve payout")},rejectPayout:async(n,e)=>{if(!(await ye(`${le}/admin/payouts/${n}/reject`,{method:"POST",body:JSON.stringify({status:"rejected",admin_notes:e})})).ok)throw new Error("Failed to reject payout")},markPayoutPaid:async(n,e,s)=>{if(!(await ye(`${le}/admin/payouts/${n}/mark-paid`,{method:"POST",body:JSON.stringify({status:"paid",transaction_hash:e,admin_notes:s})})).ok)throw new Error("Failed to mark payout as paid")},getAllAffiliates:async()=>{const n=await ye(`${le}/admin/affiliates`);return n.ok?await n.json():[]},updateAffiliateTier:async(n,e)=>{if(!(await ye(`${le}/admin/affiliates/${n}/tier-update`,{method:"POST",body:JSON.stringify({tier_level:e})})).ok)throw new Error("Failed to update affiliate tier")},getProxyConfig:async()=>{const n=await ye(`${le}/admin/proxies/config`);if(n.status===404)return null;if(!n.ok)throw new Error("Failed to fetch proxy config");const e=await n.json();return{id:e.id,name:e.name,providerType:e.provider_type,username:e.username,serviceName:e.service_name,proxyHost:e.proxy_host,httpPort:e.http_port_start||e.http_port||9e3,httpPortStart:e.http_port_start,httpPortEnd:e.http_port_end,isActive:e.is_active,sessionLifetimeMinutes:e.session_lifetime_minutes,bandwidthLimitGb:e.bandwidth_limit_gb,bandwidthUsedGb:e.bandwidth_used_gb||0,notificationEmail:e.notification_email,warnAt80:e.warn_at_80,warnAt50:e.warn_at_50,warnAt20:e.warn_at_20,lastSyncAt:e.last_sync_at,createdAt:e.created_at}},saveProxyConfig:async n=>{const e=await ye(`${le}/admin/proxies/config`,{method:"POST",body:JSON.stringify({username:n.username,password:n.password,service_name:n.serviceName,proxy_host:n.proxyHost,http_port:n.httpPort,session_lifetime_minutes:n.sessionLifetimeMinutes,bandwidth_limit_gb:n.bandwidthLimitGb,notification_email:n.notificationEmail,is_active:n.isActive,warn_at_80:n.warnAt80,warn_at_50:n.warnAt50,warn_at_20:n.warnAt20})});if(!e.ok){const r=await e.json();throw new Error(r.detail||"Failed to save proxy config")}const s=await e.json();return{id:s.id,name:s.name,providerType:s.provider_type,username:s.username,serviceName:s.service_name,proxyHost:s.proxy_host,httpPortStart:s.http_port_start,httpPortEnd:s.http_port_end,isActive:s.is_active,sessionLifetimeMinutes:s.session_lifetime_minutes,bandwidthLimitGb:s.bandwidth_limit_gb,bandwidthUsedGb:s.bandwidth_used_gb||0,notificationEmail:s.notification_email,warnAt80:s.warn_at_80,warnAt50:s.warn_at_50,warnAt20:s.warn_at_20,lastSyncAt:s.last_sync_at,createdAt:s.created_at}},testProxyConnection:async()=>await(await ye(`${le}/admin/proxies/test`,{method:"POST"})).json(),syncProxyLocations:async()=>await(await ye(`${le}/admin/proxies/sync-locations`,{method:"POST"})).json(),getProxyUsage:async()=>await(await ye(`${le}/admin/proxies/usage`)).json(),getGeoLocations:async()=>{const n=await ye(`${le}/admin/proxies/locations`);return n.ok?(await n.json()).map(s=>({countryCode:s.country_code,countryName:s.country_name,states:s.states||[],cities:s.cities||[]})):[]},getProxySessions:async(n=!0)=>{const e=await ye(`${le}/admin/proxies/sessions?active_only=${n}`);return e.ok?(await e.json()).map(r=>({id:r.id,sessionId:r.session_id,country:r.country,countryCode:r.country_code,state:r.state,city:r.city,ipAddress:r.ip_address,isActive:r.is_active,port:r.port,requestCount:r.request_count,createdAt:r.created_at,expiresAt:r.expires_at,lastUsedAt:r.last_used_at})):[]},releaseProxySession:async n=>{if(!(await ye(`${le}/admin/proxies/sessions/${n}/release`,{method:"POST"})).ok)throw new Error("Failed to release session")},releaseAllProxySessions:async()=>await(await ye(`${le}/admin/proxies/sessions/release-all`,{method:"POST"})).json(),cleanupProxySessions:async()=>await(await ye(`${le}/admin/proxies/cleanup`,{method:"POST"})).json(),testProxyTraffic:async n=>await(await ye(`${le}/admin/proxies/test-traffic`,{method:"POST",body:JSON.stringify({country_code:n.countryCode,country_name:n.countryName,state:n.state,city:n.city})})).json(),getProxyLogs:async n=>{const e=new URLSearchParams;n!=null&&n.limit&&e.set("limit",n.limit.toString()),n!=null&&n.offset&&e.set("offset",n.offset.toString()),n!=null&&n.successOnly&&e.set("success_only","true"),n!=null&&n.errorsOnly&&e.set("errors_only","true");const s=await ye(`${le}/admin/proxies/logs?${e.toString()}`);return s.ok?(await s.json()).map(i=>({id:i.id,sessionId:i.session_id,projectId:i.project_id,requestUrl:i.request_url,responseCode:i.response_code,latencyMs:i.latency_ms,errorMessage:i.error_message,countryCode:i.country_code,state:i.state,city:i.city,ipAddress:i.ip_address,success:i.success,createdAt:i.created_at})):[]},getProxyLogStats:async()=>{const e=await(await ye(`${le}/admin/proxies/logs/stats`)).json();return{total:e.total,successful:e.successful,failed:e.failed,successRate:e.success_rate,avgLatencyMs:e.avg_latency_ms}}},IT=({menuSections:n,currentView:e,onNavigate:s,onLogout:r})=>{var c;const[i,l]=w.useState(()=>q.getCurrentUser());return w.useEffect(()=>{const f=q.getCurrentUser();f&&l(f)},[]),t.jsxs("aside",{className:"w-64 bg-[#111111] text-white flex flex-col h-screen fixed left-0 top-0 z-20 hidden md:flex border-r border-gray-800 shadow-xl",children:[t.jsxs("div",{className:"p-8 pb-10 flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-[#ff4d00] flex items-center justify-center",children:t.jsx("span",{className:"font-black text-black text-lg",children:"T"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-black text-white tracking-tighter leading-none",children:"TRAFFIC"}),t.jsx("p",{className:"text-[9px] text-gray-500 font-bold uppercase tracking-widest mt-0.5",children:"Bot OS"})]})]}),t.jsx("nav",{className:"flex-1 overflow-y-auto px-4 custom-scrollbar",children:t.jsx("div",{className:"space-y-6",children:n.map((f,u)=>t.jsx("div",{className:u>0?"pt-6 border-t border-gray-800/50":"",children:t.jsx("ul",{className:"space-y-1",children:f.items.map(m=>{const g=e===m.id;return t.jsx("li",{children:t.jsxs("button",{onClick:()=>s(m.id),className:`w-full group flex items-center justify-between px-4 py-3.5 text-[11px] font-bold uppercase tracking-widest transition-all duration-200 rounded-sm
                          ${g?"bg-[#ff4d00] text-white shadow-[0_0_15px_rgba(255,77,0,0.3)]":"text-gray-400 hover:bg-[#1a1a1a] hover:text-white"}`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[m.icon&&t.jsx("span",{className:g?"text-white":"text-gray-600 group-hover:text-[#ff4d00]",children:m.icon}),t.jsx("span",{children:m.label})]}),g&&t.jsx(Nc,{size:14,className:"animate-in slide-in-from-left-2"})]})},m.id)})})},u))})}),t.jsxs("div",{className:"p-4 border-t border-gray-800 bg-[#0a0a0a] space-y-4",children:[i&&t.jsxs("div",{className:"px-4 py-2 bg-[#1a1a1a] rounded-sm border border-gray-800/50",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(un,{size:12,className:"text-[#ff4d00]"}),t.jsx("span",{className:"text-[10px] font-black text-white uppercase tracking-tighter truncate",children:i.email})]}),t.jsxs("div",{className:"text-[9px] font-mono text-gray-500 truncate",title:i.id,children:["ID: ",((c=i.id)==null?void 0:c.substring(0,8).toUpperCase())||"N/A"]})]}),t.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center gap-2 py-3 border border-gray-800 text-[11px] font-bold text-gray-400 uppercase tracking-widest hover:text-[#ff4d00] hover:border-[#ff4d00] hover:bg-[#111] transition-all rounded-sm",children:[t.jsx(PO,{size:14}),t.jsx("span",{children:"Logout"})]})]})]})},RT=({title:n,onMobileMenuClick:e,isAdmin:s=!1})=>{const[r,i]=w.useState(!1),[l,c]=w.useState([]),f=qs(),u=tr(),m=!s&&(u.pathname==="/dashboard"||u.pathname==="/dashboard/campaigns"||u.pathname.startsWith("/dashboard/campaigns")||u.pathname==="/dashboard/buy-credits"||u.pathname==="/dashboard/balance");w.useEffect(()=>{const C=async()=>{try{const O=await(s?q.getAdminNotifications():q.getNotifications());c(O)}catch(O){console.error("Failed to fetch notifications:",O)}};C();const T=setInterval(C,1e4);return()=>clearInterval(T)},[s]);const g=new Date().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}),b=l.filter(C=>!C.read).length,v=async C=>{await q.markNotificationRead(C),c(T=>T.map(O=>O.id===C?{...O,read:!0}:O))},E=async()=>{await q.markAllNotificationsRead(),c(C=>C.map(T=>({...T,read:!0})))},N=C=>{switch(C){case"success":return t.jsx(ct,{size:16,className:"text-green-500"});case"warning":return t.jsx(ys,{size:16,className:"text-orange-500"});default:return t.jsx(nc,{size:16,className:"text-blue-500"})}};return t.jsxs("header",{className:"bg-white h-20 px-8 flex items-center justify-between sticky top-0 z-20 shadow-sm md:shadow-none relative",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{className:"md:hidden p-2 text-gray-600 hover:bg-gray-100 rounded-md",onClick:e,children:t.jsx(zO,{size:24})}),t.jsx("h2",{className:"text-xl font-black tracking-wide text-gray-900 uppercase",children:n})]}),t.jsxs("div",{className:"flex items-center gap-6",children:[m&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("button",{onClick:()=>f("/dashboard/buy-credits"),className:"bg-black text-white px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2 shadow-md border border-gray-800",children:[t.jsx(uw,{size:16}),t.jsx("span",{className:"hidden sm:inline",children:"Buy Traffic"}),t.jsx("span",{className:"sm:hidden",children:"Traffic"})]}),t.jsxs("button",{onClick:()=>f("/dashboard/campaigns/new"),className:"bg-[#ff4d00] text-white px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-[#e64500] transition-colors flex items-center gap-2 shadow-md",children:[t.jsx(er,{size:16}),t.jsx("span",{className:"hidden sm:inline",children:"Create a Project"}),t.jsx("span",{className:"sm:hidden",children:"Create"})]})]}),t.jsxs("div",{className:"relative cursor-pointer",children:[t.jsxs("button",{onClick:()=>i(!r),className:"relative p-1",children:[t.jsx(Yb,{className:b>0?"text-[#ff4d00]":"text-gray-400",size:22,strokeWidth:2}),b>0&&t.jsx("span",{className:"absolute top-0 right-0 block h-2.5 w-2.5 rounded-full ring-2 ring-white bg-red-600 transform translate-x-1/4 -translate-y-1/4 animate-pulse"})]}),r&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>i(!1)}),t.jsxs("div",{className:"absolute right-0 top-full mt-4 w-80 bg-white border border-gray-200 shadow-xl z-40 animate-in fade-in slide-in-from-top-2 rounded-sm overflow-hidden",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[t.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-gray-500",children:["Notifications (",b,")"]}),b>0&&t.jsx("button",{onClick:E,className:"text-[10px] font-bold text-[#ff4d00] uppercase hover:underline",children:"Mark all read"})]}),t.jsx("div",{className:"max-h-80 overflow-y-auto",children:l.length===0?t.jsx("div",{className:"p-8 text-center text-xs text-gray-400",children:"No notifications"}):l.map(C=>t.jsx("div",{className:`p-4 border-b border-gray-50 hover:bg-gray-50 transition-colors ${C.read?"":"bg-orange-50/30"}`,children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx("div",{className:"mt-1 flex-shrink-0",children:N(C.type)}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsx("h4",{className:`text-xs font-bold ${C.read?"text-gray-500":"text-gray-900"}`,children:C.title}),!C.read&&t.jsx("button",{onClick:()=>v(C.id),className:"text-gray-300 hover:text-[#ff4d00]",children:t.jsx(fn,{size:12})})]}),t.jsx("p",{className:"text-[11px] text-gray-500 mt-1 leading-relaxed",children:C.message}),t.jsx("div",{className:"text-[9px] text-gray-300 mt-2 font-mono",children:C.date})]})]})},C.id))})]})]})]}),t.jsx("div",{className:"hidden md:block w-px h-8 bg-gray-200"}),t.jsx("div",{className:"text-sm font-medium text-gray-500 tracking-wide hidden md:block",children:g})]})]})},p9=()=>{const[n,e]=w.useState([]);w.useEffect(()=>{const r=async()=>{const l=await q.getActiveBroadcasts(),c=JSON.parse(localStorage.getItem("dismissed_broadcasts")||"[]");e(l.filter(f=>!c.includes(f.id)))};r();const i=setInterval(r,6e4);return()=>clearInterval(i)},[]);const s=r=>{const i=JSON.parse(localStorage.getItem("dismissed_broadcasts")||"[]");i.includes(r)||(i.push(r),localStorage.setItem("dismissed_broadcasts",JSON.stringify(i))),e(n.filter(l=>l.id!==r))};return n.length===0?null:t.jsx("div",{className:"flex flex-col w-full z-50 sticky top-0",children:n.map(r=>t.jsx("div",{className:`w-full px-4 py-3 flex items-center justify-between shadow-sm relative animate-in slide-in-from-top duration-300 ${r.type==="critical"?"bg-red-600 text-white":r.type==="warning"?"bg-orange-500 text-white":r.type==="success"?"bg-green-600 text-white":"bg-blue-600 text-white"}`,children:t.jsxs("div",{className:"flex items-center gap-3 container max-w-screen-2xl mx-auto px-6 md:px-12",children:[r.type==="critical"&&t.jsx(tc,{size:20}),r.type==="warning"&&t.jsx(ys,{size:20}),r.type==="success"&&t.jsx(ct,{size:20}),r.type==="info"&&t.jsx(nc,{size:20}),t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-1 md:gap-3 flex-1",children:[t.jsx("span",{className:"font-black uppercase tracking-wider text-xs",children:r.title}),t.jsx("span",{className:"hidden md:inline w-1 h-1 bg-white rounded-full opacity-50"}),t.jsx("span",{className:"font-medium text-sm",children:r.message}),r.actionUrl&&t.jsx("a",{href:r.actionUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-3 py-1 bg-white text-black text-[10px] font-black uppercase tracking-widest rounded-sm hover:bg-gray-100 transition-colors ml-0 md:ml-4 self-start md:self-auto",children:r.actionText||"Read More"})]}),t.jsx("button",{onClick:()=>s(r.id),className:"text-white/80 hover:text-white transition-colors p-1",children:t.jsx(mn,{size:18})})]})},r.id))})},g9=({email:n,onDismiss:e,onVerified:s})=>{const[r,i]=w.useState(!1),[l,c]=w.useState(!1),[f,u]=w.useState(""),[m,g]=w.useState(!1),[b,v]=w.useState(["","","",""]),[E,N]=w.useState("idle"),[C,T]=w.useState(""),O=w.useRef([]);if(m)return null;const F=async()=>{i(!0),u("");try{await q.resendVerificationEmail(n),c(!0)}catch(_){u(_.message||"Failed to send email")}finally{i(!1)}},z=()=>{g(!0),e&&e()},M=(_,k)=>{var L;if(!/^\d*$/.test(k))return;const D=[...b];D[_]=k.slice(-1),v(D),k&&_<3&&((L=O.current[_+1])==null||L.focus()),D.every(R=>R!=="")&&D.join("").length===4&&A(D.join(""))},U=(_,k)=>{var D;k.key==="Backspace"&&!b[_]&&_>0&&((D=O.current[_-1])==null||D.focus())},X=_=>{_.preventDefault();const k=_.clipboardData.getData("text").replace(/\D/g,"").slice(0,4),D=[...b];k.split("").forEach((L,R)=>{R<4&&(D[R]=L)}),v(D),D.every(L=>L!=="")&&A(D.join(""))},A=async _=>{N("loading"),T("");try{await q.verifyEmail(_),N("success"),T("Email verified successfully!"),s&&s(),setTimeout(()=>{g(!0)},2e3)}catch(k){N("error"),T(k.message||"Invalid code. Please try again."),v(["","","",""]),setTimeout(()=>{var D;(D=O.current[0])==null||D.focus()},100)}},P=()=>{var _;v(["","","",""]),N("idle"),T(""),(_=O.current[0])==null||_.focus()};return E==="success"?t.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex items-center justify-center py-3 gap-3",children:[t.jsx(ct,{className:"shrink-0",size:20}),t.jsx("p",{className:"text-sm font-bold",children:C})]})})}):t.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[t.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[t.jsx(ys,{className:"shrink-0",size:20}),t.jsx("div",{className:"flex-1",children:t.jsx("p",{className:"text-sm font-bold",children:l?"Verification email sent! Check your inbox.":"Please verify your email address to create projects."})})]}),t.jsxs("div",{className:"flex items-center gap-2 flex-wrap sm:flex-nowrap",children:[t.jsx("div",{className:"flex gap-1.5",children:b.map((_,k)=>t.jsx("input",{ref:D=>{O.current[k]=D},type:"text",inputMode:"numeric",maxLength:1,value:_,onChange:D=>M(k,D.target.value),onKeyDown:D=>U(k,D),onPaste:k===0?X:void 0,disabled:E==="loading",className:"w-9 h-10 text-center text-lg font-bold border-2 border-white/40 rounded-lg focus:border-white focus:outline-none bg-white/20 text-white placeholder-white/50 disabled:opacity-50",placeholder:"0"},k))}),E==="loading"&&t.jsx(gs,{className:"animate-spin",size:18}),E==="error"&&t.jsxs("button",{onClick:P,className:"flex items-center gap-1 bg-red-500/80 hover:bg-red-600 px-3 py-1.5 rounded-lg text-xs font-bold transition-colors",children:[t.jsx(tc,{size:14})," Retry"]}),E==="idle"&&t.jsx("button",{onClick:F,disabled:r,className:"flex items-center gap-2 bg-white/20 hover:bg-white/30 px-3 py-1.5 rounded-lg text-xs font-bold uppercase tracking-wider transition-colors disabled:opacity-50",children:r?t.jsxs(t.Fragment,{children:[t.jsx(gs,{className:"animate-spin",size:14})," Sending..."]}):t.jsxs(t.Fragment,{children:[t.jsx(xa,{size:14})," Resend"]})}),t.jsx("button",{onClick:z,className:"p-1 hover:bg-white/20 rounded transition-colors","aria-label":"Dismiss",children:t.jsx(mn,{size:16})})]})]}),f&&t.jsx("div",{className:"pt-2 text-xs font-medium text-white/90",children:f}),E==="error"&&C&&t.jsx("div",{className:"pt-2 text-xs font-medium text-white/90",children:C})]})})},x9=({projects:n,onUpdate:e,onNavigateToProject:s,onAddProject:r})=>{const[i,l]=w.useState(""),[c,f]=w.useState(""),[u,m]=w.useState(""),[g,b]=w.useState("all"),[v,E]=w.useState({start:"",end:""}),[N,C]=w.useState(1),T=10,[O,F]=w.useState([]),[z,M]=w.useState(null),U=Y=>{switch(Y){case"completed":return"bg-gray-900 text-white";case"active":return"bg-[#ff4d00] text-white";case"stopped":return"bg-gray-100 text-gray-500 border border-gray-200"}},X=n.filter(Y=>{const ve=Y.id.toLowerCase().includes(i.toLowerCase()),J=Y.name.toLowerCase().includes(c.toLowerCase()),W=Y.plan.toLowerCase().includes(u.toLowerCase()),xe=g==="all"||Y.status===g;let Ie=!0;if(v.start||v.end){const Ae=Y.createdAt?new Date(Y.createdAt).getTime():0,$=v.start?new Date(v.start).getTime():0,ie=v.end?new Date(v.end).getTime()+864e5:1/0;Ae===0?Ie=!1:Ie=Ae>=$&&Ae<ie}return ve&&J&&W&&xe&&Ie}),A=Math.ceil(X.length/T),P=X.slice((N-1)*T,N*T),_=Y=>{Y>=1&&Y<=A&&C(Y)},k=async Y=>{if(O.length!==0)if(Y==="delete")confirm(`Are you sure you want to delete ${O.length} campaigns?`)&&(await q.bulkDeleteProjects(O),F([]),e());else{const ve=Y==="resume"?"active":"stopped";await q.bulkUpdateProjectStatus(O,ve),F([]),e()}},D=()=>{const Y=P.map(J=>J.id),ve=Y.every(J=>O.includes(J));F(ve?J=>J.filter(W=>!Y.includes(W)):J=>Array.from(new Set([...J,...Y])))},L=Y=>{O.includes(Y)?F(ve=>ve.filter(J=>J!==Y)):F(ve=>[...ve,Y])};Fe.useEffect(()=>{C(1),F([])},[i,c,u,g,v]);const R=P.length>0&&P.every(Y=>O.includes(Y.id));return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-black text-gray-900 tracking-tight",children:"Campaign Manager"}),t.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mt-1",children:"Manage your traffic sources"})]}),t.jsxs("button",{onClick:r,className:"bg-[#ff4d00] hover:bg-[#e64600] text-white px-6 py-3 text-xs font-black uppercase tracking-widest transition-colors flex items-center gap-2 shadow-lg shadow-orange-500/20",children:[t.jsx(er,{size:16,strokeWidth:3}),"Create Project"]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-4 shadow-sm grid grid-cols-1 md:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Sc,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Filter by ID...",value:i,onChange:Y=>l(Y.target.value),className:"w-full pl-9 pr-4 py-2 bg-[#f9fafb] border border-gray-200 text-xs font-bold text-gray-900 focus:outline-none focus:border-[#ff4d00] placeholder-gray-400"})]}),t.jsx("input",{type:"text",placeholder:"Filter by Name...",value:c,onChange:Y=>f(Y.target.value),className:"w-full px-4 py-2 bg-[#f9fafb] border border-gray-200 text-xs font-bold text-gray-900 focus:outline-none focus:border-[#ff4d00] placeholder-gray-400"}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{value:u,onChange:Y=>m(Y.target.value),className:"w-full px-4 py-2 bg-[#f9fafb] border border-gray-200 text-xs font-bold text-gray-500 focus:outline-none focus:border-[#ff4d00] appearance-none",children:[t.jsx("option",{value:"",children:"All Plans"}),t.jsx("option",{value:"Free Trial",children:"Free Trial"}),t.jsx("option",{value:"Starter",children:"Starter"}),t.jsx("option",{value:"Growth",children:"Growth"}),t.jsx("option",{value:"Agency",children:"Agency"})]}),t.jsx(Hr,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{value:g,onChange:Y=>b(Y.target.value),className:"w-full px-4 py-2 bg-[#f9fafb] border border-gray-200 text-xs font-bold text-gray-500 focus:outline-none focus:border-[#ff4d00] appearance-none",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"stopped",children:"Stopped"}),t.jsx("option",{value:"completed",children:"Completed"})]}),t.jsx(Hr,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]}),t.jsxs("button",{onClick:()=>{l(""),f(""),m(""),b("all")},className:"px-4 py-2 border border-gray-200 text-xs font-bold uppercase text-gray-500 hover:text-gray-900 hover:border-gray-400 transition-colors flex items-center justify-center gap-2",children:[t.jsx(mn,{size:14})," Clear"]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden min-h-[600px] flex flex-col",children:[t.jsx("div",{className:"overflow-x-auto flex-1",children:t.jsxs("table",{className:"w-full table-fixed",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-[#f9fafb] border-b border-gray-200",children:[t.jsx("th",{className:"w-16 px-6 py-4 text-left",children:t.jsx("button",{onClick:D,className:"flex items-center text-gray-400 hover:text-gray-600 transition-colors",children:R?t.jsx(Yl,{size:16,className:"text-[#ff4d00]"}):t.jsx(Jd,{size:16})})}),t.jsx("th",{className:"w-32 px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Project ID"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Name"}),t.jsx("th",{className:"w-28 px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Plan"}),t.jsx("th",{className:"w-32 px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Expires"}),t.jsx("th",{className:"w-24 px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Hits"}),t.jsx("th",{className:"w-32 px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Status"}),t.jsx("th",{className:"w-24 px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:X.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"px-6 py-12 text-center text-gray-400 text-sm",children:"No campaigns found matching your filters."})}):P.map(Y=>{var ve;return t.jsxs("tr",{className:`transition-colors group relative ${O.includes(Y.id)?"bg-orange-50/50":"hover:bg-orange-50/30"}`,children:[t.jsx("td",{className:"px-6 py-5",children:t.jsx("button",{onClick:J=>{J.stopPropagation(),L(Y.id)},className:"flex items-center text-gray-400 hover:text-gray-600 transition-colors",children:O.includes(Y.id)?t.jsx(Yl,{size:16,className:"text-[#ff4d00]"}):t.jsx(Jd,{size:16})})}),t.jsx("td",{className:"px-6 py-5 text-[11px] font-black text-[#ff4d00] font-mono tracking-tighter uppercase truncate",title:Y.id,children:Y.id.substring(0,10)}),t.jsx("td",{className:"px-6 py-5",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-black text-gray-900",children:Y.name}),((ve=Y.settings)==null?void 0:ve.entryUrls)&&t.jsx("a",{href:Y.settings.entryUrls,target:"_blank",rel:"noreferrer",className:"ml-2 inline-block text-gray-300 hover:text-[#ff4d00]",onClick:J=>J.stopPropagation(),children:t.jsx(sc,{size:12})})]})}),t.jsx("td",{className:"px-6 py-5 text-sm font-medium text-gray-600",children:Y.plan}),t.jsx("td",{className:"px-6 py-5 text-sm font-medium text-gray-500",children:Y.expires}),t.jsx("td",{className:"px-6 py-5",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-bold text-gray-900",children:(Y.totalHits||0).toLocaleString()}),Y.status==="active"&&t.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]})}),t.jsx("td",{className:"px-6 py-5",children:t.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 text-[10px] font-black uppercase tracking-wider rounded-sm ${U(Y.status)}`,children:[Y.status==="stopped"&&t.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-gray-400 mr-2"}),Y.status==="active"&&t.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-white mr-2 animate-pulse"}),Y.status]})}),t.jsx("td",{className:"px-6 py-5 text-right relative",children:t.jsx("button",{onClick:J=>{J.stopPropagation(),s(Y.id)},className:"text-gray-400 hover:text-[#ff4d00] transition-colors p-2 hover:bg-orange-50 rounded-sm",children:t.jsx(Bo,{size:18})})})]},Y.id)})})]})}),t.jsxs("div",{className:"p-4 border-t border-gray-200 bg-[#f9fafb] flex items-center justify-between mt-auto",children:[t.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:["Showing ",Math.min((N-1)*T+1,X.length)," - ",Math.min(N*T,X.length)," of ",X.length]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>_(N-1),disabled:N===1,className:"px-4 py-2 bg-white border border-gray-200 text-xs font-bold uppercase text-gray-500 hover:border-[#ff4d00] hover:text-[#ff4d00] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:[t.jsx(ow,{size:14})," Prev"]}),t.jsx("div",{className:"flex items-center gap-1 px-2",children:Array.from({length:Math.min(A,5)},(Y,ve)=>{let J=ve+1;return A>5&&N>3&&(J=N-2+ve),J>A?null:t.jsx("button",{onClick:()=>_(J),className:`w-8 h-8 flex items-center justify-center text-xs font-bold border ${N===J?"border-[#ff4d00] text-[#ff4d00] bg-orange-50":"border-transparent text-gray-400 hover:text-gray-600"}`,children:J},J)})}),t.jsxs("button",{onClick:()=>_(N+1),disabled:N===A,className:"px-4 py-2 bg-white border border-gray-200 text-xs font-bold uppercase text-gray-500 hover:border-[#ff4d00] hover:text-[#ff4d00] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:["Next ",t.jsx(Nc,{size:14})]})]})]})]}),O.length>0&&t.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-50 animate-in slide-in-from-bottom-4 fade-in duration-300",children:t.jsxs("div",{className:"bg-gray-900 text-white px-6 py-3 rounded-full shadow-2xl flex items-center gap-6 border border-gray-800",children:[t.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider text-gray-400 border-r border-gray-700 pr-6 mr-2",children:[O.length," Selected"]}),t.jsxs("button",{onClick:()=>k("resume"),className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider hover:text-[#ff4d00] transition-colors",children:[t.jsx(sm,{size:14})," Resume"]}),t.jsxs("button",{onClick:()=>k("pause"),className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider hover:text-[#ff4d00] transition-colors",children:[t.jsx(_T,{size:14})," Pause"]}),t.jsx("div",{className:"w-px h-4 bg-gray-700 mx-2"}),t.jsxs("button",{onClick:()=>k("delete"),className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider hover:text-red-500 transition-colors",children:[t.jsx(ba,{size:14})," Delete"]}),t.jsx("button",{onClick:()=>F([]),className:"ml-4 text-gray-500 hover:text-white",children:t.jsx(mn,{size:14})})]})})]})},Xs=({value:n,onChange:e,options:s,placeholder:r="Select...",disabled:i=!1,className:l=""})=>{const[c,f]=w.useState(!1),u=w.useRef(null),m=s.find(b=>b.value===n);w.useEffect(()=>{const b=v=>{u.current&&!u.current.contains(v.target)&&f(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const g=b=>{e(b),f(!1)};return t.jsxs("div",{className:`relative ${l}`,ref:u,children:[t.jsxs("button",{type:"button",onClick:()=>!i&&f(!c),className:`w-full bg-[#f9fafb] border ${c?"border-[#ff4d00]":"border-gray-200"} p-3 text-sm font-bold text-gray-900 outline-none flex justify-between items-center transition-all duration-200 rounded-sm ${i?"opacity-50 cursor-not-allowed":"cursor-pointer hover:border-gray-300"}`,children:[t.jsx("span",{className:`truncate ${m?"text-gray-900":"text-gray-400"}`,children:m?m.label:r}),t.jsx(Hr,{size:16,className:`text-gray-400 transition-transform duration-200 flex-shrink-0 ml-2 ${c?"rotate-180 text-[#ff4d00]":""}`})]}),c&&t.jsx("div",{className:"absolute top-full left-0 w-full bg-white border border-gray-200 shadow-[0_10px_40px_-10px_rgba(0,0,0,0.2)] z-50 max-h-60 overflow-y-auto mt-1 animate-in fade-in zoom-in-95 duration-100 rounded-sm",children:s.map(b=>t.jsxs("button",{type:"button",onClick:()=>g(b.value),className:"w-full text-left px-4 py-3 text-sm font-medium text-gray-700 hover:bg-[#ff4d00] hover:text-white flex justify-between items-center transition-colors border-b border-gray-50 last:border-0",children:[t.jsx("span",{className:"truncate",children:b.label}),n===b.value&&t.jsx(fn,{size:14,className:"flex-shrink-0 ml-2"})]},b.value))})]})},Zh={AF:"Afghanistan",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AQ:"Antarctica",AG:"Antigua and Barbuda",AR:"Argentina",AM:"Armenia",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BT:"Bhutan",BO:"Bolivia",BA:"Bosnia and Herzegovina",BW:"Botswana",BR:"Brazil",BN:"Brunei",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",CV:"Cabo Verde",KH:"Cambodia",CM:"Cameroon",CA:"Canada",BQ:"Caribbean Netherlands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (Keeling) Islands",CO:"Colombia",KM:"Comoros",CK:"Cook Islands",CR:"Costa Rica",HR:"Croatia",CW:"Curacao",CY:"Cyprus",CZ:"Czechia",CD:"Democratic Republic of the Congo",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",SZ:"Eswatini",ET:"Ethiopia",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern and Antarctic Lands",GA:"Gabon",GE:"Georgia",DE:"Germany",GH:"Ghana",GR:"Greece",GD:"Grenada",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island and McDonald Islands",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran",IQ:"Iraq",IE:"Ireland",IM:"Isle of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Laos",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MR:"Mauritania",MU:"Mauritius",MX:"Mexico",FM:"Micronesia",MD:"Moldova",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar (Burma)",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MK:"North Macedonia",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn Islands",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",CG:"Republic of the Congo",RO:"Romania",RU:"Russia",RW:"Rwanda",BL:"Saint Barthelemy",SH:"Saint Helena, Ascension and Tristan da Cunha",KN:"Saint Kitts and Nevis",LC:"Saint Lucia",MF:"Saint Martin",PM:"Saint Pierre and Miquelon",VC:"Saint Vincent and the Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome and Principe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SX:"Sint Maarten",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia and the South Sandwich Islands",KR:"South Korea",SS:"South Sudan",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SE:"Sweden",CH:"Switzerland",TW:"Taiwan",TJ:"Tajikistan",TZ:"Tanzania",TH:"Thailand",BS:"The Bahamas",GM:"The Gambia",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad and Tobago",TN:"Tunisia",TR:"Turkiye",TM:"Turkmenistan",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UM:"United States Minor Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VA:"Vatican City",VE:"Venezuela",VN:"Vietnam",WF:"Wallis and Futuna",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"},Fr=Object.entries(Zh).map(([n,e])=>({code:n,name:e})),y9=["Afrikaans","Albanian","Amharic","Arabic","Armenian","Azerbaijani","Basque","Belarusian","Bengali","Bosnian","Bulgarian","Catalan","Cebuano","Chichewa","Chinese (Simplified)","Chinese (Traditional)","Corsican","Croatian","Czech","Danish","Dutch","English (US)","English (UK)","Esperanto","Estonian","Filipino","Finnish","French","Frisian","Galician","Georgian","German","Greek","Gujarati","Haitian Creole","Hausa","Hawaiian","Hebrew","Hindi","Hmong","Hungarian","Icelandic","Igbo","Indonesian","Irish","Italian","Japanese","Javanese","Kannada","Kazakh","Khmer","Kinyarwanda","Korean","Kurdish (Kurmanji)","Kyrgyz","Lao","Latin","Latvian","Lithuanian","Luxembourgish","Macedonian","Malagasy","Malay","Malayalam","Maltese","Maori","Marathi","Mongolian","Myanmar (Burmese)","Nepali","Norwegian","Odia (Oriya)","Pashto","Persian","Polish","Portuguese","Punjabi","Romanian","Russian","Samoan","Scots Gaelic","Serbian","Sesotho","Shona","Sindhi","Sinhala","Slovak","Slovenian","Somali","Spanish","Sundanese","Swahili","Swedish","Tajik","Tamil","Tatar","Telugu","Thai","Turkish","Turkmen","Ukrainian","Urdu","Uyghur","Uzbek","Vietnamese","Welsh","Xhosa","Yiddish","Yoruba","Zulu"],hw=[{value:"Direct",label:"Direct"},{value:"Organic (General)",label:"Organic (General)"},{value:"Organic, Google Search",label:"Organic - Google Search"},{value:"Organic, Google News",label:"Organic - Google News"},{value:"Organic, Google Images",label:"Organic - Google Images"},{value:"Organic, Google Video",label:"Organic - Google Video"},{value:"Organic, Bing",label:"Organic - Bing"},{value:"Organic, DuckDuckGo",label:"Organic - DuckDuckGo"},{value:"Organic, YouTube",label:"Organic - YouTube"},{value:"Social (General)",label:"Social (General)"},{value:"Social, Instagram",label:"Social - Instagram"},{value:"Social, Facebook",label:"Social - Facebook"},{value:"Social, LinkedIn",label:"Social - LinkedIn"},{value:"Social, X, Twitter",label:"Social - X (Twitter)"},{value:"Social, Pinterest",label:"Social - Pinterest"},{value:"Referral",label:"Referral"},{value:"Chatbots (General)",label:"Chatbots (General)"},{value:"Chatbots, Meta AI",label:"Chatbots - Meta AI"},{value:"Chatbots, Perplexity AI",label:"Chatbots - Perplexity AI"},{value:"Chatbots, ChatGPT",label:"Chatbots - ChatGPT"},{value:"Chatbots, Claude AI",label:"Chatbots - Claude AI"},{value:"Chatbots, Mistral AI",label:"Chatbots - Mistral AI"},{value:"Chatbots, Microsoft Copilot",label:"Chatbots - Copilot"},{value:"Chatbots, Gemini",label:"Chatbots - Gemini"},{value:"Chatbots, Groq",label:"Chatbots - Groq"},{value:"Messengers (General)",label:"Messengers (General)"},{value:"Messengers, WhatsApp",label:"Messengers - WhatsApp"},{value:"Messengers, WeChat",label:"Messengers - WeChat"},{value:"Messengers, Telegram",label:"Messengers - Telegram"},{value:"Messengers, Viber",label:"Messengers - Viber"}],PT=[{value:"5 seconds",label:"5 seconds"},{value:"30 seconds",label:"30 seconds"},{value:"1 minute",label:"1 minute"},{value:"2 minutes",label:"2 minutes"},{value:"3 minutes",label:"3 minutes"},{value:"4 minutes",label:"4 minutes"},{value:"5 minutes",label:"5 minutes"}],b9=()=>{const n=[];for(let e=-12;e<=14;e++){const s=e>=0?"+":"-",r=Math.abs(e),i=`(GMT${s}${r.toString().padStart(2,"0")}:00) GMT${s}${r}`;if(n.push({value:`GMT${s}${r}`,label:i}),[3,4,5,6,9].includes(r)){const l=`(GMT${s}${r.toString().padStart(2,"0")}:30) GMT${s}${r}:30`;n.push({value:`GMT${s}${r}:30`,label:l})}}return n},DT=b9(),v9=[{value:"random",label:"Random Selection"},{value:"sequential",label:"Sequential Funnel"}],w9=(n,e=30)=>{const s=[],r=new Map(n.map(i=>[i.date,i]));for(let i=e-1;i>=0;i--){const l=new Date;l.setDate(l.getDate()-i);const c=l.toISOString().split("T")[0],f=r.get(c);s.push(f||{date:c,visitors:0,pageviews:0})}return s},j9=({projectId:n,onBack:e,onUpdate:s})=>{var ja,cs,ir;const r=qs(),[i,l]=w.useState(void 0),[c,f]=w.useState(!0),[u,m]=w.useState(void 0),[g,b]=w.useState(!1),[v,E]=w.useState(!1),[N,C]=w.useState([]),[T,O]=w.useState([]),[F,z]=w.useState(!1),[M,U]=w.useState(!1),[X,A]=w.useState(""),[P,_]=w.useState([]),[k,D]=w.useState("pageviews"),[L,R]=w.useState("daily"),[Y,ve]=w.useState(!1),[J,W]=w.useState([]),xe=w.useRef(null),[Ie,Ae]=w.useState(!1),[$,ie]=w.useState(""),[G,H]=w.useState(!1),[me,K]=w.useState(null),[Te,Re]=w.useState(!1),[Oe,gt]=w.useState(""),[wt,_t]=w.useState(!1),[kt,_e]=w.useState(""),[Le,xt]=w.useState(!1);if(w.useEffect(()=>{var dt,es;const te=q.getProjectById(n);if(l(te),te){let ot=te.settings||{bounceRate:0,returnRate:0,deviceSplit:70,tabletSplit:0,deviceSpecific:"All",browser:"Random",timeOnPage:"3 minutes",timezone:"UTC",language:"en-US",languages:["en-US"],gaId:"",entryUrls:"",innerUrls:"",exitUrls:"",autoCrawlEntry:!1,autoCrawlInner:!1,autoCrawlExit:!1,innerUrlCount:0,geoTargets:[],countries:["US"],trafficSource:"Direct",keywords:"",referralUrls:"",utmSource:"",utmMedium:"",utmCampaign:"",utmTerm:"",utmContent:"",proxyMode:"auto",customProxies:"",scheduleMode:"continuous",scheduleTime:"",scheduleDuration:60,urlVisitOrder:"random",sitemap:"",shortener:"",autoRenew:!1,cacheWebsite:!1,minimizeCpu:!1,randomizeSession:!0,antiFingerprint:!0,pageViewsWithScroll:0,clickExternal:0,clickInternal:0};if((!ot.geoTargets||ot.geoTargets.length===0)&&((dt=ot.countries)==null?void 0:dt.length)>0){const tn=ot.countries.length,Qr=Math.floor(100/tn),vn=100-Qr*tn;ot.geoTargets=ot.countries.map(($i,qi)=>{const Jr=Object.keys(Zh).find(Xr=>Zh[Xr]===$i)||$i;return{id:`geo-${Date.now()}-${qi}`,country:Zh[Jr]||Jr,countryCode:Jr,percent:qi===0?Qr+vn:Qr}})}ot.languages||(ot.languages=[ot.language||"en-US"]),!ot.scheduleTrafficAmount&&((es=te.customTarget)!=null&&es.dailyLimit)&&(ot.scheduleTrafficAmount=te.customTarget.dailyLimit),m(ot)}const qe=q.getSystemSettings();_(qe.payloadTemplates||[]),f(!1)},[n]),w.useEffect(()=>{(async()=>{const qe=await q.getCalculatedExpiry(n);K(qe)})()},[n]),w.useEffect(()=>{(async()=>{ve(!0);const qe=await q.syncProjectStats(n,30);C(w9(qe,30)),ve(!1)})()},[n]),w.useEffect(()=>{(async()=>{if(L==="hourly"){ve(!0);const qe=await q.syncProjectStatsHourly(n,24);O(qe),ve(!1)}})()},[n,L]),w.useEffect(()=>{const te=async()=>{if(L==="live"){ve(!0);const qe=await q.syncProjectStatsLive(n);W(qe),ve(!1)}};return L==="live"&&(te(),xe.current=setInterval(te,300*1e3)),()=>{xe.current&&(clearInterval(xe.current),xe.current=null)}},[n,L]),w.useEffect(()=>{const te=()=>{_t(!1),xt(!1)};return document.addEventListener("click",te),()=>document.removeEventListener("click",te)},[]),c||!i||!u)return t.jsx("div",{className:"p-12 text-center text-gray-500",children:"Loading Configuration..."});const we=i.plan==="Free Trial",se=(te,qe)=>{we||m(dt=>dt?{...dt,[te]:qe}:void 0)},$e=async()=>{if(we)return;if(!u.entryUrls||u.entryUrls.trim()===""){alert("Entry URLs are mandatory. Please provide at least one URL.");return}const te=(u.geoTargets||[]).reduce((es,ot)=>es+ot.percent,0);if(te!==100&&(u.geoTargets||[]).length>0){alert(`Total location percentage must equal 100%. Current total: ${te}%`);return}b(!0),E(!1);const qe={...u,countries:(u.geoTargets||[]).map(es=>es.country),language:(u.languages||[])[0]||"en-US"},dt={...i,settings:qe};try{await q.updateProject(dt),l(dt),E(!0),setTimeout(()=>E(!1),2e3),s&&s()}catch(es){console.error("Failed to save project:",es),alert("Failed to save project settings. Please try again.")}finally{b(!1)}},tt=async()=>{if(!i)return;const te=i.status==="active"?"stopped":"active";try{await q.updateProjectStatus(i.id,te),l({...i,status:te}),s&&s()}catch(qe){console.error("Failed to update project status:",qe),alert("Failed to update project status. Please try again.")}},ae=async()=>{if(i&&confirm(`Clone "${i.name}"? A copy will be created with status "paused".`))try{await q.cloneProject(i.id),s&&s(),r("/dashboard/campaigns")}catch(te){console.error("Failed to clone project:",te),alert("Failed to clone project. Please try again.")}},It=async()=>{if(i&&confirm(`Are you sure you want to delete "${i.name}"? This action cannot be undone.`))try{await q.deleteProject(i.id),s&&s(),r("/dashboard/campaigns")}catch(te){console.error("Failed to delete project:",te),alert("Failed to delete project. Please try again.")}},ls=()=>{if(!X.trim())return;const te=q.getSystemSettings(),qe={id:`tpl-${Date.now()}`,name:X,json:JSON.stringify(u)},dt={...te,payloadTemplates:[...te.payloadTemplates||[],qe]};q.saveSystemSettings(dt),_(dt.payloadTemplates||[]),A(""),z(!1),alert("Template saved successfully!")},be=te=>{const qe=P.find(dt=>dt.id===te);if(qe)try{const dt=JSON.parse(qe.json);m({...u,...dt}),U(!1),alert("Template loaded. Please review settings before saving.")}catch{alert("Failed to parse template data.")}},Ue=async()=>{var qe;const te=(qe=(u.entryUrls||"").split(`
`)[0])==null?void 0:qe.trim();if(!te){alert("Please enter an Entry URL first.");return}Re(!0);try{const dt=await q.scanGA4(te);se("gaId",dt),alert(`Found Analytics ID: ${dt}`)}catch(dt){alert(`Scan failed: ${dt.message||"No GA ID found"}`)}finally{Re(!1)}},ee=te=>{if(we||(u.geoTargets||[]).find(vn=>vn.country===te))return;const dt=(u.geoTargets||[]).length+1,es=Math.floor(100/dt),ot=(u.geoTargets||[]).map(vn=>({...vn,percent:es})),tn=100-es*(dt-1),Qr={id:`geo-${Date.now()}`,country:Zh[te]||te,countryCode:te,percent:tn};se("geoTargets",[...ot,Qr]),_e("")},Me=te=>{we||se("geoTargets",(u.geoTargets||[]).filter(qe=>qe.id!==te))},Xe=(te,qe)=>{if(we)return;const dt=(u.geoTargets||[]).map(es=>es.id===te?{...es,percent:qe}:es);se("geoTargets",dt)},Zt=te=>{we||((u.languages||[]).includes(te)||se("languages",[...u.languages||[],te]),gt(""))},Gs=te=>{we||se("languages",(u.languages||[]).filter(qe=>qe!==te))},js=te=>(te||"").split(`
`).filter(qe=>qe.trim().length>0).length,rr=js(u==null?void 0:u.entryUrls),Us=js(u==null?void 0:u.innerUrls),Fs=js(u==null?void 0:u.exitUrls),bn=rr+Us+Fs,Vt=N.length>0?N:i.stats||[];Vt.length>0&&Math.max(...Vt.map(te=>k==="visitors"?te.visitors:te.pageviews||te.visitors));const Rc=y9.filter(te=>te.toLowerCase().includes(Oe.toLowerCase())),Bi=Fr.filter(te=>te.name.toLowerCase().includes(kt.toLowerCase())),ll=((ja=i.customTarget)==null?void 0:ja.totalVisitors)||0,ar=((cs=i.customTarget)==null?void 0:cs.dailyLimit)||0;return t.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-start md:items-center bg-white p-6 border border-gray-200 shadow-sm sticky top-0 z-10",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-sm text-gray-500 transition-colors",children:t.jsx(Zn,{size:20})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400",children:"Project Configuration"}),t.jsxs("span",{className:`text-[8px] font-black uppercase tracking-widest px-1.5 py-0.5 rounded border ${i.plan==="Expert"?"bg-green-50 text-green-700 border-green-200":i.plan==="Professional"?"bg-blue-50 text-blue-700 border-blue-200":"bg-orange-50 text-orange-700 border-orange-200"}`,children:[i.plan," Plan"]})]}),Ie?t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("input",{type:"text",value:$,onChange:te=>ie(te.target.value),onKeyDown:te=>{te.key==="Enter"&&$.trim()&&(l({...i,name:$.trim()}),Ae(!1)),te.key==="Escape"&&(Ae(!1),ie(i.name))},onBlur:()=>{$.trim()&&l({...i,name:$.trim()}),Ae(!1)},className:"text-2xl font-black text-gray-900 bg-gray-100 px-2 py-1 outline-none focus:ring-2 focus:ring-[#ff4d00]",autoFocus:!0})}):t.jsxs("div",{className:"flex items-center gap-2 group",children:[t.jsx("h2",{className:"text-2xl font-black text-gray-900",children:i.name}),t.jsx("button",{onClick:()=>{ie(i.name),Ae(!0)},className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-gray-100 rounded",title:"Edit project name",children:t.jsx(nM,{size:16,className:"text-[#ff4d00]"})})]})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[t.jsxs("div",{className:"flex items-center gap-2 mr-4 border-r border-gray-200 pr-4",children:[t.jsxs("button",{onClick:()=>z(!0),className:"flex items-center gap-2 px-3 py-2 text-xs font-bold uppercase tracking-wider text-gray-600 hover:text-[#ff4d00] hover:bg-orange-50 border border-gray-200 hover:border-[#ff4d00] transition-colors",children:[t.jsx(ya,{size:14,className:"text-[#ff4d00]"})," Save Template"]}),t.jsxs("button",{onClick:()=>U(!0),className:"flex items-center gap-2 px-3 py-2 text-xs font-bold uppercase tracking-wider text-gray-600 hover:text-[#ff4d00] hover:bg-orange-50 border border-gray-200 hover:border-[#ff4d00] transition-colors",children:[t.jsx(If,{size:14,className:"text-[#ff4d00]"})," Load Template"]})]}),v&&t.jsxs("span",{className:"text-green-600 text-xs font-bold uppercase tracking-wider animate-in fade-in slide-in-from-right-2 mr-4 flex items-center gap-1",children:[t.jsx(ec,{size:14})," Saved"]}),we?t.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 text-gray-500 px-4 py-2.5 text-xs font-bold uppercase tracking-wider border border-gray-200 cursor-not-allowed",children:[t.jsx(Yn,{size:14})," Read Only"]}):t.jsxs("button",{onClick:$e,disabled:g,className:"flex items-center gap-2 bg-[#ff4d00] text-white px-5 py-2.5 text-xs font-bold uppercase tracking-wider hover:bg-black transition-colors disabled:opacity-70 shadow-lg",children:[t.jsx(ya,{size:14})," ",g?"Saving...":"Save Changes"]}),t.jsxs("button",{onClick:ae,className:"flex items-center gap-2 px-3 py-2 text-xs font-bold uppercase tracking-wider text-gray-600 hover:text-[#ff4d00] hover:bg-orange-50 border border-gray-200 hover:border-[#ff4d00] transition-colors",children:[t.jsx(cn,{size:14,className:"text-[#ff4d00]"})," Clone"]}),t.jsxs("button",{onClick:tt,className:"flex items-center gap-2 px-3 py-2 text-xs font-bold uppercase tracking-wider text-gray-600 hover:text-[#ff4d00] hover:bg-orange-50 border border-gray-200 hover:border-[#ff4d00] transition-colors",children:[i.status==="active"?t.jsx(_T,{size:14,className:"text-[#ff4d00]"}):t.jsx(sm,{size:14,className:"text-[#ff4d00]"}),i.status==="active"?"Pause":"Resume"]}),t.jsxs("button",{onClick:It,className:"flex items-center gap-2 px-3 py-2 text-xs font-bold uppercase tracking-wider text-gray-600 hover:text-[#ff4d00] hover:bg-orange-50 border border-gray-200 hover:border-[#ff4d00] transition-colors",children:[t.jsx(ba,{size:14,className:"text-[#ff4d00]"})," Delete"]})]})]}),F&&t.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white p-6 w-full max-w-md shadow-xl border border-gray-200",children:[t.jsx("h3",{className:"text-sm font-bold uppercase mb-4",children:"Save Configuration as Template"}),t.jsx("input",{value:X,onChange:te=>A(te.target.value),className:"w-full bg-gray-50 border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00] mb-4",placeholder:"Template Name (e.g. Mobile US Organic)"}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx("button",{onClick:()=>z(!1),className:"px-4 py-2 text-xs font-bold uppercase text-gray-500",children:"Cancel"}),t.jsx("button",{onClick:ls,className:"px-4 py-2 text-xs font-bold uppercase bg-black text-white hover:bg-[#ff4d00]",children:"Save"})]})]})}),M&&t.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white p-6 w-full max-w-md shadow-xl border border-gray-200",children:[t.jsx("h3",{className:"text-sm font-bold uppercase mb-4",children:"Load Template"}),t.jsx("div",{className:"space-y-2 mb-4 max-h-60 overflow-y-auto",children:P.length===0?t.jsx("p",{className:"text-xs text-gray-400",children:"No templates found."}):P.map(te=>t.jsx("button",{onClick:()=>be(te.id),className:"w-full text-left p-3 bg-gray-50 hover:bg-gray-100 text-sm font-medium border border-transparent hover:border-gray-200",children:te.name},te.id))}),t.jsx("button",{onClick:()=>U(!1),className:"w-full px-4 py-2 text-xs font-bold uppercase bg-black text-white hover:bg-gray-800",children:"Close"})]})}),we&&t.jsxs("div",{className:"bg-orange-50 border-l-4 border-[#ff4d00] p-4 flex items-start gap-3 shadow-sm",children:[t.jsx(Lt,{className:"text-[#ff4d00] shrink-0",size:20}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-bold text-orange-900 uppercase tracking-wide",children:"Free Trial Mode"}),t.jsx("p",{className:"text-xs text-orange-700 mt-1 leading-relaxed",children:"This project is running on a high-speed demonstration plan (6,000 hits/4h). Settings are locked."})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"bg-white p-5 border border-gray-200 shadow-sm flex flex-col justify-between",children:[t.jsxs("div",{className:"text-xs font-bold uppercase text-gray-400 mb-2 flex items-center gap-2",children:[t.jsx(rc,{size:14})," Total Target"]}),t.jsx("div",{className:"text-xl font-bold text-gray-900",children:ll>0?ll.toLocaleString():i.plan})]}),t.jsxs("div",{className:"bg-white p-5 border border-gray-200 shadow-sm flex flex-col justify-between",children:[t.jsxs("div",{className:"text-xs font-bold uppercase text-gray-400 mb-2 flex items-center gap-2",children:[t.jsx(Ef,{size:14})," Daily Speed"]}),t.jsx("div",{className:"text-xl font-bold text-gray-900",children:ar>0?`${ar.toLocaleString()}/day`:"N/A"})]}),t.jsxs("div",{className:"bg-white p-5 border border-gray-200 shadow-sm flex flex-col justify-between",children:[t.jsxs("div",{className:"text-xs font-bold uppercase text-gray-400 mb-2 flex items-center gap-2",children:[t.jsx(br,{size:14})," Hits Total"]}),t.jsx("div",{className:"text-xl font-bold text-gray-900",children:((ir=i.totalHits)==null?void 0:ir.toLocaleString())||0})]}),t.jsxs("div",{className:"bg-white p-5 border border-gray-200 shadow-sm flex flex-col justify-between",children:[t.jsxs("div",{className:"text-xs font-bold uppercase text-gray-400 mb-2 flex items-center gap-2",children:[t.jsx(cw,{size:14})," Status"]}),t.jsx("div",{className:`text-sm font-black uppercase tracking-wide ${i.status==="active"?"text-green-600":i.status==="stopped"?"text-red-600":"text-gray-500"}`,children:i.status==="completed"?"Expired":i.status})]}),t.jsxs("div",{className:"bg-white p-5 border border-gray-200 shadow-sm flex flex-col justify-between",children:[t.jsxs("div",{className:"text-xs font-bold uppercase text-gray-400 mb-2 flex items-center gap-2",children:[t.jsx(Uo,{size:14})," Expires"]}),me?t.jsx("div",{children:me.message?t.jsx("div",{className:"text-sm font-bold text-orange-500",children:me.message}):me.daysRemaining!==null?t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-gray-900",children:me.expiresDate}),t.jsxs("div",{className:"text-[10px] text-gray-500 mt-1",children:[me.daysRemaining.toFixed(1)," days remaining"]})]}):t.jsx("div",{className:"text-sm font-bold text-gray-900",children:i.expires})}):t.jsx("div",{className:"text-sm font-bold text-gray-900",children:i.expires})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:[t.jsxs("button",{onClick:()=>H(!G),className:"w-full flex items-center justify-between p-6 hover:bg-gray-50 transition-colors",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Uo,{size:18,className:"text-[#ff4d00]"}),t.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00]",children:"Traffic Schedule"})]}),G?t.jsx(_c,{size:18,className:"text-gray-400"}):t.jsx(Hr,{size:18,className:"text-gray-400"})]}),G&&t.jsx("div",{className:"p-6 pt-0 border-t border-gray-100 animate-in fade-in slide-in-from-top-2",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-4",children:[t.jsxs("div",{children:[t.jsx(ps,{children:"Start Date"}),t.jsx("input",{type:"date",value:u.scheduleStart||"",onChange:te=>se("scheduleStart",te.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",disabled:we})]}),t.jsxs("div",{children:[t.jsx(ps,{children:"End Date"}),t.jsx("input",{type:"date",value:u.scheduleEnd||"",onChange:te=>se("scheduleEnd",te.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",disabled:we})]}),t.jsxs("div",{children:[t.jsx(ps,{children:"Daily Traffic (Hits per Day)"}),t.jsx("input",{type:"number",value:u.scheduleTrafficAmount||"",onChange:te=>se("scheduleTrafficAmount",parseInt(te.target.value)||0),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"Hits per day",disabled:we})]}),t.jsxs("div",{children:[t.jsx(ps,{children:"Distribution Pattern"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>se("schedulePattern","even"),className:`flex-1 px-3 py-3 text-xs font-bold uppercase tracking-wider border transition-colors ${u.schedulePattern==="even"||!u.schedulePattern?"border-[#ff4d00] bg-orange-50 text-[#ff4d00]":"border-gray-200 text-gray-600 hover:border-gray-300"}`,disabled:we,children:"Even"}),t.jsx("button",{onClick:()=>se("schedulePattern","realistic"),className:`flex-1 px-3 py-3 text-xs font-bold uppercase tracking-wider border transition-colors ${u.schedulePattern==="realistic"?"border-[#ff4d00] bg-orange-50 text-[#ff4d00]":"border-gray-200 text-gray-600 hover:border-gray-300"}`,disabled:we,children:"Realistic"})]}),u.schedulePattern==="realistic"&&t.jsx("p",{className:"text-[10px] text-gray-500 mt-2",children:"Traffic varies by time of day and day of week for natural patterns."})]})]})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00]",children:"Traffic Statistics"}),t.jsxs("div",{className:"flex bg-gray-100 rounded-sm p-1",children:[t.jsx("button",{onClick:()=>R("daily"),className:`px-3 py-1 text-[10px] font-bold uppercase tracking-wider rounded-sm transition-all ${L==="daily"?"bg-white shadow-sm text-black":"text-gray-500 hover:text-gray-700"}`,children:"30 Days"}),t.jsx("button",{onClick:()=>R("hourly"),className:`px-3 py-1 text-[10px] font-bold uppercase tracking-wider rounded-sm transition-all ${L==="hourly"?"bg-white shadow-sm text-black":"text-gray-500 hover:text-gray-700"}`,children:"24 Hours"}),t.jsx("button",{onClick:()=>R("live"),className:`px-3 py-1 text-[10px] font-bold uppercase tracking-wider rounded-sm transition-all ${L==="live"?"bg-white shadow-sm text-black":"text-gray-500 hover:text-gray-700"}`,children:"Live"})]})]}),t.jsxs("div",{className:"text-xs text-gray-500 font-bold",children:["Total Views:",t.jsx("span",{className:"text-gray-900 ml-1",children:(L==="daily"?Vt:L==="hourly"?T:J).reduce((te,qe)=>te+(qe.pageviews||qe.visitors),0).toLocaleString()})]})]}),L==="live"&&t.jsxs("div",{className:"mb-4 p-3 bg-orange-50 border border-orange-200 rounded-sm flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 bg-[#ff4d00] rounded-full animate-pulse"}),t.jsx("span",{className:"text-xs font-bold text-orange-700 uppercase tracking-wide",children:"Live Traffic - Updated every 5 minutes"})]}),t.jsx("div",{className:"h-64 flex items-end justify-between gap-1 w-full px-4 border-b border-gray-100 pb-2",children:Y?t.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-sm animate-pulse",children:"Loading statistics..."}):(L==="daily"?Vt:L==="hourly"?T:J).length===0?t.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-sm",children:L==="live"?"No live traffic data available.":"No traffic data available."}):(L==="daily"?Vt:L==="hourly"?T:J).map((te,qe)=>{const dt=te.pageviews||te.visitors,ot=Math.max(...(L==="daily"?Vt:L==="hourly"?T:J).map(vn=>vn.pageviews||vn.visitors),1),tn=ot>0?dt/ot*100:0,Qr=L==="daily"?te.date:L==="hourly"?te.hour:te.time;return t.jsxs("div",{className:"flex-1 flex flex-col justify-end group relative h-full",children:[t.jsxs("div",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 bg-black text-white text-[10px] py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10 whitespace-nowrap",children:[Qr,": ",dt.toLocaleString()]}),t.jsx("div",{className:"w-full opacity-80 hover:opacity-100 transition-opacity rounded-t-sm min-w-[4px] bg-[#ff4d00]",style:{height:`${tn}%`,minHeight:"4px"}})]},qe)})})]}),t.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-2 gap-6 ${we?"opacity-70 pointer-events-none grayscale-[0.5]":""}`,children:[t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[t.jsx(db,{})," Basic Settings"]}),t.jsxs("div",{className:"space-y-8",children:[t.jsx(ub,{label:"Bounce Rate",value:u.bounceRate,onChange:te=>se("bounceRate",te),suffix:"%"}),t.jsx(ub,{label:"Visitor Returning Rate",value:u.returnRate,onChange:te=>se("returnRate",te),suffix:"%"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-end",children:[t.jsx(ps,{children:"Device Distribution"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>{se("deviceSplit",100),se("tabletSplit",0)},className:"text-[9px] font-bold uppercase text-gray-400 hover:text-[#ff4d00]",children:"Desktop Only"}),t.jsx("button",{onClick:()=>{se("deviceSplit",33),se("tabletSplit",33)},className:"text-[9px] font-bold uppercase text-gray-400 hover:text-[#ff4d00]",children:"Balanced"}),t.jsx("button",{onClick:()=>{se("deviceSplit",0),se("tabletSplit",0)},className:"text-[9px] font-bold uppercase text-gray-400 hover:text-[#ff4d00]",children:"Mobile Only"})]})]}),t.jsxs("div",{className:"relative h-4 bg-gray-100 rounded-sm overflow-hidden flex text-[8px] font-bold text-white uppercase text-center leading-4 shadow-inner",children:[t.jsx("div",{className:"h-full bg-[#ff4d00]",style:{width:`${u.deviceSplit}%`},children:u.deviceSplit>10&&"Desktop"}),t.jsx("div",{className:"h-full bg-gray-600",style:{width:`${u.tabletSplit||0}%`},children:(u.tabletSplit||0)>10&&"Tablet"}),t.jsx("div",{className:"h-full bg-black/80",style:{width:`${100-u.deviceSplit-(u.tabletSplit||0)}%`},children:100-u.deviceSplit-(u.tabletSplit||0)>10&&"Mobile"})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-gray-400 uppercase mb-1",children:[t.jsxs("span",{className:"flex items-center gap-1 text-[#ff4d00]",children:[t.jsx(Yd,{size:12})," Desktop"]}),t.jsxs("span",{children:[u.deviceSplit,"%"]})]}),t.jsx("input",{type:"range",min:"0",max:"100",value:u.deviceSplit,onChange:te=>{const qe=parseInt(te.target.value),dt=100-(u.tabletSplit||0);se("deviceSplit",Math.min(qe,dt))},className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-[#ff4d00]",disabled:we})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-gray-400 uppercase mb-1",children:[t.jsxs("span",{className:"flex items-center gap-1 text-gray-600",children:[t.jsx(Yd,{size:12})," Tablet"]}),t.jsxs("span",{children:[u.tabletSplit||0,"%"]})]}),t.jsx("input",{type:"range",min:"0",max:"100",value:u.tabletSplit||0,onChange:te=>{const qe=parseInt(te.target.value),dt=100-u.deviceSplit;se("tabletSplit",Math.min(qe,dt))},className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-gray-600",disabled:we})]}),t.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-gray-400 uppercase bg-gray-50 p-2 rounded-sm border border-gray-100",children:[t.jsxs("span",{className:"flex items-center gap-1 text-black",children:[t.jsx(dx,{size:12})," Mobile Remainder"]}),t.jsxs("span",{className:"text-black",children:[Math.max(0,100-u.deviceSplit-(u.tabletSplit||0)),"%"]})]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[t.jsx(db,{})," Additional Settings"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(ps,{children:"Time On Page"}),t.jsx(Xs,{value:u.timeOnPage,onChange:te=>se("timeOnPage",te),options:PT,disabled:we})]}),t.jsxs("div",{children:[t.jsx(ps,{children:"Timezone"}),t.jsx(Xs,{value:u.timezone,onChange:te=>se("timezone",te),options:DT,disabled:we})]}),t.jsxs("div",{className:"relative",onClick:te=>te.stopPropagation(),children:[t.jsx(ps,{children:"Browser Languages"}),t.jsxs("div",{className:"bg-[#f9fafb] border border-gray-200 p-2 min-h-[48px] flex flex-wrap gap-2",children:[(u.languages||[]).map(te=>t.jsxs("span",{className:"bg-white border border-gray-200 text-xs font-bold uppercase px-2 py-1 flex items-center gap-1 rounded-sm",children:[te," ",t.jsx("button",{onClick:()=>Gs(te),className:"hover:text-red-500",children:t.jsx(mn,{size:10})})]},te)),t.jsx("input",{value:Oe,onChange:te=>{gt(te.target.value),_t(!0)},onFocus:()=>_t(!0),className:"flex-1 bg-transparent text-sm outline-none min-w-[80px]",placeholder:(u.languages||[]).length===0?"Select Language...":"",disabled:we})]}),wt&&t.jsx("div",{className:"absolute top-full left-0 w-full bg-white border border-gray-200 shadow-xl max-h-60 overflow-y-auto z-50",children:Rc.map(te=>t.jsx("div",{className:"p-3 text-sm hover:bg-orange-50 cursor-pointer",onClick:()=>{Zt(te),_t(!1)},children:te},te))})]}),t.jsxs("div",{children:[t.jsx(ps,{children:"Google Analytics ID"}),t.jsxs("div",{className:"relative flex items-center",children:[t.jsx("input",{value:u.gaId,onChange:te=>se("gaId",te.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium text-gray-900 pr-10",placeholder:"G-XXXXXXXXXX",disabled:we}),t.jsx("button",{onClick:Ue,className:"absolute right-2 text-xs font-bold text-gray-400 hover:text-[#ff4d00] uppercase tracking-wide flex items-center gap-1",title:"Scan Entry URL for GA ID",disabled:Te||we,children:Te?t.jsx(Ur,{size:14,className:"animate-spin"}):t.jsx(jr,{size:14})})]})]})]})]})]}),i.plan==="Economy"&&t.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-400 p-4 mx-6 flex items-center justify-between shadow-sm animate-in fade-in slide-in-from-top-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Kn,{size:20,className:"text-orange-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-bold text-orange-900 uppercase tracking-tight",children:"Tier Limitation: Economy"}),t.jsx("p",{className:"text-[10px] text-orange-700 font-medium",children:"Organic/Social sources, Residential IPs, and GA4 Automation are disabled on this plan."})]})]})}),t.jsxs("div",{className:we?"opacity-70 pointer-events-none grayscale-[0.5]":"",children:[t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8 mt-6",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[t.jsx(Ts,{size:16})," URL Configuration"]}),t.jsxs("div",{className:"space-y-8",children:[t.jsx(ub,{label:"Inner URLs Limit",value:u.innerUrlCount,onChange:te=>se("innerUrlCount",te),max:10}),t.jsx("div",{className:"flex items-end justify-between border-b border-gray-100 pb-2 mb-2",children:t.jsx(ps,{children:"Visit Behavior"})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:t.jsxs("div",{className:"bg-gray-50 p-3 rounded-sm border border-gray-100",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-2",children:"Visit Order"}),t.jsx(Xs,{value:u.urlVisitOrder||"random",onChange:te=>se("urlVisitOrder",te),options:v9,disabled:we}),t.jsxs("p",{className:"text-[10px] text-gray-400 mt-2 leading-tight",children:[t.jsx("strong",{children:"Sequential:"})," Landing  Inner 1  Inner 2.",t.jsx("br",{}),t.jsx("strong",{children:"Random:"})," Picks random pages from pool."]})]})}),t.jsx(hb,{label:"Entry URLs",value:u.entryUrls,onChange:te=>se("entryUrls",te),checked:u.autoCrawlEntry,onCheck:te=>se("autoCrawlEntry",te),countLabel:`Total: ${bn}/10`,required:!0}),t.jsx(hb,{label:"Inner URLs",value:u.innerUrls,onChange:te=>se("innerUrls",te),checked:u.autoCrawlInner,onCheck:te=>se("autoCrawlInner",te),countLabel:`Total: ${bn}/10`}),t.jsx(hb,{label:"Exit URLs",value:u.exitUrls,onChange:te=>se("exitUrls",te),checked:u.autoCrawlExit,onCheck:te=>se("autoCrawlExit",te),countLabel:`Total: ${bn}/10`}),t.jsxs("div",{className:i.plan==="Economy"?"opacity-50 pointer-events-none":"",children:[t.jsx(ps,{children:"Sitemap / RSS Feed"}),t.jsx("input",{value:u.sitemap||"",onChange:te=>se("sitemap",te.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"https://example.com/sitemap.xml"}),t.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Automatically discover URLs from your sitemap"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8",onClick:te=>te.stopPropagation(),children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[t.jsx(Fo,{size:16})," Location Targeting"]}),t.jsxs("div",{className:"mb-4",children:[t.jsx(ps,{children:"Search Countries"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{value:kt,onChange:te=>{_e(te.target.value),xt(!0)},onFocus:()=>xt(!0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 pl-10 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"Type to search (e.g. United States)",disabled:we}),t.jsx(jr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16})]}),Le&&kt&&t.jsx("div",{className:"absolute top-full left-0 w-full bg-white border border-gray-200 shadow-xl max-h-60 overflow-y-auto z-50 mt-1",children:Bi.map(te=>t.jsxs("div",{className:"p-3 text-sm hover:bg-orange-50 cursor-pointer font-medium flex items-center gap-2",onClick:()=>{ee(te.code),xt(!1)},children:[t.jsx("img",{src:`https://flagcdn.com/w20/${te.code.toLowerCase()}.png`,alt:te.code,className:"w-4 h-auto rounded-sm",onError:qe=>{qe.target.style.display="none"}}),te.name]},te.code))})]}),(u.geoTargets||[]).length>0&&t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"flex justify-between items-center mb-2",children:t.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase",children:["Selected (",(u.geoTargets||[]).length,")"]})}),t.jsx("div",{className:"space-y-2",children:(u.geoTargets||[]).map(te=>{const qe=Fr.find(ot=>ot.code===te.country),es=100-(u.geoTargets||[]).reduce((ot,tn)=>tn.id!==te.id?ot+tn.percent:ot,0);return t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 border border-gray-100",children:[t.jsx("img",{src:`https://flagcdn.com/w24/${te.country.toLowerCase()}.png`,alt:te.country,className:"w-6 h-auto rounded-sm",onError:ot=>{ot.target.style.display="none"}}),t.jsx("span",{className:"flex-1 font-bold text-sm text-gray-900",children:(qe==null?void 0:qe.name)||te.country}),t.jsx("input",{type:"range",min:"0",max:es,value:te.percent,onChange:ot=>Xe(te.id,parseInt(ot.target.value)),className:"w-24 accent-[#ff4d00]"}),t.jsx("input",{type:"number",min:"0",max:es,value:te.percent,onChange:ot=>Xe(te.id,parseInt(ot.target.value)||0),className:"w-16 p-1 text-center text-sm font-bold border border-gray-200 outline-none focus:border-[#ff4d00]"}),t.jsx("span",{className:"text-sm font-bold text-gray-400",children:"%"}),t.jsx("button",{onClick:()=>Me(te.id),className:"text-gray-400 hover:text-red-500",children:t.jsx(mn,{size:14})})]},te.id)})}),t.jsxs("div",{className:`text-right mt-2 text-sm font-bold ${(u.geoTargets||[]).reduce((te,qe)=>te+qe.percent,0)===100?"text-green-600":"text-orange-500"}`,children:["Total: ",(u.geoTargets||[]).reduce((te,qe)=>te+qe.percent,0),"%"]})]}),(u.geoTargets||[]).length===0&&t.jsx("div",{className:"text-center p-4 text-xs text-gray-400 bg-gray-50 border border-dashed border-gray-200",children:"No countries selected. Traffic will be global."})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[t.jsx(br,{size:16})," Traffic Source"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(ps,{children:"Source Type"}),t.jsx(Xs,{value:u.trafficSource,onChange:te=>se("trafficSource",te),options:hw,disabled:we})]}),(u.trafficSource||"").includes("Organic")&&t.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[t.jsx(ps,{children:"Keywords (One per line)"}),t.jsx("textarea",{value:u.keywords||"",onChange:te=>se("keywords",te.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium h-32 resize-none",placeholder:`keyword 1
keyword 2`,disabled:we})]}),((u.trafficSource||"").includes("Social")||(u.trafficSource||"").includes("Referral"))&&t.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[t.jsx(ps,{children:"Referrer URLs (One per line)"}),t.jsx("textarea",{value:u.referralUrls||"",onChange:te=>se("referralUrls",te.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium h-32 resize-none",placeholder:`https://referrer-site.com/post
https://social-media.com/share`,disabled:we})]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8 mt-6",onClick:te=>te.stopPropagation(),children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[t.jsx(rc,{size:16})," Tracking & Attribution (UTM)"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx(ps,{children:"Campaign Source"}),t.jsx("input",{value:u.utmSource||"",onChange:te=>se("utmSource",te.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. google, newsletter",disabled:we})]}),t.jsxs("div",{children:[t.jsx(ps,{children:"Campaign Medium"}),t.jsx("input",{value:u.utmMedium||"",onChange:te=>se("utmMedium",te.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. cpc, banner",disabled:we})]}),t.jsxs("div",{children:[t.jsx(ps,{children:"Campaign Name"}),t.jsx("input",{value:u.utmCampaign||"",onChange:te=>se("utmCampaign",te.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. spring_sale",disabled:we})]}),t.jsxs("div",{children:[t.jsx(ps,{children:"Campaign Term"}),t.jsx("input",{value:u.utmTerm||"",onChange:te=>se("utmTerm",te.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. running shoes",disabled:we})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx(ps,{children:"Campaign Content"}),t.jsx("input",{value:u.utmContent||"",onChange:te=>se("utmContent",te.target.value),className:"w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium",placeholder:"e.g. logolink, textlink",disabled:we}),t.jsxs("div",{className:"mt-2 flex gap-2",children:[t.jsx("span",{className:"text-[10px] text-gray-400 bg-gray-50 px-2 py-1 rounded border border-gray-100",children:"{{random_keyword}}"}),t.jsx("span",{className:"text-[10px] text-gray-400 bg-gray-50 px-2 py-1 rounded border border-gray-100",children:"{{timestamp}}"}),t.jsx("span",{className:"text-[10px] text-gray-400 bg-gray-50 px-2 py-1 rounded border border-gray-100",children:"{{device_type}}"})]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 md:p-8 mb-20 mt-6",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8 flex items-center gap-2",children:[t.jsx(db,{})," General Settings"]}),t.jsxs("div",{className:`flex items-center justify-between p-6 mb-8 border-2 rounded-sm transition-all duration-300 relative overflow-hidden
                    ${u.autoRenew?"border-green-500 bg-green-50 shadow-md":"border-gray-200 bg-white"} 
                `,children:[t.jsxs("div",{className:"relative z-10 max-w-xl",children:[t.jsxs("span",{className:"text-lg font-bold text-gray-900 flex items-center gap-3",children:[t.jsx(Lt,{size:20,className:u.autoRenew?"text-green-600":"text-gray-400"}),"Auto Renew Campaign"]}),t.jsx("p",{className:"text-xs text-gray-500 mt-2 leading-relaxed",children:"Automatically renew this campaign using wallet credits when it expires."})]}),t.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-2",children:[t.jsx("button",{onClick:()=>se("autoRenew",!u.autoRenew),className:`w-14 h-8 flex items-center p-1 transition-colors duration-300 rounded-full ${u.autoRenew?"bg-green-500":"bg-gray-200"}`,disabled:we,children:t.jsx("div",{className:`w-6 h-6 bg-white rounded-full shadow-md transform transition-transform duration-300 ${u.autoRenew?"translate-x-6":"translate-x-0"}`})}),t.jsx("span",{className:`text-[10px] font-bold uppercase tracking-widest ${u.autoRenew?"text-green-600":"text-gray-400"}`,children:u.autoRenew?"Active":"Disabled"})]})]}),t.jsx("div",{className:"h-px bg-gray-100 my-8"}),t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-400 mb-6 flex items-center gap-2",children:[t.jsx(Kr,{size:14,className:"text-yellow-500"})," Premium Expert Features"]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.jsxs("div",{className:`relative ${i.plan!=="Expert"?"opacity-50":""}`,children:[t.jsx(N9,{label:"Automatic Website Crawler",checked:u.websiteCrawler||!1,onChange:te=>i.plan==="Expert"&&se("websiteCrawler",te)}),i.plan!=="Expert"&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/10 cursor-not-allowed pointer-events-auto",title:"Expert Tier Required"})]})})]})]})]})},db=()=>t.jsx("div",{className:"w-1 h-3 bg-[#ff4d00] mr-1"}),ps=({children:n,required:e})=>t.jsxs("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:[n," ",e&&t.jsx("span",{className:"text-red-500",children:"*"})]}),ub=({label:n,value:e,onChange:s,suffix:r="",max:i=100})=>t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-end",children:[t.jsx(ps,{children:n}),t.jsxs("span",{className:"text-xs font-bold text-[#ff4d00]",children:[e,r]})]}),t.jsx("input",{type:"range",min:"0",max:i,value:e,onChange:l=>s(parseInt(l.target.value)),className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-[#ff4d00]"})]}),hb=({label:n,value:e,onChange:s,checked:r,onCheck:i,countLabel:l,placeholder:c,required:f})=>t.jsx("div",{className:"flex items-start gap-4",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:r,onChange:u=>i(u.target.checked),className:"accent-[#ff4d00] w-4 h-4"}),t.jsx(ps,{required:f,children:n})]}),l&&t.jsx("span",{className:"text-[10px] font-bold text-gray-400",children:l})]}),t.jsx("textarea",{value:e,onChange:u=>s(u.target.value),rows:4,className:`w-full bg-[#f9fafb] border-b-2 border-transparent focus:border-[#ff4d00] p-3 outline-none text-sm font-medium text-gray-900 transition-colors resize-y ${r?"":"opacity-50"}`,placeholder:c||"https://example.com/page",disabled:!r})]})}),N9=({label:n,checked:e,onChange:s})=>t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 bg-gray-50",children:[t.jsx("span",{className:"text-sm font-bold text-gray-700",children:n}),t.jsx("button",{onClick:()=>s(!e),className:`w-10 h-5 flex items-center p-0.5 transition-colors duration-300 ${e?"bg-[#ff4d00]":"bg-gray-300"}`,children:t.jsx("div",{className:`w-4 h-4 bg-white shadow-sm transform transition-transform duration-300 ${e?"translate-x-5":"translate-x-0"}`})})]}),fb=[{id:1,label:"Identity",icon:Ts},{id:2,label:"Volume",icon:ga},{id:3,label:"Geo",icon:Fo},{id:4,label:"Behavior",icon:Lt},{id:5,label:"Review",icon:fn}],_9=[{id:"facebook",label:"Facebook"},{id:"twitter",label:"X (Twitter)"},{id:"instagram",label:"Instagram"},{id:"linkedin",label:"LinkedIn"},{id:"pinterest",label:"Pinterest"},{id:"youtube",label:"YouTube"},{id:"tiktok",label:"TikTok"},{id:"reddit",label:"Reddit"}],k9=({onBack:n,onCreated:e})=>{const s=qs(),[r,i]=w.useState(1),[l,c]=w.useState(!1),[f,u]=w.useState(""),[m,g]=w.useState([]);w.useEffect(()=>{(async()=>{await q.syncTransactions(),g(q.getTransactions())})()},[]);const b=be=>{const Ue=m.filter(Me=>Me.type!=="debit"&&Me.tier===be&&Me.hits).reduce((Me,Xe)=>Me+(Xe.hits||0),0),ee=m.filter(Me=>Me.type==="debit"&&Me.tier===be&&Me.hits).reduce((Me,Xe)=>Me+(Xe.hits||0),0);return Ue-ee};w.useMemo(()=>["expert","professional","economy"].filter(Ue=>b(Ue)>0),[m]);const v=()=>b("expert")>0?"expert":b("professional")>0?"professional":b("economy")>0?"economy":"expert",[E,N]=w.useState(v()),[C,T]=w.useState(""),[O,F]=w.useState(""),[z,M]=w.useState(""),[U,X]=w.useState(!1),[A,P]=w.useState(1e3),[_,k]=w.useState(100),[D,L]=w.useState(()=>new Date().toISOString().split("T")[0]),[R,Y]=w.useState(10),[ve,J]=w.useState([]),[W,xe]=w.useState({}),[Ie,Ae]=w.useState(""),[$,ie]=w.useState(35),[G,H]=w.useState("3 minutes"),[me,K]=w.useState("Direct"),[Te,Re]=w.useState(""),[Oe,gt]=w.useState(""),[wt,_t]=w.useState([]),kt=async()=>{var be,Ue;if(O){X(!0),u("");try{const ee=await q.scanGA4(O);ee?M(ee):u("No GA4 ID found on this page. Please enter manually.")}catch(ee){(be=ee==null?void 0:ee.message)!=null&&be.includes("credentials")||(Ue=ee==null?void 0:ee.message)!=null&&Ue.includes("401")?u("Session expired. Please enter GA-ID manually or refresh the page."):u((ee==null?void 0:ee.message)||"Failed to scan for GA4. Please enter manually.")}finally{X(!1)}}},_e=be=>{if(ve.includes(be)){const Ue=ve.filter(ee=>ee!==be);J(Ue),xe(ee=>{const Me={...ee};if(delete Me[be],Ue.length>0){const Xe=Math.floor(100/Ue.length);Ue.forEach(Gs=>{Me[Gs]=Xe});const Zt=100-Xe*Ue.length;Zt>0&&Ue.length>0&&(Me[Ue[0]]+=Zt)}return Me})}else{const Ue=[...ve,be];J(Ue);const ee=Math.floor(100/Ue.length),Me={};Ue.forEach(Zt=>{Me[Zt]=ee});const Xe=100-ee*Ue.length;Xe>0&&(Me[be]+=Xe),xe(Me)}},Le=(be,Ue)=>{xe(ee=>{const Me=Object.entries(ee).filter(([Gs])=>Gs!==be).reduce((Gs,[,js])=>Gs+js,0),Xe=Math.max(0,100-Me),Zt=Math.max(0,Math.min(Xe,Ue));return{...ee,[be]:Zt}})},xt=w.useMemo(()=>Object.values(W).reduce((be,Ue)=>be+Ue,0),[W]),we=()=>{if(ve.length===0)return;const be=Math.floor(100/ve.length),Ue={};ve.forEach(Me=>{Ue[Me]=be});const ee=100-be*ve.length;ee>0&&ve.length>0&&(Ue[ve[0]]+=ee),xe(Ue)},se=be=>{wt.includes(be)?_t(Ue=>Ue.filter(ee=>ee!==be)):_t(Ue=>[...Ue,be])},$e=()=>{if(u(""),r===1){if(!C.trim())return u("Please enter a project name.");if(!O.trim())return u("Please enter a target URL.");if(!z.trim())return u("Google Analytics ID is required.")}if(r===2){if(A<100)return u("Minimum 100 hits required.");if(_<1)return u("Minimum 1 hit per day required.");if(R<1)return u("Minimum 1 day duration required.");const be=b(E);if(A>be)return u(`Insufficient ${E} hits. Available: ${be.toLocaleString()}`)}if(r===3){if(ve.length===0)return u("Please select at least one country.");if(xt!==100)return u("Country distribution must total 100%.")}if(r===4){if((me==="Organic (General)"||me.startsWith("Organic"))&&!Te.trim())return u("Please enter keywords for organic traffic.");if((me==="Social (General)"||me.startsWith("Social"))&&wt.length===0)return u("Please select at least one social platform.");if(me==="Referral"&&!Oe.trim())return u("Please enter referral URLs.")}r<5?i(r+1):ae()},tt=()=>{r>1?i(r-1):n()},ae=async()=>{var be;c(!0),u("");try{const Ue=new Date(D),ee=new Date(Ue.getTime()+R*24*60*60*1e3),Me=ve.map(rr=>({id:`geo-${rr}`,country:rr,percent:W[rr]||0})),Xe={bounceRate:$,returnRate:0,deviceSplit:70,tabletSplit:0,deviceSpecific:"All",browser:"Random",timeOnPage:G,timezone:"UTC",language:"en-US",languages:["en-US"],gaId:z,urlVisitOrder:"random",entryUrls:O,innerUrls:"",exitUrls:"",autoCrawlEntry:!0,autoCrawlInner:!1,autoCrawlExit:!1,innerUrlCount:0,countries:ve,geoTargets:Me,trafficSource:me,keywords:Te,referralUrls:Oe,socialPlatforms:wt,proxyMode:"auto",customProxies:"",scheduleMode:"continuous",scheduleTime:"",scheduleDuration:60,sitemap:"",shortener:"",autoRenew:!1,cacheWebsite:!1,minimizeCpu:!1,randomizeSession:!0,antiFingerprint:!0,pageViewsWithScroll:0,clickExternal:0,clickInternal:0,residentialIps:E!=="economy",citiesGeoTargeting:E!=="economy",nightDayVolume:E==="expert",websiteCrawler:E==="expert",ga4NaturalEvents:E==="expert",randomizeDailyVolume:E==="expert"},Zt={id:"proj_"+Date.now(),userId:((be=q.getCurrentUser())==null?void 0:be.id)||"unknown",name:C,plan:E.charAt(0).toUpperCase()+E.slice(1),tier:E,customTarget:{totalVisitors:A,durationDays:R,dailyLimit:_},startAt:Ue.toISOString(),expires:ee.toISOString().split("T")[0],createdAt:new Date().toISOString(),status:"active",settings:Xe},Gs=await q.addProject(Zt);e();const js=(Gs==null?void 0:Gs.id)||Zt.id;s(`/dashboard/campaigns/${js}`)}catch(Ue){console.error("Project creation error:",Ue),u(Ue.message||"Failed to create project. Please try again.")}finally{c(!1)}},It=Ie?Fr.filter(be=>be.name.toLowerCase().includes(Ie.toLowerCase())||be.code.toLowerCase().includes(Ie.toLowerCase())):Fr,ls=()=>({1:["UTM Tracking","Sitemap Crawling"],2:["Night/Day Volume","Auto-Renew","Schedule Burst Mode"],3:["City-Level Targeting","Language Settings","Device Split"],4:["Device Targeting","Browser Selection","Session Randomization"]})[r]||[];return t.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-gray-500 hover:text-black transition-colors font-bold text-xs uppercase tracking-wider",children:[t.jsx(Zn,{size:16})," Back to Projects"]}),t.jsx("div",{className:"flex items-center gap-2",children:fb.map((be,Ue)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`
                                w-10 h-10 rounded-full flex items-center justify-center text-xs font-black
                                ${r===be.id?"bg-[#ff4d00] text-white shadow-lg scale-110":r>be.id?"bg-black text-white":"bg-gray-100 text-gray-400"}
                                transition-all duration-300
                            `,children:r>be.id?t.jsx(fn,{size:14}):be.id}),Ue<fb.length-1&&t.jsx("div",{className:`w-8 h-1 mx-1 ${r>be.id?"bg-black":"bg-gray-100"}`})]},be.id))})]}),t.jsx("div",{className:"flex justify-center mb-4",children:t.jsxs("span",{className:"text-sm font-bold text-gray-500",children:["Step ",r,": ",fb[r-1].label]})}),f&&t.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 flex items-center gap-3 mb-6 animate-in fade-in",children:[t.jsx(Kn,{className:"text-red-500",size:20}),t.jsx("span",{className:"text-red-700 text-sm font-bold",children:f})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm space-y-8 animate-in fade-in slide-in-from-right-4 duration-300",children:[r===1&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-2",children:"Project Identity"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Configure the basic details of your traffic campaign."})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block",children:"Select Traffic Quality Tier"}),t.jsx("div",{className:"grid grid-cols-3 gap-4",children:["expert","professional","economy"].map(be=>{const Ue=b(be),ee=E===be,Me=Ue===0;return t.jsxs("button",{onClick:()=>!Me&&N(be),disabled:Me,className:`p-4 border-2 transition-all flex flex-col gap-1 text-left rounded-lg
                                                ${ee?"border-[#ff4d00] bg-orange-50 shadow-md":"border-gray-100 bg-white hover:border-gray-200"}
                                                ${Me?"opacity-40 cursor-not-allowed":""}
                                            `,children:[t.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00]",children:be==="expert"?" Premium":be==="professional"?"Standard":"Value"}),t.jsx("span",{className:"font-bold text-gray-900 capitalize",children:be}),t.jsxs("span",{className:"text-[10px] text-gray-400 font-bold uppercase",children:[Ue.toLocaleString()," hits"]})]},be)})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Project Name *"}),t.jsx("input",{type:"text",value:C,onChange:be=>T(be.target.value),placeholder:"e.g. Q4 Marketing Campaign",className:"w-full bg-[#f9fafb] border border-gray-200 p-4 text-lg font-bold text-gray-900 focus:border-[#ff4d00] outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Target URL *"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ts,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"url",value:O,onChange:be=>F(be.target.value),onBlur:()=>{O&&!z&&kt()},placeholder:"https://example.com",className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 text-lg font-medium font-mono text-gray-700 focus:border-[#ff4d00] outline-none"})]})]}),t.jsxs("div",{className:"p-6 bg-gray-50 border border-gray-100 rounded-sm",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:"Google Analytics ID *"}),t.jsx("button",{onClick:kt,disabled:!O||U,className:"text-[10px] font-bold uppercase tracking-wider text-[#ff4d00] hover:underline disabled:opacity-50",children:U?"Scanning...":"Auto-Detect"})]}),t.jsx("input",{type:"text",value:z,onChange:be=>M(be.target.value),placeholder:"G-XXXXXXXXXX",className:"w-full bg-white border border-gray-200 p-3 text-sm font-mono text-gray-700 outline-none focus:border-[#ff4d00]"})]})]}),r===2&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-2",children:"Traffic Volume"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Define how much traffic you want and when it should run."})]}),t.jsx("div",{className:"grid grid-cols-3 gap-4 mb-6",children:["economy","professional","expert"].map(be=>t.jsxs("div",{className:`p-4 border-2 transition-all ${E===be?"border-[#ff4d00] bg-orange-50":"border-gray-100 bg-gray-50 opacity-50"}`,children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase mb-1",children:be}),t.jsx("div",{className:"text-xl font-black text-gray-900",children:b(be).toLocaleString()}),t.jsx("div",{className:"text-[10px] text-gray-400",children:"hits available"})]},be))}),t.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Total Hits *"}),t.jsx("input",{type:"number",min:"100",value:A,onChange:be=>P(parseInt(be.target.value)||0),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 text-2xl font-black text-gray-900 focus:border-[#ff4d00] outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Hits per Day *"}),t.jsx("input",{type:"number",min:"1",value:_,onChange:be=>k(parseInt(be.target.value)||1),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 text-2xl font-black text-gray-900 focus:border-[#ff4d00] outline-none"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Start Date *"}),t.jsx("input",{type:"date",value:D,onChange:be=>L(be.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 text-lg font-bold text-gray-900 focus:border-[#ff4d00] outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Duration (Days) *"}),t.jsx("input",{type:"number",min:"1",value:R,onChange:be=>Y(parseInt(be.target.value)||1),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 text-lg font-bold text-gray-900 focus:border-[#ff4d00] outline-none",placeholder:"Days"})]})]}),t.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-6 flex flex-col md:flex-row justify-between items-center gap-6",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Campaign Duration"}),t.jsxs("div",{className:"text-xl font-bold text-gray-900",children:[R," days"]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Total Cost"}),t.jsxs("div",{className:"text-3xl font-black text-[#ff4d00]",children:[A.toLocaleString()," ",t.jsx("span",{className:"text-sm font-bold text-gray-400",children:"hits"})]})]})]})]}),r===3&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-2",children:"Geographic Targeting"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Select countries for your traffic and set the distribution."})]}),t.jsxs("div",{className:"relative mb-4",children:[t.jsx(jr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),t.jsx("input",{type:"text",placeholder:"Search countries...",value:Ie,onChange:be=>Ae(be.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 text-sm focus:border-[#ff4d00] outline-none"}),Ie&&t.jsx("button",{onClick:()=>Ae(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:t.jsx(mn,{size:14})})]}),ve.length>0&&t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase",children:["Selected (",ve.length,")"]}),t.jsx("button",{onClick:we,className:"text-[10px] font-bold text-[#ff4d00] uppercase hover:underline",children:"Distribute Evenly"})]}),t.jsx("div",{className:"space-y-2",children:ve.map(be=>{const Ue=Fr.find(Zt=>Zt.code===be),ee=W[be]||0,Xe=100-(xt-ee);return t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 border border-gray-100",children:[t.jsx("img",{src:`https://flagcdn.com/w24/${be.toLowerCase()}.png`,alt:be,className:"w-6 h-auto rounded-sm",onError:Zt=>{Zt.target.style.display="none"}}),t.jsx("span",{className:"flex-1 font-bold text-sm text-gray-900",children:(Ue==null?void 0:Ue.name)||be}),t.jsx("input",{type:"range",min:"0",max:Xe,value:ee,onChange:Zt=>Le(be,parseInt(Zt.target.value)),className:"w-24 accent-[#ff4d00]"}),t.jsx("input",{type:"number",min:"0",max:Xe,value:ee,onChange:Zt=>Le(be,parseInt(Zt.target.value)||0),className:"w-16 p-1 text-center text-sm font-bold border border-gray-200 outline-none focus:border-[#ff4d00]"}),t.jsx("span",{className:"text-sm font-bold text-gray-400",children:"%"}),t.jsx("button",{onClick:()=>_e(be),className:"text-gray-400 hover:text-red-500",children:t.jsx(mn,{size:14})})]},be)})}),t.jsxs("div",{className:`text-right mt-2 text-sm font-bold ${xt===100?"text-green-600":"text-orange-500"}`,children:["Total: ",xt,"%"]})]}),t.jsx("div",{className:"border border-gray-200 max-h-[300px] overflow-y-auto",children:t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-1 p-1",children:It.slice(0,100).map(be=>t.jsxs("button",{onClick:()=>_e(be.code),className:`p-2 text-left border text-xs font-bold flex justify-between items-center transition-all ${ve.includes(be.code)?"border-[#ff4d00] bg-orange-50 text-[#ff4d00]":"border-transparent bg-gray-50 text-gray-600 hover:bg-gray-100"}`,children:[t.jsxs("span",{className:"flex items-center gap-2 truncate",children:[t.jsx("img",{src:`https://flagcdn.com/w20/${be.code.toLowerCase()}.png`,alt:be.code,className:"w-4 h-auto rounded-sm flex-shrink-0",onError:Ue=>{Ue.target.style.display="none"}}),t.jsx("span",{className:"truncate",children:be.name})]}),ve.includes(be.code)&&t.jsx(fn,{size:12,className:"flex-shrink-0"})]},be.code))})})]}),r===4&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-2",children:"Traffic Behavior"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Configure how visitors interact with your site."})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Bounce Rate"}),t.jsxs("div",{className:"bg-gray-50 p-6 border border-gray-200 text-center",children:[t.jsxs("div",{className:"text-4xl font-black text-gray-900 mb-2",children:[$,"%"]}),t.jsx("p",{className:"text-xs text-gray-500 font-medium mb-4",children:"Visitors leaving immediately"}),t.jsx("input",{type:"range",min:"0",max:"100",value:$,onChange:be=>ie(parseInt(be.target.value)),className:"w-full accent-[#ff4d00]"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Time on Page"}),t.jsx(Xs,{value:G,onChange:H,options:PT})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Traffic Source"}),t.jsx(Xs,{value:me,onChange:K,options:hw})]}),(me==="Organic (General)"||me.startsWith("Organic"))&&t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Keywords (one per line)"}),t.jsx("textarea",{value:Te,onChange:be=>Re(be.target.value),placeholder:`keyword1
keyword2
keyword3`,className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24"})]}),(me==="Social (General)"||me.startsWith("Social"))&&t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Social Platforms"}),t.jsx("div",{className:"grid grid-cols-4 gap-2",children:_9.map(be=>t.jsx("button",{onClick:()=>se(be.id),className:`p-2 text-xs font-bold border transition-all ${wt.includes(be.id)?"border-[#ff4d00] bg-orange-50 text-[#ff4d00]":"border-gray-200 bg-gray-50 text-gray-600 hover:border-gray-300"}`,children:be.label},be.id))})]}),me==="Referral"&&t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-3",children:"Referral URLs (one per line)"}),t.jsx("textarea",{value:Oe,onChange:be=>gt(be.target.value),placeholder:`https://example.com/page1
https://example.com/page2`,className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24"})]})]}),r===5&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-2",children:"Review Campaign"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Confirm all settings before creating your project."})]}),t.jsx("div",{className:`p-4 border-2 ${b(E)>=A?"border-green-300 bg-green-50":"border-red-300 bg-red-50"}`,children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:[E.charAt(0).toUpperCase()+E.slice(1)," Balance"]}),t.jsxs("div",{className:"text-lg font-black text-gray-900",children:[b(E).toLocaleString()," available"]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-xs text-gray-500 font-bold",children:"Required"}),t.jsx("div",{className:`text-xl font-black ${b(E)>=A?"text-green-600":"text-red-600"}`,children:A.toLocaleString()})]})]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(zr,{label:"Project Name",value:C}),t.jsx(zr,{label:"Tier",value:E.toUpperCase()}),t.jsx(zr,{label:"Target URL",value:O,isUrl:!0}),t.jsx(zr,{label:"Google Analytics",value:z}),t.jsx("div",{className:"h-px bg-gray-100"}),t.jsx(zr,{label:"Total Hits",value:`${A.toLocaleString()} hits`,highlight:!0}),t.jsx(zr,{label:"Daily Limit",value:`${_.toLocaleString()} hits/day`}),t.jsx(zr,{label:"Start Date",value:D}),t.jsx(zr,{label:"Duration",value:`${R} days`}),t.jsx("div",{className:"h-px bg-gray-100"}),t.jsx(zr,{label:"Countries",value:ve.length>0?`${ve.length} selected`:"None"}),t.jsx("div",{className:"h-px bg-gray-100"}),t.jsx(zr,{label:"Bounce Rate",value:`${$}%`}),t.jsx(zr,{label:"Time on Page",value:G}),t.jsx(zr,{label:"Traffic Source",value:me})]}),t.jsxs("div",{className:"mt-8 bg-blue-50 p-4 flex items-start gap-3 border border-blue-100",children:[t.jsx(nc,{className:"text-blue-500 flex-shrink-0",size:18}),t.jsxs("div",{className:"text-xs text-blue-700 font-medium leading-relaxed",children:[t.jsx("p",{className:"font-bold mb-1",children:"After creation, more settings will be available:"}),t.jsx("p",{children:"UTM Tracking, Device Split, Browser Selection, Sitemap Crawling, City-Level Targeting, and more."})]})]})]})]}),t.jsxs("div",{className:"mt-6 p-4 bg-gray-50 border border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Bo,{size:14,className:"text-gray-400"}),t.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide",children:"Available after creation"})]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:ls().map((be,Ue)=>t.jsx("span",{className:"text-[10px] font-bold text-gray-500 bg-white px-2 py-1 border border-gray-200",children:be},Ue))})]}),t.jsxs("div",{className:"flex justify-between pt-6",children:[t.jsx("button",{onClick:tt,className:"px-8 py-4 text-xs font-bold uppercase tracking-wider text-gray-500 hover:text-black transition-colors",children:r===1?"Cancel":"Previous Step"}),t.jsxs("button",{onClick:$e,disabled:l,className:"bg-black text-white px-8 py-4 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 shadow-lg",children:[l?"Creating...":r===5?"Create Project":"Next Step",!l&&r<5&&t.jsx(Zn,{className:"rotate-180",size:16})]})]})]})},zr=({label:n,value:e,isUrl:s=!1,highlight:r=!1})=>t.jsxs("div",{className:`flex justify-between items-center p-3 ${r?"bg-orange-50 border border-orange-100":""}`,children:[t.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:n}),s?t.jsx("span",{className:"text-sm font-bold text-[#ff4d00] truncate max-w-[200px]",children:e}):t.jsx("span",{className:`text-sm font-bold ${r?"text-[#ff4d00] text-lg":"text-gray-900"}`,children:e})]}),$o=[{id:"economy",name:"Economy",factor:.35,quality:"10% Quality",features:["Residential IPs","Multiple Traffic Sources","Standard Proxy Pool","Geo Targeting Worldwide"],color:"border-gray-200"},{id:"professional",name:"Professional",factor:.65,quality:"50% Quality",popular:!0,features:["Residential Geo IPs","Country Geo Targeting","RSS and Sitemap Support","URL Shorteners"],color:"border-orange-300"},{id:"expert",name:"Expert",factor:1,quality:"100% Quality",features:["State & City Targeting","Night & Day Volume","Automatic Website Crawler","GA4 Natural Events"],color:"border-[#ff4d00]"}],Zb=[6e4,5e5,1e6,1e7,5e7],S9=[1,6,24],nm={economy:{6e4:{1:9.96,6:47.81,24:143.42},5e5:{1:57.96,6:278.21,24:834.62},1e6:{1:99.96,6:479.81,24:1439.42},1e7:{1:699.96,6:3359.81,24:10079.42},5e7:{1:2799.96,6:13439.81,24:40319.42}},professional:{6e4:{1:19.96,6:95.81,24:287.42},5e5:{1:115.92,6:556.42,24:1669.25},1e6:{1:199.96,6:959.81,24:2879.42},1e7:{1:1399.96,6:6719.81,24:20159.42},5e7:{1:5599.96,6:26879.81,24:80639.42}},expert:{6e4:{1:29.96,6:143.81,24:431.42},5e5:{1:173.96,6:835.01,24:2505.02},1e6:{1:299.96,6:1439.81,24:4319.42},1e7:{1:2099.96,6:10079.81,24:30239.42},5e7:{1:8399.96,6:40319.81,24:120959.42}}},T9=(n,e,s=1)=>{const r=nm[n];if(!r)return 0;const i=r[e];return i&&(i[s]||i[1])||0},fw=(n,e,s=1)=>{const r=T9(n,e,s),i=e*s;return r/i*1e3},mw=(n,e="EUR")=>new Intl.NumberFormat("de-DE",{style:"currency",currency:e}).format(n),pw=n=>`${n.toFixed(2)}`;function fg(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fg=function(e){return typeof e}:fg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fg(n)}var OT="clover",E9=function(e){return e===3?"v3":e},MT="https://js.stripe.com",C9="".concat(MT,"/").concat(OT,"/stripe.js"),A9=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,I9=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var R9=function(e){return A9.test(e)||I9.test(e)},P9=function(){for(var e=document.querySelectorAll('script[src^="'.concat(MT,'"]')),s=0;s<e.length;s++){var r=e[s];if(R9(r.src))return r}return null},dk=function(e){var s="",r=document.createElement("script");r.src="".concat(C9).concat(s);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},D9=function(e,s){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"8.7.0",startTime:s})},Fh=null,Xp=null,Zp=null,O9=function(e){return function(s){e(new Error("Failed to load Stripe.js",{cause:s}))}},M9=function(e,s){return function(){window.Stripe?e(window.Stripe):s(new Error("Stripe.js not available"))}},L9=function(e){return Fh!==null?Fh:(Fh=new Promise(function(s,r){if(typeof window>"u"||typeof document>"u"){s(null);return}if(window.Stripe){s(window.Stripe);return}try{var i=P9();if(!(i&&e)){if(!i)i=dk(e);else if(i&&Zp!==null&&Xp!==null){var l;i.removeEventListener("load",Zp),i.removeEventListener("error",Xp),(l=i.parentNode)===null||l===void 0||l.removeChild(i),i=dk(e)}}Zp=M9(s,r),Xp=O9(r),i.addEventListener("load",Zp),i.addEventListener("error",Xp)}catch(c){r(c);return}}),Fh.catch(function(s){return Fh=null,Promise.reject(s)}))},z9=function(e,s,r){if(e===null)return null;var i=s[0];if(typeof i!="string")throw new Error("Expected publishable key to be of type string, got type ".concat(fg(i)," instead."));var l=i.match(/^pk_test/),c=E9(e.version),f=OT;l&&c!==f&&console.warn("Stripe.js@".concat(c," was loaded on the page, but @stripe/stripe-js@").concat("8.7.0"," expected Stripe.js@").concat(f,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var u=e.apply(void 0,s);return D9(u,r),u},Bh,LT=!1,zT=function(){return Bh||(Bh=L9(null).catch(function(e){return Bh=null,Promise.reject(e)}),Bh)};Promise.resolve().then(function(){return zT()}).catch(function(n){LT||console.warn(n)});var V9=function(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];LT=!0;var i=Date.now();return zT().then(function(l){return z9(l,s,i)})},mb={exports:{}},pb,uk;function U9(){if(uk)return pb;uk=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return pb=n,pb}var gb,hk;function F9(){if(hk)return gb;hk=1;var n=U9();function e(){}function s(){}return s.resetWarningCache=e,gb=function(){function r(c,f,u,m,g,b){if(b!==n){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var l={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:s,resetWarningCache:e};return l.PropTypes=l,l},gb}var fk;function B9(){return fk||(fk=1,mb.exports=F9()()),mb.exports}var $9=B9();const Gt=ju($9);function mk(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),s.push.apply(s,r)}return s}function pk(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?mk(Object(s),!0).forEach(function(r){VT(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):mk(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function mg(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mg=function(e){return typeof e}:mg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mg(n)}function VT(n,e,s){return e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function q9(n,e){if(n==null)return{};var s={},r=Object.keys(n),i,l;for(l=0;l<r.length;l++)i=r[l],!(e.indexOf(i)>=0)&&(s[i]=n[i]);return s}function H9(n,e){if(n==null)return{};var s=q9(n,e),r,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(i=0;i<l.length;i++)r=l[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(s[r]=n[r])}return s}function UT(n,e){return G9(n)||K9(n,e)||W9(n,e)||Y9()}function G9(n){if(Array.isArray(n))return n}function K9(n,e){var s=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(s!=null){var r=[],i=!0,l=!1,c,f;try{for(s=s.call(n);!(i=(c=s.next()).done)&&(r.push(c.value),!(e&&r.length===e));i=!0);}catch(u){l=!0,f=u}finally{try{!i&&s.return!=null&&s.return()}finally{if(l)throw f}}return r}}function W9(n,e){if(n){if(typeof n=="string")return gk(n,e);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return gk(n,e)}}function gk(n,e){(e==null||e>n.length)&&(e=n.length);for(var s=0,r=new Array(e);s<e;s++)r[s]=n[s];return r}function Y9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var An=function(e,s,r){var i=!!r,l=Fe.useRef(r);Fe.useEffect(function(){l.current=r},[r]),Fe.useEffect(function(){if(!i||!e)return function(){};var c=function(){l.current&&l.current.apply(l,arguments)};return e.on(s,c),function(){e.off(s,c)}},[i,s,e,l])},ev=function(e){var s=Fe.useRef(e);return Fe.useEffect(function(){s.current=e},[e]),s.current},Xd=function(e){return e!==null&&mg(e)==="object"},Q9=function(e){return Xd(e)&&typeof e.then=="function"},J9=function(e){return Xd(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},xk="[object Object]",X9=function n(e,s){if(!Xd(e)||!Xd(s))return e===s;var r=Array.isArray(e),i=Array.isArray(s);if(r!==i)return!1;var l=Object.prototype.toString.call(e)===xk,c=Object.prototype.toString.call(s)===xk;if(l!==c)return!1;if(!l&&!r)return e===s;var f=Object.keys(e),u=Object.keys(s);if(f.length!==u.length)return!1;for(var m={},g=0;g<f.length;g+=1)m[f[g]]=!0;for(var b=0;b<u.length;b+=1)m[u[b]]=!0;var v=Object.keys(m);if(v.length!==f.length)return!1;var E=e,N=s,C=function(O){return n(E[O],N[O])};return v.every(C)},FT=function(e,s,r){return Xd(e)?Object.keys(e).reduce(function(i,l){var c=!Xd(s)||!X9(e[l],s[l]);return r.includes(l)?(c&&console.warn("Unsupported prop change: options.".concat(l," is not a mutable property.")),i):c?pk(pk({},i||{}),{},VT({},l,e[l])):i},null):null},BT="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",yk=function(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:BT;if(e===null||J9(e))return e;throw new Error(s)},Z9=function(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:BT;if(Q9(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return yk(i,s)})};var r=yk(e,s);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},eL=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"5.6.0"}),e.registerAppInfo({name:"react-stripe-js",version:"5.6.0",url:"https://stripe.com/docs/stripe-js/react"}))},hx=Fe.createContext(null);hx.displayName="ElementsContext";var $T=function(e,s){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(s," in an <Elements> provider."));return e},qT=function(e){var s=e.stripe,r=e.options,i=e.children,l=Fe.useMemo(function(){return Z9(s)},[s]),c=Fe.useState(function(){return{stripe:l.tag==="sync"?l.stripe:null,elements:l.tag==="sync"?l.stripe.elements(r):null}}),f=UT(c,2),u=f[0],m=f[1];Fe.useEffect(function(){var v=!0,E=function(C){m(function(T){return T.stripe?T:{stripe:C,elements:C.elements(r)}})};return l.tag==="async"&&!u.stripe?l.stripePromise.then(function(N){N&&v&&E(N)}):l.tag==="sync"&&!u.stripe&&E(l.stripe),function(){v=!1}},[l,u,r]);var g=ev(s);Fe.useEffect(function(){g!==null&&g!==s&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[g,s]);var b=ev(r);return Fe.useEffect(function(){if(u.elements){var v=FT(r,b,["clientSecret","fonts"]);v&&u.elements.update(v)}},[r,b,u.elements]),Fe.useEffect(function(){eL(u.stripe)},[u.stripe]),Fe.createElement(hx.Provider,{value:u},i)};qT.propTypes={stripe:Gt.any,options:Gt.object};var tL=function(e){var s=Fe.useContext(hx);return $T(s,e)},sL=function(){var e=tL("calls useElements()"),s=e.elements;return s};Gt.func.isRequired;var HT=Fe.createContext(null);HT.displayName="CheckoutContext";Gt.any,Gt.shape({clientSecret:Gt.oneOfType([Gt.string,Gt.instanceOf(Promise)]).isRequired,elementsOptions:Gt.object}).isRequired;var tv=function(e){var s=Fe.useContext(HT),r=Fe.useContext(hx);if(s){if(r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return s}else return $T(r,e)},nL=["mode"],rL=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},sr=function(e,s){var r="".concat(rL(e),"Element"),i=function(u){var m=u.id,g=u.className,b=u.options,v=b===void 0?{}:b,E=u.onBlur,N=u.onFocus,C=u.onReady,T=u.onChange,O=u.onEscape,F=u.onClick,z=u.onLoadError,M=u.onLoaderStart,U=u.onNetworksChange,X=u.onConfirm,A=u.onCancel,P=u.onShippingAddressChange,_=u.onShippingRateChange,k=u.onSavedPaymentMethodRemove,D=u.onSavedPaymentMethodUpdate,L=tv("mounts <".concat(r,">")),R="elements"in L?L.elements:null,Y="checkoutState"in L?L.checkoutState:null,ve=(Y==null?void 0:Y.type)==="success"||(Y==null?void 0:Y.type)==="loading"?Y.sdk:null,J=Fe.useState(null),W=UT(J,2),xe=W[0],Ie=W[1],Ae=Fe.useRef(null),$=Fe.useRef(null);An(xe,"blur",E),An(xe,"focus",N),An(xe,"escape",O),An(xe,"click",F),An(xe,"loaderror",z),An(xe,"loaderstart",M),An(xe,"networkschange",U),An(xe,"confirm",X),An(xe,"cancel",A),An(xe,"shippingaddresschange",P),An(xe,"shippingratechange",_),An(xe,"savedpaymentmethodremove",k),An(xe,"savedpaymentmethodupdate",D),An(xe,"change",T);var ie;C&&(e==="expressCheckout"?ie=C:ie=function(){C(xe)}),An(xe,"ready",ie),Fe.useLayoutEffect(function(){if(Ae.current===null&&$.current!==null&&(R||ve)){var H=null;if(ve)switch(e){case"paymentForm":H=ve.createPaymentFormElement(v);break;case"payment":H=ve.createPaymentElement(v);break;case"address":if("mode"in v){var me=v.mode,K=H9(v,nL);if(me==="shipping")H=ve.createShippingAddressElement(K);else if(me==="billing")H=ve.createBillingAddressElement(K);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":H=ve.createExpressCheckoutElement(v);break;case"currencySelector":H=ve.createCurrencySelectorElement();break;case"taxId":H=ve.createTaxIdElement(v);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else R&&(H=R.create(e,v));Ae.current=H,Ie(H),H&&H.mount($.current)}},[R,ve,v]);var G=ev(v);return Fe.useEffect(function(){if(Ae.current){var H=FT(v,G,["paymentRequest"]);H&&"update"in Ae.current&&Ae.current.update(H)}},[v,G]),Fe.useLayoutEffect(function(){return function(){if(Ae.current&&typeof Ae.current.destroy=="function")try{Ae.current.destroy(),Ae.current=null}catch{}}},[]),Fe.createElement("div",{id:m,className:g,ref:$})},l=function(u){tv("mounts <".concat(r,">"));var m=u.id,g=u.className;return Fe.createElement("div",{id:m,className:g})},c=s?l:i;return c.propTypes={id:Gt.string,className:Gt.string,onChange:Gt.func,onBlur:Gt.func,onFocus:Gt.func,onReady:Gt.func,onEscape:Gt.func,onClick:Gt.func,onLoadError:Gt.func,onLoaderStart:Gt.func,onNetworksChange:Gt.func,onConfirm:Gt.func,onCancel:Gt.func,onShippingAddressChange:Gt.func,onShippingRateChange:Gt.func,onSavedPaymentMethodRemove:Gt.func,onSavedPaymentMethodUpdate:Gt.func,options:Gt.object},c.displayName=r,c.__elementType=e,c},nr=typeof window>"u",aL=Fe.createContext(null);aL.displayName="EmbeddedCheckoutProviderContext";var iL=function(){var e=tv("calls useStripe()"),s=e.stripe;return s};sr("auBankAccount",nr);sr("card",nr);sr("cardNumber",nr);sr("cardExpiry",nr);sr("cardCvc",nr);sr("iban",nr);var oL=sr("payment",nr);sr("expressCheckout",nr);sr("paymentRequestButton",nr);sr("linkAuthentication",nr);sr("address",nr);sr("shippingAddress",nr);sr("paymentMethodMessaging",nr);sr("taxId",nr);var lL=Object.defineProperty,Rg=Object.getOwnPropertySymbols,GT=Object.prototype.hasOwnProperty,KT=Object.prototype.propertyIsEnumerable,bk=(n,e,s)=>e in n?lL(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s,sv=(n,e)=>{for(var s in e||(e={}))GT.call(e,s)&&bk(n,s,e[s]);if(Rg)for(var s of Rg(e))KT.call(e,s)&&bk(n,s,e[s]);return n},nv=(n,e)=>{var s={};for(var r in n)GT.call(n,r)&&e.indexOf(r)<0&&(s[r]=n[r]);if(n!=null&&Rg)for(var r of Rg(n))e.indexOf(r)<0&&KT.call(n,r)&&(s[r]=n[r]);return s};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var ac;(n=>{const e=class ft{constructor(u,m,g,b){if(this.version=u,this.errorCorrectionLevel=m,this.modules=[],this.isFunction=[],u<ft.MIN_VERSION||u>ft.MAX_VERSION)throw new RangeError("Version value out of range");if(b<-1||b>7)throw new RangeError("Mask value out of range");this.size=u*4+17;let v=[];for(let N=0;N<this.size;N++)v.push(!1);for(let N=0;N<this.size;N++)this.modules.push(v.slice()),this.isFunction.push(v.slice());this.drawFunctionPatterns();const E=this.addEccAndInterleave(g);if(this.drawCodewords(E),b==-1){let N=1e9;for(let C=0;C<8;C++){this.applyMask(C),this.drawFormatBits(C);const T=this.getPenaltyScore();T<N&&(b=C,N=T),this.applyMask(C)}}i(0<=b&&b<=7),this.mask=b,this.applyMask(b),this.drawFormatBits(b),this.isFunction=[]}static encodeText(u,m){const g=n.QrSegment.makeSegments(u);return ft.encodeSegments(g,m)}static encodeBinary(u,m){const g=n.QrSegment.makeBytes(u);return ft.encodeSegments([g],m)}static encodeSegments(u,m,g=1,b=40,v=-1,E=!0){if(!(ft.MIN_VERSION<=g&&g<=b&&b<=ft.MAX_VERSION)||v<-1||v>7)throw new RangeError("Invalid value");let N,C;for(N=g;;N++){const z=ft.getNumDataCodewords(N,m)*8,M=c.getTotalBits(u,N);if(M<=z){C=M;break}if(N>=b)throw new RangeError("Data too long")}for(const z of[ft.Ecc.MEDIUM,ft.Ecc.QUARTILE,ft.Ecc.HIGH])E&&C<=ft.getNumDataCodewords(N,z)*8&&(m=z);let T=[];for(const z of u){s(z.mode.modeBits,4,T),s(z.numChars,z.mode.numCharCountBits(N),T);for(const M of z.getData())T.push(M)}i(T.length==C);const O=ft.getNumDataCodewords(N,m)*8;i(T.length<=O),s(0,Math.min(4,O-T.length),T),s(0,(8-T.length%8)%8,T),i(T.length%8==0);for(let z=236;T.length<O;z^=253)s(z,8,T);let F=[];for(;F.length*8<T.length;)F.push(0);return T.forEach((z,M)=>F[M>>>3]|=z<<7-(M&7)),new ft(N,m,F,v)}getModule(u,m){return 0<=u&&u<this.size&&0<=m&&m<this.size&&this.modules[m][u]}getModules(){return this.modules}drawFunctionPatterns(){for(let g=0;g<this.size;g++)this.setFunctionModule(6,g,g%2==0),this.setFunctionModule(g,6,g%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const u=this.getAlignmentPatternPositions(),m=u.length;for(let g=0;g<m;g++)for(let b=0;b<m;b++)g==0&&b==0||g==0&&b==m-1||g==m-1&&b==0||this.drawAlignmentPattern(u[g],u[b]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(u){const m=this.errorCorrectionLevel.formatBits<<3|u;let g=m;for(let v=0;v<10;v++)g=g<<1^(g>>>9)*1335;const b=(m<<10|g)^21522;i(b>>>15==0);for(let v=0;v<=5;v++)this.setFunctionModule(8,v,r(b,v));this.setFunctionModule(8,7,r(b,6)),this.setFunctionModule(8,8,r(b,7)),this.setFunctionModule(7,8,r(b,8));for(let v=9;v<15;v++)this.setFunctionModule(14-v,8,r(b,v));for(let v=0;v<8;v++)this.setFunctionModule(this.size-1-v,8,r(b,v));for(let v=8;v<15;v++)this.setFunctionModule(8,this.size-15+v,r(b,v));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let u=this.version;for(let g=0;g<12;g++)u=u<<1^(u>>>11)*7973;const m=this.version<<12|u;i(m>>>18==0);for(let g=0;g<18;g++){const b=r(m,g),v=this.size-11+g%3,E=Math.floor(g/3);this.setFunctionModule(v,E,b),this.setFunctionModule(E,v,b)}}drawFinderPattern(u,m){for(let g=-4;g<=4;g++)for(let b=-4;b<=4;b++){const v=Math.max(Math.abs(b),Math.abs(g)),E=u+b,N=m+g;0<=E&&E<this.size&&0<=N&&N<this.size&&this.setFunctionModule(E,N,v!=2&&v!=4)}}drawAlignmentPattern(u,m){for(let g=-2;g<=2;g++)for(let b=-2;b<=2;b++)this.setFunctionModule(u+b,m+g,Math.max(Math.abs(b),Math.abs(g))!=1)}setFunctionModule(u,m,g){this.modules[m][u]=g,this.isFunction[m][u]=!0}addEccAndInterleave(u){const m=this.version,g=this.errorCorrectionLevel;if(u.length!=ft.getNumDataCodewords(m,g))throw new RangeError("Invalid argument");const b=ft.NUM_ERROR_CORRECTION_BLOCKS[g.ordinal][m],v=ft.ECC_CODEWORDS_PER_BLOCK[g.ordinal][m],E=Math.floor(ft.getNumRawDataModules(m)/8),N=b-E%b,C=Math.floor(E/b);let T=[];const O=ft.reedSolomonComputeDivisor(v);for(let z=0,M=0;z<b;z++){let U=u.slice(M,M+C-v+(z<N?0:1));M+=U.length;const X=ft.reedSolomonComputeRemainder(U,O);z<N&&U.push(0),T.push(U.concat(X))}let F=[];for(let z=0;z<T[0].length;z++)T.forEach((M,U)=>{(z!=C-v||U>=N)&&F.push(M[z])});return i(F.length==E),F}drawCodewords(u){if(u.length!=Math.floor(ft.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let m=0;for(let g=this.size-1;g>=1;g-=2){g==6&&(g=5);for(let b=0;b<this.size;b++)for(let v=0;v<2;v++){const E=g-v,C=(g+1&2)==0?this.size-1-b:b;!this.isFunction[C][E]&&m<u.length*8&&(this.modules[C][E]=r(u[m>>>3],7-(m&7)),m++)}}i(m==u.length*8)}applyMask(u){if(u<0||u>7)throw new RangeError("Mask value out of range");for(let m=0;m<this.size;m++)for(let g=0;g<this.size;g++){let b;switch(u){case 0:b=(g+m)%2==0;break;case 1:b=m%2==0;break;case 2:b=g%3==0;break;case 3:b=(g+m)%3==0;break;case 4:b=(Math.floor(g/3)+Math.floor(m/2))%2==0;break;case 5:b=g*m%2+g*m%3==0;break;case 6:b=(g*m%2+g*m%3)%2==0;break;case 7:b=((g+m)%2+g*m%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[m][g]&&b&&(this.modules[m][g]=!this.modules[m][g])}}getPenaltyScore(){let u=0;for(let v=0;v<this.size;v++){let E=!1,N=0,C=[0,0,0,0,0,0,0];for(let T=0;T<this.size;T++)this.modules[v][T]==E?(N++,N==5?u+=ft.PENALTY_N1:N>5&&u++):(this.finderPenaltyAddHistory(N,C),E||(u+=this.finderPenaltyCountPatterns(C)*ft.PENALTY_N3),E=this.modules[v][T],N=1);u+=this.finderPenaltyTerminateAndCount(E,N,C)*ft.PENALTY_N3}for(let v=0;v<this.size;v++){let E=!1,N=0,C=[0,0,0,0,0,0,0];for(let T=0;T<this.size;T++)this.modules[T][v]==E?(N++,N==5?u+=ft.PENALTY_N1:N>5&&u++):(this.finderPenaltyAddHistory(N,C),E||(u+=this.finderPenaltyCountPatterns(C)*ft.PENALTY_N3),E=this.modules[T][v],N=1);u+=this.finderPenaltyTerminateAndCount(E,N,C)*ft.PENALTY_N3}for(let v=0;v<this.size-1;v++)for(let E=0;E<this.size-1;E++){const N=this.modules[v][E];N==this.modules[v][E+1]&&N==this.modules[v+1][E]&&N==this.modules[v+1][E+1]&&(u+=ft.PENALTY_N2)}let m=0;for(const v of this.modules)m=v.reduce((E,N)=>E+(N?1:0),m);const g=this.size*this.size,b=Math.ceil(Math.abs(m*20-g*10)/g)-1;return i(0<=b&&b<=9),u+=b*ft.PENALTY_N4,i(0<=u&&u<=2568888),u}getAlignmentPatternPositions(){if(this.version==1)return[];{const u=Math.floor(this.version/7)+2,m=this.version==32?26:Math.ceil((this.version*4+4)/(u*2-2))*2;let g=[6];for(let b=this.size-7;g.length<u;b-=m)g.splice(1,0,b);return g}}static getNumRawDataModules(u){if(u<ft.MIN_VERSION||u>ft.MAX_VERSION)throw new RangeError("Version number out of range");let m=(16*u+128)*u+64;if(u>=2){const g=Math.floor(u/7)+2;m-=(25*g-10)*g-55,u>=7&&(m-=36)}return i(208<=m&&m<=29648),m}static getNumDataCodewords(u,m){return Math.floor(ft.getNumRawDataModules(u)/8)-ft.ECC_CODEWORDS_PER_BLOCK[m.ordinal][u]*ft.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][u]}static reedSolomonComputeDivisor(u){if(u<1||u>255)throw new RangeError("Degree out of range");let m=[];for(let b=0;b<u-1;b++)m.push(0);m.push(1);let g=1;for(let b=0;b<u;b++){for(let v=0;v<m.length;v++)m[v]=ft.reedSolomonMultiply(m[v],g),v+1<m.length&&(m[v]^=m[v+1]);g=ft.reedSolomonMultiply(g,2)}return m}static reedSolomonComputeRemainder(u,m){let g=m.map(b=>0);for(const b of u){const v=b^g.shift();g.push(0),m.forEach((E,N)=>g[N]^=ft.reedSolomonMultiply(E,v))}return g}static reedSolomonMultiply(u,m){if(u>>>8||m>>>8)throw new RangeError("Byte out of range");let g=0;for(let b=7;b>=0;b--)g=g<<1^(g>>>7)*285,g^=(m>>>b&1)*u;return i(g>>>8==0),g}finderPenaltyCountPatterns(u){const m=u[1];i(m<=this.size*3);const g=m>0&&u[2]==m&&u[3]==m*3&&u[4]==m&&u[5]==m;return(g&&u[0]>=m*4&&u[6]>=m?1:0)+(g&&u[6]>=m*4&&u[0]>=m?1:0)}finderPenaltyTerminateAndCount(u,m,g){return u&&(this.finderPenaltyAddHistory(m,g),m=0),m+=this.size,this.finderPenaltyAddHistory(m,g),this.finderPenaltyCountPatterns(g)}finderPenaltyAddHistory(u,m){m[0]==0&&(u+=this.size),m.pop(),m.unshift(u)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],n.QrCode=e;function s(f,u,m){if(u<0||u>31||f>>>u)throw new RangeError("Value out of range");for(let g=u-1;g>=0;g--)m.push(f>>>g&1)}function r(f,u){return(f>>>u&1)!=0}function i(f){if(!f)throw new Error("Assertion error")}const l=class ms{constructor(u,m,g){if(this.mode=u,this.numChars=m,this.bitData=g,m<0)throw new RangeError("Invalid argument");this.bitData=g.slice()}static makeBytes(u){let m=[];for(const g of u)s(g,8,m);return new ms(ms.Mode.BYTE,u.length,m)}static makeNumeric(u){if(!ms.isNumeric(u))throw new RangeError("String contains non-numeric characters");let m=[];for(let g=0;g<u.length;){const b=Math.min(u.length-g,3);s(parseInt(u.substring(g,g+b),10),b*3+1,m),g+=b}return new ms(ms.Mode.NUMERIC,u.length,m)}static makeAlphanumeric(u){if(!ms.isAlphanumeric(u))throw new RangeError("String contains unencodable characters in alphanumeric mode");let m=[],g;for(g=0;g+2<=u.length;g+=2){let b=ms.ALPHANUMERIC_CHARSET.indexOf(u.charAt(g))*45;b+=ms.ALPHANUMERIC_CHARSET.indexOf(u.charAt(g+1)),s(b,11,m)}return g<u.length&&s(ms.ALPHANUMERIC_CHARSET.indexOf(u.charAt(g)),6,m),new ms(ms.Mode.ALPHANUMERIC,u.length,m)}static makeSegments(u){return u==""?[]:ms.isNumeric(u)?[ms.makeNumeric(u)]:ms.isAlphanumeric(u)?[ms.makeAlphanumeric(u)]:[ms.makeBytes(ms.toUtf8ByteArray(u))]}static makeEci(u){let m=[];if(u<0)throw new RangeError("ECI assignment value out of range");if(u<128)s(u,8,m);else if(u<16384)s(2,2,m),s(u,14,m);else if(u<1e6)s(6,3,m),s(u,21,m);else throw new RangeError("ECI assignment value out of range");return new ms(ms.Mode.ECI,0,m)}static isNumeric(u){return ms.NUMERIC_REGEX.test(u)}static isAlphanumeric(u){return ms.ALPHANUMERIC_REGEX.test(u)}getData(){return this.bitData.slice()}static getTotalBits(u,m){let g=0;for(const b of u){const v=b.mode.numCharCountBits(m);if(b.numChars>=1<<v)return 1/0;g+=4+v+b.bitData.length}return g}static toUtf8ByteArray(u){u=encodeURI(u);let m=[];for(let g=0;g<u.length;g++)u.charAt(g)!="%"?m.push(u.charCodeAt(g)):(m.push(parseInt(u.substring(g+1,g+3),16)),g+=2);return m}};l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let c=l;n.QrSegment=l})(ac||(ac={}));(n=>{(e=>{const s=class{constructor(i,l){this.ordinal=i,this.formatBits=l}};s.LOW=new s(0,1),s.MEDIUM=new s(1,0),s.QUARTILE=new s(2,3),s.HIGH=new s(3,2),e.Ecc=s})(n.QrCode||(n.QrCode={}))})(ac||(ac={}));(n=>{(e=>{const s=class{constructor(i,l){this.modeBits=i,this.numBitsCharCount=l}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};s.NUMERIC=new s(1,[10,12,14]),s.ALPHANUMERIC=new s(2,[9,11,13]),s.BYTE=new s(4,[8,16,16]),s.KANJI=new s(8,[8,10,12]),s.ECI=new s(7,[0,0,0]),e.Mode=s})(n.QrSegment||(n.QrSegment={}))})(ac||(ac={}));var Od=ac;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var cL={L:Od.QrCode.Ecc.LOW,M:Od.QrCode.Ecc.MEDIUM,Q:Od.QrCode.Ecc.QUARTILE,H:Od.QrCode.Ecc.HIGH},WT=128,YT="L",QT="#FFFFFF",JT="#000000",XT=!1,ZT=1,dL=4,uL=0,hL=.1;function eE(n,e=0){const s=[];return n.forEach(function(r,i){let l=null;r.forEach(function(c,f){if(!c&&l!==null){s.push(`M${l+e} ${i+e}h${f-l}v1H${l+e}z`),l=null;return}if(f===r.length-1){if(!c)return;l===null?s.push(`M${f+e},${i+e} h1v1H${f+e}z`):s.push(`M${l+e},${i+e} h${f+1-l}v1H${l+e}z`);return}c&&l===null&&(l=f)})}),s.join("")}function tE(n,e){return n.slice().map((s,r)=>r<e.y||r>=e.y+e.h?s:s.map((i,l)=>l<e.x||l>=e.x+e.w?i:!1))}function fL(n,e,s,r){if(r==null)return null;const i=n.length+s*2,l=Math.floor(e*hL),c=i/e,f=(r.width||l)*c,u=(r.height||l)*c,m=r.x==null?n.length/2-f/2:r.x*c,g=r.y==null?n.length/2-u/2:r.y*c,b=r.opacity==null?1:r.opacity;let v=null;if(r.excavate){let N=Math.floor(m),C=Math.floor(g),T=Math.ceil(f+m-N),O=Math.ceil(u+g-C);v={x:N,y:C,w:T,h:O}}const E=r.crossOrigin;return{x:m,y:g,h:u,w:f,excavation:v,opacity:b,crossOrigin:E}}function mL(n,e){return e!=null?Math.max(Math.floor(e),0):n?dL:uL}function sE({value:n,level:e,minVersion:s,includeMargin:r,marginSize:i,imageSettings:l,size:c,boostLevel:f}){let u=Fe.useMemo(()=>{const N=(Array.isArray(n)?n:[n]).reduce((C,T)=>(C.push(...Od.QrSegment.makeSegments(T)),C),[]);return Od.QrCode.encodeSegments(N,cL[e],s,void 0,void 0,f)},[n,e,s,f]);const{cells:m,margin:g,numCells:b,calculatedImageSettings:v}=Fe.useMemo(()=>{let E=u.getModules();const N=mL(r,i),C=E.length+N*2,T=fL(E,c,N,l);return{cells:E,margin:N,numCells:C,calculatedImageSettings:T}},[u,c,l,r,i]);return{qrcode:u,margin:g,cells:m,numCells:b,calculatedImageSettings:v}}var pL=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),gL=Fe.forwardRef(function(e,s){const r=e,{value:i,size:l=WT,level:c=YT,bgColor:f=QT,fgColor:u=JT,includeMargin:m=XT,minVersion:g=ZT,boostLevel:b,marginSize:v,imageSettings:E}=r,C=nv(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:T}=C,O=nv(C,["style"]),F=E==null?void 0:E.src,z=Fe.useRef(null),M=Fe.useRef(null),U=Fe.useCallback(Y=>{z.current=Y,typeof s=="function"?s(Y):s&&(s.current=Y)},[s]),[X,A]=Fe.useState(!1),{margin:P,cells:_,numCells:k,calculatedImageSettings:D}=sE({value:i,level:c,minVersion:g,boostLevel:b,includeMargin:m,marginSize:v,imageSettings:E,size:l});Fe.useEffect(()=>{if(z.current!=null){const Y=z.current,ve=Y.getContext("2d");if(!ve)return;let J=_;const W=M.current,xe=D!=null&&W!==null&&W.complete&&W.naturalHeight!==0&&W.naturalWidth!==0;xe&&D.excavation!=null&&(J=tE(_,D.excavation));const Ie=window.devicePixelRatio||1;Y.height=Y.width=l*Ie;const Ae=l/k*Ie;ve.scale(Ae,Ae),ve.fillStyle=f,ve.fillRect(0,0,k,k),ve.fillStyle=u,pL?ve.fill(new Path2D(eE(J,P))):_.forEach(function($,ie){$.forEach(function(G,H){G&&ve.fillRect(H+P,ie+P,1,1)})}),D&&(ve.globalAlpha=D.opacity),xe&&ve.drawImage(W,D.x+P,D.y+P,D.w,D.h)}}),Fe.useEffect(()=>{A(!1)},[F]);const L=sv({height:l,width:l},T);let R=null;return F!=null&&(R=Fe.createElement("img",{src:F,key:F,style:{display:"none"},onLoad:()=>{A(!0)},ref:M,crossOrigin:D==null?void 0:D.crossOrigin})),Fe.createElement(Fe.Fragment,null,Fe.createElement("canvas",sv({style:L,height:l,width:l,ref:U,role:"img"},O)),R)});gL.displayName="QRCodeCanvas";var nE=Fe.forwardRef(function(e,s){const r=e,{value:i,size:l=WT,level:c=YT,bgColor:f=QT,fgColor:u=JT,includeMargin:m=XT,minVersion:g=ZT,boostLevel:b,title:v,marginSize:E,imageSettings:N}=r,C=nv(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:T,cells:O,numCells:F,calculatedImageSettings:z}=sE({value:i,level:c,minVersion:g,boostLevel:b,includeMargin:m,marginSize:E,imageSettings:N,size:l});let M=O,U=null;N!=null&&z!=null&&(z.excavation!=null&&(M=tE(O,z.excavation)),U=Fe.createElement("image",{href:N.src,height:z.h,width:z.w,x:z.x+T,y:z.y+T,preserveAspectRatio:"none",opacity:z.opacity,crossOrigin:z.crossOrigin}));const X=eE(M,T);return Fe.createElement("svg",sv({height:l,width:l,viewBox:`0 0 ${F} ${F}`,ref:s,role:"img"},C),!!v&&Fe.createElement("title",null,v),Fe.createElement("path",{fill:f,d:`M0,0 h${F}v${F}H0z`,shapeRendering:"crispEdges"}),Fe.createElement("path",{fill:u,d:X,shapeRendering:"crispEdges"}),U)});nE.displayName="QRCodeSVG";const xL=V9("pk_live_51ST5n8JLE5bW6f8EX9PlyQhzw3NNyU4DUGc2YNvdUWM8eDVJBh2U0gKQylFvHAe32IuWDka1uQwaVsSvU4186txw00lanUMTEu"),vk={USD:{name:"Easytrafficbot Ug",accountNumber:"8314422210",accountType:"Checking",routingNumber:"026073150",swift:"TRWIBEB1XXX",bankName:"Wise",bankAddress:"Rue du Trne 100, 3rd floor, Brussels, 1050, Belgium",note:"Use for domestic transfers from USA (Wire & ACH)"},EUR:{name:"Easytrafficbot Ug",iban:"BE86 9679 9171 7050",swift:"TRWIBEB1XXX",bankName:"Wise",bankAddress:"Rue du Trne 100, 3rd floor, Brussels, 1050, Belgium",note:"Use for SEPA transfers within Europe"},GBP:{name:"Easytrafficbot Ug",accountNumber:"46701141",sortCode:"23-08-01",iban:"GB79 TRWI 2308 0146 7011 41",swift:"TRWIGB2LXXX",bankName:"Wise",bankAddress:"Rue du Trne 100, 3rd floor, Brussels, 1050, Belgium",note:"Use for domestic transfers from UK"},AUD:{name:"Easytrafficbot Ug",accountNumber:"218673731",bsb:"774-001",swift:"TRWIAUS1XXX",bankName:"Wise",bankAddress:"Rue du Trne 100, 3rd floor, Brussels, 1050, Belgium",note:"Use for domestic transfers from Australia"},RON:{name:"Easytrafficbot Ug",iban:"RO60 BREL 0005 6028 6239 0100",bankName:"Wise / BREL",bankAddress:"Rue du Trne 100, 3rd floor, Brussels, 1050, Belgium",note:"Use for domestic transfers from Romania"}},wk={"ETH (ERC20)":{name:"Ethereum (ETH)",network:"Ethereum (ERC20)",address:"0x4F692276Ed837aa458245f4184B4331bE3142233",note:"Send only ETH to this address on the Ethereum network."},"USDC (ERC20)":{name:"USD Coin (USDC)",network:"Ethereum (ERC20)",address:"0x4F692276Ed837aa458245f4184B4331bE3142233",note:"Send only USDC to this address on the Ethereum network."},"USDT (ERC20)":{name:"Tether (USDT)",network:"Ethereum (ERC20)",address:"0x4F692276Ed837aa458245f4184B4331bE3142233",note:"Send only USDT to this address on the Ethereum network."},"USDT (TRC20)":{name:"Tether (USDT)",network:"Tron (TRC20)",address:"TBvarbCL58BtFLnytADapLHmNDvuif3eo9",note:"Send only USDT to this address on the Tron network."},"BTC (Bitcoin)":{name:"Bitcoin (BTC)",network:"Bitcoin",address:"bc1qurxk796p6kwuem3usaqamy74yesh6tlu97m3ju",note:"Send only BTC to this address on the Bitcoin network."}},yL=({amount:n,onSuccess:e,onError:s})=>{const r=iL(),i=sL(),[l,c]=w.useState(null),[f,u]=w.useState(!1),m=async g=>{if(g.preventDefault(),!r||!i)return;u(!0);const{error:b,paymentIntent:v}=await r.confirmPayment({elements:i,confirmParams:{return_url:window.location.href},redirect:"if_required"});b?(c(b.message||"An unexpected error occurred."),s(b.message||"Payment failed"),u(!1)):v&&v.status==="succeeded"?(c("Payment successful!"),e(v.id)):(c("Unexpected state."),u(!1))};return t.jsxs("form",{onSubmit:m,className:"space-y-6",children:[t.jsx(oL,{}),l&&t.jsx("div",{className:"text-red-500 text-sm font-bold bg-red-50 p-3 rounded",children:l}),t.jsxs("button",{disabled:f||!r||!i,className:"w-full bg-[#ff4d00] text-white py-4 text-sm font-black uppercase tracking-widest hover:bg-black transition-colors disabled:opacity-50 mt-4 flex items-center justify-center gap-2",children:[f?t.jsx(gs,{className:"animate-spin",size:16}):t.jsx(Yn,{size:16}),f?"Processing...":`Pay ${n.toFixed(2)}`]})]})},bL=({onBack:n,onPurchase:e})=>{const s=qs(),[r,i]=w.useState(1),[l,c]=w.useState($o[0]),[f,u]=w.useState(0),[m,g]=w.useState(1),[b,v]=w.useState(0),[E,N]=w.useState(!1),[C,T]=w.useState("card"),[O,F]=w.useState(""),[z,M]=w.useState("USD"),[U,X]=w.useState("USDT (TRC20)"),[A,P]=w.useState(null),[_,k]=w.useState(!1),[D,L]=w.useState(!1),[R,Y]=w.useState(null),[ve,J]=w.useState(""),[W,xe]=w.useState(null);w.useEffect(()=>{var _e;if(v(q.getBalance()),(C==="bank"||C==="crypto")&&r===2&&!ve){const Le=q.getCurrentUser(),xt=((_e=Le==null?void 0:Le.id)==null?void 0:_e.substring(0,8).toUpperCase())||"XXXXX",we=Date.now().toString(36).toUpperCase();J(`TGP-${xt}-${we}`)}},[C,r]),w.useEffect(()=>{v(q.getBalance())},[]);const Ie=q.getCurrentUser(),Ae=(Ie==null?void 0:Ie.gamificationPermanentDiscount)||0,$=Zb[f],ie=nm[l.id][$][m],G=ie*Ae/100,H=ie-G,me=$*m,K=H/(me/1e3),Te=async()=>{if(C==="card"){N(!0);try{const _e=await q.createCreditsCheckout({tier:l.id,visitors:$,bulk_months:m,currency:"eur"});_e.url?window.location.href=_e.url:alert("Failed to initialize Stripe checkout.")}catch(_e){alert("Checkout Error: "+_e.message)}finally{N(!1)}}else i(2)},Re=async _e=>{N(!0),await q.purchaseCredits(ie,`Traffic Credits (${me.toLocaleString()} ${l.name}) - Stripe ${_e}`,l.id,me),v(q.getBalance()),N(!1),e&&e(),s(`/dashboard/payment-success?type=credits&amount=${H.toFixed(2)}&credits=${me}`)},Oe=(_e,Le)=>{navigator.clipboard.writeText(_e),Y(Le),setTimeout(()=>Y(null),2e3)},gt=_e=>{_e.target.files&&_e.target.files[0]&&P(_e.target.files[0])},wt=async()=>{if(!A){alert("Please select a file to upload.");return}k(!0);try{const _e=new FormData;_e.append("file",A),_e.append("amount",H.toString()),_e.append("tier",l.id),_e.append("hits",me.toString()),_e.append("currency",C==="crypto"?U:z),_e.append("notes",`${C==="crypto"?"Crypto":"Bank"} transfer for ${me.toLocaleString()} ${l.name} visitors - Ref: ${ve}`);const Le=localStorage.getItem("tgp_token");if(!(await fetch(`${le}/bank-transfer/proof`,{method:"POST",headers:{Authorization:`Bearer ${Le}`},body:_e})).ok)throw new Error("Upload failed");L(!0)}catch(_e){alert("Upload failed: "+_e.message)}finally{k(!1)}},_t=_e=>{const Le=vk[_e];return t.jsxs("div",{className:"space-y-2 font-mono text-sm",children:[t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"Account Holder:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold",children:Le.name}),t.jsx("button",{onClick:()=>Oe(Le.name,"name"),className:"text-gray-400 hover:text-[#ff4d00]",children:R==="name"?t.jsx(ct,{size:14,className:"text-green-500"}):t.jsx(cn,{size:14})})]})]}),Le.iban&&t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"IBAN:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold",children:Le.iban}),t.jsx("button",{onClick:()=>Oe(Le.iban,"iban"),className:"text-gray-400 hover:text-[#ff4d00]",children:R==="iban"?t.jsx(ct,{size:14,className:"text-green-500"}):t.jsx(cn,{size:14})})]})]}),Le.accountNumber&&t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"Account Number:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold",children:Le.accountNumber}),t.jsx("button",{onClick:()=>Oe(Le.accountNumber,"account"),className:"text-gray-400 hover:text-[#ff4d00]",children:R==="account"?t.jsx(ct,{size:14,className:"text-green-500"}):t.jsx(cn,{size:14})})]})]}),Le.routingNumber&&t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"Routing Number:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold",children:Le.routingNumber}),t.jsx("button",{onClick:()=>Oe(Le.routingNumber,"routing"),className:"text-gray-400 hover:text-[#ff4d00]",children:R==="routing"?t.jsx(ct,{size:14,className:"text-green-500"}):t.jsx(cn,{size:14})})]})]}),Le.sortCode&&t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"Sort-Code:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold",children:Le.sortCode}),t.jsx("button",{onClick:()=>Oe(Le.sortCode,"sortcode"),className:"text-gray-400 hover:text-[#ff4d00]",children:R==="sortcode"?t.jsx(ct,{size:14,className:"text-green-500"}):t.jsx(cn,{size:14})})]})]}),Le.bsb&&t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"BSB-Code:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold",children:Le.bsb}),t.jsx("button",{onClick:()=>Oe(Le.bsb,"bsb"),className:"text-gray-400 hover:text-[#ff4d00]",children:R==="bsb"?t.jsx(ct,{size:14,className:"text-green-500"}):t.jsx(cn,{size:14})})]})]}),Le.swift&&t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"SWIFT/BIC:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold",children:Le.swift}),t.jsx("button",{onClick:()=>Oe(Le.swift,"swift"),className:"text-gray-400 hover:text-[#ff4d00]",children:R==="swift"?t.jsx(ct,{size:14,className:"text-green-500"}):t.jsx(cn,{size:14})})]})]}),t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"Bank Name:"}),t.jsx("span",{className:"font-bold",children:Le.bankName})]}),t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"Reference:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold text-[#ff4d00]",children:ve}),t.jsx("button",{onClick:()=>Oe(ve,"ref"),className:"text-gray-400 hover:text-[#ff4d00]",children:R==="ref"?t.jsx(ct,{size:14,className:"text-green-500"}):t.jsx(cn,{size:14})})]})]}),t.jsx("div",{className:"mt-3 p-2 bg-gray-50 border border-gray-200 rounded",children:t.jsx("p",{className:"text-xs text-gray-500",children:Le.note})})]})},kt=_e=>{const Le=wk[_e];return t.jsxs("div",{className:"space-y-2 font-mono text-sm",children:[t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"Asset:"}),t.jsx("span",{className:"font-bold",children:Le.name})]}),t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"Network:"}),t.jsx("span",{className:"font-bold",children:Le.network})]}),t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"Address:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold break-all max-w-[200px] sm:max-w-none",children:Le.address}),t.jsx("button",{onClick:()=>Oe(Le.address,"crypto_address"),className:"text-gray-400 hover:text-[#ff4d00] flex-shrink-0",children:R==="crypto_address"?t.jsx(ct,{size:14,className:"text-green-500"}):t.jsx(cn,{size:14})})]})]}),t.jsx("div",{className:"py-4 flex justify-center border-b border-gray-100",children:t.jsx("div",{className:"p-4 bg-white border border-gray-100 shadow-sm rounded-lg",children:t.jsx(nE,{value:Le.address,size:150,fgColor:"#000000",bgColor:"#FFFFFF"})})}),t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-500",children:"Reference / Tx Hash:"}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("span",{className:"font-bold text-[#ff4d00]",children:"Required"})})]}),t.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded text-blue-800",children:[t.jsx("p",{className:"text-xs font-bold",children:Le.note}),t.jsx("p",{className:"text-xs mt-1",children:"Please pay the exact invoice amount or higher. After making the payment, please upload a screenshot or mention your transaction hash as proof."})]})]})};return E&&r===1?t.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[500px] text-center",children:[t.jsx(gs,{className:"w-16 h-16 text-[#ff4d00] animate-spin mb-6"}),t.jsx("h3",{className:"text-2xl font-black uppercase text-gray-900 mb-2",children:"Connecting Secure Gateway"}),t.jsx("p",{className:"text-gray-500 font-medium",children:"Please wait..."})]}):t.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[t.jsx("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4 border-b border-gray-200 pb-8",children:t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Exchange & Funding"}),t.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"Purchase Traffic Credits"})]})}),r===1?t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:$o.map(_e=>t.jsxs("button",{onClick:()=>c(_e),className:`relative p-8 border-2 transition-all duration-300 text-left flex flex-col min-h-[280px] ${l.id===_e.id?`${_e.color} bg-white shadow-xl translate-y-[-4px]`:"border-transparent bg-gray-50 opacity-60 hover:opacity-100"}`,children:[_e.popular&&t.jsx("div",{className:"absolute top-0 right-0 bg-[#ff4d00] text-white text-[9px] font-black uppercase px-3 py-1.5",children:"Recommended"}),t.jsxs("div",{className:"flex items-center gap-3 mb-6 text-gray-400",children:[t.jsx(ga,{size:20}),t.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:_e.quality})]}),t.jsx("h3",{className:"text-2xl font-black uppercase tracking-tighter mb-2",children:_e.name}),t.jsxs("div",{className:"text-sm font-bold text-[#ff4d00] mb-8",children:["",_e.factor.toFixed(2)," Price Factor"]}),t.jsx("ul",{className:"space-y-3 mt-auto",children:_e.features.slice(0,3).map((Le,xt)=>t.jsxs("li",{className:"text-xs font-medium text-gray-500 flex items-center gap-2",children:[t.jsx(fn,{size:12,className:"text-[#ff4d00]"})," ",Le]},xt))})]},_e.id))}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("div",{className:"flex justify-between items-center mb-12",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(TT,{size:14,className:"text-[#ff4d00]"})," Volume Configurator"]}),t.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase mt-1",children:"Select your traffic volume"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-2xl font-black text-gray-900",children:$.toLocaleString()}),t.jsx("div",{className:"text-[10px] font-black text-[#ff4d00] uppercase tracking-widest",children:"Hits Per Credit"})]})]}),t.jsxs("div",{className:"relative mb-16 px-4",children:[t.jsx("input",{type:"range",min:"0",max:"4",step:"1",value:f,onChange:_e=>u(parseInt(_e.target.value)),className:"w-full h-2 bg-gray-100 rounded-lg appearance-none cursor-pointer accent-[#ff4d00] relative z-20"}),t.jsx("div",{className:"absolute top-6 left-0 w-full flex justify-between text-[10px] font-bold text-gray-400 uppercase tracking-wider px-1",children:Zb.map((_e,Le)=>t.jsxs("div",{className:"flex flex-col items-center cursor-pointer hover:text-black",onClick:()=>u(Le),children:[t.jsx("div",{className:"h-2 w-0.5 bg-gray-300 mb-1"}),t.jsx("span",{children:_e>=1e6?`${_e/1e6}M`:`${_e/1e3}k`})]},_e))})]}),t.jsxs("div",{className:"border-t border-gray-100 pt-8",children:[t.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-4",children:"Bulk Packages"}),t.jsx("div",{className:"grid grid-cols-3 gap-4",children:S9.map(_e=>t.jsxs("button",{onClick:()=>g(_e),className:`relative py-4 border-2 flex flex-col items-center justify-center transition-all ${m===_e?"border-[#ff4d00] bg-orange-50 text-black":"border-gray-100 text-gray-400 hover:border-gray-300"}`,children:[_e>1&&t.jsxs("div",{className:"absolute -top-3 bg-[#ff4d00] text-white text-[9px] font-black uppercase px-2 py-0.5 rounded-full shadow-sm",children:["Save ",_e===6?"20%":"40%"]}),t.jsxs("div",{className:"text-xl font-black",children:[_e,"x"]}),t.jsx("div",{className:"text-[9px] font-bold uppercase tracking-widest opacity-60",children:"Credits Included"})]},_e))})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 mb-6 flex items-center gap-2",children:[t.jsx(CT,{size:14,className:"text-[#ff4d00]"})," Payment Method"]}),t.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-4",children:[t.jsxs("button",{onClick:()=>T("card"),className:`p-4 border-2 transition-all flex flex-col items-center gap-3 text-center ${C==="card"?"border-[#ff4d00] bg-orange-50 shadow-lg ring-1 ring-[#ff4d00]":"border-gray-100 hover:border-gray-200"}`,children:[t.jsx(xn,{size:28,className:C==="card"?"text-[#ff4d00]":"text-gray-300"}),t.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Card"})]}),t.jsxs("button",{onClick:()=>T("crypto"),className:`p-4 border-2 transition-all flex flex-col items-center gap-3 text-center ${C==="crypto"?"border-[#ff4d00] bg-orange-50 shadow-lg":"border-gray-100 hover:border-gray-200"}`,children:[t.jsx(xT,{size:28,className:C==="crypto"?"text-[#ff4d00]":"text-gray-300"}),t.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Crypto"})]}),t.jsxs("button",{onClick:()=>T("bank"),className:`p-4 border-2 transition-all flex flex-col items-center gap-3 text-center ${C==="bank"?"border-[#ff4d00] bg-orange-50 shadow-lg":"border-gray-100 hover:border-gray-200"}`,children:[t.jsx(wT,{size:28,className:C==="bank"?"text-[#ff4d00]":"text-gray-300"}),t.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Bank"})]})]})]})]}),t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"bg-[#111] text-white p-10 shadow-2xl relative overflow-hidden sticky top-8 min-h-[500px]",children:[t.jsx("div",{className:"absolute top-0 right-0 p-10 opacity-10 rotate-12",children:t.jsx(uw,{size:180})}),t.jsx("h3",{className:"text-sm font-black uppercase tracking-widest text-gray-400 mb-12 relative",children:"Package Summary"}),t.jsxs("div",{className:"space-y-8 relative",children:[t.jsxs("div",{className:"flex justify-between items-end",children:[t.jsx("div",{className:"text-gray-400 text-xs font-black uppercase tracking-widest",children:"Plan"}),t.jsx("div",{className:"font-black text-base uppercase",children:l.name})]}),t.jsxs("div",{className:"flex justify-between items-end",children:[t.jsx("div",{className:"text-gray-400 text-xs font-black uppercase tracking-widest",children:"Volume"}),t.jsxs("div",{className:"font-black text-base",children:[$.toLocaleString()," ",t.jsxs("span",{className:"text-gray-500",children:["x",m]})]})]}),t.jsxs("div",{className:"flex justify-between items-end",children:[t.jsx("div",{className:"text-gray-400 text-xs font-black uppercase tracking-widest",children:"Total Hits"}),t.jsx("div",{className:"font-black text-base text-[#ff4d00]",children:me.toLocaleString()})]}),t.jsxs("div",{className:"flex justify-between items-end",children:[t.jsx("div",{className:"text-gray-400 text-xs font-black uppercase tracking-widest",children:"Pricing Tier"}),t.jsxs("div",{className:"font-black text-base text-gray-300",children:["",K.toFixed(2)," CPM"]})]}),Ae>0&&t.jsxs("div",{className:"flex justify-between items-end text-[#ff4d00]",children:[t.jsxs("div",{className:"text-xs font-black uppercase tracking-widest flex items-center gap-1",children:[t.jsx(Kr,{size:12,fill:"currentColor"})," Level ",(Ie==null?void 0:Ie.gamificationLevel)||1," Discount"]}),t.jsxs("div",{className:"font-black text-base",children:["-",Ae,"%"]})]}),t.jsx("div",{className:"h-px bg-gray-800 my-10"}),m>1?t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center text-gray-400",children:[t.jsx("div",{className:"text-xs font-bold uppercase tracking-widest",children:"Original Total"}),t.jsxs("div",{className:"text-base line-through",children:["",ie.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsxs("div",{className:"flex justify-between items-center text-green-400 pb-2",children:[t.jsxs("div",{className:"text-xs font-black uppercase tracking-widest bg-green-900/40 px-2 py-1 rounded text-green-400 border border-green-800/50",children:["Save ",m===6?"20%":"40%"]}),t.jsxs("div",{className:"text-base font-bold",children:["-",G.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("div",{className:"text-sm font-black uppercase tracking-widest",children:"Total Due"}),t.jsxs("div",{className:"text-4xl font-black text-white",children:["",H.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}):t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"text-sm font-black uppercase tracking-widest",children:["Total Due ",t.jsx("span",{className:"text-[10px] text-gray-500 block",children:"No bulk discount applied"})]}),t.jsxs("div",{className:"text-4xl font-black text-white",children:["",H.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsxs("button",{onClick:Te,className:"w-full bg-[#ff4d00] text-white py-6 text-sm font-black uppercase tracking-widest hover:bg-white hover:text-black transition-all flex items-center justify-center gap-3 mt-10 shadow-[0_15px_30px_rgba(255,77,0,0.3)] group",children:["Proceed to Checkout ",t.jsx(xs,{size:18,className:"group-hover:translate-x-1 transition-transform"})]}),t.jsxs("div",{className:"mt-10 flex items-center justify-center gap-2 text-gray-500",children:[t.jsx(Yn,{size:14}),t.jsx("span",{className:"text-[10px] uppercase font-black tracking-[0.2em]",children:"Tiered Rate Calculator v4.1"})]})]})]})})]}):t.jsxs("div",{className:"mx-auto space-y-8 animate-in slide-in-from-right-8 duration-500 pb-20 w-full mb-16",children:[t.jsxs("button",{onClick:()=>i(1),className:"flex items-center gap-2 text-gray-500 hover:text-black text-sm font-bold uppercase tracking-wider mb-6",children:[t.jsx(xs,{size:16,className:"rotate-180"})," Back to Configuration"]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 md:p-14 shadow-xl min-h-[700px] w-full",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h3",{className:"text-4xl font-black text-gray-900 uppercase tracking-tighter mb-4",children:"Secure Checkout"}),t.jsxs("p",{className:"text-gray-500 text-lg",children:["Completing payment of ",t.jsxs("span",{className:"font-bold text-[#ff4d00] text-xl",children:["",H.toFixed(2)]})," via ",C==="card"?"Stripe Secure":C]})]}),C==="card"&&O&&t.jsx("div",{className:"max-w-3xl mx-auto",children:t.jsx(qT,{stripe:xL,options:{clientSecret:O,appearance:{theme:"stripe",variables:{colorPrimary:"#ff4d00"}}},children:t.jsx(yL,{amount:H,onSuccess:Re,onError:_e=>alert(_e)})})}),(C==="bank"||C==="crypto")&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[t.jsxs("div",{className:"space-y-8",children:[t.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 p-6 shadow-md",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx(nc,{size:28,className:"text-green-600 flex-shrink-0 mt-1"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xl font-black text-green-800 mb-2",children:"Instant Credit Upon Confirmation"}),t.jsxs("p",{className:"text-base text-green-700",children:["Upload your transfer confirmation. After validation, traffic will be ",t.jsx("strong",{className:"text-green-900",children:"instantly"})," credited to your account."]})]})]})}),t.jsxs("div",{children:[t.jsxs("label",{className:"text-sm font-black uppercase tracking-widest text-gray-400 mb-4 block flex items-center gap-2",children:[t.jsx(ga,{size:14})," ",C==="crypto"?"Select Asset":"Select Currency"]}),t.jsx("div",{className:"flex flex-wrap gap-4",children:C==="bank"?Object.keys(vk).map(_e=>{const Le={USD:"$",EUR:"",GBP:"",AUD:"A$",RON:"lei"};return t.jsxs("button",{onClick:()=>M(_e),className:`px-6 py-3 text-base font-bold uppercase tracking-wider transition-all flex items-center gap-2 ${z===_e?"bg-[#ff4d00] text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[t.jsx("span",{className:"text-lg",children:Le[_e]}),_e]},_e)}):Object.keys(wk).map(_e=>t.jsx("button",{onClick:()=>X(_e),className:`px-4 py-3 text-xs sm:text-sm font-bold uppercase tracking-wider transition-all ${U===_e?"bg-[#ff4d00] text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:_e},_e))})]}),t.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-5",children:[t.jsx("h4",{className:"text-sm font-black uppercase tracking-widest text-gray-900",children:C==="crypto"?"Crypto Address":`Bank Details (${z})`}),C==="bank"&&t.jsx("span",{className:"text-xs font-bold text-[#ff4d00] uppercase",children:"Recommended"})]}),C==="crypto"?kt(U):_t(z)]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx("label",{className:"text-sm font-black uppercase tracking-widest text-gray-400 mb-4 block",children:"Upload Transfer Confirmation"}),D?t.jsxs("div",{className:"bg-green-50 border border-green-200 p-10 text-center h-full flex flex-col items-center justify-center",children:[t.jsx(ct,{size:72,className:"text-green-500 mb-6"}),t.jsx("p",{className:"text-lg font-bold text-green-800 mb-3",children:"Upload Successful!"}),t.jsx("p",{className:"text-base text-green-600",children:"Your transfer is being reviewed. You will receive instant credit upon validation."})]}):t.jsxs("div",{className:"space-y-5 h-full flex flex-col",children:[t.jsxs("div",{className:"border-2 border-dashed border-gray-300 p-10 text-center hover:border-[#ff4d00] transition-colors cursor-pointer flex-1 flex flex-col items-center justify-center",children:[t.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png,.webp",onChange:gt,className:"hidden",id:"proof-upload"}),t.jsxs("label",{htmlFor:"proof-upload",className:"cursor-pointer",children:[t.jsx(If,{size:48,className:"mx-auto text-gray-400 mb-5"}),t.jsx("p",{className:"text-lg font-medium text-gray-600",children:A?A.name:"Click here or drag a file"}),t.jsx("p",{className:"text-sm text-gray-400 mt-3",children:"PDF, JPG, PNG (max. 10MB)"})]})]}),t.jsx("button",{onClick:wt,disabled:!A||_,className:"w-full bg-[#ff4d00] text-white py-6 text-base font-black uppercase tracking-widest hover:bg-black transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3",children:_?t.jsxs(t.Fragment,{children:[t.jsx(gs,{className:"animate-spin",size:20}),"Uploading..."]}):t.jsxs(t.Fragment,{children:[t.jsx(If,{size:20}),"Upload & Release Traffic"]})}),t.jsx("div",{className:"bg-gray-50 border border-gray-200 p-5 text-center",children:t.jsxs("p",{className:"text-base text-gray-500",children:["Amount: ",t.jsxs("strong",{className:"text-[#ff4d00] text-lg",children:["",H.toFixed(2)]})," for ",t.jsxs("strong",{children:[me.toLocaleString()," ",l.name," Visitors"]})]})})]})]})]})]}),t.jsxs("div",{className:"flex justify-center items-center gap-2 opacity-50",children:[t.jsx(Yn,{size:14,className:"text-gray-400"}),t.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"256-Bit SSL Encrypted & Verified"})]})]}),t.jsxs("div",{className:"mt-20 pt-16 border-t border-gray-200",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h3",{className:"text-3xl font-black text-gray-900 uppercase tracking-tighter mb-4",children:"Frequently Asked Questions"}),t.jsx("p",{className:"text-gray-500 max-w-2xl mx-auto",children:"Everything you need to know about purchasing and using our traffic credits."})]}),t.jsx("div",{className:"max-w-4xl mx-auto space-y-4",children:[{q:"What are traffic credits?",a:"Traffic credits are our internal currency. 1 credit equals 1 unique visitor to your website. You purchase credits in bulk and can spend them on any active projects or campaigns you create in your dashboard."},{q:"Do my credits expire?",a:"No, purchased credits never expire. They remain in your account indefinitely until you use them on campaigns. You have complete flexibility on when and how to deploy your traffic."},{q:"How fast is the delivery?",a:"Traffic delivery begins immediately after your campaign goes live. You can control the exact speed, from a slow drip (e.g., 100 visitors/day) to a massive surge, depending on your project settings."},{q:"What defines 'High Quality' vs. other tiers?",a:"Our tiers dictate the routing network and residential IP quality. Higher tiers use premium, low-fraud-score residential proxies that heavily mimic real user behavior, offering longer session times and better geographic precision."},{q:"How do Crypto/Bank payments work?",a:"For Crypto and Bank Wire, you'll transfer the exact amount to the provided details and upload a screenshot or transaction hash. Our team verifies this manually (usually within 1-12 hours) and instantly releases the credits to your account upon confirmation."}].map((_e,Le)=>t.jsxs("div",{className:"border border-gray-200 bg-white overflow-hidden transition-all duration-300",children:[t.jsxs("button",{onClick:()=>xe(W===Le?null:Le),className:"w-full flex justify-between items-center p-6 text-left hover:bg-gray-50 focus:outline-none",children:[t.jsx("span",{className:"font-bold text-gray-900 text-lg pr-8",children:_e.q}),t.jsx("div",{className:`flex-shrink-0 transition-transform duration-300 text-[#ff4d00] ${W===Le?"rotate-180":""}`,children:t.jsx(Hr,{size:20})})]}),t.jsx("div",{className:`transition-all duration-300 ease-in-out ${W===Le?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:t.jsx("div",{className:"p-6 pt-0 text-gray-600 leading-relaxed border-t border-gray-100",children:_e.a})})]},Le))})]})]})},vL=()=>{var L;const[n,e]=w.useState("contact"),[s,r]=w.useState(!1),[i,l]=w.useState("idle"),[c,f]=w.useState(void 0),[u,m]=w.useState(!1),[g,b]=w.useState(""),[v,E]=w.useState(""),[N,C]=w.useState({current:"",new:"",confirm:""}),[T,O]=w.useState(""),[F,z]=w.useState(""),M=w.useRef(null),U=()=>{var R;(R=M.current)==null||R.click()},X=async R=>{if(R.target.files&&R.target.files[0])try{const Y=await q.uploadAvatar(R.target.files[0]);c&&f({...c,avatarUrl:Y}),alert("Avatar updated successfully!")}catch(Y){alert("Failed to upload avatar: "+Y.message)}},A=async()=>{if(confirm("DANGER: Are you sure you want to delete your account? This action is irreversible.")&&prompt("Type 'DELETE' to confirm account deletion:")==="DELETE")try{await q.deleteAccount(),alert("Account deleted. Goodbye.")}catch(Y){alert(Y.message)}};w.useEffect(()=>{const R=q.getCurrentUser();f(R)},[]);const P=async()=>{if(c){r(!0),l("idle");try{const R=await q.updateUserProfile(c);R&&f(R),l("success"),setTimeout(()=>l("idle"),3e3)}catch(R){console.error(R),l("error"),setTimeout(()=>l("idle"),3e3)}finally{r(!1)}}},_=(R,Y)=>{c&&f({...c,[R]:Y})},k=async()=>{if(O(""),z(""),N.new!==N.confirm){O("New passwords do not match.");return}try{await q.changePassword(N.current,N.new,N.confirm),z("Password updated successfully."),C({current:"",new:"",confirm:""})}catch(R){O(R.message)}},D=async()=>{if(confirm("Log out of all other sessions? You will need to log in again on other devices."))try{await q.logoutAllSessions(),alert("All other sessions invalidted.")}catch(R){alert(R.message)}};return c?t.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-12",children:[t.jsxs("div",{className:"flex items-end justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Account Management"}),t.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"My Profile"})]}),t.jsx("button",{onClick:P,disabled:s||i==="success",className:`px-6 py-3 text-xs font-bold uppercase tracking-wider transition-all duration-300 flex items-center gap-2 ${i==="success"?"bg-green-500 text-white hover:bg-green-600":i==="error"?"bg-red-500 text-white hover:bg-red-600":"bg-black text-white hover:bg-[#ff4d00]"} disabled:opacity-70`,children:i==="success"?t.jsxs(t.Fragment,{children:[t.jsx(ec,{size:14,className:"animate-in zoom-in spin-in-90 duration-300"})," Saved!"]}):i==="error"?t.jsxs(t.Fragment,{children:[t.jsx(ys,{size:14})," Failed"]}):t.jsxs(t.Fragment,{children:[t.jsx(ya,{size:14})," ",s?"Saving...":"Save Changes"]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-8 text-center shadow-sm",children:[t.jsxs("div",{className:"relative inline-block mb-6 group",children:[t.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-full flex items-center justify-center border-4 border-white shadow-lg mx-auto overflow-hidden",children:c.avatarUrl?t.jsx("img",{src:`${le}${c.avatarUrl}`,alt:c.name,className:"w-full h-full object-cover"}):t.jsx("span",{className:"text-4xl font-black text-gray-300",children:c.name.split(" ").map(R=>R[0]).join("")})}),t.jsx("button",{onClick:U,className:"absolute bottom-0 right-0 bg-[#ff4d00] text-white p-2 rounded-full hover:bg-black transition-colors shadow-md",children:t.jsx(fD,{size:16})}),t.jsx("input",{type:"file",ref:M,onChange:X,className:"hidden",accept:"image/png, image/jpeg, image/webp"})]}),t.jsx("h3",{className:"text-xl font-bold text-gray-900",children:c.name}),t.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mt-1",children:c.role}),t.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100 flex justify-center gap-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-lg font-black text-gray-900",children:c.projectsCount}),t.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:"Campaigns"})]}),t.jsx("div",{className:"w-px bg-gray-200"}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-lg font-black text-green-600",children:c.status}),t.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:"Status"})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:[t.jsxs("button",{onClick:()=>e("contact"),className:`w-full text-left px-6 py-4 text-xs font-bold uppercase tracking-wider flex items-center gap-3 border-l-4 transition-colors ${n==="contact"?"border-[#ff4d00] bg-gray-50 text-[#ff4d00]":"border-transparent text-gray-500 hover:bg-gray-50"}`,children:[t.jsx(un,{size:16})," Contact Details"]}),t.jsxs("button",{onClick:()=>e("security"),className:`w-full text-left px-6 py-4 text-xs font-bold uppercase tracking-wider flex items-center gap-3 border-l-4 transition-colors ${n==="security"?"border-[#ff4d00] bg-gray-50 text-[#ff4d00]":"border-transparent text-gray-500 hover:bg-gray-50"}`,children:[t.jsx(kn,{size:16})," Security & 2FA"]}),t.jsxs("button",{onClick:()=>e("notifications"),className:`w-full text-left px-6 py-4 text-xs font-bold uppercase tracking-wider flex items-center gap-3 border-l-4 transition-colors ${n==="notifications"?"border-[#ff4d00] bg-gray-50 text-[#ff4d00]":"border-transparent text-gray-500 hover:bg-gray-50"}`,children:[t.jsx(Yb,{size:16})," Notifications"]})]})]}),t.jsx("div",{className:"lg:col-span-2 space-y-6",children:n==="contact"?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(un,{size:14})," Personal Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx(ln,{children:"Full Name"}),t.jsx(In,{value:c.name,onChange:R=>_("name",R),icon:t.jsx(un,{size:16})})]}),t.jsxs("div",{children:[t.jsx(ln,{children:"Display Name (Nickname)"}),t.jsx(In,{value:c.displayName||"",onChange:R=>_("displayName",R),icon:t.jsx(rk,{size:16}),placeholder:"The Traffic King"})]}),t.jsxs("div",{children:[t.jsx(ln,{children:"Email Address"}),t.jsx(In,{value:c.email,onChange:R=>_("email",R),icon:t.jsx(xa,{size:16})})]}),t.jsxs("div",{children:[t.jsx(ln,{children:"Phone Number"}),t.jsx(In,{value:c.phone||"",onChange:R=>_("phone",R),icon:t.jsx(aM,{size:16}),placeholder:"+1 (555) 000-0000"})]}),t.jsxs("div",{children:[t.jsx(ln,{children:"Job Title"}),t.jsx(In,{value:c.jobTitle||"",onChange:R=>_("jobTitle",R),icon:t.jsx(cb,{size:16}),placeholder:"SEO Manager"})]}),t.jsxs("div",{children:[t.jsx(ln,{children:"Website"}),t.jsx(In,{value:c.website||"",onChange:R=>_("website",R),icon:t.jsx(Ts,{size:16}),placeholder:"https://yourpage.com"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx(ln,{children:"Personal Bio"}),t.jsx("textarea",{value:c.bio||"",onChange:R=>_("bio",R.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none min-h-[100px]",placeholder:"Tell us a bit about yourself..."})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(cb,{size:14})," Company & Address"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx(ln,{children:"Company Name"}),t.jsx(In,{value:c.company||"",onChange:R=>_("company",R),icon:t.jsx(cb,{size:16})})]}),t.jsxs("div",{children:[t.jsx(ln,{children:"VAT ID / Tax ID"}),t.jsx(In,{value:c.vatId||"",onChange:R=>_("vatId",R),icon:t.jsx(rk,{size:16})})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx(ln,{children:"Street Address"}),t.jsx(In,{value:c.address||"",onChange:R=>_("address",R),icon:t.jsx(Fo,{size:16})})]}),t.jsxs("div",{children:[t.jsx(ln,{children:"City"}),t.jsx(In,{value:c.city||"",onChange:R=>_("city",R)})]}),t.jsxs("div",{children:[t.jsx(ln,{children:"Zip / Postal Code"}),t.jsx(In,{value:c.zip||"",onChange:R=>_("zip",R)})]}),t.jsxs("div",{children:[t.jsx(ln,{children:"Country"}),t.jsx(In,{value:c.country||"",onChange:R=>_("country",R),placeholder:"e.g. Germany"})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Ts,{size:14})," Visibility"]}),t.jsx(No,{label:"Public Profile Visibility",checked:c.publicProfile||!1,onChange:R=>f({...c,publicProfile:R})}),t.jsx("p",{className:"text-[10px] text-gray-400 mt-2",children:"When enabled, other users can see your shared campaign stats and badges."})]})]}):n==="security"?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(kn,{size:14})," Security & Authentication"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-bold text-gray-600",children:"Two-Factor Authentication (2FA)"}),t.jsx("button",{className:"bg-black text-white px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors",children:"Enable 2FA"})]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Add an extra layer of security to your account by requiring a verification code from your phone."}),t.jsx("div",{className:"border-t border-gray-100 pt-6",children:t.jsx(No,{label:"Require password on all devices every 30 days",checked:c.requirePasswordReset||!1,onChange:R=>_("requirePasswordReset",R.toString())})})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Yn,{size:14})," Change Password"]}),T&&t.jsx("p",{className:"text-red-500 text-xs mb-4",children:T}),F&&t.jsx("p",{className:"text-green-500 text-xs mb-4",children:F}),t.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[t.jsxs("div",{children:[t.jsx(ln,{children:"Current Password"}),t.jsx(In,{type:"password",value:N.current,onChange:R=>C({...N,current:R}),icon:t.jsx(Yn,{size:16})})]}),t.jsxs("div",{children:[t.jsx(ln,{children:"New Password"}),t.jsx(In,{type:"password",value:N.new,onChange:R=>C({...N,new:R}),icon:t.jsx(Yn,{size:16})})]}),t.jsxs("div",{children:[t.jsx(ln,{children:"Confirm New Password"}),t.jsx(In,{type:"password",value:N.confirm,onChange:R=>C({...N,confirm:R}),icon:t.jsx(Yn,{size:16})})]}),t.jsx("button",{onClick:k,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors self-start",children:"Update Password"})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Kt,{size:14})," Recent Login History"]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-left text-xs font-bold",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-100 pb-2",children:[t.jsx("th",{className:"py-2 text-gray-400 uppercase tracking-widest",children:"Date & Time"}),t.jsx("th",{className:"py-2 text-gray-400 uppercase tracking-widest",children:"IP Address"}),t.jsx("th",{className:"py-2 text-gray-400 uppercase tracking-widest",children:"Device / Browser"}),t.jsx("th",{className:"py-2 text-gray-400 uppercase tracking-widest text-right",children:"Action"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:(c.loginHistory||[]).length>0?(L=c.loginHistory)==null?void 0:L.map((R,Y)=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[t.jsx("td",{className:"py-4 text-gray-900",children:R.date}),t.jsx("td",{className:"py-4 text-gray-500 font-mono",children:R.ip}),t.jsx("td",{className:"py-4 text-gray-600",children:R.device}),t.jsx("td",{className:"py-4 text-right",children:Y===0?t.jsx("span",{className:"text-green-600",children:"Current Session"}):t.jsx("span",{className:"text-gray-400",children:"Previous"})})]},Y)):t.jsx("tr",{children:t.jsx("td",{colSpan:4,className:"py-4 text-center text-gray-400",children:"No recent login history found."})})})]})}),t.jsx("button",{onClick:D,className:"mt-6 w-full py-3 border border-gray-200 text-[10px] font-black uppercase tracking-widest hover:bg-gray-50 transition-colors",children:"Log out of all other sessions"}),t.jsxs("div",{className:"mt-12 pt-12 border-t border-gray-200",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-red-600 mb-4 flex items-center gap-2",children:[t.jsx(ys,{size:14})," Danger Zone"]}),t.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),t.jsx("button",{onClick:A,className:"bg-red-50 text-red-600 border border-red-200 px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-red-600 hover:text-white transition-colors",children:"Delete My Account"})]})]})]}):n==="notifications"?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] flex items-center gap-2",children:[t.jsx(Yb,{size:14})," Notification Preferences"]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(ln,{children:"Email Frequency"}),t.jsxs("select",{value:c.emailFrequency||"instant",onChange:R=>_("emailFrequency",R.target.value),className:"bg-gray-100 border-none p-2 text-[10px] font-black uppercase tracking-widest outline-none",children:[t.jsx("option",{value:"instant",children:"Instant"}),t.jsx("option",{value:"daily",children:"Daily Digest"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsx(No,{label:"Campaign Status Alerts",checked:!0}),t.jsx(No,{label:"Low Balance Warnings",checked:!0}),t.jsx(No,{label:"New Login Notifications",checked:c.loginNotificationEnabled||!1,onChange:R=>_("loginNotificationEnabled",R.toString())})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx(No,{label:"Marketing & Product Updates",checked:c.newsletterSub||!1,onChange:R=>_("newsletterSub",R.toString())}),t.jsx(No,{label:"Weekly Performance Reports",checked:!0}),t.jsx(No,{label:"Sound Effects (UI)",checked:c.soundEffects||!1,onChange:R=>_("soundEffects",R.toString())})]})]})]})}):null})]})]}):t.jsx("div",{children:"Loading..."})},No=({label:n,checked:e,onChange:s})=>{const[r,i]=w.useState(e);w.useEffect(()=>{i(e)},[e]);const l=()=>{const c=!r;i(c),s&&s(c)};return t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-bold text-gray-600",children:n}),t.jsx("button",{onClick:l,className:`w-10 h-5 flex items-center p-0.5 transition-colors duration-300 ${r?"bg-[#ff4d00]":"bg-gray-200"}`,children:t.jsx("div",{className:`w-4 h-4 bg-white shadow-sm transform transition-transform duration-300 ${r?"translate-x-5":"translate-x-0"}`})})]})},ln=({children:n})=>t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:n}),In=({value:n,onChange:e,icon:s,type:r="text",placeholder:i})=>t.jsxs("div",{className:"relative",children:[s&&t.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:s}),t.jsx("input",{type:r,value:n,onChange:l=>e(l.target.value),className:`w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none transition-colors ${s?"pl-10":""}`,placeholder:i})]}),wL=()=>{const[n,e]=w.useState([]),[s,r]=w.useState(null),[i,l]=w.useState(void 0),[c,f]=w.useState("all"),[u,m]=w.useState("all");w.useEffect(()=>{(async()=>{l(q.getCurrentUser()),await q.syncTransactions(),e(q.getTransactions())})();const O=setInterval(()=>{l(q.getCurrentUser())},2e3);return()=>clearInterval(O)},[]);const g=T=>{const O=n.filter(z=>z.type!=="debit"&&z.tier===T&&z.hits).reduce((z,M)=>z+(M.hits||0),0),F=n.filter(z=>z.type==="debit"&&z.tier===T&&z.hits).reduce((z,M)=>z+(M.hits||0),0);return O-F},b=T=>T?{economy:"Economy",professional:"Professional",expert:"Expert"}[T]||T:"General",v=T=>T&&{economy:"bg-gray-100 text-gray-600",professional:"bg-orange-100 text-orange-600",expert:"bg-[#ff4d00]/10 text-[#ff4d00]"}[T]||"bg-gray-100 text-gray-600",E=n.filter(T=>{if(u!=="all"&&T.tier!==u)return!1;if(c!=="all"){const O=new Date(T.date),F=new Date,z=c==="7d"?7:c==="30d"?30:90,M=new Date(F.getTime()-z*24*60*60*1e3);if(O<M)return!1}return!0}),N=()=>{if(E.length===0){alert("No transactions to download.");return}const T=["ID","Date","Description","Type","Amount","Status","Balance Tier","Hits","Reference"],O=E.map(U=>[U.id,U.date,`"${U.desc.replace(/"/g,'""')}"`,U.type,U.amount.toFixed(2),U.status,b(U.tier),U.hits?(U.type==="debit"?"-":"+")+U.hits.toString():"",U.reference||""]),F="data:text/csv;charset=utf-8,"+T.join(",")+`
`+O.map(U=>U.join(",")).join(`
`),z=encodeURI(F),M=document.createElement("a");M.setAttribute("href",z),M.setAttribute("download",`traffic_statement_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(M),M.click(),document.body.removeChild(M)},C=({trx:T,onClose:O})=>t.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:O,children:t.jsxs("div",{className:"bg-white w-full max-w-lg shadow-2xl animate-in zoom-in-95 duration-200",onClick:F=>F.stopPropagation(),children:[t.jsxs("div",{className:"p-8 border-b border-gray-100 flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("div",{className:"w-6 h-6 bg-[#ff4d00] flex items-center justify-center",children:t.jsx("span",{className:"font-black text-black text-xs",children:"M"})}),t.jsx("span",{className:"font-black text-lg tracking-tight",children:"TRAFFIC GEN"})]}),t.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-widest",children:"Receipt"})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-xl font-bold text-gray-900 mb-1",children:["",T.amount.toFixed(2)]}),T.hits&&t.jsxs("div",{className:`text-sm font-bold mb-1 ${T.type==="debit"?"text-red-600":"text-green-600"}`,children:["(",T.type==="debit"?"-":"+",T.hits.toLocaleString()," hits)"]}),t.jsx("div",{className:`text-xs font-bold uppercase tracking-wide px-2 py-0.5 inline-block ${T.status==="completed"?"bg-green-100 text-green-700":"bg-gray-100"}`,children:T.status})]})]}),t.jsxs("div",{className:"p-8 space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"Date"}),t.jsx("div",{className:"text-sm font-bold text-gray-900",children:T.date})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"Transaction ID"}),t.jsx("div",{className:"text-sm font-mono text-gray-600",children:T.id})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"Type"}),t.jsx("div",{className:"text-sm font-bold text-gray-900 capitalize",children:T.type==="debit"?"Purchase":"Deposit"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"Balance Tier"}),t.jsx("div",{className:"text-sm font-bold text-gray-900",children:b(T.tier)})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"Reference"}),t.jsx("div",{className:"text-sm font-mono text-gray-600",children:T.reference||"-"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"User"}),t.jsx("div",{className:"text-sm font-bold text-gray-900",children:(i==null?void 0:i.name)||"User"})]})]}),t.jsxs("div",{className:"bg-gray-50 p-4 border border-gray-100",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-1",children:"Description"}),t.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.desc})]})]}),t.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-100 flex justify-end gap-3",children:[t.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 text-xs font-bold uppercase hover:bg-gray-100",children:[t.jsx(cM,{size:14})," Print"]}),t.jsx("button",{onClick:O,className:"px-4 py-2 bg-black text-white text-xs font-bold uppercase hover:bg-[#ff4d00]",children:"Close"})]})]})});return t.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-12",children:[s&&t.jsx(C,{trx:s,onClose:()=>r(null)}),t.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Financial Overview"}),t.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"Balances"})]}),t.jsxs("button",{onClick:N,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[t.jsx(Ya,{size:14})," Statement"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-white border-b-4 border-gray-200 p-8 shadow-sm hover:translate-y-[-2px] transition-transform",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsx("div",{className:"p-2 bg-gray-100 rounded-sm text-gray-600",children:t.jsx(ga,{size:20})}),t.jsx("span",{className:"text-[10px] font-bold bg-gray-100 px-2 py-1 uppercase tracking-widest text-gray-500",children:"Economy"})]}),t.jsx("div",{className:"text-3xl font-black text-gray-900 mb-1",children:g("economy").toLocaleString()}),t.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:"Hits Available"})]}),t.jsxs("div",{className:"bg-white border-b-4 border-orange-300 p-8 shadow-sm hover:translate-y-[-2px] transition-transform relative overflow-hidden",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[t.jsx("div",{className:"p-2 bg-orange-50 rounded-sm text-orange-500",children:t.jsx(Tf,{size:20})}),t.jsx("span",{className:"text-[10px] font-bold bg-orange-100 text-orange-600 px-2 py-1 uppercase tracking-widest",children:"Professional"})]}),t.jsx("div",{className:"text-3xl font-black text-gray-900 mb-1 relative z-10",children:g("professional").toLocaleString()}),t.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide relative z-10",children:"Hits Available"}),t.jsx(Tf,{className:"absolute -bottom-4 -right-4 text-orange-50 w-32 h-32 rotate-12"})]}),t.jsxs("div",{className:"bg-[#111] border-b-4 border-[#ff4d00] text-white p-8 shadow-lg hover:translate-y-[-2px] transition-transform relative overflow-hidden",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[t.jsx("div",{className:"p-2 bg-[#ff4d00] rounded-sm text-white",children:t.jsx(Lt,{size:20})}),t.jsx("span",{className:"text-[10px] font-bold bg-[#ff4d00] text-white px-2 py-1 uppercase tracking-widest",children:"Expert"})]}),t.jsx("div",{className:"text-3xl font-black text-white mb-1 relative z-10",children:g("expert").toLocaleString()}),t.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide relative z-10",children:"Hits Available"}),t.jsx(Lt,{className:"absolute -bottom-4 -right-4 text-gray-800 w-32 h-32 rotate-12 opacity-20"})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(Kt,{size:14,className:"text-[#ff4d00]"})," Transaction History"]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs("select",{value:c,onChange:T=>f(T.target.value),className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase tracking-wide",children:[t.jsx("option",{value:"all",children:"All Time"}),t.jsx("option",{value:"7d",children:"Last 7 Days"}),t.jsx("option",{value:"30d",children:"Last 30 Days"}),t.jsx("option",{value:"90d",children:"Last 90 Days"})]}),t.jsxs("select",{value:u,onChange:T=>m(T.target.value),className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase tracking-wide",children:[t.jsx("option",{value:"all",children:"All Balances"}),t.jsx("option",{value:"economy",children:"Economy"}),t.jsx("option",{value:"professional",children:"Professional"}),t.jsx("option",{value:"expert",children:"Expert"})]})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-left border-collapse",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-[#f9fafb] border-b border-gray-100",children:[t.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Date"}),t.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Description"}),t.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Balance"}),t.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Hits"}),t.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Reference"}),t.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Status"}),t.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Amount"}),t.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Action"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:E.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"text-center p-8 text-sm text-gray-400",children:"No transactions found."})}):E.map(T=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-500",children:T.date}),t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-900",children:T.desc}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-2 py-1 text-[9px] font-black uppercase tracking-wider rounded-sm ${v(T.tier)}`,children:b(T.tier)})}),t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-900",children:T.hits?t.jsxs("span",{className:T.type==="debit"?"text-red-600":"text-green-600",children:[T.type==="debit"?"-":"+",T.hits.toLocaleString()]}):"-"}),t.jsx("td",{className:"px-6 py-4 text-xs font-mono text-gray-500",children:T.reference||"-"}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-[9px] font-black uppercase tracking-wider rounded-sm",children:T.status})}),t.jsxs("td",{className:`px-6 py-4 text-sm font-black text-right ${T.type==="debit"?"text-gray-900":"text-green-600"}`,children:[T.type==="debit"?"-":"+","",T.amount.toFixed(2),T.hits?t.jsxs("span",{className:`block text-[10px] ${T.type==="debit"?"text-red-500":"text-green-500"}`,children:["(",T.type==="debit"?"-":"+",T.hits.toLocaleString()," hits)"]}):null]}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsx("button",{onClick:()=>r(T),className:"text-gray-400 hover:text-[#ff4d00] transition-colors",children:t.jsx(Ya,{size:14})})})]},T.id))})]})})]})]})},jL=()=>{var Ae,$,ie,G,H,me,K,Te,Re,Oe,gt,wt,_t,kt,_e,Le,xt;const[n,e]=w.useState("overview"),[s,r]=w.useState(!0),[i,l]=w.useState(null),[c,f]=w.useState(null),[u,m]=w.useState([]),[g,b]=w.useState(null),[v,E]=w.useState([]),[N,C]=w.useState(!1),[T,O]=w.useState(null),[F,z]=w.useState({url:"",description:""}),[M,U]=w.useState(!1),[X,A]=w.useState(!1),[P,_]=w.useState({amount:"",method:"paypal",paypalEmail:"",bankName:"",bankIban:"",bankSwift:""}),[k,D]=w.useState(!1),[L,R]=w.useState([]);w.useEffect(()=>{const we=q.getCurrentUser();l(we),Y()},[]);const Y=async()=>{try{const[we,se,$e,tt,ae]=await Promise.all([q.getAffiliateDashboard().catch(()=>null),q.getBenefitTypes().catch(()=>[]),q.getBenefitBalance().catch(()=>null),q.getMyBenefitRequests().catch(()=>[]),q.getMyPayouts().catch(()=>[])]);f(we),m(se),b($e),E(tt),R(ae)}catch(we){console.error(we)}finally{r(!1)}},ve=async()=>{if(!(!T||!F.url)){U(!0);try{await q.submitBenefit({benefit_type:T.type,benefit_category:T.category,url:F.url,description:F.description,claimed_value:T.value}),await Y(),C(!1),z({url:"",description:""}),O(null)}catch(we){alert(we.message||"Failed to submit benefit")}finally{U(!1)}}},J=async()=>{const we=parseFloat(P.amount);if(!we||we<=0){alert("Please enter a valid amount");return}const se=P.method==="paypal"?50:100;if(we<se){alert(`Minimum payout is ${se} for ${P.method==="paypal"?"PayPal":"Bank Transfer"}`);return}if(P.method==="paypal"&&!P.paypalEmail){alert("Please enter your PayPal email");return}if(P.method==="bank"&&(!P.bankName||!P.bankIban)){alert("Please enter your bank details");return}D(!0);try{await q.requestPayout({amount:we,method:P.method,payout_details:P.method==="paypal"?{email:P.paypalEmail}:{bank_name:P.bankName,iban:P.bankIban,swift:P.bankSwift}}),await Y(),A(!1),_({amount:"",method:"paypal",paypalEmail:"",bankName:"",bankIban:"",bankSwift:""}),alert("Payout request submitted successfully! We will process it within 5 business days.")}catch($e){alert($e.message||"Failed to request payout")}finally{D(!1)}},W=we=>["#cd7f32","#c0c0c0","#ffd700","#e5e4e2","#b9f2ff","#ff4d00"][Math.min(we-1,5)],xe=we=>{switch(we){case"youtube":return t.jsx(h9,{size:20});case"blog":return t.jsx(Af,{size:20});case"facebook":return t.jsx(JD,{size:20});case"reddit":return t.jsx(UO,{size:20});case"twitter":return t.jsx(JM,{size:20});case"instagram":return t.jsx(gO,{size:20});case"tiktok":return t.jsx(Kr,{size:20});case"review":return t.jsx(Kr,{size:20});default:return t.jsx(Wn,{size:20})}};if(s)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-[#ff4d00] border-t-transparent rounded-full"})});const Ie=(c==null?void 0:c.referralLink)||`https://modus-traffic.com/ref/u/${i==null?void 0:i.id}`;return t.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-12",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Partner Program"}),t.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"Affiliate Dashboard"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(xb,{active:n==="overview",onClick:()=>e("overview"),icon:t.jsx(Dn,{size:14}),children:"Overview"}),t.jsx(xb,{active:n==="benefits",onClick:()=>e("benefits"),icon:t.jsx(Wn,{size:14}),children:"Benefits"}),t.jsx(xb,{active:n==="payouts",onClick:()=>e("payouts"),icon:t.jsx(ki,{size:14}),children:"Payouts"})]})]}),n==="overview"&&t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-8 text-center shadow-sm relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gray-50 rounded-full -mt-16 -mr-16 z-0"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"w-24 h-24 rounded-full flex items-center justify-center border-4 border-gray-100 shadow-md mx-auto mb-6 bg-white",children:t.jsx(Tf,{size:40,style:{color:W(((Ae=c==null?void 0:c.tier)==null?void 0:Ae.tierLevel)||1)}})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900",children:(($=c==null?void 0:c.tier)==null?void 0:$.tierName)||"Bronze Starter"}),t.jsxs("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mt-1",children:["Current Tier Level ",((ie=c==null?void 0:c.tier)==null?void 0:ie.tierLevel)||1,"/6"]}),t.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100 flex justify-center gap-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-2xl font-black text-[#ff4d00]",children:[((((G=c==null?void 0:c.tier)==null?void 0:G.commissionRateL1)||.15)*100).toFixed(0),"%"]}),t.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:"Comm. Rate"})]}),t.jsx("div",{className:"w-px bg-gray-200"}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-black text-gray-900",children:(c==null?void 0:c.totalReferrals)||0}),t.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:"Referrals"})]})]})]})]}),t.jsx(_o,{title:"Your Referral Link",icon:t.jsx(Af,{size:14}),children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"flex-1 bg-[#f9fafb] border border-gray-200 p-3 flex items-center font-mono text-xs font-bold text-gray-600 truncate",children:Ie}),t.jsx("button",{onClick:()=>{navigator.clipboard.writeText(Ie),alert("Copied!")},className:"bg-black hover:bg-[#ff4d00] text-white p-3 shadow-sm transition-colors",children:t.jsx(cn,{size:16})})]})})]}),t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsx(jk,{label:"Total Earnings",value:`${(((H=c==null?void 0:c.tier)==null?void 0:H.totalEarnings)||0).toFixed(2)}`,subtext:"All time earnings"}),t.jsx(jk,{label:"Pending Payout",value:`${(((me=c==null?void 0:c.tier)==null?void 0:me.pendingPayout)||0).toFixed(2)}`,subtext:"Available for withdrawal",highlight:!0})]}),t.jsx(_o,{title:"Referral Network Performance",icon:t.jsx(Nr,{size:14}),children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-[#ff4d00] text-white flex items-center justify-center font-bold text-xs",children:"L1"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-gray-900",children:"Direct Referrals"}),t.jsxs("div",{className:"text-[10px] text-gray-500 uppercase tracking-wide",children:[(((K=c==null?void 0:c.tier)==null?void 0:K.commissionRateL1)||.15)*100,"% Commission"]})]})]}),t.jsx("div",{className:"text-xl font-black text-gray-900",children:((Te=c==null?void 0:c.tier)==null?void 0:Te.totalReferralsL1)||0})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 text-white flex items-center justify-center font-bold text-xs",children:"L2"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-gray-900",children:"Level 2 (Indirect)"}),t.jsxs("div",{className:"text-[10px] text-gray-500 uppercase tracking-wide",children:[(((Re=c==null?void 0:c.tier)==null?void 0:Re.commissionRateL2)||.05)*100,"% Override"]})]})]}),t.jsx("div",{className:"text-xl font-black text-gray-900",children:((Oe=c==null?void 0:c.tier)==null?void 0:Oe.totalReferralsL2)||0})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-500 text-white flex items-center justify-center font-bold text-xs",children:"L3"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-gray-900",children:"Level 3 (Network)"}),t.jsxs("div",{className:"text-[10px] text-gray-500 uppercase tracking-wide",children:[(((gt=c==null?void 0:c.tier)==null?void 0:gt.commissionRateL3)||.02)*100,"% Override"]})]})]}),t.jsx("div",{className:"text-xl font-black text-gray-900",children:((wt=c==null?void 0:c.tier)==null?void 0:wt.totalReferralsL3)||0})]})]})}),g&&g.benefitBalance>0&&t.jsx("div",{className:"bg-black text-white p-8 relative overflow-hidden shadow-lg",children:t.jsxs("div",{className:"relative z-10 flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-2",children:"Available Credits"}),t.jsxs("div",{className:"text-4xl font-black",children:["",g.benefitBalance.toFixed(2)]}),t.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Use these credits for your own traffic campaigns."})]}),t.jsx(xn,{size:48,className:"text-[#333]"})]})})]})]}),n==="benefits"&&t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[t.jsxs(_o,{title:"Credit Balance",icon:t.jsx(xn,{size:14}),children:[t.jsxs("div",{className:"text-center py-6",children:[t.jsxs("div",{className:"text-3xl font-black text-gray-900 mb-1",children:["",((g==null?void 0:g.benefitBalance)||0).toFixed(2)]}),t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Available Balance"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-6 border-t border-gray-100",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-xl font-black text-gray-900",children:(g==null?void 0:g.pendingRequests)||0}),t.jsx("div",{className:"text-[9px] text-gray-400 uppercase tracking-wide",children:"Pending"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-xl font-black text-green-600",children:g==null?void 0:g.totalBenefitsClaimed.toFixed(2)}),t.jsx("div",{className:"text-[9px] text-gray-400 uppercase tracking-wide",children:"Earned"})]})]})]}),t.jsxs("div",{className:"bg-[#ff4d00] text-white p-8",children:[t.jsx("h3",{className:"text-lg font-black uppercase tracking-tight mb-2",children:"Earn More Credits"}),t.jsx("p",{className:"text-xs font-medium opacity-80 mb-6",children:"Complete simple tasks to earn free traffic credits for your campaigns."}),t.jsx("button",{onClick:()=>C(!0),className:"w-full bg-white text-black text-xs font-bold uppercase tracking-wider py-3 hover:bg-black hover:text-white transition-colors",children:"Submit Activity"})]})]}),t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsx(_o,{title:"Available Opportunities",icon:t.jsx(Wn,{size:14}),children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.slice(0,8).map(we=>t.jsxs("div",{onClick:()=>{O(we),C(!0)},className:"border border-gray-100 p-4 hover:border-[#ff4d00] hover:shadow-md transition-all cursor-pointer group bg-gray-50",children:[t.jsxs("div",{className:"flex justify-between items-start mb-2",children:[t.jsx("div",{className:"p-2 bg-white rounded-md shadow-sm text-gray-600 group-hover:text-[#ff4d00] transition-colors",children:xe(we.type)}),t.jsxs("span",{className:"text-sm font-black text-[#ff4d00]",children:["",we.value]})]}),t.jsx("div",{className:"text-sm font-bold text-gray-900",children:we.category}),t.jsx("div",{className:"text-[10px] text-gray-500 mt-1 line-clamp-1",children:we.name})]},we.id))})}),t.jsx(_o,{title:"Recent Submissions",icon:t.jsx(Kt,{size:14}),children:v.length===0?t.jsx("div",{className:"text-center py-12 text-gray-400 text-sm",children:"No submissions yet. Start earning today!"}):t.jsx("div",{className:"divide-y divide-gray-100",children:v.map(we=>t.jsxs("div",{className:"py-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`p-2 rounded-full ${we.status==="approved"?"bg-green-100 text-green-600":we.status==="rejected"?"bg-red-100 text-red-600":"bg-yellow-100 text-yellow-600"}`,children:we.status==="approved"?t.jsx(ec,{size:16}):we.status==="rejected"?t.jsx(Kn,{size:16}):t.jsx(Kt,{size:16})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs font-bold text-gray-900 uppercase",children:we.benefitCategory}),t.jsx("div",{className:"text-[10px] text-gray-500 truncate max-w-[200px]",children:we.url})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-sm font-black",children:["",we.approvedValue||we.claimedValue]}),t.jsx("div",{className:`text-[9px] font-bold uppercase tracking-wider ${we.status==="approved"?"text-green-600":we.status==="rejected"?"text-red-500":"text-yellow-500"}`,children:we.status})]})]},we.id))})})]})]}),n==="payouts"&&t.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[t.jsxs(_o,{title:"Cashout Earnings",icon:t.jsx(ki,{size:14}),children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[t.jsxs("div",{className:"p-6 bg-[#f9fafb] border border-gray-200 text-center",children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Available to Payout"}),t.jsxs("div",{className:"text-3xl font-black text-green-600",children:["",(((_t=c==null?void 0:c.tier)==null?void 0:_t.pendingPayout)||0).toFixed(2)]})]}),t.jsxs("div",{className:"p-6 bg-white border border-gray-200 text-center",children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Min. PayPal"}),t.jsx("div",{className:"text-xl font-bold text-gray-900",children:"50.00"})]}),t.jsxs("div",{className:"p-6 bg-white border border-gray-200 text-center",children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Min. Bank Transfer"}),t.jsx("div",{className:"text-xl font-bold text-gray-900",children:"100.00"})]})]}),t.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-6 flex flex-col md:flex-row items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"bg-white p-3 shadow-sm rounded-full",children:t.jsx(Jb,{size:24,className:"text-[#ff4d00]"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-bold text-gray-900",children:"Secure Payout Processing"}),t.jsx("p",{className:"text-xs text-gray-500 max-w-md",children:"Payouts are processed manually within 5 business days. Please ensure your billing details are up to date in your profile."})]})]}),t.jsx("button",{onClick:()=>A(!0),disabled:(((kt=c==null?void 0:c.tier)==null?void 0:kt.pendingPayout)||0)<50,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Request Payout"})]})]}),t.jsx(_o,{title:"Financial History",icon:t.jsx(Dn,{size:14}),children:t.jsxs("div",{className:"grid grid-cols-2 gap-8 p-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Lifetime Earnings"}),t.jsxs("div",{className:"text-2xl font-black text-gray-900",children:["",(((_e=c==null?void 0:c.tier)==null?void 0:_e.totalEarnings)||0).toFixed(2)]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Total Paid Out"}),t.jsxs("div",{className:"text-2xl font-black text-gray-900",children:["",(((Le=c==null?void 0:c.tier)==null?void 0:Le.lifetimePayout)||0).toFixed(2)]})]})]})}),t.jsx(_o,{title:"Payout History",icon:t.jsx(Kt,{size:14}),children:L.length===0?t.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"No payout requests yet"}):t.jsx("div",{className:"divide-y divide-gray-100",children:L.map(we=>t.jsxs("div",{className:"py-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`p-2 rounded-full ${we.status==="paid"?"bg-green-100 text-green-600":we.status==="approved"?"bg-blue-100 text-blue-600":we.status==="rejected"?"bg-red-100 text-red-600":"bg-yellow-100 text-yellow-600"}`,children:we.status==="paid"?t.jsx(ec,{size:16}):we.status==="rejected"?t.jsx(Kn,{size:16}):t.jsx(Kt,{size:16})}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-xs font-bold text-gray-900",children:["",we.amount.toFixed(2)]}),t.jsx("div",{className:"text-[10px] text-gray-500",children:we.method==="paypal"?"PayPal":"Bank Transfer"})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:`text-[9px] font-bold uppercase tracking-wider ${we.status==="paid"?"text-green-600":we.status==="approved"?"text-blue-600":we.status==="rejected"?"text-red-500":"text-yellow-500"}`,children:we.status}),t.jsx("div",{className:"text-[10px] text-gray-400",children:new Date(we.requestedAt).toLocaleDateString()})]})]},we.id))})})]}),N&&t.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-200",children:t.jsxs("div",{className:"bg-white max-w-lg w-full shadow-2xl animate-in zoom-in-95 duration-200",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[t.jsxs("h3",{className:"text-lg font-black uppercase tracking-tight flex items-center gap-2",children:[t.jsx(Wn,{size:20,className:"text-[#ff4d00]"})," Submit Activity"]}),t.jsx("button",{onClick:()=>C(!1),className:"text-gray-400 hover:text-black transition-colors",children:t.jsx("span",{className:"text-2xl",children:""})})]}),t.jsxs("div",{className:"p-8 space-y-6",children:[t.jsxs("div",{children:[t.jsx(vi,{children:"Activity Type"}),t.jsxs("select",{className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none",value:(T==null?void 0:T.id)||"",onChange:we=>{const se=u.find($e=>$e.id===we.target.value);O(se||null)},children:[t.jsx("option",{value:"",children:"Select activity..."}),u.map(we=>t.jsxs("option",{value:we.id,children:[we.name," - ",we.value]},we.id))]})]}),t.jsxs("div",{children:[t.jsx(vi,{children:"Proof URL"}),t.jsx(vd,{value:F.url,onChange:we=>z({...F,url:we}),placeholder:"https://..."})]}),t.jsxs("div",{children:[t.jsx(vi,{children:"Description / Comments"}),t.jsx("textarea",{className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none min-h-[100px]",placeholder:"Additional details...",value:F.description,onChange:we=>z({...F,description:we.target.value})})]}),T&&t.jsxs("div",{className:"bg-gray-50 border border-gray-100 p-4 flex justify-between items-center",children:[t.jsx("div",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Estimated Value"}),t.jsxs("div",{className:"text-2xl font-black text-[#ff4d00]",children:["",T.value]})]})]}),t.jsxs("div",{className:"p-6 border-t border-gray-100 flex gap-3",children:[t.jsx("button",{onClick:()=>C(!1),className:"flex-1 border border-gray-200 py-3 text-xs font-bold uppercase hover:bg-gray-50 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:ve,disabled:!T||!F.url||M,className:"flex-1 bg-black text-white py-3 text-xs font-bold uppercase hover:bg-[#ff4d00] transition-colors disabled:opacity-50",children:M?"Submitting...":"Submit Request"})]})]})}),X&&t.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-200",children:t.jsxs("div",{className:"bg-white max-w-lg w-full shadow-2xl animate-in zoom-in-95 duration-200",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[t.jsxs("h3",{className:"text-lg font-black uppercase tracking-tight flex items-center gap-2",children:[t.jsx(ki,{size:20,className:"text-[#ff4d00]"})," Request Payout"]}),t.jsx("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-black transition-colors",children:t.jsx("span",{className:"text-2xl",children:""})})]}),t.jsxs("div",{className:"p-8 space-y-6",children:[t.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-4 text-center",children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Available Balance"}),t.jsxs("div",{className:"text-3xl font-black text-green-600",children:["",(((xt=c==null?void 0:c.tier)==null?void 0:xt.pendingPayout)||0).toFixed(2)]})]}),t.jsxs("div",{children:[t.jsx(vi,{children:"Amount ()"}),t.jsx(vd,{value:P.amount,onChange:we=>_({...P,amount:we}),placeholder:"0.00",type:"number"})]}),t.jsxs("div",{children:[t.jsx(vi,{children:"Payout Method"}),t.jsxs("select",{className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none",value:P.method,onChange:we=>_({...P,method:we.target.value}),children:[t.jsx("option",{value:"paypal",children:"PayPal (Min. 50)"}),t.jsx("option",{value:"bank",children:"Bank Transfer (Min. 100)"})]})]}),P.method==="paypal"?t.jsxs("div",{children:[t.jsx(vi,{children:"PayPal Email"}),t.jsx(vd,{value:P.paypalEmail,onChange:we=>_({...P,paypalEmail:we}),placeholder:"your@email.com",type:"email"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx(vi,{children:"Bank Name"}),t.jsx(vd,{value:P.bankName,onChange:we=>_({...P,bankName:we}),placeholder:"Bank Name"})]}),t.jsxs("div",{children:[t.jsx(vi,{children:"IBAN"}),t.jsx(vd,{value:P.bankIban,onChange:we=>_({...P,bankIban:we}),placeholder:"DE89 3704 0044 0532 0130 00"})]}),t.jsxs("div",{children:[t.jsx(vi,{children:"SWIFT/BIC (Optional)"}),t.jsx(vd,{value:P.bankSwift,onChange:we=>_({...P,bankSwift:we}),placeholder:"DEUTDEFF"})]})]}),t.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-4 text-xs text-yellow-800",children:[t.jsx("strong",{children:"Note:"})," Payouts are processed manually within 5 business days. Ensure your details are correct."]})]}),t.jsxs("div",{className:"p-6 border-t border-gray-100 flex gap-3",children:[t.jsx("button",{onClick:()=>A(!1),className:"flex-1 border border-gray-200 py-3 text-xs font-bold uppercase hover:bg-gray-50 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:J,disabled:k,className:"flex-1 bg-black text-white py-3 text-xs font-bold uppercase hover:bg-[#ff4d00] transition-colors disabled:opacity-50",children:k?"Processing...":"Submit Request"})]})]})})]})},_o=({title:n,icon:e,children:s})=>t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm h-full",children:[t.jsxs("h3",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[e," ",n]}),s]}),jk=({label:n,value:e,subtext:s,highlight:r})=>t.jsxs("div",{className:`p-6 border ${r?"border-[#ff4d00]/30 bg-[#fff5f0]":"border-gray-200 bg-white"}`,children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:n}),t.jsx("div",{className:`text-3xl font-black ${r?"text-[#ff4d00]":"text-gray-900"}`,children:e}),s&&t.jsx("div",{className:"text-[10px] text-gray-500 mt-1",children:s})]}),xb=({active:n,onClick:e,children:s,icon:r})=>t.jsxs("button",{onClick:e,className:`px-4 py-2 text-[10px] font-bold uppercase tracking-widest flex items-center gap-2 transition-all border ${n?"bg-black text-white border-black":"bg-white text-gray-500 border-gray-200 hover:border-gray-300"}`,children:[r," ",s]}),vi=({children:n})=>t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-2",children:n}),vd=({value:n,onChange:e,placeholder:s,type:r="text"})=>t.jsx("input",{type:r,value:n,onChange:i=>e(i.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:s}),NL=({targetDate:n})=>{const[e,s]=w.useState(null);return w.useEffect(()=>{const r=setInterval(()=>{const i=new Date().getTime(),l=new Date(n).getTime()-i;l<0?(s(null),clearInterval(r)):s({days:Math.floor(l/864e5),hours:Math.floor(l%864e5/36e5),minutes:Math.floor(l%36e5/6e4),seconds:Math.floor(l%6e4/1e3)})},1e3);return()=>clearInterval(r)},[n]),e?t.jsxs("div",{className:"flex gap-2 mt-3 font-mono text-sm font-black text-black bg-white/20 p-2 rounded-sm inline-flex",children:[t.jsxs("span",{children:[String(e.days).padStart(2,"0"),"d"]}),":",t.jsxs("span",{children:[String(e.hours).padStart(2,"0"),"h"]}),":",t.jsxs("span",{children:[String(e.minutes).padStart(2,"0"),"m"]}),":",t.jsxs("span",{children:[String(e.seconds).padStart(2,"0"),"s"]})]}):null},_L=({stats:n})=>{const e=Math.max(...n.map(s=>s.visitors),1);return t.jsx("div",{className:"h-32 flex items-end justify-between gap-1 w-full mt-4",children:n.map((s,r)=>{const i=s.visitors/e*100;return t.jsxs("div",{className:"flex-1 flex flex-col justify-end group relative h-full",children:[t.jsxs("div",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 bg-black text-white text-[10px] py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10 whitespace-nowrap",children:[s.date,": ",s.visitors.toLocaleString()]}),t.jsx("div",{className:"bg-[#ff4d00] opacity-30 group-hover:opacity-100 transition-all rounded-t-sm",style:{height:`${i}%`,minHeight:"4px"}})]},r)})})},kL=({projects:n,balance:e,onNavigateToProject:s,onNavigateToBuyCredits:r,onNavigateToSupport:i})=>{var G;const[l,c]=w.useState([]),[f,u]=w.useState([]),[m,g]=w.useState(null),[b,v]=w.useState(""),[E,N]=w.useState(""),[C,T]=w.useState(""),[O,F]=w.useState(!1),[z,M]=w.useState(!1),[U,X]=w.useState(0),[A,P]=w.useState(null),[_,k]=w.useState(!1),[D,L]=w.useState(null),[R,Y]=w.useState(!1);w.useEffect(()=>{const H=q.getCurrentUser();g(H||null),c(q.getTransactions().slice(0,5));const me=async()=>{try{const _e=await fetch(`${window.location.origin}/users/me/gamification`,{headers:{Authorization:`Bearer ${localStorage.getItem("tgp_token")}`}});if(_e.ok){const Le=await _e.json();P(Le),M(Le.streak_days>0&&!await K())}}catch(_e){console.error("Failed to fetch gamification:",_e)}},K=async()=>{try{const _e=await fetch(`${window.location.origin}/users/me/streak`,{headers:{Authorization:`Bearer ${localStorage.getItem("tgp_token")}`}});if(_e.ok)return(await _e.json()).can_claim_today}catch{}return!0};me();const Re=q.getAlerts().filter(_e=>q.checkBroadcastTarget(_e,H));u(Re);const Oe=["Use alt tags on all images for better accessibility and SEO ranking.","Improve page load speed by compressing images and using lazy loading.","Use descriptive and keyword-rich title tags for every page.","Internal linking helps search engines understand your site structure.","Write unique meta descriptions to improve click-through rates."];N(Oe[Math.floor(Math.random()*Oe.length)]);const gt=["The first website was published in 1991 by Tim Berners-Lee.","Over 50% of web traffic comes from mobile devices.","Google processes over 3.5 billion searches per day.","The average bounce rate for websites is between 41% and 55%."];T(gt[Math.floor(Math.random()*gt.length)]);const wt=setInterval(()=>{v(new Date().toUTCString().split(" ")[4]+" UTC")},1e3),_t=async()=>{try{const _e=await q.getActiveNow();X(_e.activeNow)}catch{}};_t();const kt=setInterval(_t,5e3);return()=>{clearInterval(wt),clearInterval(kt)}},[e]);const ve=n.filter(H=>H.status==="active"),J=Fe.useMemo(()=>{const H=[];for(let me=29;me>=0;me--){const K=new Date;K.setDate(K.getDate()-me);const Te=K.toLocaleDateString("en-US",{month:"short",day:"numeric"});let Re=0;n.forEach(Oe=>{var wt;const gt=(wt=Oe.stats)==null?void 0:wt.find(_t=>_t.date===K.toISOString().split("T")[0]);gt&&(Re+=gt.visitors)}),H.push({date:Te,visitors:Re})}return H},[n]),W=n.reduce((H,me)=>{var Te;const K=((Te=me.stats)==null?void 0:Te.reduce((Re,Oe)=>Re+Oe.visitors,0))||0;return H+K},0),xe=H=>{switch(H){case"error":return t.jsx(QO,{size:18});case"warning":return t.jsx(ys,{size:18});case"promo":return t.jsx(Kr,{size:18});default:return t.jsx(nc,{size:18})}},Ie=H=>H>=1e6?(H/1e6).toFixed(1)+"M":H>=1e3?(H/1e3).toFixed(1)+"k":H.toString(),Ae=()=>{const H=new Date().getHours();return H<12?"Good Morning":H<18?"Good Afternoon":"Good Evening"},$=()=>{navigator.clipboard.writeText(`https://traffic.com/ref/${(m==null?void 0:m.id)||"user"}`),F(!0),setTimeout(()=>F(!1),2e3)},ie=async()=>{if(!(R||z)){Y(!0);try{const me=await(await fetch(`${window.location.origin}/users/me/daily-bonus`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("tgp_token")}`,"Content-Type":"application/json"}})).json();L(me),k(!0),me.success&&(M(!0),P(K=>K?{...K,streak_days:me.streak_days,streak_best:me.streak_best}:null))}catch(H){console.error("Failed to claim bonus:",H)}finally{Y(!1)}}};return t.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[f.length>0&&t.jsx("div",{className:"space-y-3",children:f.map(H=>t.jsxs("div",{className:`p-4 border-l-4 shadow-sm flex items-start gap-3 rounded-r-sm ${H.type==="error"?"bg-red-50 border-red-500 text-red-700":H.type==="promo"?"bg-yellow-50 border-yellow-500 text-yellow-800":H.type==="warning"?"bg-orange-50 border-orange-500 text-orange-700":"bg-blue-50 border-blue-500 text-blue-700"}`,children:[t.jsx("div",{className:"mt-0.5 shrink-0",children:xe(H.type)}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-bold",children:H.message}),H.countdownEnds&&t.jsx(NL,{targetDate:H.countdownEnds}),t.jsx("p",{className:"text-[10px] font-medium opacity-70 mt-1 uppercase tracking-wider",children:H.date})]})]},H.id))}),t.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-end gap-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1 flex items-center gap-2",children:[t.jsx(MM,{size:12,strokeWidth:3})," ",Ae()]}),t.jsxs("h2",{className:"text-4xl font-black text-gray-900 tracking-tight uppercase",children:["Welcome, ",((G=m==null?void 0:m.name)==null?void 0:G.split(" ")[0])||"User"]}),t.jsxs("p",{className:"text-sm text-gray-400 font-bold uppercase tracking-wider mt-1",children:["Your network performance is ",t.jsx("span",{className:"text-green-600",children:"Optimal"})]})]}),t.jsx("div",{className:"flex flex-col items-end gap-3",children:t.jsxs("div",{className:"flex items-center gap-4 text-[10px] font-black uppercase bg-white px-4 py-2 border border-gray-200 shadow-sm rounded-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Kt,{size:12,className:"text-[#ff4d00]"}),t.jsx("span",{className:"text-gray-900",children:b})]}),t.jsx("div",{className:"w-px h-3 bg-gray-200"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-1.5 h-1.5 bg-[#ff4d00] rounded-full animate-pulse"}),t.jsx("span",{className:"text-[#ff4d00]",children:"Server Online"})]})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"bg-white p-6 border border-gray-200 shadow-sm relative overflow-hidden group hover:border-[#ff4d00] transition-colors rounded-sm",children:[t.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:t.jsx(Dn,{size:64,className:"text-[#ff4d00]"})}),t.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Total Hits Sent"}),t.jsx("div",{className:"text-4xl font-black text-gray-900 mb-2",children:Ie(W)}),t.jsxs("div",{className:"text-[10px] font-black text-[#ff4d00] flex items-center gap-1 uppercase tracking-wider",children:[t.jsx(br,{size:12})," Active Now: ",U]})]}),t.jsxs("div",{className:"bg-white p-6 border border-gray-200 shadow-sm relative overflow-hidden group hover:border-[#ff4d00] transition-colors cursor-pointer rounded-sm",onClick:()=>s(""),children:[t.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:t.jsx(Lt,{size:64,className:"text-[#ff4d00]"})}),t.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Active Projects"}),t.jsx("div",{className:"text-4xl font-black text-gray-900 mb-2",children:ve.length}),t.jsxs("div",{className:"text-[10px] font-black text-gray-500 flex items-center gap-1 uppercase tracking-wider",children:["Manage Campaigns ",t.jsx(xs,{size:10,className:"group-hover:translate-x-1 transition-transform"})]})]}),t.jsxs("div",{className:"bg-white p-6 border border-gray-200 shadow-sm relative overflow-hidden group hover:border-[#ff4d00] transition-colors cursor-pointer rounded-sm",onClick:r,children:[t.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:t.jsx(xn,{size:64,className:"text-[#ff4d00]"})}),t.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Available Credits"}),t.jsxs("div",{className:"text-4xl font-black text-gray-900 mb-2",children:["",(e??0).toFixed(2)]}),t.jsxs("div",{className:"text-[10px] font-black text-[#ff4d00] flex items-center gap-1 uppercase tracking-wider",children:["Add Credits ",t.jsx(er,{size:10,className:"group-hover:rotate-90 transition-transform"})]})]}),t.jsxs("div",{className:"bg-white p-6 border border-gray-200 shadow-sm relative overflow-hidden group hover:border-[#ff4d00] transition-colors rounded-sm",children:[t.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:t.jsx(Kr,{size:64,className:"text-[#ff4d00]"})}),t.jsxs("div",{className:"flex justify-between items-center mb-1",children:[t.jsxs("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:["Level ",(A==null?void 0:A.level)||1," ",(A==null?void 0:A.level_name)||"Novice"]}),t.jsxs("span",{className:"text-[10px] font-black text-[#ff4d00]",children:[A!=null&&A.xp_to_next?Math.min(100,Math.round(A.xp/(A.xp+A.xp_to_next)*100)):100,"%"]})]}),t.jsx("div",{className:"text-2xl font-black text-gray-900 mb-3 uppercase tracking-tight",children:"Growth Path"}),t.jsx("div",{className:"w-full bg-gray-100 h-2 rounded-full overflow-hidden shadow-inner",children:t.jsx("div",{className:"h-full bg-[#ff4d00] transition-all duration-1000",style:{width:`${A!=null&&A.xp_to_next?Math.min(100,Math.round(A.xp/(A.xp+A.xp_to_next)*100)):100}%`}})}),t.jsxs("div",{className:"mt-2 text-[9px] font-black text-gray-400 uppercase tracking-widest",children:[A!=null&&A.discount_percent?`${A.discount_percent}% Discount Active  `:"","Next: ",(A==null?void 0:A.next_reward)||"Max Level"]}),(A==null?void 0:A.pending_bonus_hits)&&A.pending_bonus_hits>0&&!A.pending_bonus_claimed&&t.jsxs("button",{className:"mt-3 w-full bg-[#ff4d00] text-white py-2 text-[9px] font-black uppercase tracking-widest rounded-sm hover:bg-black transition-colors animate-pulse",children:[t.jsx(ux,{size:12,className:"inline mr-1"})," Claim Level Bonus: +",A.pending_bonus_hits.toLocaleString()," Hits"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 rounded-sm",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(gD,{size:14,className:"text-[#ff4d00]"})," Network Throughput"]}),t.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase mt-1",children:"Last 30 days volume"})]}),t.jsx("div",{className:"flex gap-2",children:t.jsxs("span",{className:"flex items-center gap-1 text-[9px] font-black text-gray-500 uppercase",children:[t.jsx("div",{className:"w-1.5 h-1.5 bg-[#ff4d00] rounded-full"})," Hits"]})})]}),t.jsx(_L,{stats:J})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm flex flex-col rounded-sm overflow-hidden",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(br,{size:14,className:"text-[#ff4d00]"})," Recent Campaigns"]}),t.jsxs("button",{onClick:()=>s(""),className:"text-[10px] font-black text-gray-400 uppercase tracking-widest hover:text-[#ff4d00] transition-colors flex items-center gap-1",children:["View Full List ",t.jsx(xs,{size:10})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50/50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Project Name"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Pricing Plan"}),t.jsx("th",{className:"px-6 py-4 text-right text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Status"})]})}),t.jsxs("tbody",{className:"divide-y divide-gray-50",children:[n.slice(0,5).map(H=>t.jsxs("tr",{className:"hover:bg-orange-50/30 cursor-pointer transition-colors group",onClick:()=>s(H.id),children:[t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("div",{className:"text-xs font-bold text-gray-900 group-hover:text-[#ff4d00] transition-colors",children:H.name}),t.jsx("div",{className:"text-[10px] text-gray-400 font-mono mt-0.5 uppercase tracking-tighter",children:H.id})]}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500 px-2 py-1 bg-gray-100 rounded-sm",children:H.plan})}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsx("span",{className:`inline-flex items-center px-2 py-0.5 text-[9px] font-black uppercase tracking-wider rounded-sm ${H.status==="active"?"bg-[#ff4d00] text-white":H.status==="completed"?"bg-black text-white":"bg-gray-100 text-gray-400"}`,children:H.status})})]},H.id)),n.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:3,className:"p-12 text-center text-[10px] font-black uppercase tracking-widest text-gray-400",children:"No projects found. Create your first campaign to get started."})})]})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-6 rounded-sm shadow-sm flex gap-4 hover:border-[#ff4d00] transition-colors",children:[t.jsx("div",{className:"mt-1",children:t.jsx(nc,{size:18,className:"text-[#ff4d00]"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[9px] font-black text-[#ff4d00] uppercase tracking-widest mb-1",children:"Weekly SEO Insight"}),t.jsxs("p",{className:"text-xs text-gray-700 leading-relaxed font-bold",children:['"',E,'"']})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 rounded-sm shadow-sm flex gap-4 hover:border-[#ff4d00] transition-colors",children:[t.jsx("div",{className:"mt-1",children:t.jsx(Ts,{size:18,className:"text-[#ff4d00]"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[9px] font-black text-[#ff4d00] uppercase tracking-widest mb-1",children:"Internet Statistics"}),t.jsxs("p",{className:"text-xs text-gray-700 leading-relaxed font-bold",children:['"',C,'"']})]})]})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 rounded-sm",children:[t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 mb-6 flex items-center gap-2",children:[t.jsx(Lt,{size:14,className:"text-[#ff4d00]"})," Command Center"]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("button",{onClick:()=>s("new"),className:"flex flex-col items-center justify-center p-4 bg-gray-50 hover:bg-black hover:text-white transition-all rounded-sm group",children:[t.jsx(br,{size:20,className:"mb-2 text-[#ff4d00]"}),t.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest",children:"New Project"})]}),t.jsxs("button",{onClick:r,className:"flex flex-col items-center justify-center p-4 bg-gray-50 hover:bg-black hover:text-white transition-all rounded-sm group",children:[t.jsx(xn,{size:20,className:"mb-2 text-gray-400 group-hover:text-[#ff4d00]"}),t.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest",children:"Buy Credits"})]}),t.jsxs("button",{onClick:ie,disabled:z||R,className:`flex flex-col items-center justify-center p-4 transition-all rounded-sm group ${z?"bg-[#ff4d00]/10 text-[#ff4d00]":"bg-gray-50 hover:bg-[#ff4d00] hover:text-white"}`,children:[t.jsx(Wn,{size:20,className:`mb-2 ${z?"text-[#ff4d00]":"text-gray-400 group-hover:text-white"}`}),t.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest",children:R?"Claiming...":z?"Claimed":"Daily Bonus"})]}),t.jsxs("button",{onClick:()=>i?i():window.location.href="/dashboard/support",className:"flex flex-col items-center justify-center p-4 bg-gray-50 hover:bg-blue-600 hover:text-white transition-all rounded-sm group",children:[t.jsx(Gr,{size:20,className:"mb-2 text-gray-400 group-hover:text-white"}),t.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest",children:"Get Support"})]})]})]}),t.jsxs("div",{className:"bg-[#111] text-white p-6 rounded-sm shadow-xl relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#ff4d00] opacity-10 rounded-full -mr-16 -mt-16 blur-2xl group-hover:opacity-20 transition-opacity"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"text-[9px] font-black text-gray-500 uppercase tracking-widest mb-1",children:"Activity Streak"}),t.jsxs("div",{className:"text-3xl font-black flex items-center gap-3 mb-6",children:[(A==null?void 0:A.streak_days)||0," DAYS ",t.jsx(Lt,{size:24,className:"text-[#ff4d00] fill-[#ff4d00] animate-pulse"})]}),t.jsx("div",{className:"flex gap-1.5 h-1.5 mb-3",children:[1,2,3,4,5,6,7].map(H=>t.jsx("div",{className:`${H<=Math.min((A==null?void 0:A.streak_days)||0,7)?"bg-[#ff4d00]":"bg-gray-800"} flex-1 rounded-full`},H))}),t.jsxs("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:["Best: ",(A==null?void 0:A.streak_best)||0," days  Day 7 bonus: +10,000 hits"]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-6 rounded-sm",children:[t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 mb-2 flex items-center gap-2",children:[t.jsx(Nr,{size:14,className:"text-[#ff4d00]"})," Affiliate Portal"]}),t.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase mb-4 tracking-tight",children:"Earn 20% lifetime commission"}),t.jsxs("div",{className:"flex gap-2 mb-3",children:[t.jsx("div",{className:"flex-1 bg-gray-50 border border-gray-200 text-[10px] px-3 py-2.5 rounded-sm font-mono text-gray-500 truncate",children:m!=null&&m.referralCode?`modus-traffic.com/ref/${m.referralCode}`:`modus-traffic.com/ref/u/${(m==null?void 0:m.id)||"..."}`}),t.jsx("button",{onClick:$,className:`px-4 rounded-sm border transition-all flex items-center justify-center ${O?"bg-green-600 border-green-600 text-white":"bg-white border-gray-200 hover:border-[#ff4d00] hover:text-[#ff4d00]"}`,children:O?t.jsx(fn,{size:14}):t.jsx(cn,{size:14})})]}),t.jsxs("button",{onClick:()=>window.location.href="/dashboard/affiliate",className:"w-full bg-black text-white py-2.5 text-[10px] font-black uppercase tracking-widest hover:bg-[#ff4d00] transition-colors rounded-sm flex items-center justify-center gap-2",children:["Open Affiliate Portal ",t.jsx(xs,{size:12})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm rounded-sm overflow-hidden",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center",children:[t.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900",children:"Wallet History"}),t.jsx(Kt,{size:12,className:"text-gray-400"})]}),t.jsx("div",{className:"divide-y divide-gray-100",children:l.length>0?l.slice(0,3).map(H=>t.jsxs("div",{className:"p-4 flex justify-between items-center bg-white hover:bg-gray-50 transition-colors group",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`p-1.5 rounded-sm ${H.type==="debit"?"bg-orange-50 text-[#ff4d00]":"bg-green-50 text-green-600"}`,children:H.type==="debit"?t.jsx(xs,{size:10,className:"rotate-45"}):t.jsx(er,{size:10})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black text-gray-700 uppercase tracking-tight truncate w-32",children:H.desc}),t.jsx("div",{className:"text-[9px] text-gray-400 font-bold uppercase",children:H.date})]})]}),t.jsxs("div",{className:`text-xs font-black ${H.type==="debit"?"text-gray-900":"text-green-600"}`,children:[H.type==="debit"?"-":"+","",H.amount.toFixed(0)]})]},H.id)):t.jsx("div",{className:"p-8 text-center text-[10px] font-black uppercase tracking-widest text-gray-400",children:"No transactions recorded."})}),l.length>0&&t.jsx("button",{onClick:()=>window.location.href="/dashboard/balance",className:"w-full py-3 bg-gray-50 text-[9px] font-black uppercase tracking-widest text-gray-400 hover:text-[#ff4d00] transition-colors border-t border-gray-100",children:"View Full Wallet"})]})]})]}),_&&D&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 animate-in fade-in duration-200",children:t.jsxs("div",{className:"bg-white rounded-sm shadow-2xl max-w-md w-full mx-4 overflow-hidden animate-in slide-in-from-bottom-4 duration-300",children:[t.jsxs("div",{className:"bg-[#ff4d00] p-6 text-center relative",children:[t.jsx("button",{onClick:()=>k(!1),className:"absolute top-4 right-4 text-white/70 hover:text-white",children:t.jsx(mn,{size:20})}),t.jsx(Wn,{size:48,className:"mx-auto mb-3 text-white animate-bounce"}),t.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-tight",children:D.success?"Bonus Claimed!":"Already Claimed"})]}),t.jsx("div",{className:"p-8 text-center",children:D.success?t.jsxs(t.Fragment,{children:[t.jsxs("p",{className:"text-4xl font-black text-[#ff4d00] mb-2",children:["+",D.hits.toLocaleString()]}),t.jsxs("p",{className:"text-sm text-gray-500 font-bold uppercase tracking-widest mb-4",children:[D.tier.charAt(0).toUpperCase()+D.tier.slice(1)," Hits Added"]}),t.jsx("div",{className:"bg-gray-50 rounded-sm p-4 mb-6",children:t.jsxs("div",{className:"flex items-center justify-center gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Current Streak"}),t.jsxs("div",{className:"text-2xl font-black text-gray-900",children:[D.streak_days," Days"]})]}),t.jsx("div",{className:"w-px h-10 bg-gray-200"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Best Streak"}),t.jsxs("div",{className:"text-2xl font-black text-gray-900",children:[D.streak_best," Days"]})]})]})}),t.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Come back tomorrow to continue your streak and earn more bonus hits!"})]}):t.jsx("p",{className:"text-gray-600",children:D.message})}),t.jsx("div",{className:"bg-gray-50 px-8 py-4",children:t.jsx("button",{onClick:()=>k(!1),className:"w-full bg-black text-white py-3 text-xs font-black uppercase tracking-widest hover:bg-[#ff4d00] transition-colors rounded-sm",children:"Got it!"})})]})})]})},SL=()=>{var xt,we;const[n,e]=w.useState([]),[s,r]=w.useState([]),[i,l]=w.useState(null),[c,f]=w.useState(!0),[u,m]=w.useState(!1),[g,b]=w.useState(!1),[v,E]=w.useState("all"),[N,C]=w.useState(""),[T,O]=w.useState(!1),[F,z]=w.useState(""),[M,U]=w.useState(""),[X,A]=w.useState("medium"),[P,_]=w.useState("general"),[k,D]=w.useState(""),[L,R]=w.useState([]),[Y,ve]=w.useState(!1),[J,W]=w.useState(""),[xe,Ie]=w.useState([]),[Ae,$]=w.useState(!1),ie=w.useRef(null),G=w.useRef(null),H=w.useRef(null),me=q.getCurrentUser(),K=n.find(se=>se.id===i);w.useEffect(()=>{Te()},[]),w.useEffect(()=>{K&&setTimeout(()=>{var se;(se=ie.current)==null||se.scrollIntoView({behavior:"smooth"})},100)},[(xt=K==null?void 0:K.messages)==null?void 0:xt.length]);const Te=async()=>{if(me){f(!0);try{await q.syncProjects(),await q.syncTickets(),r(q.getProjects()),e(q.getTickets())}catch(se){console.error("Failed to refresh data",se)}finally{f(!1)}}},Re=n.filter(se=>{var $e,tt;if(v!=="all"&&se.status!==v)return!1;if(N){const ae=N.toLowerCase();return se.subject.toLowerCase().includes(ae)||(($e=se.lastMessage)==null?void 0:$e.toLowerCase().includes(ae))||((tt=se.messages)==null?void 0:tt.some(It=>It.text.toLowerCase().includes(ae)))}return!0}).sort((se,$e)=>new Date($e.date).getTime()-new Date(se.date).getTime()),Oe=async(se,$e)=>{var be;const tt=(be=se.target.files)==null?void 0:be[0];if(!tt)return;const ae=$e?Ie:R,It=$e?xe:L,ls=$e?$:ve;ls(!0);try{const Ue=await q.uploadTicketAttachment(tt);ae([...It,Ue])}catch(Ue){console.error("Upload failed",Ue),alert("Failed to upload file. Please try again.")}finally{ls(!1)}},gt=async se=>{if(se.preventDefault(),!(!F||!M||!me)){b(!0);try{const $e={subject:F,priority:X,category:P,projectId:k||void 0,attachmentUrls:L.map(tt=>tt.url),messages:[{id:Date.now().toString(),sender:"user",text:M,date:new Date().toLocaleString(),attachments:L.map(tt=>tt.url)}]};await q.createTicket($e),O(!1),z(""),U(""),A("medium"),_("general"),D(""),R([]),await Te()}catch($e){console.error("Failed to create ticket",$e),alert("Failed to create ticket. Please try again.")}finally{b(!1)}}},wt=async()=>{if(!(!i||!J&&xe.length===0)){m(!0);try{await q.replyToTicket(i,J,"user",xe.map(se=>se.url)),W(""),Ie([]),await Te()}catch(se){console.error("Failed to reply",se),alert("Failed to send reply. Please try again.")}finally{m(!1)}}},_t=async()=>{if(i&&confirm("Are you sure you want to close this ticket?"))try{await q.closeTicket(i),await Te()}catch(se){console.error("Failed to close ticket",se),alert("Failed to close ticket. Please try again.")}},kt=se=>{se.key==="Enter"&&!se.shiftKey&&(se.preventDefault(),wt())},_e=se=>{const $e={billing:"bg-yellow-100 text-yellow-700",technical:"bg-blue-100 text-blue-700",sales:"bg-green-100 text-green-700",general:"bg-gray-100 text-gray-600"};return $e[se||"general"]||$e.general},Le=se=>{const $e={open:"bg-green-100 text-green-700","in-progress":"bg-blue-100 text-blue-700",closed:"bg-gray-200 text-gray-500"};return $e[se]||$e.open};return t.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-12 h-[calc(100vh-140px)] flex flex-col",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4 mb-2 flex-shrink-0",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Helpdesk"}),t.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"Support Tickets"})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("a",{href:"/helpdesk",target:"_blank",rel:"noopener noreferrer",className:"border border-gray-200 text-gray-600 px-4 py-3 text-xs font-bold uppercase tracking-wider hover:border-[#ff4d00] hover:text-[#ff4d00] transition-colors flex items-center gap-2 bg-white",children:[t.jsx(sc,{size:14})," FAQ / Help"]}),t.jsxs("button",{onClick:()=>O(!0),className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[t.jsx(er,{size:14})," New Ticket"]})]})]}),T&&t.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white w-full max-w-lg shadow-2xl animate-in zoom-in-95 duration-200 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50 sticky top-0 z-10",children:[t.jsx("h3",{className:"text-sm font-bold uppercase tracking-wide",children:"Create New Ticket"}),t.jsx("button",{onClick:()=>O(!1),className:"text-gray-400 hover:text-black",children:t.jsx(mn,{size:18})})]}),t.jsxs("form",{onSubmit:gt,className:"p-8 space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Subject *"}),t.jsx("input",{value:F,onChange:se=>z(se.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none",placeholder:"Brief description of your issue",required:!0})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Category"}),t.jsxs("select",{value:P,onChange:se=>_(se.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none",children:[t.jsx("option",{value:"general",children:"General"}),t.jsx("option",{value:"billing",children:"Billing"}),t.jsx("option",{value:"technical",children:"Technical"}),t.jsx("option",{value:"sales",children:"Sales"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Priority"}),t.jsxs("select",{value:X,onChange:se=>A(se.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none",children:[t.jsx("option",{value:"low",children:"Low - General Question"}),t.jsx("option",{value:"medium",children:"Medium - Technical Issue"}),t.jsx("option",{value:"high",children:"High - Urgent / Billing"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Related Project (Optional)"}),t.jsxs("select",{value:k,onChange:se=>D(se.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none",children:[t.jsx("option",{value:"",children:"None"}),s.map(se=>t.jsx("option",{value:se.id,children:se.name},se.id))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Message *"}),t.jsx("textarea",{value:M,onChange:se=>U(se.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none h-32 resize-none",placeholder:"Describe your issue in detail...",required:!0})]}),L.length>0&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:"Attachments"}),t.jsx("div",{className:"flex gap-2 flex-wrap",children:L.map((se,$e)=>t.jsxs("div",{className:"text-xs bg-gray-100 px-3 py-2 rounded-sm text-gray-600 flex items-center gap-2",children:[t.jsx(df,{size:10})," ",se.filename,t.jsx("button",{type:"button",onClick:()=>R(L.filter((tt,ae)=>ae!==$e)),className:"text-gray-400 hover:text-red-500",children:t.jsx(mn,{size:12})})]},$e))})]}),t.jsx("input",{ref:G,type:"file",className:"hidden",onChange:se=>Oe(se,!1),accept:"image/*,.pdf,.doc,.docx,.txt"}),t.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-100",children:[t.jsxs("button",{type:"button",onClick:()=>{var se;return(se=G.current)==null?void 0:se.click()},disabled:Y,className:"flex items-center gap-2 text-xs font-bold text-gray-500 hover:text-[#ff4d00] uppercase tracking-wide disabled:opacity-50",children:[Y?t.jsx(gs,{size:16,className:"animate-spin"}):t.jsx(If,{size:16}),Y?"Uploading...":"Attach File"]}),t.jsxs("button",{type:"submit",disabled:g||Y,className:"bg-[#ff4d00] text-white px-8 py-3 text-xs font-bold uppercase tracking-wider hover:bg-black transition-colors flex items-center gap-2 disabled:opacity-50",children:[g?t.jsx(gs,{size:14,className:"animate-spin"}):t.jsx(Qd,{size:14}),g?"Creating...":"Submit Ticket"]})]})]})]})}),t.jsxs("div",{className:"flex-1 bg-white border border-gray-200 shadow-sm flex overflow-hidden",children:[t.jsxs("div",{className:`${K?"hidden md:flex":"flex"} w-full md:w-1/3 border-r border-gray-200 flex-col`,children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 bg-gray-50 space-y-3",children:[t.jsx("div",{className:"flex bg-white border border-gray-200 rounded-sm overflow-hidden",children:["all","open","in-progress","closed"].map(se=>t.jsx("button",{onClick:()=>E(se),className:`flex-1 px-3 py-2 text-[10px] font-bold uppercase ${v===se?"bg-black text-white":"text-gray-500 hover:bg-gray-50"}`,children:se==="all"?"All":se},se))}),t.jsxs("div",{className:"relative",children:[t.jsx(jr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:14}),t.jsx("input",{value:N,onChange:se=>C(se.target.value),placeholder:"Search tickets...",className:"w-full bg-white border border-gray-200 pl-9 pr-4 py-2 text-xs font-bold outline-none focus:border-[#ff4d00]"})]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:c?t.jsxs("div",{className:"p-8 text-center text-gray-400 text-sm flex items-center justify-center gap-2",children:[t.jsx(gs,{size:16,className:"animate-spin"})," Loading..."]}):Re.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:N||v!=="all"?"No tickets match your filters.":"No tickets found. Create one to get started."}):Re.map(se=>t.jsxs("div",{onClick:()=>l(se.id),className:`p-5 border-b border-gray-100 cursor-pointer transition-colors hover:bg-gray-50 group ${i===se.id?"bg-orange-50":""}`,children:[t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx("span",{className:`text-[9px] font-black uppercase px-1.5 py-0.5 rounded-sm ${Le(se.status)}`,children:se.status}),se.category&&t.jsx("span",{className:`text-[9px] font-black uppercase px-1.5 py-0.5 rounded-sm ${_e(se.category)}`,children:se.category})]}),t.jsx("span",{className:"text-[10px] text-gray-400 font-bold",children:se.date})]}),t.jsx("h4",{className:`text-sm font-bold mb-1 truncate ${i===se.id?"text-[#ff4d00]":"text-gray-900"}`,children:se.subject}),t.jsx("p",{className:"text-xs text-gray-500 truncate",children:se.lastMessage}),se.projectName&&t.jsxs("div",{className:"mt-2 text-[9px] font-bold text-gray-400 uppercase tracking-wide flex items-center gap-1",children:["Project: ",se.projectName]}),se.type==="chat"&&t.jsxs("div",{className:"mt-2 text-[9px] font-bold text-blue-500 uppercase tracking-wide flex items-center gap-1",children:[t.jsx(Gr,{size:10})," Live Chat Log"]})]},se.id))})]}),K?t.jsxs("div",{className:"flex-1 flex flex-col h-full bg-[#fafafa]",children:[t.jsxs("div",{className:"bg-white p-6 border-b border-gray-200 shadow-sm flex justify-between items-start z-10",children:[t.jsxs("div",{children:[t.jsxs("button",{onClick:()=>l(null),className:"md:hidden text-gray-500 mb-2 flex items-center gap-1 text-xs font-bold uppercase",children:[t.jsx(Nc,{className:"rotate-180",size:12})," Back"]}),t.jsx("h2",{className:"text-lg font-bold text-gray-900",children:K.subject}),t.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-gray-400",children:[t.jsxs("span",{className:"font-mono",children:["ID: ",K.id]}),K.projectName&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:""}),t.jsxs("span",{children:["Project: ",K.projectName]})]}),K.category&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:""}),t.jsx("span",{className:`${_e(K.category)} px-1.5 py-0.5 rounded-sm font-bold uppercase`,children:K.category})]})]})]}),t.jsx("div",{className:"flex items-center gap-3",children:K.status!=="closed"?t.jsxs("button",{onClick:_t,className:"flex items-center gap-1 text-xs font-bold text-gray-500 hover:text-red-600 uppercase transition-colors",children:[t.jsx(ec,{size:14})," Close Ticket"]}):t.jsxs("div",{className:"flex items-center gap-1 text-xs font-bold text-gray-500 uppercase",children:[t.jsx(ec,{size:14})," Closed"]})})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[(we=K.messages)==null?void 0:we.map(se=>{var $e,tt;return t.jsx("div",{className:`flex ${se.sender==="user"?"justify-end":"justify-start"}`,children:t.jsxs("div",{className:`max-w-[85%] ${se.sender==="user"?"items-end":"items-start"} flex flex-col`,children:[t.jsxs("div",{className:`p-4 shadow-sm text-sm leading-relaxed ${se.sender==="user"?"bg-black text-white rounded-l-lg rounded-tr-lg":"bg-white text-gray-900 border border-gray-200 rounded-r-lg rounded-tl-lg"}`,children:[se.text,((($e=se.attachments)==null?void 0:$e.length)||0)>0&&t.jsx("div",{className:"mt-3 pt-3 border-t border-white/20 space-y-1",children:(tt=se.attachments)==null?void 0:tt.map((ae,It)=>t.jsxs("a",{href:ae,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-xs opacity-80 bg-white/10 p-2 rounded-sm hover:bg-white/20 transition-colors",children:[t.jsx(df,{size:12})," ",ae.split("/").pop()]},It))})]}),t.jsxs("span",{className:"text-[10px] text-gray-400 mt-1 font-bold uppercase tracking-wide",children:[se.sender==="user"?"You":"Support Team","  ",se.date]})]})},se.id)}),t.jsx("div",{ref:ie})]}),K.status!=="closed"&&t.jsxs("div",{className:"p-4 bg-white border-t border-gray-200",children:[xe.length>0&&t.jsx("div",{className:"flex gap-2 mb-2 flex-wrap",children:xe.map((se,$e)=>t.jsxs("div",{className:"bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-sm flex items-center gap-1",children:[se.filename,t.jsx("button",{onClick:()=>Ie(xe.filter((tt,ae)=>ae!==$e)),className:"text-gray-400 hover:text-red-500",children:t.jsx(mn,{size:12})})]},$e))}),t.jsx("input",{ref:H,type:"file",className:"hidden",onChange:se=>Oe(se,!0),accept:"image/*,.pdf,.doc,.docx,.txt"}),t.jsxs("div",{className:"flex gap-2 items-end",children:[t.jsx("button",{onClick:()=>{var se;return(se=H.current)==null?void 0:se.click()},disabled:Ae,className:"p-3 text-gray-400 hover:text-black transition-colors disabled:opacity-50",children:Ae?t.jsx(gs,{size:20,className:"animate-spin"}):t.jsx(df,{size:20})}),t.jsx("textarea",{value:J,onChange:se=>W(se.target.value),onKeyDown:kt,placeholder:"Type your reply...",className:"flex-1 bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00] resize-none h-12 min-h-[48px] max-h-32 transition-colors"}),t.jsx("button",{onClick:wt,disabled:!J&&xe.length===0||u,className:"p-3 bg-[#ff4d00] text-white hover:bg-black transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u?t.jsx(gs,{size:20,className:"animate-spin"}):t.jsx(Qd,{size:20})})]})]})]}):t.jsxs("div",{className:"hidden md:flex flex-1 flex-col items-center justify-center text-gray-300 bg-gray-50/50",children:[t.jsx(Gr,{size:64,className:"mb-4 opacity-20"}),t.jsx("p",{className:"text-sm font-medium",children:"Select a ticket to view details"})]})]})]})},Ai=({title:n,description:e,keywords:s,image:r,schema:i,type:l="website",noindex:c=!1})=>{const f=tr(),u="https://traffic-creator.com",m=`${u}${f.pathname}`,g=`${u}/og-image.png`,b=r?r.startsWith("http")?r:`${u}${r}`:g;return t.jsxs(o3,{children:[t.jsx("title",{children:n}),t.jsx("meta",{name:"description",content:e}),s&&t.jsx("meta",{name:"keywords",content:s}),t.jsx("link",{rel:"canonical",href:m}),c?t.jsx("meta",{name:"robots",content:"noindex, nofollow"}):t.jsx("meta",{name:"robots",content:"index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"}),t.jsx("meta",{property:"og:type",content:l}),t.jsx("meta",{property:"og:url",content:m}),t.jsx("meta",{property:"og:title",content:n}),t.jsx("meta",{property:"og:description",content:e}),t.jsx("meta",{property:"og:image",content:b}),t.jsx("meta",{property:"og:site_name",content:"Traffic Creator"}),t.jsx("meta",{property:"og:locale",content:"en_US"}),t.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),t.jsx("meta",{name:"twitter:url",content:m}),t.jsx("meta",{name:"twitter:title",content:n}),t.jsx("meta",{name:"twitter:description",content:e}),t.jsx("meta",{name:"twitter:image",content:b}),i&&t.jsx("script",{type:"application/ld+json",children:JSON.stringify(i)})]})},TL=()=>{const[n,e]=w.useState(1),[s,r]=w.useState("monthly"),[i,l]=w.useState(null),[c,f]=w.useState(!1),[u,m]=w.useState("subscriptions"),[g,b]=w.useState("professional"),v={starter_monthly:"price_1T19GZJLE5bW6f8EPNVSoaGp",starter_yearly:"price_starter_yearly",professional_monthly:"price_professional_monthly",professional_yearly:"price_professional_yearly",agency_monthly:"price_agency_monthly",agency_yearly:"price_agency_yearly"},E=[{id:"starter",name:"Starter",subtitle:"Perfect for niche blogs",price:s==="monthly"?29:24,priceId:s==="monthly"?v.starter_monthly:v.starter_yearly,icon:t.jsx(Lt,{className:"text-gray-400",size:24}),features:["5,000 Monthly Visitors","5 Keywords Tracking","Geo-Targeting (Standard)","Desktop Traffic Only","Standard Proxy Pool"],color:"border-gray-200"},{id:"professional",name:"Professional",subtitle:"Best for growth-stage sites",price:s==="monthly"?79:64,priceId:s==="monthly"?v.professional_monthly:v.professional_yearly,icon:t.jsx(mM,{className:"text-[#ff4d00]",size:24}),features:["25,000 Monthly Visitors","20 Keywords Tracking","Geo-Targeting (Advanced)","Mobile + Desktop Traffic","Social & Referral Traffic","High-Retention Visits"],popular:!0,color:"border-[#ff4d00]"},{id:"agency",name:"Agency",subtitle:"Enterprise-grade throughput",price:s==="monthly"?249:199,priceId:s==="monthly"?v.agency_monthly:v.agency_yearly,icon:t.jsx(ET,{className:"text-purple-600",size:24}),features:["100,000 Monthly Visitors","Unlimited Keywords","Global Proxy Network","Residential Proxy Access","API Management","Dedicated Support Manager"],color:"border-purple-600"}],N=()=>t.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h2",{className:"text-4xl font-black text-gray-900 uppercase tracking-tighter mb-4",children:"Why Choose Us?"}),t.jsx("p",{className:"text-gray-500 font-medium",children:"Compare our premium traffic against standard alternatives."})]}),t.jsx("div",{className:"bg-white border border-gray-200 shadow-xl overflow-hidden mb-12",children:t.jsxs("table",{className:"w-full text-left",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[t.jsx("th",{className:"px-8 py-6 text-xs font-black uppercase tracking-widest text-gray-400",children:"Feature"}),t.jsx("th",{className:"px-8 py-6 text-xs font-black uppercase tracking-widest text-[#ff4d00]",children:"Traffic Bot OS"}),t.jsx("th",{className:"px-8 py-6 text-xs font-black uppercase tracking-widest text-gray-300",children:"Other Ad Networks"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:[{label:"Real Keyword Search",us:!0,them:!1},{label:"Residential Proxy Pool",us:!0,them:"Limited"},{label:"Bounce Rate Control",us:!0,them:!1},{label:"Human Interaction Emulation",us:!0,them:!1},{label:"GEO-Targeting Precision",us:"City Level",them:"Country Level"},{label:"SEO Authority Impact",us:"Direct Growth",them:"None / Risk"}].map((F,z)=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[t.jsx("td",{className:"px-8 py-5 text-sm font-bold text-gray-700",children:F.label}),t.jsx("td",{className:"px-8 py-5 text-sm font-black text-gray-900",children:typeof F.us=="boolean"?F.us?t.jsx(fn,{className:"text-green-500",size:18}):"No":F.us}),t.jsx("td",{className:"px-8 py-5 text-sm font-medium text-gray-400",children:typeof F.them=="boolean"?F.them?t.jsx(fn,{size:18}):"No":F.them})]},z))})]})}),t.jsx("div",{className:"flex justify-center",children:t.jsxs("button",{onClick:()=>e(2),className:"group bg-black text-white px-12 py-5 text-xs font-black uppercase tracking-widest hover:bg-[#ff4d00] transition-all flex items-center gap-3 shadow-[0_10px_30px_rgba(0,0,0,0.1)] hover:shadow-[0_10px_30px_rgba(255,77,0,0.2)]",children:["View Plans & Pricing ",t.jsx(xs,{size:16,className:"group-hover:translate-x-1 transition-transform"})]})})]}),C=()=>t.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 duration-500",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h2",{className:"text-4xl font-black text-gray-900 uppercase tracking-tighter mb-6",children:"Simple, Transparent Pricing"}),t.jsxs("div",{className:"flex justify-center gap-4 mb-8",children:[t.jsxs("button",{onClick:()=>m("subscriptions"),className:`px-8 py-3 text-xs font-black uppercase tracking-widest transition-all ${u==="subscriptions"?"bg-[#ff4d00] text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[t.jsx(xn,{size:14,className:"inline mr-2"}),"Subscriptions"]}),t.jsxs("button",{onClick:()=>m("credits"),className:`px-8 py-3 text-xs font-black uppercase tracking-widest transition-all ${u==="credits"?"bg-[#ff4d00] text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[t.jsx(uw,{size:14,className:"inline mr-2"}),"Credit Packs"]})]}),u==="subscriptions"&&t.jsxs("div",{className:"inline-flex items-center p-1 bg-gray-100 rounded-sm border border-gray-200",children:[t.jsx("button",{onClick:()=>r("monthly"),className:`px-6 py-2 text-[10px] font-black uppercase tracking-widest transition-all ${s==="monthly"?"bg-white text-black shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Monthly"}),t.jsxs("button",{onClick:()=>r("yearly"),className:`px-6 py-2 text-[10px] font-black uppercase tracking-widest transition-all relative ${s==="yearly"?"bg-white text-black shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:["Yearly",t.jsx("span",{className:"absolute -top-4 -right-2 bg-green-500 text-white text-[8px] px-1.5 py-0.5 rounded-full font-black animate-bounce",children:"-20%"})]})]})]}),u==="subscriptions"?t.jsx(t.Fragment,{children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto mb-16",children:E.map(F=>t.jsxs("div",{className:`bg-white p-8 border-2 ${F.color} relative overflow-hidden transition-all hover:scale-[1.02] hover:shadow-2xl flex flex-col`,children:[F.popular&&t.jsx("div",{className:"absolute top-4 right-[-35px] bg-[#ff4d00] text-white text-[8px] font-black uppercase tracking-widest py-1.5 px-12 rotate-45",children:"Most Popular"}),t.jsxs("div",{className:"mb-8",children:[t.jsx("div",{className:"p-3 bg-gray-50 inline-block rounded-sm mb-4",children:F.icon}),t.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase tracking-tight",children:F.name}),t.jsx("p",{className:"text-gray-400 text-[10px] font-bold uppercase tracking-widest mt-1",children:F.subtitle})]}),t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"flex items-baseline gap-1",children:[t.jsxs("span",{className:"text-4xl font-black text-gray-900",children:["",F.price]}),t.jsx("span",{className:"text-gray-400 text-xs font-bold uppercase tracking-widest",children:"/ month"})]}),t.jsx("p",{className:"text-[9px] text-gray-400 font-bold uppercase tracking-widest mt-1",children:s==="yearly"?"Billed annually":"Cancel anytime"})]}),t.jsx("ul",{className:"space-y-4 mb-10 flex-1",children:F.features.map((z,M)=>t.jsxs("li",{className:"flex items-start gap-3 text-xs font-medium text-gray-600",children:[t.jsx(fn,{className:"text-[#ff4d00] shrink-0",size:14}),t.jsx("span",{children:z})]},M))}),t.jsx("button",{onClick:()=>{l(F.id),e(3)},className:`w-full py-4 text-[10px] font-black uppercase tracking-widest transition-all ${F.popular?"bg-[#ff4d00] text-white hover:bg-black":"bg-black text-white hover:bg-[#ff4d00]"}`,children:"Get Started Now"})]},F.id))})}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"flex justify-center gap-2 mb-8",children:$o.map(F=>t.jsxs("button",{onClick:()=>b(F.id),className:`px-6 py-3 text-xs font-black uppercase tracking-widest transition-all ${g===F.id?"bg-[#ff4d00] text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"} ${F.popular?"ring-2 ring-[#ff4d00]/30":""}`,children:[F.name,F.popular&&t.jsx("span",{className:"ml-2 text-[10px]",children:""})]},F.id))}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 max-w-6xl mx-auto mb-16",children:Zb.map((F,z)=>{var P;const M=((P=nm[g][F])==null?void 0:P[1])||0,U=fw(g,F,1),X=$o.find(_=>_.id===g),A=F===5e5;return t.jsxs("div",{className:`bg-white p-6 border-2 ${A?"border-[#ff4d00] shadow-xl scale-105 relative":"border-gray-200"} flex flex-col`,children:[A&&t.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-[#ff4d00] text-white text-[8px] font-black uppercase tracking-widest px-3 py-1 rounded-full",children:"Popular"}),t.jsxs("div",{className:"text-center mb-4",children:[t.jsx("div",{className:"text-2xl font-black text-gray-900",children:F>=1e6?`${F/1e6}M`:`${F/1e3}k`}),t.jsx("div",{className:"text-[9px] text-gray-400 font-bold uppercase tracking-widest",children:"Visitors"})]}),t.jsxs("div",{className:"text-center mb-4",children:[t.jsx("div",{className:"text-3xl font-black text-gray-900",children:mw(M)}),t.jsxs("div",{className:"text-[9px] text-[#ff4d00] font-bold",children:[pw(U),"/1k"]})]}),t.jsx("ul",{className:"space-y-2 mb-6 flex-1 text-[10px]",children:X==null?void 0:X.features.slice(0,2).map((_,k)=>t.jsxs("li",{className:"flex items-center gap-2 text-gray-600",children:[t.jsx(fn,{size:10,className:"text-green-500"}),_]},k))}),t.jsx(Ge,{to:"/dashboard/buy-credits",className:`w-full py-3 text-[9px] font-black uppercase tracking-widest text-center ${A?"bg-[#ff4d00] text-white hover:bg-black":"bg-black text-white hover:bg-[#ff4d00]"}`,children:"Buy Now"})]},F)})}),t.jsx("div",{className:"bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 rounded-2xl p-8 max-w-4xl mx-auto mb-8",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-black text-white mb-2",children:"Bulk Discounts"}),t.jsx("p",{className:"text-gray-400 text-sm",children:"Save up to 40% with multi-packs"})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"text-center px-6 py-3 bg-white/5 rounded-xl border border-white/10",children:[t.jsx("div",{className:"text-2xl font-black text-white",children:"6x"}),t.jsx("div",{className:"text-xs text-[#ff4d00] font-bold",children:"-20%"})]}),t.jsxs("div",{className:"text-center px-6 py-3 bg-white/5 rounded-xl border border-white/10",children:[t.jsx("div",{className:"text-2xl font-black text-white",children:"24x"}),t.jsx("div",{className:"text-xs text-[#ff4d00] font-bold",children:"-40%"})]})]})]})})]}),t.jsx("div",{className:"flex justify-center",children:t.jsxs("button",{onClick:()=>e(1),className:"text-gray-400 hover:text-black text-[10px] font-black uppercase tracking-widest flex items-center gap-2",children:[t.jsx(Zn,{size:14})," Back to Comparison"]})})]}),T=async()=>{if(!i)return;const F=E.find(z=>z.id===i);if(F){f(!0);try{const z=await q.createCheckoutSession(F.priceId);z.url&&(window.location.href=z.url)}catch(z){console.error("Checkout error:",z),alert("Failed to start checkout. Please try again.")}finally{f(!1)}}},O=()=>{const F=E.find(z=>z.id===i)||E[1];return t.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 duration-500 flex flex-col lg:flex-row gap-12 max-w-7xl mx-auto",children:[t.jsxs("div",{className:"flex-1 space-y-8",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tighter mb-2",children:"Customize Your Package"}),t.jsx("p",{className:"text-gray-500 font-medium",children:"Add premium features to boost your campaign performance."})]}),t.jsx("div",{className:"space-y-4",children:[{id:"proxies",label:"Residential Proxy Pool",price:15,icon:t.jsx(kn,{size:18})},{id:"mobile",label:"Mobile Device Emulation",price:10,icon:t.jsx(Ts,{size:18})},{id:"referrers",label:"Custom Web Referrers",price:12,icon:t.jsx(Nr,{size:18})},{id:"keywords",label:"Extra Keyword Slots (+5)",price:9,icon:t.jsx(jr,{size:18})}].map(z=>t.jsxs("div",{className:"bg-white border border-gray-100 p-6 flex justify-between items-center group hover:border-[#ff4d00] transition-colors cursor-pointer",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"p-3 bg-gray-50 group-hover:bg-orange-50 group-hover:text-[#ff4d00] transition-colors",children:z.icon}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-black text-gray-900 uppercase tracking-tight",children:z.label}),t.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:"Premium Add-on"})]})]}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("span",{className:"text-sm font-black text-gray-900",children:["+",z.price,"/mo"]}),t.jsx("div",{className:"w-5 h-5 border-2 border-gray-200 rounded-sm flex items-center justify-center"})]})]},z.id))})]}),t.jsxs("div",{className:"w-full lg:w-[400px]",children:[t.jsxs("div",{className:"bg-black text-white p-8 sticky top-8 rounded-sm overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#ff4d00] opacity-10 translate-x-16 -translate-y-16 rotate-45"}),t.jsx("h3",{className:"text-xl font-black uppercase tracking-tighter mb-8 relative",children:"Order Summary"}),t.jsxs("div",{className:"space-y-6 mb-12 relative",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-400 text-[10px] font-black uppercase tracking-widest",children:"Selected Plan"}),t.jsx("span",{className:"font-bold text-sm",children:F.name})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-400 text-[10px] font-black uppercase tracking-widest",children:"Billing Cycle"}),t.jsx("span",{className:"font-bold text-sm",children:s==="yearly"?"Yearly (-20%)":"Monthly"})]}),t.jsxs("div",{className:"pt-6 border-t border-gray-800 flex justify-between items-center text-xl",children:[t.jsx("span",{className:"font-black uppercase tracking-tighter",children:"Total Due"}),t.jsxs("span",{className:"text-[#ff4d00] font-black",children:["",F.price,".00"]})]})]}),t.jsx("button",{onClick:T,disabled:c,className:"w-full bg-[#ff4d00] py-5 text-xs font-black uppercase tracking-widest hover:bg-white hover:text-black transition-all shadow-[0_20px_40px_rgba(255,77,0,0.3)] disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Processing...":"Complete Purchase"}),t.jsx("p",{className:"text-[9px] text-gray-500 font-bold text-center mt-6 uppercase tracking-widest",children:"Safe & Secure Checkout via Stripe"})]}),t.jsxs("button",{onClick:()=>e(2),className:"w-full mt-4 text-gray-400 hover:text-black text-[10px] font-black uppercase tracking-widest flex items-center justify-center gap-2 py-4 border border-transparent hover:border-gray-200 transition-all",children:[t.jsx(Zn,{size:14})," Back to Plans"]})]})]})};return t.jsx("div",{className:"min-h-screen bg-[#f3f4f6] py-20 px-6 font-sans",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsx(Ai,{title:"Pricing Plans 2024 - Scalable Website Traffic Packages | Traffic Creator",description:"Transparent pricing for 2024. Start with our flexible credit packs or choose a monthly agency plan. High-quality residential traffic starting at just 29.",keywords:"traffic creator pricing, buy website visitors, organic traffic cost, agency traffic reseller, seo traffic packages 2024",type:"product",schema:{"@context":"https://schema.org","@type":"Product",name:"Traffic Creator Traffic Packages",description:"High-quality, targeted website traffic for SEO and analytics improvement.",offers:{"@type":"AggregateOffer",lowPrice:"29.00",highPrice:"2999.00",priceCurrency:"EUR"}}}),t.jsx("div",{className:"flex justify-center mb-20",children:t.jsx("div",{className:"flex items-center gap-4",children:[1,2,3].map(F=>t.jsxs(Fe.Fragment,{children:[t.jsx("div",{className:`w-10 h-10 flex items-center justify-center text-xs font-black border-2 transition-all
                    ${n>=F?"border-[#ff4d00] text-[#ff4d00] bg-white":"border-gray-300 text-gray-300"}`,children:F}),F<3&&t.jsx("div",{className:`w-8 h-0.5 ${n>F?"bg-[#ff4d00]":"bg-gray-300"}`})]},F))})}),n===1&&N(),n===2&&C(),n===3&&O()]})})},EL=()=>{const[n,e]=w.useState(null),[s,r]=w.useState(null),[i,l]=w.useState([]),[c,f]=w.useState("all"),[u,m]=w.useState(!0),[g,b]=w.useState(!1);w.useEffect(()=>{v()},[]);const v=async()=>{try{const M=q.getCurrentUser();if(M){e(M),l(q.getTransactions());try{const U=await q.getCurrentSubscription();r(U)}catch{}}}catch(M){console.error("Error loading data:",M)}finally{m(!1)}},E=async()=>{b(!0);try{const M=await q.createPortalSession();M.url&&(window.location.href=M.url)}catch(M){console.error("Error opening portal:",M),alert("Failed to open billing portal. Please try again.")}finally{b(!1)}},N=async M=>{try{const U=await fetch(`${window.location.origin}/users/me/invoices/${M}`,{headers:{Authorization:`Bearer ${localStorage.getItem("tgp_token")}`}});if(U.ok){const X=await U.text(),A=window.open("","_blank");A?(A.document.write(X),A.document.close()):alert("Please allow popups to view invoices")}else alert("Invoice not available. Please try again later.")}catch{alert("Failed to load invoice")}},C=i.filter(M=>c==="all"?!0:M.type===c),T=M=>new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(M),O=M=>new Date(M).toLocaleDateString("de-DE",{day:"2-digit",month:"short",year:"numeric"}),F=M=>{switch(M){case"starter":return"bg-gray-500";case"professional":return"bg-[#ff4d00]";case"agency":return"bg-purple-600";default:return"bg-gray-500"}},z=M=>{switch(M){case"active":return"bg-green-500";case"past_due":return"bg-yellow-500";case"canceled":return"bg-red-500";default:return"bg-gray-500"}};return u?t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx(gs,{className:"animate-spin text-[#ff4d00]",size:32})}):t.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-12",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-end gap-6",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Finance"}),t.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"Billing & Payments"})]}),t.jsx("div",{className:"flex items-center gap-4",children:t.jsxs("button",{onClick:()=>window.location.href="/dashboard/buy-credits",className:"bg-[#ff4d00] text-white px-6 py-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors flex items-center gap-2",children:[t.jsx(CT,{size:14})," Buy Credits"]})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"p-6 border-b border-gray-100",children:t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(Lt,{size:14,className:"text-[#ff4d00]"})," Current Subscription"]})}),t.jsx("div",{className:"p-6",children:s&&s.status!=="inactive"?t.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`px-4 py-2 text-white font-black text-sm uppercase ${F(s.plan)}`,children:s.plan||"Free"}),t.jsx("div",{className:`px-3 py-1 text-white text-xs font-bold uppercase ${z(s.status)}`,children:s.status}),s.current_period_end&&t.jsxs("span",{className:"text-xs text-gray-500",children:["Renews: ",new Date(s.current_period_end).toLocaleDateString()]})]}),t.jsxs("button",{onClick:E,disabled:g,className:"bg-black text-white px-6 py-2 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] transition-colors disabled:opacity-50 flex items-center gap-2",children:[g&&t.jsx(gs,{className:"animate-spin",size:14}),"Manage Subscription"]})]}):t.jsxs("div",{className:"text-center py-6",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"No active subscription"}),t.jsx("a",{href:"/dashboard/buy-credits",className:"inline-block bg-[#ff4d00] text-white px-6 py-2 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors",children:"View Plans"})]})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"p-6 border-b border-gray-100",children:t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(xn,{size:14,className:"text-[#ff4d00]"})," Payment Methods"]})}),t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"bg-[#f9fafb] p-4 rounded-full",children:t.jsx(kn,{size:24,className:"text-[#ff4d00]"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-bold text-gray-900",children:"Secure Payment Management"}),t.jsx("p",{className:"text-xs text-gray-500 max-w-md",children:"Manage your payment methods securely through our payment provider. Add, remove, or update cards anytime."})]})]}),t.jsxs("button",{onClick:E,disabled:g,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] transition-colors disabled:opacity-50 flex items-center gap-2",children:[g&&t.jsx(gs,{className:"animate-spin",size:14}),t.jsx(xn,{size:14})," Manage Payment Methods"]})]})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100 flex flex-col md:flex-row justify-between md:items-center gap-4",children:[t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(Kd,{size:14,className:"text-[#ff4d00]"})," Transaction History"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Sc,{size:14,className:"text-gray-400"}),t.jsxs("select",{value:c,onChange:M=>f(M.target.value),className:"bg-gray-50 border border-gray-200 px-3 py-2 text-xs font-bold uppercase tracking-widest outline-none focus:border-[#ff4d00]",children:[t.jsx("option",{value:"all",children:"All Transactions"}),t.jsx("option",{value:"credit",children:"Credits Only"}),t.jsx("option",{value:"debit",children:"Debits Only"})]})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Date"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Description"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Type"}),t.jsx("th",{className:"px-6 py-4 text-right text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Amount"}),t.jsx("th",{className:"px-6 py-4 text-center text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Invoice"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:C.length>0?C.map(M=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Uo,{size:12,className:"text-gray-400"}),t.jsx("span",{className:"text-xs font-bold text-gray-700",children:O(M.date)})]})}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("span",{className:"text-xs font-bold text-gray-900",children:M.desc}),M.tier&&t.jsx("span",{className:"ml-2 text-[8px] font-black uppercase px-2 py-0.5 rounded bg-gray-100 text-gray-500",children:M.tier})]}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("span",{className:`inline-flex items-center gap-1 text-[9px] font-black uppercase tracking-wider px-2 py-1 rounded-sm ${M.type==="debit"?"bg-orange-50 text-[#ff4d00]":"bg-green-50 text-green-700"}`,children:[M.type==="debit"?t.jsx(gT,{size:10}):t.jsx(KP,{size:10}),M.type]})}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("span",{className:`text-sm font-black ${M.type==="debit"?"text-gray-900":"text-green-600"}`,children:[M.type==="debit"?"-":"+",T(M.amount)]})}),t.jsx("td",{className:"px-6 py-4 text-center",children:t.jsxs("button",{onClick:()=>N(M.id),className:"inline-flex items-center gap-1 text-[9px] font-bold text-gray-400 hover:text-[#ff4d00] uppercase tracking-widest transition-colors",children:[t.jsx(Ya,{size:12})," View"]})})]},M.id)):t.jsx("tr",{children:t.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-400",children:[t.jsx(Kd,{size:32,className:"mx-auto mb-3 opacity-50"}),t.jsx("p",{className:"text-sm font-bold",children:"No transactions found"})]})})})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsx("div",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Total Spent"}),t.jsx("div",{className:"text-2xl font-black text-gray-900",children:T(i.filter(M=>M.type==="debit").reduce((M,U)=>M+U.amount,0))})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsx("div",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Total Top-ups"}),t.jsx("div",{className:"text-2xl font-black text-green-600",children:T(i.filter(M=>M.type!=="debit").reduce((M,U)=>M+U.amount,0))})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsx("div",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Transactions"}),t.jsx("div",{className:"text-2xl font-black text-gray-900",children:i.length})]})]})]})},eg=[{level:1,name:"Novice",xp_required:0,spend_required:0,bonus_hits:0,discount:0,color:"#9ca3af"},{level:2,name:"Rookie",xp_required:100,spend_required:10,bonus_hits:2e3,discount:0,color:"#6b7280"},{level:3,name:"Explorer",xp_required:250,spend_required:25,bonus_hits:3e3,discount:0,color:"#6b7280"},{level:4,name:"Starter",xp_required:500,spend_required:50,bonus_hits:5e3,discount:1,color:"#22c55e"},{level:5,name:"Builder",xp_required:1e3,spend_required:100,bonus_hits:8e3,discount:2,color:"#22c55e"},{level:6,name:"Achiever",xp_required:2e3,spend_required:200,bonus_hits:12e3,discount:2,color:"#22c55e"},{level:7,name:"Strategist",xp_required:3500,spend_required:350,bonus_hits:15e3,discount:3,color:"#3b82f6"},{level:8,name:"Professional",xp_required:5e3,spend_required:500,bonus_hits:2e4,discount:4,color:"#3b82f6"},{level:9,name:"Expert",xp_required:7500,spend_required:750,bonus_hits:3e4,discount:5,color:"#3b82f6"},{level:10,name:"Master",xp_required:1e4,spend_required:1e3,bonus_hits:4e4,discount:6,color:"#8b5cf6"},{level:11,name:"Veteran",xp_required:15e3,spend_required:1500,bonus_hits:5e4,discount:7,color:"#8b5cf6"},{level:12,name:"Champion",xp_required:2e4,spend_required:2e3,bonus_hits:6e4,discount:8,color:"#8b5cf6"},{level:13,name:"Elite",xp_required:3e4,spend_required:3e3,bonus_hits:8e4,discount:9,color:"#ec4899"},{level:14,name:"Premier",xp_required:4e4,spend_required:4e3,bonus_hits:1e5,discount:10,color:"#ec4899"},{level:15,name:"Supreme",xp_required:6e4,spend_required:6e3,bonus_hits:12e4,discount:11,color:"#ec4899"},{level:16,name:"Titan",xp_required:8e4,spend_required:8e3,bonus_hits:15e4,discount:12,color:"#f59e0b"},{level:17,name:"Legend",xp_required:12e4,spend_required:12e3,bonus_hits:18e4,discount:13,color:"#f59e0b"},{level:18,name:"Mythic",xp_required:18e4,spend_required:18e3,bonus_hits:22e4,discount:14,color:"#f59e0b"},{level:19,name:"Immortal",xp_required:25e4,spend_required:25e3,bonus_hits:28e4,discount:15,color:"#ef4444"},{level:20,name:"Apex",xp_required:5e5,spend_required:5e4,bonus_hits:5e5,discount:20,color:"#ff4d00"}],CL=[{days:"1-2",hits:1e3},{days:"3-4",hits:2e3},{days:"5-6",hits:3e3},{days:"7",hits:1e4,milestone:!0},{days:"8-13",hits:1e4},{days:"14",hits:15e3,milestone:!0},{days:"15-29",hits:15e3},{days:"30+",hits:2e4,milestone:!0}],AL=[{action:"1 Spent",xp:10,icon:t.jsx(xn,{size:24,className:"text-[#ff4d00]"})},{action:"Daily Login",xp:5,icon:t.jsx(e9,{size:24,className:"text-[#ff4d00]"})},{action:"Create Project",xp:20,icon:t.jsx(nO,{size:24,className:"text-[#ff4d00]"})},{action:"7-Day Streak",xp:50,icon:t.jsx(Do,{size:24,className:"text-[#ff4d00]"})},{action:"Referral Payout",xp:100,icon:t.jsx(Nr,{size:24,className:"text-[#ff4d00]"})}],IL=()=>{var z,M,U,X;const[n,e]=w.useState(null),[s,r]=w.useState(!0),[i,l]=w.useState(!1),[c,f]=w.useState(!1),[u,m]=w.useState(null),[g,b]=w.useState(!1),[v,E]=w.useState(!0);w.useEffect(()=>{N()},[]);const N=async()=>{try{const A=await fetch(`${window.location.origin}/users/me/gamification`,{headers:{Authorization:`Bearer ${localStorage.getItem("tgp_token")}`}});if(A.ok){const _=await A.json();e(_)}const P=await fetch(`${window.location.origin}/users/me/streak`,{headers:{Authorization:`Bearer ${localStorage.getItem("tgp_token")}`}});if(P.ok){const _=await P.json();E(_.can_claim_today)}}catch(A){console.error("Failed to fetch gamification data:",A)}finally{r(!1)}},C=async()=>{if(!i){l(!0);try{const A=await fetch(`${window.location.origin}/users/me/claim-level-bonus`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("tgp_token")}`,"Content-Type":"application/json"}});if(A.ok){const P=await A.json();alert(P.message),N()}else{const P=await A.json();alert(P.detail||"Failed to claim bonus")}}catch{alert("Failed to claim bonus")}finally{l(!1)}}},T=async()=>{if(!(c||!v)){f(!0);try{const P=await(await fetch(`${window.location.origin}/users/me/daily-bonus`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("tgp_token")}`,"Content-Type":"application/json"}})).json();m(P),b(!0),P.success&&(E(!1),N())}catch(A){console.error("Failed to claim daily bonus:",A)}finally{f(!1)}}};if(s)return t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-[#ff4d00] border-t-transparent rounded-full"})});const O=eg[n!=null&&n.level?n.level-1:0]||eg[0],F=n!=null&&n.xp_to_next?Math.round(n.xp/(n.xp+n.xp_to_next)*100):100;return t.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-12",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-end gap-6",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Rewards Program"}),t.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"Gamification"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"bg-white border border-gray-200 px-6 py-3 shadow-sm text-center",children:[t.jsx("div",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Total XP"}),t.jsx("div",{className:"text-2xl font-black text-gray-900",children:((z=n==null?void 0:n.xp)==null?void 0:z.toLocaleString())||0})]}),t.jsxs("div",{className:"bg-[#ff4d00] text-white px-6 py-4 shadow-sm text-center",children:[t.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest mb-1 opacity-80",children:"Your Discount"}),t.jsxs("div",{className:"text-2xl font-black",children:[(n==null?void 0:n.discount_percent)||0,"% OFF"]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:[t.jsx("div",{className:"p-6 border-b border-gray-100",children:t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(Kr,{size:14,className:"text-[#ff4d00]"})," Your Progress"]})}),t.jsxs("div",{className:"p-8 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-[#ff4d00] opacity-5 rounded-full -mr-32 -mt-32 blur-3xl"}),t.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center gap-8",children:[t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"w-32 h-32 rounded-full flex items-center justify-center text-white font-black text-3xl",style:{backgroundColor:O.color},children:["Lv",(n==null?void 0:n.level)||1]}),t.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 bg-white border border-gray-200 px-3 py-1 text-[10px] font-black uppercase tracking-widest rounded-full shadow-sm",children:O.name})]}),t.jsxs("div",{className:"flex-1 w-full",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsxs("span",{className:"text-xs font-bold text-gray-500",children:[((M=n==null?void 0:n.xp)==null?void 0:M.toLocaleString())||0," XP"]}),t.jsxs("span",{className:"text-xs font-bold text-[#ff4d00]",children:[F,"%"]})]}),t.jsx("div",{className:"w-full bg-gray-100 h-4 rounded-full overflow-hidden shadow-inner",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-[#ff4d00] to-[#ff8c00] transition-all duration-1000 rounded-full",style:{width:`${F}%`}})}),t.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[t.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:["Next: ",((U=eg[Math.min((n==null?void 0:n.level)||1,19)])==null?void 0:U.name)||"Apex"]}),t.jsxs("span",{className:"text-[10px] font-bold text-gray-400",children:[((X=n==null?void 0:n.xp_to_next)==null?void 0:X.toLocaleString())||0," XP needed"]})]}),(n==null?void 0:n.pending_bonus_hits)&&n.pending_bonus_hits>0&&!n.pending_bonus_claimed&&t.jsxs("button",{onClick:C,disabled:i,className:"mt-4 w-full bg-[#ff4d00] text-white py-3 text-xs font-black uppercase tracking-widest hover:bg-black transition-colors rounded-sm flex items-center justify-center gap-2 disabled:opacity-70",children:[t.jsx(ux,{size:14})," ",i?"Claiming...":`Claim Level ${n.level} Bonus: +${n.pending_bonus_hits.toLocaleString()} Hits`]})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-[#1a1a1a] to-black text-white p-8 shadow-2xl relative overflow-hidden rounded-lg border border-gray-800",children:[t.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-[#ff4d00] opacity-10 rounded-full -mr-24 -mt-24 blur-3xl"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-[#ff4d00] opacity-5 rounded-full -ml-16 -mb-16 blur-2xl"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h3",{className:"text-sm font-black uppercase tracking-widest flex items-center gap-3 text-gray-300",children:[t.jsx(Wn,{size:18,className:"text-[#ff4d00]"})," Daily Rewards"]}),v&&t.jsx("span",{className:"bg-[#ff4d00] text-white text-[10px] font-black uppercase tracking-widest px-3 py-1 rounded-full animate-pulse shadow-[0_0_15px_rgba(255,77,0,0.5)]",children:"Ready to Claim"})]}),t.jsxs("div",{className:"flex items-end gap-4 mb-6",children:[t.jsx("div",{className:"text-5xl font-black text-white leading-none",children:(n==null?void 0:n.streak_days)||0}),t.jsxs("div",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-1 flex items-center gap-2",children:["Day Streak ",t.jsx(Do,{size:14,className:"text-[#ff4d00]"})]})]}),t.jsxs("div",{className:"bg-black/30 p-4 rounded-lg mb-6 backdrop-blur-sm border border-white/5",children:[t.jsx("div",{className:"flex gap-2 mb-2",children:[1,2,3,4,5,6,7].map(A=>{const P=((n==null?void 0:n.streak_days)||0)%7>=A||((n==null?void 0:n.streak_days)||0)>=7&&A<=7,_=((n==null?void 0:n.streak_days)||0)%7===A-1&&v;return t.jsx("div",{className:`flex-1 h-3 rounded-full transition-all duration-300 ${P?"bg-gradient-to-r from-[#ff4d00] to-[#ff8c00] shadow-[0_0_10px_rgba(255,77,0,0.3)]":"bg-gray-800"} ${_?"animate-pulse ring-2 ring-[#ff4d00] ring-offset-2 ring-offset-black":""}`},A)})}),t.jsxs("div",{className:"flex justify-between text-[10px] uppercase font-bold text-gray-500 mt-2 px-1",children:[t.jsx("span",{children:"Day 1"}),t.jsx("span",{children:"Day 7 (Bonus)"})]})]}),t.jsxs("button",{onClick:T,disabled:!v||c,className:`w-full py-4 text-sm font-black uppercase tracking-widest transition-all duration-300 rounded flex items-center justify-center gap-3 shadow-lg ${v?"bg-gradient-to-r from-[#ff4d00] to-[#ff6b00] hover:from-[#ff3300] hover:to-[#ff5500] text-white shadow-[#ff4d00]/20 transform hover:-translate-y-1":"bg-gray-800 text-gray-500 cursor-not-allowed border border-gray-700"}`,children:[t.jsx(Wn,{size:18,className:v?"animate-bounce":""}),c?"Claiming Reward...":v?"Claim Daily Bonus":"Come Back Tomorrow"]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2 mb-4",children:[t.jsx(Do,{size:14,className:"text-[#ff4d00]"})," Streak Rewards"]}),t.jsx("div",{className:"space-y-3",children:CL.map((A,P)=>t.jsxs("div",{className:`flex items-center justify-between p-3 rounded-sm ${A.milestone?"bg-[#ff4d00]/5 border border-[#ff4d00]/20":"bg-gray-50"}`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[A.milestone&&t.jsx(Ql,{size:14,className:"text-[#ff4d00]"}),t.jsxs("span",{className:"text-xs font-bold text-gray-700",children:["Day ",A.days]})]}),t.jsxs("span",{className:"text-xs font-black text-[#ff4d00]",children:["+",A.hits.toLocaleString()," Hits"]})]},P))}),t.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-sm",children:t.jsxs("p",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:["Best Streak: ",t.jsxs("span",{className:"text-gray-900",children:[(n==null?void 0:n.streak_best)||0," Days"]})]})})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"p-6 border-b border-gray-100",children:t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(Ql,{size:14,className:"text-[#ff4d00]"})," All 20 Levels"]})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Level"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Name"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Required"}),t.jsx("th",{className:"px-6 py-4 text-right text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Bonus Hits"}),t.jsx("th",{className:"px-6 py-4 text-right text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Discount"}),t.jsx("th",{className:"px-6 py-4 text-center text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Status"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:eg.map(A=>{const P=(n==null?void 0:n.level)===A.level,_=((n==null?void 0:n.level)||1)>=A.level;return t.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${P?"bg-[#ff4d00]/5":""}`,children:[t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-black",style:{backgroundColor:A.color},children:A.level})})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:"text-xs font-bold text-gray-900",children:A.name})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"text-xs text-gray-500",children:[t.jsxs("span",{className:"font-bold",children:[A.xp_required.toLocaleString()," XP"]}),t.jsxs("span",{className:"text-gray-400 ml-2",children:["or ",A.spend_required.toLocaleString()]})]})}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsx("span",{className:`text-xs font-black ${A.bonus_hits>0?"text-green-600":"text-gray-400"}`,children:A.bonus_hits>0?`+${A.bonus_hits.toLocaleString()}`:"-"})}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsx("span",{className:`text-xs font-black ${A.discount>0?"text-[#ff4d00]":"text-gray-400"}`,children:A.discount>0?`${A.discount}%`:"-"})}),t.jsx("td",{className:"px-6 py-4 text-center",children:P?t.jsxs("span",{className:"inline-flex items-center gap-1 bg-[#ff4d00] text-white text-[8px] font-black uppercase tracking-widest px-2 py-1 rounded-full",children:[t.jsx(Kr,{size:10})," Current"]}):_?t.jsxs("span",{className:"inline-flex items-center gap-1 bg-green-100 text-green-700 text-[8px] font-black uppercase tracking-widest px-2 py-1 rounded-full",children:[t.jsx(ec,{size:10})," Unlocked"]}):t.jsxs("span",{className:"inline-flex items-center gap-1 bg-gray-100 text-gray-400 text-[8px] font-black uppercase tracking-widest px-2 py-1 rounded-full",children:[t.jsx(Yn,{size:10})," Locked"]})})]},A.level)})})]})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900 flex items-center gap-2 mb-6",children:[t.jsx(rc,{size:14,className:"text-[#ff4d00]"})," How to Earn XP"]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:AL.map((A,P)=>t.jsxs("div",{className:"bg-white border border-gray-100 p-6 text-center rounded-lg shadow-sm hover:shadow-md transition-all duration-300 hover:-translate-y-1 group",children:[t.jsx("div",{className:"flex justify-center mb-4 transform group-hover:scale-110 transition-transform duration-300",children:t.jsx("div",{className:"p-3 bg-gray-50 rounded-full group-hover:bg-[#ff4d00]/10 transition-colors",children:A.icon})}),t.jsx("div",{className:"text-xs font-black text-gray-900 uppercase tracking-wide mb-1",children:A.action}),t.jsxs("div",{className:"text-base font-black text-[#ff4d00]",children:["+",A.xp," XP"]})]},P))})]}),g&&u&&t.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 animate-in fade-in duration-300 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-md w-full mx-4 overflow-hidden animate-in zoom-in-95 duration-300 relative",children:[t.jsx("div",{className:"absolute top-0 w-full h-2 bg-gradient-to-r from-[#ff4d00] to-[#ff8c00]"}),t.jsxs("div",{className:"p-8 pb-0 text-center relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-gray-50 to-white -z-10"}),t.jsx("div",{className:"inline-flex p-4 rounded-full bg-[#ff4d00]/10 mb-4 animate-bounce",children:t.jsx(Wn,{size:48,className:"text-[#ff4d00]"})}),t.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight mb-2",children:u.success?"Bonus Unlocked!":"Already Claimed"}),u.success?t.jsx("p",{className:"text-gray-500 font-medium",children:"Keep your streak alive for bigger rewards!"}):t.jsx("p",{className:"text-gray-500 font-medium",children:u.message})]}),t.jsx("div",{className:"p-8 text-center",children:u.success&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex flex-col items-center justify-center py-6 bg-gradient-to-br from-gray-900 to-black text-white rounded-lg mb-6 relative overflow-hidden group",children:[t.jsx("div",{className:"absolute inset-0 bg-[#ff4d00] opacity-10 blur-xl group-hover:opacity-20 transition-opacity"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("p",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-1",children:"You Received"}),t.jsxs("p",{className:"text-5xl font-black text-[#ff4d00] mb-1",children:["+",u.hits.toLocaleString()]}),t.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Economy Hits"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-2",children:[t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-100",children:[t.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Current Streak"}),t.jsxs("div",{className:"text-2xl font-black text-gray-900 flex justify-center items-center gap-1",children:[u.streak_days," ",t.jsx(Do,{size:16,className:"text-[#ff4d00]"})]})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-100",children:[t.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Best Streak"}),t.jsxs("div",{className:"text-2xl font-black text-gray-900 flex justify-center items-center gap-1",children:[u.streak_best," ",t.jsx(Ql,{size:16,className:"text-[#fbbf24]"})]})]})]})]})}),t.jsx("div",{className:"px-8 pb-8",children:t.jsx("button",{onClick:()=>b(!1),className:"w-full bg-[#ff4d00] text-white py-4 text-sm font-black uppercase tracking-widest hover:bg-black transition-all duration-300 rounded shadow-lg shadow-[#ff4d00]/20 hover:shadow-xl transform hover:-translate-y-0.5",children:"Continue"})})]})})]})},RL=()=>{const n=qs(),[e]=cx(),[s,r]=w.useState(!0),[i,l]=w.useState(null),[c,f]=w.useState(null);w.useEffect(()=>{(async()=>{try{const b=e.get("type"),v=e.get("session_id"),E=e.get("amount"),N=e.get("plan"),C=e.get("credits");if(!b){f("Invalid payment confirmation"),r(!1);return}const O=new Date().toLocaleDateString("de-DE",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"});if(l(b==="subscription"?{type:"subscription",planName:N||"Professional Plan",date:O,sessionId:v||void 0}:{type:"credits",amount:E?parseFloat(E):void 0,credits:C?parseInt(C):void 0,date:O,sessionId:v||void 0}),window.history.replaceState){const F=window.location.pathname;window.history.replaceState({},document.title,F)}}catch(b){console.error("Error loading payment details:",b),f("Failed to load payment details")}finally{r(!1)}})()},[e]);const u=g=>new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(g),m=()=>{i!=null&&i.sessionId?window.open(`https://billing.stripe.com/p/session/${i.sessionId}`,"_blank"):n("/dashboard/billing")};return s?t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx(gs,{className:"animate-spin text-[#ff4d00]",size:32})}):c||!i?t.jsx("div",{className:"max-w-2xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500",children:t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-12 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(xn,{size:32,className:"text-red-500"})}),t.jsx("h1",{className:"text-2xl font-black text-gray-900 uppercase tracking-tight mb-3",children:"Payment Information Unavailable"}),t.jsx("p",{className:"text-gray-500 mb-8",children:c||"We could not retrieve your payment details."}),t.jsx("button",{onClick:()=>n("/dashboard"),className:"bg-[#ff4d00] text-white px-8 py-3 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors",children:"Go to Dashboard"})]})}):t.jsxs("div",{className:"max-w-2xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500 pb-12",children:[t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:[t.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-green-600 p-8 text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4 animate-in zoom-in duration-300",children:t.jsx(ct,{size:40,className:"text-green-500"})}),t.jsx("h1",{className:"text-3xl font-black text-white uppercase tracking-tight mb-2",children:"Payment Successful"}),t.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Thank you for your purchase"})]}),t.jsxs("div",{className:"p-8",children:[t.jsxs("div",{className:"bg-gray-50 border border-gray-100 p-6 mb-8",children:[t.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-400 mb-4",children:"Transaction Details"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[t.jsxs("span",{className:"text-sm text-gray-500 flex items-center gap-2",children:[t.jsx(xn,{size:14})," Type"]}),t.jsx("span",{className:"text-sm font-bold text-gray-900 uppercase",children:i.type==="subscription"?"Subscription":"Credits Purchase"})]}),i.type==="subscription"&&i.planName&&t.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Plan"}),t.jsx("span",{className:"text-sm font-black text-[#ff4d00] uppercase",children:i.planName})]}),i.type==="credits"&&i.amount&&t.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Amount"}),t.jsx("span",{className:"text-sm font-black text-gray-900",children:u(i.amount)})]}),i.type==="credits"&&i.credits&&t.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Traffic Credits"}),t.jsxs("span",{className:"text-sm font-bold text-green-600",children:["+",i.credits.toLocaleString()," hits"]})]}),t.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[t.jsxs("span",{className:"text-sm text-gray-500 flex items-center gap-2",children:[t.jsx(Uo,{size:14})," Date"]}),t.jsx("span",{className:"text-sm font-bold text-gray-900",children:i.date})]})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs("button",{onClick:m,className:"flex-1 flex items-center justify-center gap-2 bg-white border-2 border-gray-200 text-gray-900 py-4 text-xs font-bold uppercase tracking-widest hover:border-[#ff4d00] hover:text-[#ff4d00] transition-colors",children:[t.jsx(kT,{size:14})," View Receipt"]}),t.jsxs(Ge,{to:"/dashboard/billing",className:"flex-1 flex items-center justify-center gap-2 bg-black text-white py-4 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] transition-colors",children:["View Billing ",t.jsx(xs,{size:14})]})]})]})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs(Ge,{to:"/dashboard/campaigns/new",className:"inline-flex items-center gap-2 text-[#ff4d00] text-sm font-bold hover:text-black transition-colors",children:["Start a new campaign ",t.jsx(xs,{size:14})]})})]})},PL=()=>{const[n,e]=w.useState([]),[s,r]=w.useState([]),[i,l]=w.useState(!0),[c,f]=w.useState(null),[u,m]=w.useState(""),[g,b]=w.useState(null),[v,E]=w.useState(!1),[N,C]=w.useState(!1),[T,O]=w.useState("");w.useEffect(()=>{F()},[]);const F=async()=>{try{const[U,X]=await Promise.all([fetch(`${window.location.origin}/benefits/types`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),fetch(`${window.location.origin}/benefits/my-requests`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})]);U.ok&&e(await U.json()),X.ok&&r(await X.json())}catch(U){console.error(U)}finally{l(!1)}},z=U=>{U.target.files&&U.target.files.length>0&&b(U.target.files[0])},M=async U=>{if(U.preventDefault(),!!c){if(!u){O("Please provide a URL.");return}O("");try{E(!0);let X="";if(g){const P=new FormData;P.append("file",g);const _=await fetch(`${window.location.origin}/benefits/upload-screenshot`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:P});if(!_.ok)throw new Error("Failed to upload screenshot");X=(await _.json()).url}C(!0);const A=await fetch(`${window.location.origin}/benefits/submit`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({benefit_type:c.type,benefit_category:c.category,url:u,screenshot_url:X,claimed_value:c.value,description:""})});if(!A.ok){const P=await A.json();throw new Error(P.detail||"Failed to submit request")}await F(),f(null),m(""),b(null)}catch(X){O(X.message||"An error occurred during submission.")}finally{E(!1),C(!1)}}};return i?t.jsx("div",{className:"flex h-screen items-center justify-center",children:t.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-[#ff4d00] border-t-transparent rounded-full"})}):t.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[t.jsxs("div",{className:"bg-gradient-to-r from-gray-900 to-black rounded-3xl p-8 lg:p-12 text-white overflow-hidden relative shadow-2xl",children:[t.jsx("div",{className:"absolute top-0 right-0 p-12 opacity-10 pointer-events-none",children:t.jsx(Wn,{size:200})}),t.jsxs("div",{className:"relative z-10 max-w-2xl",children:[t.jsxs("h1",{className:"text-4xl md:text-5xl font-black mb-6 tracking-tight text-white flex items-center gap-4",children:["Free Traffic ",t.jsx(Wn,{className:"text-[#ff4d00]",size:40})]}),t.jsx("p",{className:"text-xl text-gray-400 font-light leading-relaxed",children:"Earn free credits by completing promotional tasks. Share your experience, create content, and help us grow to receive instant traffic credits to your account."})]})]}),t.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsx("h2",{className:"text-2xl font-black text-gray-900",children:"Available Tasks"}),t.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:n.map(U=>{const X=U.requirements||{},A=X.frequency||"all_time",P=X.max_claims||0;return t.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 hover:shadow-xl hover:border-[#ff4d00]/30 transition-all duration-300 group",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"inline-block px-3 py-1 bg-[#ff4d00]/10 text-[#ff4d00] text-xs font-black uppercase tracking-wider rounded-full mb-3",children:U.type}),t.jsx("h3",{className:"text-lg font-bold text-gray-900 leading-tight group-hover:text-[#ff4d00] transition-colors",children:U.name})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-2xl font-black text-[#ff4d00]",children:["",U.value]}),t.jsx("div",{className:"text-[10px] text-gray-500 font-bold uppercase",children:"Credit Value"})]})]}),X.description&&t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:X.description}),t.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:[t.jsx("h4",{className:"text-xs font-black text-gray-900 uppercase mb-2",children:"Requirements"}),t.jsxs("ul",{className:"space-y-2",children:[Object.keys(X).map(_=>_==="description"||_==="frequency"||_==="max_claims"?null:t.jsxs("li",{className:"text-xs text-gray-600 flex items-center gap-2",children:[t.jsx(ct,{size:12,className:"text-green-500"}),_.replace("min_","Minimum "),": ",t.jsx("span",{className:"font-bold",children:X[_]})]},_)),P>0&&t.jsxs("li",{className:"text-xs text-blue-600 flex items-center gap-2 font-medium",children:[t.jsx(ct,{size:12,className:"text-blue-500"}),"Limit: ",P," time(s) ",A==="all_time"?"":A]})]})]}),t.jsx("button",{onClick:()=>f(U),className:"w-full py-3 bg-gray-900 text-white text-sm font-bold uppercase rounded-xl hover:bg-[#ff4d00] transition-colors",children:"Claim Reward"})]},U.id)})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx("h2",{className:"text-2xl font-black text-gray-900",children:"Your Claims"}),t.jsx("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 shadow-lg",children:s.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Wn,{className:"mx-auto text-gray-300 mb-3",size:32}),t.jsx("p",{className:"text-sm text-gray-500",children:"No claims submitted yet."})]}):t.jsx("div",{className:"space-y-4",children:s.map((U,X)=>{var A;return t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl border border-gray-100",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-gray-900 mb-1",children:((A=n.find(P=>P.type===U.benefit_type&&P.category===U.benefit_category))==null?void 0:A.name)||U.benefit_type}),t.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[t.jsx(Kt,{size:12})," ",new Date(U.submitted_at).toLocaleDateString()]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-sm font-black text-gray-900",children:["",U.claimed_value]}),t.jsx("div",{className:`text-[10px] font-bold uppercase tracking-wider py-1 px-2 rounded-full inline-block mt-1 ${U.status==="approved"?"bg-green-100 text-green-700":U.status==="rejected"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:U.status})]})]},X)})})})]})]}),c&&t.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white max-w-lg w-full rounded-3xl p-8 shadow-2xl relative",children:[t.jsx("button",{onClick:()=>{f(null),O("")},className:"absolute top-6 right-6 text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx(Kn,{size:24})}),t.jsxs("div",{className:"mb-6",children:[t.jsx("span",{className:"inline-block px-3 py-1 bg-[#ff4d00]/10 text-[#ff4d00] text-xs font-black uppercase tracking-wider rounded-full mb-2",children:"Claim Reward"}),t.jsx("h3",{className:"text-2xl font-black text-gray-900",children:c.name}),t.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Submit proof of your completed task below."})]}),T&&t.jsxs("div",{className:"bg-red-50 text-red-600 p-4 rounded-xl text-sm mb-6 flex items-start gap-2 border border-red-100",children:[t.jsx(Kn,{size:18,className:"shrink-0 mt-0.5"}),t.jsx("p",{children:T})]}),t.jsxs("form",{onSubmit:M,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2 ml-1",children:"Task Link (URL)"}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:t.jsx(Af,{size:18,className:"text-gray-400"})}),t.jsx("input",{type:"url",required:!0,value:u,onChange:U=>m(U.target.value),className:"w-full pl-12 pr-4 py-4 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#ff4d00] focus:border-transparent transition-all outline-none",placeholder:"https://..."})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2 ml-1",children:"Screenshot Proof"}),t.jsxs("div",{className:"relative group cursor-pointer",children:[t.jsx("input",{type:"file",accept:"image/*",onChange:z,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"}),t.jsxs("div",{className:"w-full p-8 border-2 border-dashed border-gray-200 rounded-xl bg-gray-50 group-hover:bg-[#ff4d00]/5 group-hover:border-[#ff4d00]/30 transition-all text-center",children:[t.jsx(If,{size:32,className:`mx-auto mb-3 ${g?"text-[#ff4d00]":"text-gray-400"}`}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:g?g.name:"Click or drag image here"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG up to 5MB"})]})]})]}),t.jsxs("div",{className:"pt-4 flex gap-4",children:[t.jsx("button",{type:"button",onClick:()=>{f(null),O("")},className:"flex-1 px-6 py-4 text-sm font-bold text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors uppercase",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:v||N,className:"flex-1 px-6 py-4 text-sm font-bold text-white bg-[#ff4d00] hover:bg-[#e64600] rounded-xl transition-colors uppercase disabled:opacity-50 relative overflow-hidden",children:v||N?t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),v?"Uploading...":"Submitting..."]}):"Submit Claim"})]})]})]})})]})},DL=({onLogout:n})=>{var T,O;const[e,s]=w.useState(!1),r=qs(),l=tr().pathname.replace("/dashboard","").substring(1)||"home",[c,f]=w.useState([]),[u,m]=w.useState(0),[g,b]=w.useState(!0);w.useEffect(()=>{q.init(),(async()=>{await q.syncProjects(),f(q.getProjects()),m(q.getMaxTierBalance()),b(!1)})()},[]);const v=()=>{f(q.getProjects()),m(q.getBalance())},E=F=>{r(F===""?"/dashboard/campaigns":`/dashboard/campaigns/${F}`),window.scrollTo(0,0)},N=[{title:"Main",items:[{label:"Dashboard",id:"home",path:"/dashboard",icon:t.jsx(jT,{size:18})},{label:"Campaigns",id:"campaigns",path:"/dashboard/campaigns",icon:t.jsx(ga,{size:18}),active:l.startsWith("campaigns")},{label:"Free Traffic",id:"free-traffic",path:"/dashboard/free-traffic",icon:t.jsx(Wn,{size:18})}]},{title:"Finance",items:[{label:"Billing",id:"billing",path:"/dashboard/billing",icon:t.jsx(kT,{size:18})},{label:"Buy Credits",id:"buy-credits",path:"/dashboard/buy-credits",icon:t.jsx(xn,{size:18})},{label:"Balance",id:"balance",path:"/dashboard/balance",icon:t.jsx(tD,{size:18})}]},{title:"Account",items:[{label:"Gamification",id:"gamification",path:"/dashboard/gamification",icon:t.jsx(Kr,{size:18})},{label:"Support Tickets",id:"support",path:"/dashboard/support",icon:t.jsx(CD,{size:18})},{label:"Profile",id:"profile",path:"/dashboard/profile",icon:t.jsx(un,{size:18})},{label:"Affiliate",id:"affiliate",path:"/dashboard/affiliate",icon:t.jsx(dw,{size:18})}]}];w.useEffect(()=>{document.title=`${C()} | Traffic Creator`},[l]);const C=()=>l==="home"||l===""?"Dashboard":l.startsWith("campaigns")?"Campaigns":l==="free-traffic"?"Free Traffic":l==="billing"?"Billing & Payments":l==="buy-credits"?"Wallet Top-Up":l==="gamification"?"Gamification":l==="profile"?"My Profile":l==="balance"?"Balance":l==="affiliate"?"Affiliate Program":l==="support"?"Support Helpdesk":l==="payment-success"?"Payment Successful":l.replace(/-/g," ");return g?t.jsxs("div",{className:"flex flex-col items-center justify-center h-screen text-gray-400 animate-pulse bg-[#f3f4f6]",children:[t.jsx("div",{className:"w-8 h-8 bg-gray-200 mb-4 rounded-sm"}),t.jsx("div",{className:"text-xs font-bold uppercase tracking-widest",children:"Loading Database..."})]}):t.jsxs("div",{className:"bg-[#f3f4f6] min-h-screen flex font-sans text-gray-900",children:[t.jsx(IT,{menuSections:N,currentView:l.startsWith("campaigns")?"campaigns":l===""?"home":l,onNavigate:F=>{const M=N.flatMap(U=>U.items).find(U=>U.id===F);M!=null&&M.path?r(M.path):r("/dashboard"),s(!1),window.scrollTo(0,0)},onLogout:n}),e&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 z-40 md:hidden backdrop-blur-sm",onClick:()=>s(!1),children:t.jsxs("div",{className:"bg-[#111] text-white w-72 h-full overflow-y-auto shadow-2xl",onClick:F=>F.stopPropagation(),children:[t.jsxs("div",{className:"p-8 pb-8 flex items-center gap-3 border-b border-gray-800",children:[t.jsx("div",{className:"w-8 h-8 bg-[#ff4d00] flex items-center justify-center",children:t.jsx("span",{className:"font-black text-black",children:"T"})}),t.jsx("span",{className:"text-xl font-black tracking-tighter",children:"TRAFFIC BOT"})]}),N.map((F,z)=>t.jsx("div",{className:"py-6 border-b border-gray-900",children:t.jsx("ul",{children:F.items.map(M=>t.jsx("li",{children:t.jsxs("button",{onClick:()=>{r(M.path||"/dashboard"),s(!1)},className:`w-full text-left px-8 py-3 text-xs font-bold uppercase tracking-wider flex items-center gap-3
                                        ${l===M.id?"text-[#ff4d00] bg-gray-900":"text-gray-400"}`,children:[M.icon,M.label]})},M.id))})},z))]})}),t.jsxs("main",{className:"flex-1 md:ml-64 flex flex-col min-h-screen relative",children:[t.jsx(p9,{}),!((T=q.getCurrentUser())!=null&&T.isVerified)&&((O=q.getCurrentUser())==null?void 0:O.email)&&t.jsx(g9,{email:q.getCurrentUser().email,onVerified:()=>{const F=q.getCurrentUser();F&&(F.isVerified=!0,localStorage.setItem("modus_current_user",JSON.stringify(F)))}}),localStorage.getItem("tgp_admin_token")&&t.jsxs("div",{className:"bg-red-600 text-white px-6 py-3 flex items-center justify-between shadow-lg relative z-50",children:[t.jsxs("div",{className:"flex items-center gap-2 font-bold text-sm uppercase tracking-wide",children:[t.jsx(un,{size:18}),t.jsx("span",{children:"Viewing as User Mode"})]}),t.jsx("button",{onClick:async()=>{try{await q.stopImpersonation(),window.location.href="/admin"}catch{alert("Failed to return to admin")}},className:"bg-white text-red-600 px-4 py-1.5 rounded text-xs font-bold uppercase hover:bg-red-50",children:"Return to Admin"})]}),t.jsx(RT,{title:C(),onMobileMenuClick:()=>s(!0)}),t.jsx("div",{className:"flex-1 p-6 md:p-12 overflow-y-auto relative",children:t.jsx("div",{className:"max-w-screen-2xl mx-auto",children:t.jsxs(rw,{children:[t.jsx(We,{path:"/",element:t.jsx(kL,{projects:c,balance:u,onNavigateToProject:E,onNavigateToBuyCredits:()=>r("/dashboard/buy-credits"),onNavigateToSupport:()=>r("/dashboard/support")})}),t.jsx(We,{path:"/campaigns",element:t.jsx(x9,{projects:c,onUpdate:v,onNavigateToProject:E,onAddProject:()=>r("/dashboard/campaigns/new")})}),t.jsx(We,{path:"/campaigns/new",element:t.jsx(k9,{onBack:()=>r("/dashboard/campaigns"),onCreated:v})}),t.jsx(We,{path:"/campaigns/:projectId",element:t.jsx(OL,{onUpdate:v})}),t.jsx(We,{path:"/buy-credits",element:t.jsx(bL,{onBack:()=>r("/dashboard"),onPurchase:v})}),t.jsx(We,{path:"/billing",element:t.jsx(EL,{})}),t.jsx(We,{path:"/gamification",element:t.jsx(IL,{})}),t.jsx(We,{path:"/profile",element:t.jsx(vL,{})}),t.jsx(We,{path:"/balance",element:t.jsx(wL,{})}),t.jsx(We,{path:"/pricing",element:t.jsx(TL,{})}),t.jsx(We,{path:"/affiliate",element:t.jsx(jL,{})}),t.jsx(We,{path:"/support",element:t.jsx(SL,{})}),t.jsx(We,{path:"/payment-success",element:t.jsx(RL,{})}),t.jsx(We,{path:"/free-traffic",element:t.jsx(PL,{})}),t.jsx(We,{path:"*",element:t.jsx(ca,{to:"/dashboard",replace:!0})})]})})}),t.jsx("footer",{className:"px-12 py-8 border-t border-gray-200 mt-auto bg-white",children:t.jsxs("div",{className:"max-w-screen-2xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4",children:[t.jsxs("div",{className:"flex flex-wrap justify-center gap-8 text-[10px] font-bold uppercase tracking-widest text-gray-400",children:[t.jsx(Ge,{to:"/helpdesk",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Helpdesk"}),t.jsx(Ge,{to:"/legal/refund",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Refund Policy"}),t.jsx(Ge,{to:"/legal/delivery",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Delivery Policy"}),t.jsx(Ge,{to:"/legal/privacy",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Privacy Policy"}),t.jsx(Ge,{to:"/legal/terms",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Terms of Service"}),t.jsx(Ge,{to:"/legal/agb",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"AGB"}),t.jsx(Ge,{to:"/legal/impressum",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Impressum"})]}),t.jsx("div",{className:"text-[10px] font-medium text-gray-400",children:" 2024 EasyTrafficBot UG"})]})})]})]})},OL=({onUpdate:n})=>{const{projectId:e}=Vd(),s=qs();return e?t.jsx(j9,{projectId:e,onBack:()=>s("/dashboard/campaigns"),onUpdate:n}):t.jsx("div",{children:"Invalid Project ID"})},ML=window.location.origin,gw=({onSuccess:n})=>{const e=qs(),[s,r]=w.useState(""),[i,l]=w.useState(""),[c,f]=w.useState(""),[u,m]=w.useState(5e3),[g,b]=w.useState(40),[v,E]=w.useState(30),[N,C]=w.useState(!1),[T,O]=w.useState(""),[F,z]=w.useState(!1),[M,U]=w.useState(""),X=_=>{if(_<60)return`${_} seconds`;const k=Math.floor(_/60),D=_%60;return D>0?`${k}m ${D}s`:`${k} minute${k>1?"s":""}`},A=()=>!s||!s.includes("@")?(O("Please enter a valid email address"),!1):!i||i.length<3?(O("Project name must be at least 3 characters"),!1):!c||!c.startsWith("http://")&&!c.startsWith("https://")?(O("Please enter a valid URL starting with http:// or https://"),!1):!0,P=async _=>{if(_.preventDefault(),O(""),!!A()){C(!0);try{const k={desktop:60,mobile:30,tablet:10},D=await fetch(`${ML}/quick-campaign`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,project_name:i,target_url:c,total_visitors:u,settings:{bounce_rate:g,time_on_page:X(v),device_split:k}})});if(!D.ok){const R=await D.json();throw new Error(R.detail||"Failed to create campaign")}const L=await D.json();L.access_token&&(localStorage.setItem("token",L.access_token),U(L.generated_password)),z(!0),L.generated_password||setTimeout(()=>{e("/dashboard"),n&&n()},2e3)}catch(k){O(k.message||"Something went wrong. Please try again.")}finally{C(!1)}}};return F?t.jsxs("div",{className:"max-w-4xl mx-auto text-center py-12 relative z-10",children:[t.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-400 to-green-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:t.jsx(ct,{className:"w-10 h-10 text-white"})}),t.jsx("h3",{className:"text-2xl font-black text-white md:text-gray-900 mb-3 drop-shadow-sm",children:"Campaign Started!"}),t.jsxs("p",{className:"text-white/90 md:text-gray-600 mb-8 max-w-lg mx-auto",children:["Your ",t.jsx("span",{className:"font-bold text-white md:text-[#ff4d00]",children:u.toLocaleString()})," visitor campaign is running."]}),M&&t.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl border border-gray-100 max-w-md mx-auto transform transition-all animate-in zoom-in-95 duration-500",children:[t.jsx("h4",{className:"text-xl font-black text-gray-900 mb-3",children:"Your Account Details"}),t.jsx("p",{className:"text-sm font-medium text-gray-500 mb-6",children:"We've automatically created an account for you. Please save your password below."}),t.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-5 rounded-xl flex items-center justify-between group mb-8",children:[t.jsx("code",{className:"text-[#ff4d00] font-mono font-black text-xl tracking-wider select-all",children:M}),t.jsx("button",{onClick:()=>{navigator.clipboard.writeText(M),alert("Copied to clipboard!")},className:"text-gray-400 hover:text-[#ff4d00] text-xs font-bold uppercase tracking-widest transition-colors flex items-center gap-1",title:"Copy to clipboard",children:"Copy"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("button",{onClick:()=>{e("/profile"),n&&n()},className:"w-full bg-[#ff4d00] text-white py-4 px-6 rounded-xl text-sm font-bold uppercase tracking-widest hover:bg-[#e04400] transition-colors shadow-lg hover:shadow-xl transform active:scale-[0.98]",children:"Change Password Now"}),t.jsx("button",{onClick:()=>{e("/dashboard"),n&&n()},className:"w-full bg-gray-100 text-gray-900 py-4 px-6 rounded-xl text-sm font-bold uppercase tracking-widest hover:bg-gray-200 transition-colors transform active:scale-[0.98]",children:"Go to Dashboard"})]})]})]}):t.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12 relative rounded-3xl overflow-hidden shadow-2xl",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#ff4d00] to-[#e04400] z-0"}),t.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10 z-0 mix-blend-overlay"}),t.jsx("div",{className:"absolute -top-20 -right-20 w-96 h-96 bg-white opacity-10 rounded-full blur-3xl z-0"}),t.jsx("div",{className:"absolute -bottom-20 -left-20 w-96 h-96 bg-black opacity-10 rounded-full blur-3xl z-0"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"text-center mb-10 text-white",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-md border border-white/30 px-4 py-2 text-xs font-bold uppercase tracking-widest mb-4 rounded-full shadow-sm",children:[t.jsx(Lt,{size:14,className:"fill-white text-white"})," Free Traffic Campaign"]}),t.jsxs("h2",{className:"text-4xl md:text-5xl font-black uppercase tracking-tight mb-4 drop-shadow-sm",children:["Get ",t.jsx("span",{className:"text-white underline decoration-white/30 decoration-4 underline-offset-4",children:"Real Visitors"})," Today"]}),t.jsx("p",{className:"text-xl font-medium text-white/90 max-w-2xl mx-auto",children:"Drive up to 10,000 visitors in 24 hours. No credit card required."})]}),t.jsxs("div",{className:"grid lg:grid-cols-5 gap-8",children:[t.jsx("div",{className:"lg:col-span-3",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden transform transition-all hover:scale-[1.01] duration-500",children:[t.jsxs("div",{className:"bg-gradient-to-r from-[#ff4d00] to-[#e04400] px-8 py-5 flex items-center gap-4 border-b border-white/10",children:[t.jsx("div",{className:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-lg flex items-center justify-center shrink-0 shadow-inner",children:t.jsx(GD,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-white font-bold uppercase tracking-wide text-sm",children:"Quick Campaign"}),t.jsx("p",{className:"text-white/80 text-xs",children:"Fill in the details below"})]})]}),t.jsxs("form",{onSubmit:P,className:"p-8 space-y-6",children:[T&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3 animate-in fade-in slide-in-from-top-2",children:[t.jsx(Kn,{className:"text-red-500 shrink-0",size:20}),t.jsx("span",{className:"text-red-700 text-sm font-bold",children:T})]}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide block ml-1",children:"Email"}),t.jsxs("div",{className:"relative group",children:[t.jsx("input",{type:"email",value:s,onChange:_=>r(_.target.value),placeholder:"you@example.com",className:"w-full bg-gray-50 border border-gray-200 rounded-xl p-4 text-sm font-bold text-gray-900 focus:border-[#ff4d00] focus:ring-4 focus:ring-orange-500/10 focus:bg-white transition-all outline-none pl-11 shadow-sm"}),t.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-[#ff4d00] transition-colors",children:t.jsx(Nr,{size:16})})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide block ml-1",children:"Project Name"}),t.jsx("input",{type:"text",value:i,onChange:_=>l(_.target.value),placeholder:"My Campaign",className:"w-full bg-gray-50 border border-gray-200 rounded-xl p-4 text-sm font-bold text-gray-900 focus:border-[#ff4d00] focus:ring-4 focus:ring-orange-500/10 focus:bg-white transition-all outline-none shadow-sm"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide block ml-1",children:"Target Website URL"}),t.jsxs("div",{className:"relative group",children:[t.jsx("input",{type:"url",value:c,onChange:_=>f(_.target.value),placeholder:"https://yourwebsite.com",className:"w-full bg-gray-50 border border-gray-200 rounded-xl p-4 pl-11 text-sm font-bold text-gray-900 focus:border-[#ff4d00] focus:ring-4 focus:ring-orange-500/10 focus:bg-white transition-all outline-none shadow-sm"}),t.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-[#ff4d00] transition-colors",children:t.jsx(Ts,{size:16})})]})]}),t.jsxs("div",{className:"bg-gray-50/80 rounded-xl p-6 space-y-6 border border-gray-100",children:[t.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-gray-400 uppercase tracking-wide mb-2",children:[t.jsx(Ci,{size:12})," Campaign Settings"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("label",{className:"text-sm font-bold text-gray-700 flex items-center gap-2",children:"Visitors"}),t.jsx("span",{className:"text-lg font-black text-[#ff4d00] bg-white px-2 py-0.5 rounded shadow-sm border border-gray-100",children:u.toLocaleString()})]}),t.jsx("input",{type:"range",min:"1000",max:"10000",step:"500",value:u,onChange:_=>m(parseInt(_.target.value)),className:"w-full h-2 bg-gray-200 rounded-full appearance-none cursor-pointer accent-[#ff4d00] hover:accent-black transition-all"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Bounce Rate"}),t.jsxs("span",{className:"text-sm font-black text-gray-900",children:[g,"%"]})]}),t.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:g,onChange:_=>b(parseInt(_.target.value)),className:"w-full h-1.5 bg-gray-200 rounded-full appearance-none cursor-pointer accent-gray-900 hover:accent-[#ff4d00] transition-all"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Time on Page"}),t.jsx("span",{className:"text-sm font-black text-gray-900",children:v<60?`${v}s`:`${Math.floor(v/60)}m ${v%60}s`})]}),t.jsx("input",{type:"range",min:"15",max:"300",step:"15",value:v,onChange:_=>E(parseInt(_.target.value)),className:"w-full h-1.5 bg-gray-200 rounded-full appearance-none cursor-pointer accent-gray-900 hover:accent-[#ff4d00] transition-all"})]})]})]})]}),t.jsxs("div",{className:"bg-green-50 rounded-xl p-5 border border-green-100 flex items-center gap-4 shadow-sm",children:[t.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center border-4 border-green-100 shrink-0",children:t.jsx(ct,{size:20,className:"text-green-500 fill-green-50"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("span",{className:"text-green-800 font-extrabold text-sm uppercase tracking-wide block",children:"Free Campaign Summary"}),t.jsxs("span",{className:"text-green-600 text-xs font-medium",children:[u.toLocaleString()," visitors  24 hours duration"]})]}),t.jsx("span",{className:"text-2xl font-black text-green-600 tracking-tighter",children:"FREE"})]}),t.jsx("button",{type:"submit",disabled:N,className:"w-full bg-black text-white py-5 px-6 rounded-xl text-sm font-bold uppercase tracking-widest hover:bg-gray-900 transition-all shadow-xl hover:shadow-2xl disabled:opacity-70 disabled:cursor-not-allowed group flex items-center justify-center gap-3 transform active:scale-[0.98]",children:N?"Creating Campaign...":t.jsxs(t.Fragment,{children:["Start Free Campaign ",t.jsx(xs,{className:"group-hover:translate-x-1 transition-transform"})]})})]})]})}),t.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[t.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-xl shadow-lg border border-white/20 p-6 hover:bg-white transition-colors duration-300",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-5 border-b border-gray-100 pb-4",children:[t.jsx("div",{className:"bg-orange-50 p-2 rounded-lg",children:t.jsx(kc,{className:"w-5 h-5 text-[#ff4d00]"})}),t.jsx("h3",{className:"font-bold text-gray-900 text-sm uppercase tracking-wide",children:"Where You'll See Traffic"})]}),t.jsxs("ul",{className:"space-y-4 text-sm text-gray-600",children:[t.jsxs("li",{className:"flex gap-3 items-start",children:[t.jsx(Bl,{size:16,className:"text-[#ff4d00] mt-0.5 shrink-0"}),t.jsxs("span",{children:[t.jsx("strong",{className:"text-gray-900 block font-bold text-xs uppercase",children:"Google Analytics 4"})," Real-time and general traffic reports"]})]}),t.jsxs("li",{className:"flex gap-3 items-start",children:[t.jsx(Bl,{size:16,className:"text-[#ff4d00] mt-0.5 shrink-0"}),t.jsxs("span",{children:[t.jsx("strong",{className:"text-gray-900 block font-bold text-xs uppercase",children:"Google Search Console"})," Improved engagement signals"]})]}),t.jsxs("li",{className:"flex gap-3 items-start",children:[t.jsx(Bl,{size:16,className:"text-[#ff4d00] mt-0.5 shrink-0"}),t.jsxs("span",{children:[t.jsx("strong",{className:"text-gray-900 block font-bold text-xs uppercase",children:"Server Logs"})," Direct hit requests to your server"]})]}),t.jsxs("li",{className:"flex gap-3 items-start",children:[t.jsx(Bl,{size:16,className:"text-[#ff4d00] mt-0.5 shrink-0"}),t.jsxs("span",{children:[t.jsx("strong",{className:"text-gray-900 block font-bold text-xs uppercase",children:"Heatmaps"})," Session recordings and scroll depth"]})]})]})]}),t.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-xl shadow-lg border border-white/20 p-6 hover:bg-white transition-colors duration-300",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-5 border-b border-gray-100 pb-4",children:[t.jsx("div",{className:"bg-orange-50 p-2 rounded-lg",children:t.jsx(Fo,{className:"w-5 h-5 text-[#ff4d00]"})}),t.jsx("h3",{className:"font-bold text-gray-900 text-sm uppercase tracking-wide",children:"Traffic Sources"})]}),t.jsx("ul",{className:"space-y-3 text-sm font-medium text-gray-600",children:["Direct traffic (organic visitors)","Organic search (Google, Bing)","Social referrals (if enabled)","Referral from other sites"].map((_,k)=>t.jsxs("li",{className:"flex items-center gap-3",children:[t.jsx(rc,{size:14,className:"text-[#ff4d00]"}),t.jsx("span",{children:_})]},k))})]}),t.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-xl shadow-lg border border-white/20 p-6 hover:bg-white transition-colors duration-300",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-5 border-b border-gray-100 pb-4",children:[t.jsx("div",{className:"bg-green-50 p-2 rounded-lg",children:t.jsx(kn,{className:"w-5 h-5 text-green-600"})}),t.jsx("h3",{className:"font-bold text-gray-900 text-sm uppercase tracking-wide",children:"Quality & Safety"})]}),t.jsx("ul",{className:"space-y-3 text-sm font-medium text-gray-600",children:["Residential IP addresses","Real browser fingerprints","GA4 compliant events","Anti-fingerprinting enabled"].map((_,k)=>t.jsxs("li",{className:"flex items-center gap-3",children:[t.jsx(ct,{size:14,className:"text-green-500"}),t.jsx("span",{children:_})]},k))})]})]})]})]})]})},LL=({onLogin:n,onNavigate:e})=>{const[s,r]=w.useState(0),[i,l]=w.useState("business"),[c,f]=w.useState("economy"),u=N=>{r(s===N?null:N)},m={"@context":"https://schema.org","@type":"Organization",name:"Traffic Creator",url:"https://traffic-creator.com/",description:"Premium website traffic generator for boosting SEO metrics and engagement.",brand:{"@type":"Brand",name:"Traffic Creator"}},g={"@context":"https://schema.org","@type":"WebSite",name:"Traffic Creator",url:"https://traffic-creator.com/",potentialAction:{"@type":"SearchAction",target:"https://traffic-creator.com/search?q={search_term_string}","query-input":"required name=search_term_string"}},b=[{icon:t.jsx(VD,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Smart Site Crawler",description:"Our advanced bots map your entire site architecture to distribute traffic naturally across deep links, not just your homepage."},{icon:t.jsx(br,{className:"w-6 h-6 text-[#ff4d00]"}),title:"GA4 Compliant Events",description:"Every visit generates real engagement signalsscrolls, clicks, and mouse movementsthat are fully verified by Google Analytics 4."},{icon:t.jsx(Ef,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Organic Growth Patterns",description:"Traffic volume follows natural diurnal curves and viral spikes, eliminating the flat-line patterns that trigger bot filters."},{icon:t.jsx(Ts,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Elite Residential IPs",description:"Traffic originates from verified residential ISPs in your target country, making it indistinguishable from real human visitors."},{icon:t.jsx(cw,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Live RSS Sync",description:"Automatically detect new blog posts and drive immediate traffic to them, signaling freshness to search engines."},{icon:t.jsx(HO,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Timezone Intelligence",description:"Visits are scheduled according to the local business hours of your target audience for maximum realism."},{icon:t.jsx(kO,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Social Signal Ready",description:"Seamlessly integrates with t.co, bit.ly, and other shorteners to simulate viral social media referral traffic."},{icon:t.jsx(Fo,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Hyper-Local Targeting",description:"Pinpoint your audience by city or region. Perfect for local SEO campaigns and brick-and-mortar businesses."}],v=[{icon:t.jsx(Dn,{size:32,className:"text-[#ff4d00]"}),title:"SEO Ranking Boost",metric:"+450%",desc:"How a niche blog went from Page 10 to Page 1 by signaling high user engagement to search algorithms."},{icon:t.jsx(Ef,{size:32,className:"text-[#ff4d00]"}),title:"Analytics Repair",metric:"15% Bounce",desc:"A SaaS company reduced their bounce rate from 80% to 15% to improve their domain authority score."},{icon:t.jsx(xT,{size:32,className:"text-[#ff4d00]"}),title:"Crypto Trending",metric:"#1 Spot",desc:"A new Token project used volume traffic to trend on CoinMarketCap and CoinGecko within 24 hours."},{icon:t.jsx(oD,{size:32,className:"text-[#ff4d00]"}),title:"Agency Growth",metric:"50+ Clients",desc:"A digital agency resold our traffic to their clients, improving client retention reports by 200%."}],E=[{question:"How quickly does traffic start?",answer:"Campaigns typically start within 5 minutes of approval. Our network handles over 50M requests daily, ensuring instant scalability."},{question:"Is this traffic Adsense safe?",answer:"Yes, our 'Breakthrough' and 'Agency' packages feature 100% Adsense safe traffic, filtered for high engagement and low bounce rates."},{question:"Can I target specific devices?",answer:"Absolutely. You can segment traffic by Desktop, Mobile (iOS/Android), and Tablet in the campaign settings."},{question:"Do you offer a money-back guarantee?",answer:"Yes. If we fail to deliver the purchased visitor count within 72 hours of the campaign start, you are eligible for a full refund."},{question:"Can I use the API for reselling?",answer:"Yes, our REST API is designed for agencies and resellers. You can programmatically create projects, check stats, and manage clients."},{question:"What is the difference between Bounce Rate and Return Rate?",answer:"Bounce Rate is the percentage of visitors who leave after one page. Return Rate is the percentage of visitors who come back to your site later. You can configure both."},{question:"How do I configure geolocation targeting?",answer:"In your project settings, simply select the countries you wish to target. For 'Agency' plans, you can specify individual cities."},{question:"Can I stop and restart my campaigns?",answer:"Yes, you have full control. You can pause, resume, or stop campaigns instantly from the dashboard at any time."}];return t.jsxs("div",{className:"min-h-screen bg-white text-gray-900 font-sans overflow-hidden",children:[t.jsx(Ai,{title:"Traffic Creator - #1 Website Traffic Generator for SEO & Rankings (2026)",description:"Boost your SEO rankings in 2026 with real residential website traffic. Traffic Creator helps you manipulate CTR, increase dwell time, and improve domain authority naturally using advanced AI-driven behavioral simulation.",keywords:"website traffic 2026, boost traffic, SEO traffic, organic traffic, traffic generator, buy website traffic, traffic creator, website visitors, GA4 traffic, CTR manipulation",schema:[m,g]}),t.jsx("nav",{className:"border-b border-gray-100 bg-white/95 backdrop-blur-md sticky top-0 z-50 transition-all duration-300",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 group cursor-pointer",onClick:()=>window.scrollTo(0,0),children:[t.jsx("span",{className:"text-2xl font-black text-[#ff4d00] tracking-tight group-hover:scale-105 transition-transform",children:"TRAFFIC"}),t.jsx("span",{className:"hidden sm:inline-block text-xs font-bold bg-[#ff4d00] text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Creator"})]}),t.jsxs("div",{className:"flex items-center gap-8",children:[t.jsxs("div",{className:"hidden md:flex gap-8 text-sm font-bold uppercase tracking-wide text-gray-500",children:[t.jsx("a",{href:"#problem",className:"hover:text-[#ff4d00] transition-colors",children:"The Problem"}),t.jsx("a",{href:"#features",className:"hover:text-[#ff4d00] transition-colors",children:"Features"}),t.jsx("a",{href:"#streak-bonus",className:"hover:text-[#ff4d00] transition-colors",children:"Unlimited Free Traffic"}),t.jsx(Ge,{to:"/#pricing",className:"hover:text-[#ff4d00] transition-colors uppercase",children:"Pricing"})]}),t.jsx(Ge,{to:"/login",className:"bg-[#ff4d00] text-white px-6 py-2.5 text-xs font-bold uppercase tracking-wider hover:bg-black transition-colors shadow-md hover:shadow-lg flex items-center",children:"Dashboard Login"})]})]})}),t.jsxs("section",{className:"relative pt-32 pb-40 overflow-hidden bg-white",children:[t.jsx("div",{className:"absolute inset-0 z-0 opacity-[0.03]",style:{backgroundImage:"linear-gradient(#000 1px, transparent 1px), linear-gradient(90deg, #000 1px, transparent 1px)",backgroundSize:"40px 40px"}}),t.jsx("div",{className:"absolute top-0 right-0 w-[800px] h-[800px] bg-orange-100/40 rounded-full blur-3xl -translate-y-1/2 translate-x-1/3 z-0"}),t.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10 grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"inline-flex items-center gap-2 bg-black/5 border border-black/10 px-4 py-1.5 text-[10px] font-bold uppercase tracking-widest mb-8 rounded-full shadow-sm animate-in fade-in slide-in-from-bottom-4 backdrop-blur-sm",children:[t.jsx("span",{className:"w-2 h-2 rounded-full bg-[#ff4d00] animate-pulse"})," Live Traffic Network Active"]}),t.jsxs("h1",{className:"text-6xl md:text-8xl font-black tracking-tighter leading-[0.9] mb-8 text-gray-900 animate-in fade-in slide-in-from-bottom-6",children:["DOMINATE",t.jsx("br",{}),t.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#ff4d00] to-orange-600",children:"SEARCH."})]}),t.jsxs("p",{className:"text-xl md:text-2xl text-gray-500 mb-10 max-w-lg leading-relaxed font-medium animate-in fade-in slide-in-from-bottom-8",children:["The world's first ",t.jsx("span",{className:"text-gray-900 font-bold",children:"intelligent traffic engine"}),". Boost SEO rankings with real residential visitors, certified purely organic by Google Analytics 4."]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 animate-in fade-in slide-in-from-bottom-10",children:[t.jsxs(Ge,{to:"/signup",className:"group bg-[#ff4d00] text-white px-8 py-5 text-sm font-bold uppercase tracking-wider hover:bg-black transition-all shadow-[0_10px_40px_-10px_rgba(255,77,0,0.5)] hover:shadow-xl flex items-center justify-center gap-3 transform hover:-translate-y-1 rounded-sm",children:["Launch Campaign ",t.jsx(xs,{size:18,className:"group-hover:translate-x-1 transition-transform"})]}),t.jsx(Ge,{to:"/signup",className:"group bg-white border-2 border-gray-100 text-gray-900 px-8 py-5 text-sm font-bold uppercase tracking-wider hover:border-black transition-all transform hover:-translate-y-1 flex items-center justify-center rounded-sm",children:"View Live Demo"})]}),t.jsxs("div",{className:"mt-12 flex items-center gap-6 text-xs font-bold text-gray-400 uppercase tracking-widest animate-in fade-in slide-in-from-bottom-12",children:[t.jsx("div",{className:"flex -space-x-3",children:[1,2,3,4].map(N=>t.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-white bg-gray-200 flex items-center justify-center text-[8px] overflow-hidden",children:t.jsx("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${N}`,alt:"User"})},N))}),t.jsx("div",{children:"Trusted by 2,000+ SEO Agencies"})]})]}),t.jsxs("div",{className:"relative flex items-center justify-center h-[600px] perspective-1000 animate-in fade-in duration-1000 lg:translate-x-10",children:[t.jsxs("div",{className:"relative w-96 h-96 animate-[spin_40s_linear_infinite] transform-style-3d",children:[t.jsx("div",{className:"absolute inset-0 rounded-full border border-gray-900/5"}),t.jsx("div",{className:"absolute inset-8 rounded-full border border-[#ff4d00]/20 transform rotate-12"}),t.jsx("div",{className:"absolute inset-16 rounded-full border border-[#ff4d00]/40 transform -rotate-12"}),t.jsx("div",{className:"absolute top-0 left-1/2 w-4 h-4 bg-[#ff4d00] rounded-full shadow-[0_0_20px_#ff4d00] -translate-x-1/2 -translate-y-1/2 animate-pulse"}),t.jsx("div",{className:"absolute bottom-0 left-1/2 w-3 h-3 bg-black rounded-full -translate-x-1/2 translate-y-1/2"}),t.jsx("div",{className:"absolute inset-24 bg-gradient-to-br from-orange-50 to-white rounded-full shadow-inner flex items-center justify-center border border-gray-100 backdrop-blur-sm",children:t.jsx(Ts,{className:"text-[#ff4d00] w-24 h-24 opacity-20 animate-pulse",strokeWidth:1})})]}),t.jsxs("div",{className:"absolute top-[20%] right-0 bg-white p-4 rounded-lg shadow-xl border border-gray-100 animate-[bounce_4s_infinite] max-w-[180px]",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),t.jsx("div",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Status"})]}),t.jsx("div",{className:"text-xl font-black text-gray-900",children:"+458%"}),t.jsx("div",{className:"text-[10px] text-gray-400",children:"Traffic Increase (7d)"})]}),t.jsxs("div",{className:"absolute bottom-[20%] left-0 bg-white p-4 rounded-lg shadow-xl border border-gray-100 animate-[bounce_5s_infinite] delay-1000 max-w-[180px]",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("div",{className:"w-2 h-2 bg-[#ff4d00] rounded-full"}),t.jsx("div",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Live Users"})]}),t.jsx("div",{className:"text-xl font-black text-gray-900",children:"12,405"}),t.jsx("div",{className:"text-[10px] text-gray-400",children:"Active Sessions Now"})]})]})]})]}),t.jsx("section",{className:"bg-[#ff4d00] py-10 overflow-hidden border-y border-orange-600",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex flex-col md:flex-row items-center gap-8",children:[t.jsx("div",{className:"text-white text-xs font-bold uppercase tracking-widest whitespace-nowrap opacity-50",children:"Powering Leading Brands:"}),t.jsxs("div",{className:"flex-1 flex justify-between items-center gap-8 opacity-40 grayscale hover:grayscale-0 transition-all duration-500",children:[t.jsx("span",{className:"text-xl font-black text-white font-serif italic",children:"Vanguard."}),t.jsx("span",{className:"text-xl font-bold text-white tracking-widest",children:"NEXUS"}),t.jsx("span",{className:"text-xl font-bold text-white font-mono",children:"CODEBLOCK"}),t.jsxs("span",{className:"text-xl font-black text-white tracking-tighter",children:["turbo",t.jsx("span",{className:"text-[#ff4d00]",children:"boost"})]}),t.jsx("span",{className:"text-xl font-medium text-white",children:"Aperture Sci"})]})]})}),t.jsx("section",{id:"quick-campaign",className:"py-24 px-6 bg-orange-50/50",children:t.jsx(gw,{})}),t.jsx("section",{id:"streak-bonus",className:"py-24 px-6 bg-[#FAFAFA]",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-orange-50 border border-orange-100 text-[#ff4d00] text-xs font-bold uppercase tracking-wider mb-6 animate-in fade-in slide-in-from-bottom-4",children:[t.jsx(Do,{size:14,className:"fill-[#ff4d00]"}),"100% Free Forever"]}),t.jsxs("h2",{className:"text-4xl md:text-5xl font-black text-gray-900 mb-6 tracking-tight",children:["Get Up to 20,000 ",t.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#ff4d00] to-orange-500",children:"Free Hits Daily"})]}),t.jsx("p",{className:"text-xl text-gray-500 max-w-2xl mx-auto",children:"Just log in and claim. No credit card. No purchase. Just free traffic."})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 mb-8",children:[t.jsxs("div",{className:"lg:col-span-8 bg-white rounded-3xl p-8 border border-gray-100 shadow-xl shadow-orange-500/5 overflow-hidden relative",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx(Ql,{className:"text-[#ff4d00]",size:24}),"30-Day Streak"]}),t.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"free hits per month  that's real traffic to your website"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-4xl font-black text-gray-900",children:"342,000"}),t.jsx("div",{className:"text-sm font-medium text-[#ff4d00]",children:"monthly potential"})]})]}),t.jsx("div",{className:"space-y-3",children:[{days:"Day 1-2",amount:"1,000",icon:Ci},{days:"Day 3-4",amount:"2,000",icon:Nr},{days:"Day 5-6",amount:"3,000",icon:Dn},{days:"Day 7-13",amount:"10,000",icon:Lt,highlight:!0},{days:"Day 14-29",amount:"15,000",icon:Do,highlight:!0},{days:"Day 30+",amount:"20,000",icon:Ql,highlight:!0,last:!0}].map((N,C)=>t.jsxs("div",{className:`flex items-center justify-between p-4 rounded-2xl border transition-all hover:scale-[1.01] ${N.highlight?"bg-orange-50/50 border-orange-100":"bg-gray-50/50 border-gray-100"}`,children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${N.highlight?"bg-white text-[#ff4d00] shadow-sm":"bg-white text-gray-400"}`,children:t.jsx(N.icon,{size:20})}),t.jsx("span",{className:`font-bold ${N.highlight?"text-gray-900":"text-gray-500"}`,children:N.days})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:`text-xl font-black ${N.last?"text-[#ff4d00]":"text-gray-900"}`,children:N.amount}),t.jsx("div",{className:"text-xs text-gray-400 font-medium",children:"hits/day"})]})]},C))})]}),t.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[t.jsxs("div",{className:"bg-black text-white rounded-3xl p-8 relative overflow-hidden flex flex-col justify-between group h-min min-h-[300px]",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#ff4d00]/30 rounded-full blur-3xl group-hover:bg-[#ff4d00]/50 transition-colors duration-500"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"w-12 h-12 bg-gray-800 rounded-2xl flex items-center justify-center mb-6 border border-gray-700 text-[#ff4d00]",children:t.jsx(Uo,{size:24})}),t.jsx("h3",{className:"text-lg font-bold text-gray-300",children:"Yearly Potential"}),t.jsx("div",{className:"text-4xl lg:text-5xl font-black mt-3 tracking-tight",children:"7,042,000"})]}),t.jsx("p",{className:"text-gray-400 text-sm font-medium relative z-10 mt-6",children:"free hits per year with consistent daily claims"})]}),t.jsxs("div",{className:"bg-[#FFF1EB] rounded-3xl p-8 flex flex-col justify-center h-min min-h-[220px]",children:[t.jsx("div",{className:"mb-4",children:t.jsx("span",{className:"text-[#ff4d00] font-bold text-sm uppercase tracking-wider",children:"What's it worth?"})}),t.jsx("div",{className:"text-5xl font-black text-gray-900 mb-2",children:"700+"}),t.jsx("p",{className:"text-gray-600 font-medium",children:"in value based on our standard CPM pricing"})]})]})]}),t.jsx("div",{className:"max-w-3xl mx-auto mt-12 animate-in fade-in slide-in-from-bottom-8 duration-700 delay-300",children:t.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-4 flex items-center justify-center gap-3 shadow-lg hover:-translate-y-1 transition-transform cursor-default",children:[t.jsx("span",{className:"text-2xl",children:""}),t.jsxs("p",{className:"font-bold text-gray-900",children:[t.jsx("span",{className:"text-[#ff4d00]",children:"12,847 users"})," claimed their free bonus today"]})]})})]})}),t.jsxs("section",{id:"problem",className:"bg-[#ff4d00] py-32 px-6 border-y border-orange-600 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-orange-600 via-orange-700 to-orange-800 opacity-90"}),t.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-20 items-center relative z-10",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"text-white font-bold text-xs uppercase tracking-widest mb-4 flex items-center gap-2",children:[t.jsx(ys,{size:14})," Critical SEO Warning"]}),t.jsxs("h2",{className:"text-4xl md:text-5xl font-black uppercase tracking-tight mb-8 text-white leading-tight",children:["Is Your Website ",t.jsx("br",{}),t.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-200 to-white",children:"Invisible?"})]}),t.jsxs("p",{className:"text-xl text-orange-100 leading-relaxed mb-10 font-light",children:["91% of content gets ",t.jsx("span",{className:"text-white font-bold",children:"zero traffic"})," from Google. Without active visitor signals, search algorithms deem your site irrelevant and bury it deep in the index."]}),t.jsx("div",{className:"space-y-6",children:[{title:"Low Domain Authority",desc:"Search engines trust sites with active user bases."},{title:"Poor Search Rankings",desc:"No clicks means no ranking improvements."},{title:"Zero Brand Visibility",desc:"Your competitors are taking your customers."},{title:"Stagnant Growth",desc:"Great content is useless if nobody sees it."}].map((N,C)=>t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full mt-2.5 shadow-[0_0_10px_rgba(255,255,255,0.5)]"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-white font-bold text-sm uppercase tracking-wide mb-1",children:N.title}),t.jsx("div",{className:"text-orange-200 text-xs font-medium",children:N.desc})]})]},C))})]}),t.jsxs("div",{className:"flex flex-col items-center justify-center p-12 border border-white/20 rounded-2xl bg-white/10 backdrop-blur-sm shadow-2xl relative",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/10 to-transparent rounded-2xl"}),t.jsxs("div",{className:"relative w-72 h-72 rounded-full border border-white/20 bg-white/10 flex items-center justify-center overflow-hidden mb-8 shadow-inner z-10",children:[t.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-transparent via-white/30 to-transparent animate-[spin_3s_linear_infinite]",style:{clipPath:"polygon(50% 50%, 100% 0, 100% 50%)"}}),t.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle, rgba(255,255,255,0.2) 1px, transparent 1px)",backgroundSize:"20px 20px"}}),t.jsx("div",{className:"absolute w-3/4 h-3/4 border border-white/20 rounded-full"}),t.jsx("div",{className:"absolute w-1/2 h-1/2 border border-white/20 rounded-full"}),t.jsx("div",{className:"absolute w-1/4 h-1/4 border border-white/20 rounded-full"}),t.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-ping shadow-[0_0_20px_rgba(255,255,255,0.8)]"}),t.jsx("div",{className:"absolute bottom-1/2 translate-y-8 font-mono text-[10px] text-white uppercase tracking-widest font-bold animate-pulse bg-black/50 px-2 py-1 rounded",children:"No Traffic Signal"})]}),t.jsxs("div",{className:"text-center space-y-2 relative z-10",children:[t.jsx("div",{className:"text-xl font-black text-white uppercase tracking-tight",children:"Search Engine Void"}),t.jsx("p",{className:"text-sm text-orange-200 font-medium",children:"Crawlers are skipping your site due to inactivity."})]})]})]})]}),t.jsxs("section",{className:"py-32 px-6 bg-white relative overflow-hidden",children:[t.jsx("div",{className:"hidden lg:block absolute top-[50%] left-0 w-full h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent border-t border-dashed border-gray-300"}),t.jsxs("div",{className:"max-w-7xl mx-auto text-center mb-20 relative z-10",children:[t.jsx("div",{className:"inline-block bg-[#ff4d00] text-white text-[10px] font-bold uppercase tracking-widest px-3 py-1 mb-4 rounded-sm",children:"Modus Operations"}),t.jsx("h2",{className:"text-4xl font-black uppercase tracking-tight mb-4 text-gray-900",children:"The Traffic Injection Engine"}),t.jsx("p",{className:"text-gray-500 max-w-2xl mx-auto text-lg leading-relaxed",children:"We bridge the gap between obscurity and authority by injecting high-quality, targeted traffic directly to your URLs."})]}),t.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-12 relative z-10",children:[{title:"Target Identification",desc:"Input your URL. Our system analyzes your niche, keywords, and ideal geographic demographics.",icon:t.jsx(rc,{className:"w-8 h-8 text-[#ff4d00]"})},{title:"Traffic Calibration",desc:"Configure behavior patterns, bounce rates, and session durations to match organic profiles.",icon:t.jsx(yT,{className:"w-8 h-8 text-[#ff4d00]"})},{title:"Authority Surge",desc:"As consistent traffic flows, search engines validate your site, boosting DA and ranking position.",icon:t.jsx(Dn,{className:"w-8 h-8 text-[#ff4d00]"})}].map((N,C)=>t.jsxs("div",{className:"bg-white border border-gray-100 p-8 text-center hover:border-[#ff4d00] hover:shadow-2xl transition-all duration-300 group rounded-xl transform hover:-translate-y-2 relative",children:[t.jsx("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 w-12 h-12 bg-white border border-gray-100 rounded-full flex items-center justify-center text-xl font-black text-gray-300 group-hover:text-[#ff4d00] group-hover:border-[#ff4d00] transition-colors shadow-sm",children:C+1}),t.jsx("div",{className:"mt-8 mb-6 flex justify-center opacity-80 group-hover:scale-110 transition-transform duration-300",children:N.icon}),t.jsx("h3",{className:"text-lg font-black text-gray-900 mb-3 uppercase tracking-wide",children:N.title}),t.jsx("p",{className:"text-gray-500 text-sm leading-relaxed font-medium",children:N.desc})]},C))})]}),t.jsx("section",{id:"features",className:"py-32 px-6 bg-[#f8f9fa] border-y border-gray-200",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-20 gap-6",children:[t.jsxs("div",{className:"max-w-xl",children:[t.jsx("h2",{className:"text-4xl font-black uppercase tracking-tight mb-6 text-gray-900",children:"Enterprise Capabilities"}),t.jsx("div",{className:"w-20 h-1.5 bg-[#ff4d00] mb-6"}),t.jsx("p",{className:"text-gray-500 text-lg leading-relaxed",children:"Built for agencies and high-growth businesses. Our platform provides the granular control needed for complex SEO strategies."})]}),t.jsxs(Ge,{to:"/signup",className:"hidden md:flex items-center gap-2 font-bold text-[#ff4d00] border-b-2 border-[#ff4d00] pb-1 hover:text-black hover:border-black transition-all uppercase tracking-widest text-xs",children:["View All Features ",t.jsx(xs,{size:14})]})]}),t.jsx("div",{className:"grid md:grid-cols-4 gap-6",children:b.map((N,C)=>t.jsx("div",{className:"bg-white p-8 border border-gray-100 hover:border-[#ff4d00] transition-all duration-300 group shadow-sm hover:shadow-xl rounded-xl flex flex-col justify-between h-full",children:t.jsxs("div",{children:[t.jsx("div",{className:"bg-gray-50 w-12 h-12 flex items-center justify-center mb-6 group-hover:bg-[#ff4d00] transition-colors rounded-lg text-[#ff4d00] group-hover:text-white shadow-inner",children:N.icon}),t.jsx("h3",{className:"text-sm font-black mb-3 uppercase tracking-wide text-gray-900 group-hover:text-[#ff4d00] transition-colors",children:N.title}),t.jsx("p",{className:"text-gray-500 text-xs leading-relaxed font-medium",children:N.description})]})},C))}),t.jsx("div",{className:"mt-12 text-center md:hidden",children:t.jsxs(Ge,{to:"/signup",className:"inline-flex items-center gap-2 font-bold text-[#ff4d00] border-b-2 border-[#ff4d00] pb-1 uppercase tracking-widest text-xs",children:["View All Features ",t.jsx(xs,{size:14})]})})]})}),t.jsx("section",{id:"pricing",className:"py-24 px-6 bg-gradient-to-b from-white via-gray-50/30 to-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 bg-[#ff4d00]/10 text-[#ff4d00] px-4 py-2 rounded-full text-xs font-bold uppercase tracking-widest mb-6",children:[t.jsx(ux,{size:14})," Transparent Pricing"]}),t.jsxs("h2",{className:"text-4xl md:text-5xl font-black uppercase tracking-tight mb-4 text-gray-900",children:["Pay Only For ",t.jsx("span",{className:"text-[#ff4d00]",children:"Results"})]}),t.jsx("p",{className:"text-gray-500 max-w-2xl mx-auto font-medium text-lg mb-8",children:"No hidden fees. No monthly contracts. Volume discounts up to 60%. Choose your quality tier."}),t.jsxs("div",{className:"inline-flex bg-gray-900 p-1.5 rounded-xl shadow-2xl",children:[t.jsx("button",{onClick:()=>l("business"),className:`px-8 py-3.5 text-xs font-bold uppercase tracking-wider rounded-lg transition-all ${i==="business"?"bg-[#ff4d00] text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:"Credit Packs"}),t.jsx("button",{onClick:()=>l("agency"),className:`px-8 py-3.5 text-xs font-bold uppercase tracking-wider rounded-lg transition-all ${i==="agency"?"bg-[#ff4d00] text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:"Agency Plans"})]})]}),i==="business"?t.jsxs("div",{className:"space-y-16",children:[t.jsx("div",{className:"flex justify-center gap-2 mb-8",children:$o.map(N=>t.jsxs("button",{onClick:()=>f(N.id),className:`px-6 py-3 text-xs font-bold uppercase tracking-widest transition-all ${c===N.id?"bg-[#ff4d00] text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"} ${N.popular?"ring-2 ring-[#ff4d00]/30":""}`,children:[N.name,N.popular&&t.jsx("span",{className:"ml-2 text-[10px]",children:""})]},N.id))}),t.jsx("div",{className:"grid md:grid-cols-4 gap-4",children:[{volume:6e4,name:"Starter",desc:"Test new landing pages"},{volume:5e5,name:"Growth",desc:"Small business baseline",badge:"Most Popular",badgeColor:"bg-[#ff4d00]"},{volume:1e6,name:"Business",desc:"Impact domain authority",highlight:!0,badge:"Best Value",badgeColor:"bg-green-500"},{volume:1e7,name:"Enterprise",desc:"Competitive niches"}].map((N,C)=>{var M;const T=(M=nm[c])==null?void 0:M[N.volume],O=(T==null?void 0:T[1])??null,F=O!==null?fw(c,N.volume,1):0,z=$o.find(U=>U.id===c);return O===null?null:t.jsx("div",{className:`relative group transition-all duration-500 ${N.highlight?"md:-mt-4 md:mb-4":""}`,children:t.jsxs("div",{className:`h-full flex flex-col bg-white transition-all duration-300 rounded-2xl ${N.highlight?"border-2 border-[#ff4d00] shadow-2xl shadow-[#ff4d00]/20 scale-105 z-10":"border border-gray-100 hover:border-[#ff4d00]/50 hover:shadow-xl"} p-6`,children:[N.badge&&t.jsx("div",{className:`absolute -top-3 left-1/2 -translate-x-1/2 ${N.badgeColor} text-white px-4 py-1 text-[9px] font-bold uppercase tracking-widest shadow-lg rounded-full whitespace-nowrap`,children:N.badge}),t.jsxs("div",{className:"mb-4",children:[t.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 mb-1",children:N.name}),t.jsxs("div",{className:"flex items-baseline gap-1",children:[t.jsx("span",{className:"text-4xl font-black text-gray-900",children:mw(O)}),t.jsx("span",{className:"text-gray-400 text-xs font-medium",children:"one-time"})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-4 mb-4 text-center border border-gray-100",children:[t.jsx("div",{className:"text-2xl font-black text-gray-900",children:N.volume>=1e6?`${N.volume/1e6}M`:`${N.volume/1e3}k`}),t.jsx("div",{className:"text-[10px] uppercase text-gray-500 font-bold tracking-wide",children:"Visitors"}),t.jsxs("div",{className:"text-[10px] text-[#ff4d00] font-bold mt-1",children:["~",pw(F),"/1k"]})]}),t.jsx("p",{className:"text-xs text-gray-500 font-medium mb-4 min-h-[32px]",children:N.desc}),t.jsx("ul",{className:"space-y-2 mb-6 flex-1 text-[11px]",children:z==null?void 0:z.features.slice(0,3).map((U,X)=>t.jsxs("li",{className:"text-gray-600 flex items-center gap-2 font-medium",children:[t.jsx(fn,{size:12,className:"text-green-500 flex-shrink-0"})," ",U]},X))}),t.jsx(Ge,{to:"/signup",className:`w-full py-3 text-xs font-bold uppercase tracking-widest transition-all text-center rounded-xl ${N.highlight?"bg-[#ff4d00] text-white hover:bg-black shadow-lg":"bg-gray-900 text-white hover:bg-[#ff4d00]"}`,children:"Get Started"})]})},C)})}),t.jsxs("div",{className:"bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 rounded-3xl p-8 md:p-12 relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-20"}),t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-[#ff4d00]/20 rounded-full blur-3xl"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-[#ff4d00]/10 rounded-full blur-3xl"}),t.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center justify-between gap-8",children:[t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsx("div",{className:"w-16 h-16 bg-[#ff4d00] rounded-2xl flex items-center justify-center shadow-lg shadow-[#ff4d00]/30",children:t.jsx(Nr,{size:28,className:"text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-black text-white mb-1",children:"Bulk Discounts Available"}),t.jsxs("p",{className:"text-gray-400 text-sm",children:["Save up to ",t.jsx("span",{className:"text-[#ff4d00] font-bold",children:"40%"})," with multi-packs"]})]})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"text-center px-6 py-3 bg-white/5 rounded-xl border border-white/10",children:[t.jsx("div",{className:"text-2xl font-black text-white",children:"6x"}),t.jsx("div",{className:"text-xs text-[#ff4d00] font-bold",children:"-20%"})]}),t.jsxs("div",{className:"text-center px-6 py-3 bg-white/5 rounded-xl border border-white/10",children:[t.jsx("div",{className:"text-2xl font-black text-white",children:"24x"}),t.jsx("div",{className:"text-xs text-[#ff4d00] font-bold",children:"-40%"})]})]})]})]})]}):t.jsxs("div",{className:"space-y-12",children:[t.jsx("div",{className:"grid md:grid-cols-3 gap-6 max-w-5xl mx-auto",children:[{name:"Agency Pro",traffic:"5M",price:"1,249",perVisitor:"0.00025",features:["Client Dashboard","Traffic Pooling","Priority Support","API Access"],featured:!1},{name:"Agency Scale",traffic:"15M",price:"2,999",perVisitor:"0.00020",featured:!0,features:["Everything in Pro","White-Label Reports","Dedicated Manager","Custom Integrations"]},{name:"Agency Enterprise",traffic:"50M+",price:"Custom",perVisitor:"Volume",features:["Full API Access","Strategy Calls","SLA Guarantee","Custom Features"]}].map((N,C)=>t.jsx("div",{className:`relative h-full ${N.featured?"md:-mt-4 md:mb-4":""}`,children:t.jsxs("div",{className:`h-full flex flex-col bg-white relative transition-all duration-300 rounded-2xl ${N.featured?"border-2 border-[#ff4d00] shadow-2xl shadow-[#ff4d00]/20 z-10 scale-105":"border border-gray-100 hover:shadow-xl"} p-8`,children:[N.featured&&t.jsxs("div",{className:"absolute -top-3 right-8 bg-[#ff4d00] text-white px-4 py-1 text-[9px] font-bold uppercase tracking-widest rounded-full shadow-lg flex items-center gap-1",children:[t.jsx(Kr,{size:10})," Best Value"]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-sm font-bold uppercase tracking-widest text-gray-400 mb-2",children:N.name}),t.jsxs("div",{className:"flex items-baseline gap-1",children:[t.jsx("span",{className:"text-4xl font-black text-gray-900",children:N.price}),N.price!=="Custom"&&t.jsx("span",{className:"text-gray-400 text-xs font-medium",children:"/month"})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-[#ff4d00]/5 to-[#ff4d00]/10 rounded-xl p-4 mb-6 text-center border border-[#ff4d00]/20",children:[t.jsx("div",{className:"text-3xl font-black text-gray-900",children:N.traffic}),t.jsx("div",{className:"text-[10px] uppercase text-gray-500 font-bold tracking-wide",children:"Monthly Pool"}),t.jsxs("div",{className:"text-[10px] text-[#ff4d00] font-bold mt-1",children:["~",N.perVisitor,"/visitor"]})]}),t.jsx("ul",{className:"space-y-3 mb-8 flex-1",children:N.features.map((T,O)=>t.jsxs("li",{className:"text-sm text-gray-600 flex items-center gap-3 font-medium",children:[t.jsx(Jb,{size:14,className:"text-[#ff4d00] flex-shrink-0"})," ",T]},O))}),t.jsx(Ge,{to:"/signup",className:`w-full py-4 text-xs font-bold uppercase tracking-widest text-center rounded-xl transition-all ${N.featured?"bg-[#ff4d00] text-white hover:bg-black shadow-lg":"bg-gray-900 text-white hover:bg-[#ff4d00]"}`,children:N.price==="Custom"?"Contact Sales":"Start Subscription"})]})},C))}),t.jsxs("div",{className:"bg-gradient-to-r from-[#ff4d00] to-[#ff6b35] rounded-2xl p-6 md:p-8 text-white text-center max-w-3xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[t.jsx(dD,{size:20}),t.jsx("h4",{className:"font-black uppercase tracking-wide",children:"Need a Custom Volume?"})]}),t.jsx("p",{className:"text-white/80 text-sm mb-4",children:"Contact us for enterprise pricing with up to 60% bulk discounts"}),t.jsx(Ge,{to:"/signup",className:"inline-block bg-white text-[#ff4d00] px-8 py-3 text-xs font-bold uppercase tracking-widest rounded-xl hover:bg-gray-100 transition-colors",children:"Get a Quote"})]})]}),t.jsx("div",{className:"mt-16 grid md:grid-cols-3 gap-6 max-w-4xl mx-auto",children:[{icon:t.jsx(Lt,{size:20}),title:"Instant Delivery",desc:"Campaigns start within 5 minutes"},{icon:t.jsx(Jb,{size:20}),title:"Money-Back Guarantee",desc:"Full refund if we fail to deliver"},{icon:t.jsx(Ts,{size:20}),title:"Global Coverage",desc:"190+ countries available"}].map((N,C)=>t.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white rounded-xl border border-gray-100",children:[t.jsx("div",{className:"w-10 h-10 bg-[#ff4d00]/10 rounded-lg flex items-center justify-center text-[#ff4d00]",children:N.icon}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-gray-900",children:N.title}),t.jsx("div",{className:"text-xs text-gray-500",children:N.desc})]})]},C))})]})}),t.jsx("section",{className:"py-32 px-6 bg-[#f8f9fa] border-t border-gray-200",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"mb-20 text-center",children:[t.jsx("div",{className:"text-[#ff4d00] text-xs font-bold uppercase tracking-widest mb-2",children:"Real Results"}),t.jsx("h2",{className:"text-4xl font-black uppercase tracking-tight text-gray-900",children:"Proven Performance"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:v.map((N,C)=>t.jsxs("div",{className:"bg-white border border-gray-100 p-8 hover:border-[#ff4d00] transition-all group hover:shadow-xl rounded-xl",children:[t.jsxs("div",{className:"flex justify-between items-start mb-6",children:[t.jsx("div",{className:"opacity-80 group-hover:opacity-100 transition-opacity text-[#ff4d00] bg-orange-50 w-12 h-12 flex items-center justify-center rounded-lg",children:N.icon}),t.jsx("div",{className:"bg-green-100 text-green-700 px-2 py-1 text-[10px] font-bold uppercase tracking-wide rounded-sm",children:"Verified"})]}),t.jsx("div",{className:"text-3xl font-black text-gray-900 mb-2 group-hover:text-[#ff4d00] transition-colors",children:N.metric}),t.jsx("h4",{className:"text-sm font-bold uppercase tracking-wide text-gray-400 mb-4",children:N.title}),t.jsx("p",{className:"text-sm text-gray-600 leading-relaxed font-medium",children:N.desc})]},C))})]})}),t.jsxs("section",{className:"py-32 px-6 bg-[#ff4d00] relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/0 via-black/0 to-black/20"}),t.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[t.jsxs("h2",{className:"text-5xl md:text-7xl font-black text-white tracking-tighter mb-8 leading-[0.9]",children:["READY TO BREAK",t.jsx("br",{}),"THE INTERNET?"]}),t.jsx("p",{className:"text-white/90 text-xl font-medium mb-12 max-w-2xl mx-auto",children:"Join 5,000+ marketers driving millions of visitors today. No contracts. Instant delivery."}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-6",children:[t.jsx(Ge,{to:"/signup",className:"bg-black text-white px-10 py-5 text-sm font-bold uppercase tracking-widest hover:scale-105 transition-transform shadow-xl rounded-sm border-2 border-transparent hover:border-white",children:"Get Started Now"}),t.jsx(Ge,{to:"/signup",className:"bg-white text-[#ff4d00] px-10 py-5 text-sm font-bold uppercase tracking-widest hover:scale-105 transition-transform shadow-xl rounded-sm",children:"Talk to Sales"})]})]})]}),t.jsx("section",{id:"faq",className:"py-32 px-6 bg-[#f9fafb]",children:t.jsxs("div",{className:"max-w-3xl mx-auto",children:[t.jsx("h2",{className:"text-3xl font-black uppercase tracking-tight mb-16 text-center text-gray-900",children:"Questions?"}),t.jsx("div",{className:"space-y-4",children:E.map((N,C)=>t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:[t.jsxs("button",{className:"w-full flex items-center justify-between p-6 text-left",onClick:()=>u(C),children:[t.jsx("span",{className:"font-bold text-gray-900",children:N.question}),s===C?t.jsx(_c,{size:20,className:"text-[#ff4d00]"}):t.jsx(Hr,{size:20,className:"text-gray-400"})]}),s===C&&t.jsx("div",{className:"px-6 pb-6 text-gray-600 leading-relaxed text-sm animate-in fade-in slide-in-from-top-2 border-t border-gray-100 pt-4",children:N.answer})]},C))})]})}),t.jsx("footer",{className:"bg-[#ff4d00] text-white py-16 px-6",children:t.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-8",children:[t.jsx("div",{className:"text-2xl font-black text-white tracking-tight",children:"TRAFFIC CREATOR"}),t.jsxs("div",{className:"flex flex-col md:flex-row gap-8 text-xs font-bold uppercase tracking-widest text-white/70 text-center md:text-left",children:[t.jsx(Ge,{to:"/blog",className:"hover:text-white uppercase",children:"Blog"}),t.jsx(Ge,{to:"/helpdesk",className:"hover:text-white uppercase",children:"Help Center"}),t.jsx(Ge,{to:"/legal/refund",className:"hover:text-white uppercase",children:"Refund Policy"}),t.jsx(Ge,{to:"/legal/privacy",className:"hover:text-white uppercase",children:"Privacy Policy"}),t.jsx(Ge,{to:"/legal/terms",className:"hover:text-white uppercase",children:"Terms of Service"})]}),t.jsx("div",{className:"text-xs text-white/60",children:" 2026 Traffic Creator Inc."})]})})]})},zL=({onLogin:n,onNavigate:e})=>{const[s,r]=w.useState(!1),i={"@context":"https://schema.org","@type":"Product",name:"Organic Website Traffic Generator",description:"Premium organic traffic service to boost SEO rankings and manipulate CTS with real residential IPs.",brand:{"@type":"Brand",name:"Traffic Creator"},aggregateRating:{"@type":"AggregateRating",ratingValue:"4.9",reviewCount:"1250"}},l=[{icon:t.jsx(jr,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Boost Organic CTR",desc:"Our visitors search for your keywords and click your result, signaling high relevance to search algorithms."},{icon:t.jsx(Kt,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Increase Dwell Time",desc:"Visitors stay on your site for minutes, scroll through content, and interact, drastically reducing bounce rates."},{icon:t.jsx(Ts,{className:"w-6 h-6 text-[#ff4d00]"}),title:"Local SEO Dominance",desc:"Target traffic from specific cities or regions to rank higher in local search results and map packs."},{icon:t.jsx(kn,{className:"w-6 h-6 text-[#ff4d00]"}),title:"100% Human Behavior",desc:"Mouse movements, scrolling, and clicks are randomized to mimic real human interaction perfectly."}],c=[{feature:"Traffic Source",us:"Real Residential IPs",them:"Data Center Proxies"},{feature:"Behavior",us:"Scrolls, Clicks, Reads",them:"Static Hits"},{feature:"Google Analytics",us:"100% Recognized",them:"Often Filtered / Bot"},{feature:"Effect on SEO",us:"Positive Ranking Signal",them:"Neutral or Negative"},{feature:"AdSense Safe",us:"Yes, Verified",them:"High Risk of Ban"}];return t.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900 font-sans overflow-x-hidden",children:[t.jsx(Ai,{title:"Buy Organic Website Traffic 2026 - Real Residential IPs & CTR Booster",description:"Get 100% real organic traffic from residential IPs in 2026. Our advanced AI traffic bot simulates human behavior (scroll, click, read) to boost your SERP rankings and improve engagement metrics.",keywords:"organic website traffic 2026, buy organic traffic, seo traffic, ctr manipulation, boost rankings, real website visitors, ai traffic bot",schema:i,type:"product"}),t.jsx("nav",{className:"fixed w-full top-0 z-50 transition-all duration-300 bg-white/95 backdrop-blur-md border-b border-gray-100/50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 group cursor-pointer",onClick:()=>window.scrollTo(0,0),children:[t.jsx("span",{className:"text-2xl font-black text-[#ff4d00] tracking-tight group-hover:scale-105 transition-transform",children:"TRAFFIC"}),t.jsx("span",{className:"hidden sm:inline-block text-xs font-bold bg-black text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Creator"})]}),t.jsxs("div",{className:"flex items-center gap-8",children:[t.jsxs("div",{className:"hidden md:flex gap-8 text-sm font-bold uppercase tracking-wide text-gray-500",children:[t.jsxs("a",{href:"#how-it-works",className:"hover:text-[#ff4d00] transition-colors relative group",children:["How It Works",t.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-[#ff4d00] transition-all group-hover:w-full"})]}),t.jsxs("a",{href:"#benefits",className:"hover:text-[#ff4d00] transition-colors relative group",children:["Features",t.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-[#ff4d00] transition-all group-hover:w-full"})]}),t.jsxs(Ge,{to:"/#pricing",className:"hover:text-[#ff4d00] transition-colors relative group",children:["Pricing",t.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-[#ff4d00] transition-all group-hover:w-full"})]})]}),t.jsx(Ge,{to:"/login",className:"bg-black text-white px-6 py-2.5 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-all shadow-md hover:shadow-lg hover:-translate-y-0.5 flex items-center rounded-sm",children:"Dashboard Login"})]})]})}),t.jsxs("section",{className:"pt-32 pb-32 px-6 relative overflow-hidden bg-white",children:[t.jsx("div",{className:"absolute top-0 right-0 w-[50%] h-[50%] bg-gradient-to-b from-orange-50/50 to-transparent pointer-events-none rounded-bl-[100px]"}),t.jsx("div",{className:"absolute top-40 left-10 w-4 h-4 rounded-full bg-orange-200 animate-pulse"}),t.jsx("div",{className:"absolute top-60 right-20 w-3 h-3 rounded-full bg-blue-200 animate-bounce delay-700"}),t.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-16 items-center relative z-10",children:[t.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-8 duration-700",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 bg-orange-50 text-[#ff4d00] border border-orange-100 px-4 py-2 text-xs font-bold uppercase tracking-widest mb-8 rounded-full shadow-sm hover:shadow-md transition-shadow cursor-default",children:[t.jsx(Lt,{size:14,className:"fill-[#ff4d00]"})," SEO Intelligence Engine"]}),t.jsxs("h1",{className:"text-5xl md:text-7xl font-black tracking-tight leading-[0.9] mb-8 text-gray-900",children:["DOMINATE ",t.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#ff4d00] to-orange-500",children:"ORGANIC"}),t.jsx("br",{}),"SEARCH RESULTS."]}),t.jsx("p",{className:"text-xl text-gray-500 mb-10 max-w-lg leading-relaxed font-medium",children:"The only organic website traffic generator designed for SEO professionals. Manipulate CTR, increase dwell time, and signal authority to Google."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs(Ge,{to:"/signup",className:"group bg-[#ff4d00] text-white px-8 py-4 text-sm font-bold uppercase tracking-wider hover:bg-black transition-all shadow-xl hover:shadow-2xl flex items-center justify-center gap-3 rounded-sm transform hover:-translate-y-1",children:["Launch SEO Campaign",t.jsx(xs,{size:18,className:"group-hover:translate-x-1 transition-transform"})]}),t.jsxs("a",{href:"#demo",className:"bg-white border border-gray-200 text-gray-900 px-8 py-4 text-sm font-bold uppercase tracking-wider hover:border-[#ff4d00] hover:text-[#ff4d00] transition-all transform hover:-translate-y-1 flex items-center justify-center gap-2 rounded-sm group",children:[t.jsx(sm,{size:16,className:"group-hover:fill-[#ff4d00]"})," View Live Demo"]})]}),t.jsxs("div",{className:"mt-8 flex items-center gap-4 text-xs font-bold text-gray-400 uppercase tracking-widest",children:[t.jsx("span",{children:"Used by 15,000+ SEO Agencies"}),t.jsxs("div",{className:"flex -space-x-2",children:[t.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-200 border-2 border-white"}),t.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-300 border-2 border-white"}),t.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-400 border-2 border-white"})]})]})]}),t.jsxs("div",{className:"relative h-[550px] perspective-1000 group",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-gray-100 to-gray-50 transform rotate-6 scale-95 opacity-50 rounded-2xl border border-gray-100 transition-transform duration-700 group-hover:rotate-3 group-hover:scale-95"}),t.jsxs("div",{className:"absolute inset-0 bg-white border border-gray-200 shadow-2xl rounded-2xl p-6 overflow-hidden transform transition-transform duration-700 group-hover:-translate-y-2 hover:shadow-[0_20px_50px_rgba(0,0,0,0.1)]",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white via-transparent to-transparent z-10 pointer-events-none"}),t.jsxs("div",{className:"border-b border-gray-100 pb-4 mb-6 flex gap-2",children:[t.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400/80"}),t.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400/80"}),t.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400/80"}),t.jsxs("div",{className:"ml-6 bg-gray-100 rounded-lg h-5 w-64 flex items-center px-2",children:[t.jsx(Yn,{size:10,className:"text-gray-400 mr-2"}),t.jsx("div",{className:"w-32 h-2 bg-gray-200 rounded-sm"})]})]}),t.jsx("div",{className:"space-y-6",children:[1,2,3].map(f=>t.jsxs("div",{className:`p-5 rounded-lg border transition-all duration-500 hover:shadow-lg cursor-default relative overflow-hidden ${f===1?"border-[#ff4d00]/20 bg-orange-50/30":"border-gray-50 bg-white"}`,children:[f===1&&t.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-[#ff4d00]"}),t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-[10px] font-bold text-gray-500",children:f===1?"TC":"Ad"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"w-32 h-2 bg-gray-200 rounded-sm mb-1"}),t.jsx("div",{className:"w-48 h-2 bg-gray-100 rounded-sm"})]})]}),t.jsx("div",{className:`w-3/4 h-5 rounded-sm mb-3 ${f===1?"bg-gradient-to-r from-[#ff4d00] to-orange-400":"bg-blue-100"}`}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"w-full h-2 bg-gray-100 rounded-sm"}),t.jsx("div",{className:"w-5/6 h-2 bg-gray-100 rounded-sm"})]}),f===1&&t.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[#ff4d00] text-xs font-bold uppercase tracking-wider animate-pulse",children:[t.jsx(Dn,{size:12})," Rank #1  CTR Boost Active"]})]},f))}),t.jsxs("div",{className:"absolute bottom-6 right-6 bg-gray-900/95 backdrop-blur-md text-white p-5 rounded-xl shadow-2xl z-20 border border-gray-800 animate-in fade-in slide-in-from-bottom-4 delay-300",children:[t.jsxs("div",{className:"text-[10px] font-bold uppercase tracking-widest text-[#ff4d00] mb-2 flex items-center gap-2",children:[t.jsx(br,{size:12})," Performance"]}),t.jsx("div",{className:"text-4xl font-black mb-1",children:"18.4%"}),t.jsx("div",{className:"text-xs text-gray-400 font-medium",children:"Organic CTR (7 Days)"}),t.jsx("div",{className:"w-full bg-gray-800 h-1 mt-3 rounded-full overflow-hidden",children:t.jsx("div",{className:"w-[70%] h-full bg-[#ff4d00]"})})]})]})]})]})]}),t.jsx("section",{id:"demo",className:"py-24 px-6 bg-white",children:t.jsx(gw,{})}),t.jsx("section",{id:"benefits",className:"py-32 px-6 bg-white relative",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-24",children:[t.jsx("h2",{className:"text-4xl font-black uppercase tracking-tight mb-6",children:"Why Rank #1?"}),t.jsx("div",{className:"w-16 h-1.5 bg-[#ff4d00] mx-auto mb-8 rounded-full"}),t.jsxs("p",{className:"text-gray-500 max-w-2xl mx-auto text-lg leading-relaxed",children:["Search algorithms are evolving. Backlinks aren't enough. You need ",t.jsx("span",{className:"text-gray-900 font-bold",children:"User Signals"}),". Traffic Creator generates the perfect dwell time, scroll depth, and interaction metrics."]})]}),t.jsx("div",{className:"grid md:grid-cols-2 gap-8 lg:gap-12",children:l.map((f,u)=>t.jsxs("div",{className:"flex gap-8 p-10 border border-gray-100 hover:border-[#ff4d00]/30 bg-white hover:bg-orange-50/20 shadow-sm hover:shadow-xl transition-all duration-300 group rounded-2xl relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 left-0 w-1 h-0 bg-[#ff4d00] group-hover:h-full transition-all duration-300"}),t.jsx("div",{className:"shrink-0",children:t.jsx("div",{className:"bg-orange-50 w-16 h-16 flex items-center justify-center rounded-2xl group-hover:bg-[#ff4d00] group-hover:rotate-6 transition-all duration-300 text-[#ff4d00] group-hover:text-white shadow-sm",children:f.icon})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 group-hover:text-[#ff4d00] transition-colors",children:f.title}),t.jsx("p",{className:"text-gray-500 leading-relaxed font-medium",children:f.desc})]})]},u))})]})}),t.jsx("section",{className:"py-32 px-6 bg-[#f9fafb] border-t border-gray-200",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsxs("div",{className:"grid md:grid-cols-2 gap-20 items-center",children:[t.jsxs("div",{className:"space-y-12",children:[t.jsxs("div",{className:"pl-8 border-l-2 border-gray-200 hover:border-[#ff4d00] transition-colors duration-300",children:[t.jsxs("h3",{className:"text-2xl font-black uppercase tracking-tight mb-4 flex items-center gap-3",children:[t.jsx(rc,{className:"text-[#ff4d00]",size:24})," Keyword Targeting"]}),t.jsx("p",{className:"text-gray-500 text-lg leading-relaxed font-medium",children:"Don't just send traffic to a URL. Our system mimics a user searching for your specific keywords on Google, finding your result, and clicking it. This is the ultimate signal for relevance."})]}),t.jsxs("div",{className:"pl-8 border-l-2 border-gray-200 hover:border-[#ff4d00] transition-colors duration-300",children:[t.jsxs("h3",{className:"text-2xl font-black uppercase tracking-tight mb-4 flex items-center gap-3",children:[t.jsx(XO,{className:"text-[#ff4d00]",size:24})," Complex Journeys"]}),t.jsx("p",{className:"text-gray-500 text-lg leading-relaxed font-medium",children:"Define multi-page paths. Visitors land on your blog post, read for 60 seconds, click to your pricing page, and then visit your contact form."})]})]}),t.jsxs("div",{className:"bg-[#111] text-gray-300 p-2 rounded-xl shadow-2xl relative overflow-hidden group",children:[t.jsxs("div",{className:"flex items-center gap-2 p-4 border-b border-gray-800 bg-[#151515] rounded-t-lg",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),t.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),t.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),t.jsxs("div",{className:"text-xs font-mono text-gray-500 ml-4 flex items-center gap-2",children:[t.jsx(yT,{size:12})," campaign_config.json"]})]}),t.jsxs("div",{className:"p-8 font-mono text-xs md:text-sm leading-relaxed overflow-x-auto",children:[t.jsx("div",{className:"opacity-50 mb-4 text-[10px] uppercase tracking-widest",children:"// Traffic Configuration"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-purple-400",children:"const"})," ",t.jsx("span",{className:"text-blue-400",children:"campaign"})," = ","{"]}),t.jsxs("div",{className:"pl-4",children:[t.jsx("span",{className:"text-gray-400",children:"target:"})," ",t.jsx("span",{className:"text-green-400",children:'"Top 3 Positions"'}),","]}),t.jsxs("div",{className:"pl-4",children:[t.jsx("span",{className:"text-gray-400",children:"keywords:"})," ["]}),t.jsx("div",{className:"pl-8 text-orange-300",children:'"ranking boost services",'}),t.jsx("div",{className:"pl-8 text-orange-300",children:'"buy organic traffic",'}),t.jsx("div",{className:"pl-8 text-orange-300",children:'"seo ctr manipulation"'}),t.jsx("div",{className:"pl-4",children:"],"}),t.jsxs("div",{className:"pl-4",children:[t.jsx("span",{className:"text-gray-400",children:"behavior:"})," ","{"]}),t.jsxs("div",{className:"pl-8",children:[t.jsx("span",{className:"text-blue-300",children:"timeOnPage:"})," ",t.jsx("span",{className:"text-yellow-300",children:'"185s"'}),","]}),t.jsxs("div",{className:"pl-8",children:[t.jsx("span",{className:"text-blue-300",children:"scrollDepth:"})," ",t.jsx("span",{className:"text-yellow-300",children:'"85%"'}),","]}),t.jsxs("div",{className:"pl-8",children:[t.jsx("span",{className:"text-blue-300",children:"bounceRate:"})," ",t.jsx("span",{className:"text-yellow-300",children:'"12%"'})]}),t.jsx("div",{className:"pl-4",children:"}"}),t.jsxs("div",{children:["}",";"]}),t.jsxs("div",{className:"mt-6 flex items-center gap-2 text-green-500 text-[10px] font-bold uppercase tracking-widest",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})," compiler ready"]})]})]})]})})}),t.jsx("section",{className:"py-32 px-6 bg-white",children:t.jsxs("div",{className:"max-w-5xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h2",{className:"text-3xl font-black uppercase tracking-tight mb-4",children:"Quality Matters"}),t.jsx("p",{className:"text-gray-500",children:"Don't risk your domain authority with cheap bot traffic."})]}),t.jsxs("div",{className:"bg-white shadow-[0_10px_60px_rgba(0,0,0,0.05)] rounded-2xl overflow-hidden border border-gray-100",children:[t.jsxs("div",{className:"grid grid-cols-3 bg-gray-900 text-white p-6 text-xs font-bold uppercase tracking-widest",children:[t.jsx("div",{className:"pl-4",children:"Feature"}),t.jsxs("div",{className:"text-[#ff4d00] flex items-center gap-2",children:[t.jsx(Lt,{size:14,className:"fill-[#ff4d00]"})," Traffic Creator"]}),t.jsx("div",{className:"text-gray-500",children:"Cheap Bots"})]}),t.jsx("div",{className:"divide-y divide-gray-50",children:c.map((f,u)=>t.jsxs("div",{className:"grid grid-cols-3 p-6 items-center text-sm font-medium hover:bg-gray-50 transition-colors group",children:[t.jsxs("div",{className:"font-bold text-gray-900 flex items-center gap-3 pl-4",children:[t.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-300 group-hover:bg-[#ff4d00] transition-colors"}),f.feature]}),t.jsxs("div",{className:"flex items-center gap-3 text-[#ff4d00] font-bold bg-orange-50/50 -my-6 py-6 border-x border-orange-100/50",children:[t.jsx(ct,{size:18,className:"ml-4"})," ",f.us]}),t.jsxs("div",{className:"text-gray-400 flex items-center gap-3 pl-4",children:[t.jsx(mn,{size:16})," ",f.them]})]},u))})]})]})}),t.jsxs("section",{className:"py-32 px-6 bg-[#ff4d00] relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"}),t.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[t.jsx("h2",{className:"text-5xl md:text-7xl font-black uppercase tracking-tight mb-8 text-white",children:"Start Ranking Now"}),t.jsx("p",{className:"text-xl text-white/90 mb-12 font-medium max-w-2xl mx-auto",children:"Your competitors are already doing it. Level the playing field with the world's most advanced organic traffic generator."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[t.jsxs(Ge,{to:"/signup",className:"bg-white text-black px-12 py-5 text-sm font-bold uppercase tracking-wider hover:bg-black hover:text-white transition-all shadow-2xl flex items-center justify-center gap-3 rounded-sm transform hover:-translate-y-1",children:["Start Free Trial ",t.jsx(xs,{size:18})]}),t.jsx(Ge,{to:"/#pricing",className:"bg-transparent border-2 border-white text-white px-12 py-5 text-sm font-bold uppercase tracking-wider hover:bg-white hover:text-[#ff4d00] transition-all rounded-sm flex items-center justify-center",children:"View Pricing"})]}),t.jsx("div",{className:"mt-12 text-white/60 text-xs font-bold uppercase tracking-widest",children:"No Credit Card Required for Trial  100% Secure  Cancel Anytime"})]})]}),t.jsxs("footer",{className:"bg-black text-white py-20 px-6 border-t border-gray-900",children:[t.jsxs("div",{className:"max-w-7xl mx-auto grid md:grid-cols-4 gap-12",children:[t.jsxs("div",{className:"col-span-2",children:[t.jsx("div",{className:"text-3xl font-black text-white tracking-tight mb-6",children:"TRAFFIC CREATOR"}),t.jsx("p",{className:"text-gray-500 max-w-sm mb-8",children:"The industry standard for SEO traffic generation. We help agencies and site owners improve their search visibility signals safely."}),t.jsx("div",{className:"flex gap-4",children:[1,2,3,4].map(f=>t.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-900 flex items-center justify-center text-gray-500 hover:bg-[#ff4d00] hover:text-white transition-colors cursor-pointer",children:t.jsx(Ts,{size:16})},f))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-8",children:"Platform"}),t.jsxs("ul",{className:"space-y-4 text-sm font-medium text-gray-300",children:[t.jsx("li",{children:t.jsx(Ge,{to:"/how-it-works",className:"hover:text-[#ff4d00] transition-colors",children:"How it Works"})}),t.jsx("li",{children:t.jsx(Ge,{to:"/#pricing",className:"hover:text-[#ff4d00] transition-colors",children:"Pricing"})}),t.jsx("li",{children:t.jsx(Ge,{to:"/login",className:"hover:text-[#ff4d00] transition-colors",children:"Dashboard"})}),t.jsx("li",{children:t.jsx(Ge,{to:"/affiliate",className:"hover:text-[#ff4d00] transition-colors",children:"Affiliate Program"})})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-8",children:"Company"}),t.jsxs("ul",{className:"space-y-4 text-sm font-medium text-gray-300",children:[t.jsx("li",{children:t.jsx(Ge,{to:"/blog",className:"hover:text-[#ff4d00] transition-colors",children:"SEO Blog"})}),t.jsx("li",{children:t.jsx(Ge,{to:"/helpdesk",className:"hover:text-[#ff4d00] transition-colors",children:"Help Center"})}),t.jsx("li",{children:t.jsx(Ge,{to:"/legal/privacy",className:"hover:text-[#ff4d00] transition-colors",children:"Privacy Policy"})}),t.jsx("li",{children:t.jsx(Ge,{to:"/legal/terms",className:"hover:text-[#ff4d00] transition-colors",children:"Terms of Service"})})]})]})]}),t.jsxs("div",{className:"max-w-7xl mx-auto mt-20 pt-8 border-t border-gray-900 flex justify-between items-center text-xs text-gray-600",children:[t.jsx("div",{children:" 2025 Traffic Creator Inc. All rights reserved."}),t.jsxs("div",{className:"flex gap-2 items-center",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),t.jsx("span",{children:"Systems Operational"})]})]})]})]})},VL=({onLogin:n,onNavigate:e})=>{const[s,r]=w.useState(!1);return w.useEffect(()=>{const i=()=>r(window.scrollY>50);return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[]),t.jsxs("div",{className:"min-h-screen bg-[#FAFAFA] text-gray-900 font-sans selection:bg-[#ff4d00] selection:text-white",children:[t.jsx(Ai,{title:"Next-Gen Traffic Generation 2026 - AI-Driven SEO Visits",description:"Experience the future of traffic generation. AI-powered user behavior simulation for the most natural-looking analytics patterns in 2026.",keywords:"ai traffic generator 2026, modern seo traffic, behavioral traffic bot, next-gen seo tools"}),t.jsx("nav",{className:`fixed w-full z-50 transition-all duration-300 ${s?"top-4":"top-0"}`,children:t.jsx("div",{className:`max-w-7xl mx-auto px-6 ${s?"py-4":"py-6"}`,children:t.jsxs("div",{className:`
            flex items-center justify-between px-6 py-3 rounded-2xl transition-all duration-300
            ${s?"bg-white/80 backdrop-blur-xl shadow-lg border border-gray-100":"bg-transparent"}
          `,children:[t.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>window.scrollTo(0,0),children:[t.jsx("div",{className:"w-8 h-8 bg-black rounded-lg flex items-center justify-center text-white font-black text-xs",children:"TC"}),t.jsx("span",{className:"font-bold text-lg tracking-tight",children:"TrafficCreator"})]}),t.jsxs("div",{className:"hidden md:flex items-center gap-8 text-sm font-medium text-gray-600",children:[t.jsx("a",{href:"#features",className:"hover:text-black transition-colors",children:"Features"}),t.jsx("a",{href:"#how-it-works",className:"hover:text-black transition-colors",children:"How it Works"}),t.jsx("a",{href:"#pricing",className:"hover:text-black transition-colors",children:"Pricing"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(Ge,{to:"/login",className:"text-sm font-bold hover:text-[#ff4d00] transition-colors hidden sm:block",children:"Log in"}),t.jsx(Ge,{to:"/signup",className:"bg-black text-white px-5 py-2.5 rounded-xl text-sm font-bold hover:bg-[#ff4d00] hover:scale-105 transition-all shadow-xl shadow-orange-500/10",children:"Get Started"})]})]})})}),t.jsx("section",{className:"pt-40 pb-20 px-6",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center mb-24",children:[t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-orange-50 border border-orange-100 text-[#ff4d00] text-xs font-bold uppercase tracking-wider animate-in fade-in slide-in-from-bottom-4",children:[t.jsx(Kr,{size:12,className:"fill-[#ff4d00]"}),"Trusted by 15,000+ Marketers"]}),t.jsxs("h1",{className:"text-6xl md:text-7xl font-black tracking-tight leading-[1] text-gray-900 animate-in fade-in slide-in-from-bottom-6 duration-700 delay-100",children:["Traffic that ",t.jsx("br",{}),t.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#ff4d00] to-orange-500",children:"actually converts."})]}),t.jsx("p",{className:"text-xl text-gray-500 max-w-lg leading-relaxed animate-in fade-in slide-in-from-bottom-8 duration-700 delay-200",children:"Stop relying on unpredictable algorithms. Take control of your website traffic with our residential network of real visitors."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 animate-in fade-in slide-in-from-bottom-10 duration-700 delay-300",children:[t.jsxs(Ge,{to:"/signup",className:"bg-[#ff4d00] text-white px-8 py-4 rounded-2xl text-base font-bold hover:bg-black transition-all shadow-lg hover:shadow-xl hover:-translate-y-1 flex items-center justify-center gap-2",children:["Start Free Trial ",t.jsx(xs,{size:18})]}),t.jsxs("a",{href:"#how-it-works",className:"bg-white border border-gray-200 text-gray-900 px-8 py-4 rounded-2xl text-base font-bold hover:bg-gray-50 transition-all flex items-center justify-center gap-2",children:[t.jsx(sm,{size:18,className:"fill-gray-900"})," Watch Demo"]})]})]}),t.jsxs("div",{className:"relative h-[600px] w-full animate-in fade-in zoom-in duration-1000 delay-200",children:[t.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-gradient-to-bl from-orange-200/40 to-pink-200/40 rounded-full blur-3xl opacity-50"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-[400px] h-[400px] bg-gradient-to-tr from-blue-200/40 to-green-200/40 rounded-full blur-3xl opacity-50"}),t.jsxs("div",{className:"absolute top-10 right-10 left-10 bottom-10",children:[t.jsxs("div",{className:"absolute top-0 right-0 w-72 bg-white rounded-3xl shadow-[0_30px_60px_-15px_rgba(0,0,0,0.1)] p-6 border border-gray-100 z-30 transform hover:scale-105 transition-transform duration-500",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("div",{className:"w-10 h-10 rounded-2xl bg-orange-50 flex items-center justify-center text-[#ff4d00]",children:t.jsx(Dn,{size:20})}),t.jsx("span",{className:"text-green-500 text-xs font-bold bg-green-50 px-2 py-1 rounded-full",children:"+124%"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("div",{className:"text-3xl font-black text-gray-900",children:"42.8k"}),t.jsx("div",{className:"text-sm text-gray-400 font-medium",children:"Monthly Visitors"})]}),t.jsx("div",{className:"mt-6 h-16 flex items-end gap-1",children:[40,60,45,70,85,65,90].map((i,l)=>t.jsx("div",{style:{height:`${i}%`},className:`flex-1 rounded-t-sm ${l===6?"bg-[#ff4d00]":"bg-gray-100"}`},l))})]}),t.jsxs("div",{className:"absolute bottom-10 left-0 w-80 bg-black text-white rounded-3xl shadow-2xl p-6 z-20 transform hover:-translate-y-2 transition-transform duration-500",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-gray-500",children:"Live Traffic"}),t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),t.jsx("span",{className:"text-xs font-bold text-gray-300",children:"Active"})]})]}),t.jsx("div",{className:"space-y-4",children:["United States","Germany","United Kingdom"].map((i,l)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ts,{size:14,className:"text-gray-500"}),t.jsx("span",{className:"text-sm font-bold",children:i})]}),t.jsx("div",{className:"w-24 bg-gray-800 h-1.5 rounded-full overflow-hidden",children:t.jsx("div",{className:"bg-[#ff4d00] h-full",style:{width:`${80-l*20}%`}})})]},l))})]}),t.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 bg-white/60 backdrop-blur-xl border border-white/50 p-4 rounded-2xl shadow-xl z-10 flex items-center gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-400 to-purple-500"}),t.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white p-1 rounded-full",children:t.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full border-2 border-white"})})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-gray-900",children:"Real Human"}),t.jsx("div",{className:"text-xs text-gray-500",children:"Session: 2m 45s"})]})]})]})]})]})})}),t.jsx("section",{id:"features",className:"py-24 px-6 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-16 px-4",children:[t.jsx("span",{className:"text-[#ff4d00] font-bold tracking-wider uppercase text-xs mb-4 block",children:"Platform Capability"}),t.jsx("h2",{className:"text-4xl md:text-5xl font-black text-gray-900 mb-6",children:"Everything you need to grow."}),t.jsx("p",{className:"text-xl text-gray-500 max-w-2xl mx-auto",children:"We've built the most advanced organic traffic generation engine on the market."})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 auto-rows-[300px]",children:[t.jsxs("div",{className:"md:col-span-2 bg-[#F5F5F7] rounded-3xl p-8 relative overflow-hidden group hover:shadow-xl transition-all duration-300",children:[t.jsxs("div",{className:"relative z-10 max-w-md",children:[t.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center mb-6 shadow-sm text-[#ff4d00]",children:t.jsx(rc,{size:24})}),t.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Precision Targeting"}),t.jsx("p",{className:"text-gray-500 font-medium",children:"Target by keyword, country, device, and even specific browser behavior. Our AI ensures every visitor matches your ideal profile."})]}),t.jsx("div",{className:"absolute right-0 bottom-0 w-1/2 h-full opacity-50 group-hover:scale-105 transition-transform duration-500",children:t.jsxs("svg",{viewBox:"0 0 200 200",className:"w-full h-full",children:[t.jsx("circle",{cx:"150",cy:"150",r:"100",fill:"#ff4d00",fillOpacity:"0.1"}),t.jsx("circle",{cx:"100",cy:"180",r:"80",fill:"#ff4d00",fillOpacity:"0.1"})]})})]}),t.jsxs("div",{className:"md:row-span-2 bg-black text-white rounded-3xl p-8 relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 w-full h-full bg-gradient-to-b from-gray-800/50 to-black pointer-events-none"}),t.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"w-12 h-12 bg-gray-800 rounded-2xl flex items-center justify-center mb-6 text-white border border-gray-700",children:t.jsx(kn,{size:24})}),t.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Residential IPs"}),t.jsx("p",{className:"text-gray-400 font-medium leading-relaxed",children:"We route all traffic through real residential networks. No data center IPs, no bot flags. Just pure, organic-looking traffic."})]}),t.jsxs("div",{className:"bg-gray-900/50 rounded-2xl p-4 border border-gray-800 mt-8 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),t.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"System Status"})]}),t.jsx("div",{className:"text-lg font-mono text-green-400",children:"100% Undetectable"})]})]})]}),t.jsxs("div",{className:"bg-[#FFF1EB] rounded-3xl p-8 group hover:shadow-xl transition-all duration-300",children:[t.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center mb-6 shadow-sm text-[#ff4d00]",children:t.jsx(Lt,{size:24})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Instant Delivery"}),t.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Start receiving visitors within 60 seconds of launching your campaign."})]}),t.jsxs("div",{className:"bg-[#F0F9FF] rounded-3xl p-8 group hover:shadow-xl transition-all duration-300",children:[t.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center mb-6 shadow-sm text-blue-500",children:t.jsx(Bl,{size:24})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"GA4 Native"}),t.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Designed specifically to register correctly in Google Analytics 4 reports."})]})]})]})}),t.jsx("section",{className:"py-32 px-6 bg-white",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsx(gw,{})})}),t.jsx("section",{className:"py-24 px-6 bg-[#FAFAFA]",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-orange-50 border border-orange-100 text-[#ff4d00] text-xs font-bold uppercase tracking-wider mb-6 animate-in fade-in slide-in-from-bottom-4",children:[t.jsx(Do,{size:14,className:"fill-[#ff4d00]"}),"100% Free Forever"]}),t.jsxs("h2",{className:"text-4xl md:text-5xl font-black text-gray-900 mb-6 tracking-tight",children:["Get Up to 20,000 ",t.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#ff4d00] to-orange-500",children:"Free Hits Daily"})]}),t.jsx("p",{className:"text-xl text-gray-500 max-w-2xl mx-auto",children:"Just log in and claim. No credit card. No purchase. Just free traffic."})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 mb-8",children:[t.jsxs("div",{className:"lg:col-span-8 bg-white rounded-3xl p-8 border border-gray-100 shadow-xl shadow-orange-500/5 overflow-hidden relative",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx(Ql,{className:"text-[#ff4d00]",size:24}),"30-Day Streak"]}),t.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"free hits per month  that's real traffic to your website"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-4xl font-black text-gray-900",children:"342,000"}),t.jsx("div",{className:"text-sm font-medium text-[#ff4d00]",children:"monthly potential"})]})]}),t.jsx("div",{className:"space-y-3",children:[{days:"Day 1-2",amount:"1,000",icon:Ci},{days:"Day 3-4",amount:"2,000",icon:Nr},{days:"Day 5-6",amount:"3,000",icon:Dn},{days:"Day 7-13",amount:"10,000",icon:Lt,highlight:!0},{days:"Day 14-29",amount:"15,000",icon:Do,highlight:!0},{days:"Day 30+",amount:"20,000",icon:Ql,highlight:!0,last:!0}].map((i,l)=>t.jsxs("div",{className:`flex items-center justify-between p-4 rounded-2xl border transition-all hover:scale-[1.01] ${i.highlight?"bg-orange-50/50 border-orange-100":"bg-gray-50/50 border-gray-100"}`,children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${i.highlight?"bg-white text-[#ff4d00] shadow-sm":"bg-white text-gray-400"}`,children:t.jsx(i.icon,{size:20})}),t.jsx("span",{className:`font-bold ${i.highlight?"text-gray-900":"text-gray-500"}`,children:i.days})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:`text-xl font-black ${i.last?"text-[#ff4d00]":"text-gray-900"}`,children:i.amount}),t.jsx("div",{className:"text-xs text-gray-400 font-medium",children:"hits/day"})]})]},l))})]}),t.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[t.jsxs("div",{className:"bg-black text-white rounded-3xl p-8 relative overflow-hidden flex flex-col justify-between group h-min min-h-[300px]",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#ff4d00]/30 rounded-full blur-3xl group-hover:bg-[#ff4d00]/50 transition-colors duration-500"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"w-12 h-12 bg-gray-800 rounded-2xl flex items-center justify-center mb-6 border border-gray-700 text-[#ff4d00]",children:t.jsx(Uo,{size:24})}),t.jsx("h3",{className:"text-lg font-bold text-gray-300",children:"Yearly Potential"}),t.jsx("div",{className:"text-4xl lg:text-5xl font-black mt-3 tracking-tight",children:"7,042,000"})]}),t.jsx("p",{className:"text-gray-400 text-sm font-medium relative z-10 mt-6",children:"free hits per year with consistent daily claims"})]}),t.jsxs("div",{className:"bg-[#FFF1EB] rounded-3xl p-8 flex flex-col justify-center h-min min-h-[220px]",children:[t.jsx("div",{className:"mb-4",children:t.jsx("span",{className:"text-[#ff4d00] font-bold text-sm uppercase tracking-wider",children:"What's it worth?"})}),t.jsx("div",{className:"text-5xl font-black text-gray-900 mb-2",children:"700+"}),t.jsx("p",{className:"text-gray-600 font-medium",children:"in value based on our standard CPM pricing"})]})]})]}),t.jsx("div",{className:"max-w-3xl mx-auto mt-12 animate-in fade-in slide-in-from-bottom-8 duration-700 delay-300",children:t.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-4 flex items-center justify-center gap-3 shadow-lg hover:-translate-y-1 transition-transform cursor-default",children:[t.jsx("span",{className:"text-2xl",children:""}),t.jsxs("p",{className:"font-bold text-gray-900",children:[t.jsx("span",{className:"text-[#ff4d00]",children:"12,847 users"})," claimed their free bonus today"]})]})})]})}),t.jsx("section",{className:"py-32 px-6 bg-gray-50 border-t border-gray-200",children:t.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[t.jsx("h2",{className:"text-5xl font-black text-gray-900 mb-8 tracking-tight",children:"Ready to break the internet?"}),t.jsx("p",{className:"text-xl text-gray-500 mb-12 max-w-xl mx-auto",children:"Join the thousands of marketers using Traffic Creator to gain an unfair advantage."}),t.jsxs("div",{className:"flex flex-col items-center gap-6",children:[t.jsx(Ge,{to:"/signup",className:"bg-black text-white px-12 py-5 rounded-full text-lg font-bold hover:bg-[#ff4d00] transition-colors shadow-2xl hover:scale-105 transform duration-300",children:"Get Started for Free"}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 font-medium",children:[t.jsx(fn,{size:16,className:"text-green-500"})," No credit card required",t.jsx("span",{className:"mx-2",children:""}),t.jsx(fn,{size:16,className:"text-green-500"})," Cancel anytime"]})]})]})}),t.jsx("footer",{className:"py-12 px-6 bg-white border-t border-gray-100",children:t.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-6 text-sm text-gray-500 font-medium",children:[t.jsx("div",{children:" 2025 Traffic Creator Inc."}),t.jsxs("div",{className:"flex gap-8",children:[t.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:"Privacy"}),t.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:"Terms"}),t.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:"Twitter"})]})]})})]})},UL=({isOpen:n,onClose:e,initialMode:s="login",onSuccess:r,message:i})=>{const[l,c]=w.useState(s),[f,u]=w.useState(""),[m,g]=w.useState(""),[b,v]=w.useState(""),[E,N]=w.useState(!1),[C,T]=w.useState(""),O=async F=>{F.preventDefault(),T(""),N(!0);try{if(l==="signup"){if(m.length<6)throw new Error("Password must be at least 6 characters");await q.register(b,f,m),e(),window.location.href=`/verify-email?email=${encodeURIComponent(f)}`}else{const z=await q.login(f,m);if(z.status==="suspended")throw new Error("Account suspended. Contact support.");await q.syncAll(),r(z.role),e()}}catch(z){T(z.message||"An error occurred")}finally{N(!1)}};return n?t.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[t.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:e}),t.jsxs("div",{className:"relative bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in-95 duration-300",children:[t.jsx("button",{onClick:e,className:"absolute top-4 right-4 w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center hover:bg-gray-200 transition-colors z-10",children:t.jsx(mn,{size:18,className:"text-gray-500"})}),t.jsxs("div",{className:"p-8",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[t.jsx("span",{className:"text-2xl font-black text-[#ff4d00]",children:"TRAFFIC"}),t.jsx("span",{className:"text-xs font-bold bg-black text-white px-2 py-1 rounded uppercase",children:"Creator"})]}),i&&t.jsxs("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-xl p-4 flex items-center gap-3",children:[t.jsx(ct,{className:"text-green-500 shrink-0",size:20}),t.jsx("span",{className:"text-green-700 text-sm font-bold",children:i})]}),t.jsxs("div",{className:"flex bg-gray-100 rounded-xl p-1 mb-6",children:[t.jsx("button",{onClick:()=>{c("login"),T("")},className:`flex-1 py-3 rounded-lg text-sm font-bold uppercase tracking-wide transition-all ${l==="login"?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-700"}`,children:"Login"}),t.jsx("button",{onClick:()=>{c("signup"),T("")},className:`flex-1 py-3 rounded-lg text-sm font-bold uppercase tracking-wide transition-all ${l==="signup"?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-700"}`,children:"Sign Up"})]}),C&&t.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-xl p-4 flex items-center gap-3",children:[t.jsx(ys,{className:"text-red-500 shrink-0",size:18}),t.jsx("span",{className:"text-red-700 text-sm font-bold",children:C})]}),t.jsxs("form",{onSubmit:O,className:"space-y-5",children:[l==="signup"&&t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Full Name"}),t.jsxs("div",{className:"relative",children:[t.jsx(un,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"text",required:!0,value:b,onChange:F=>v(F.target.value),className:"w-full bg-gray-50 border border-gray-200 p-4 pl-12 rounded-xl text-sm font-medium text-gray-900 focus:border-[#ff4d00] focus:ring-2 focus:ring-orange-500/20 outline-none transition-all",placeholder:"John Doe"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Email"}),t.jsxs("div",{className:"relative",children:[t.jsx(xa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"email",required:!0,value:f,onChange:F=>u(F.target.value),className:"w-full bg-gray-50 border border-gray-200 p-4 pl-12 rounded-xl text-sm font-medium text-gray-900 focus:border-[#ff4d00] focus:ring-2 focus:ring-orange-500/20 outline-none transition-all",placeholder:"you@example.com"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Yn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"password",required:!0,value:m,onChange:F=>g(F.target.value),className:"w-full bg-gray-50 border border-gray-200 p-4 pl-12 rounded-xl text-sm font-medium text-gray-900 focus:border-[#ff4d00] focus:ring-2 focus:ring-orange-500/20 outline-none transition-all",placeholder:""})]}),l==="signup"&&m.length>0&&m.length<6&&t.jsx("p",{className:"text-red-500 text-xs mt-2 font-bold",children:"Minimum 6 characters required"})]}),t.jsx("button",{type:"submit",disabled:E,className:"w-full bg-[#ff4d00] text-white p-4 rounded-xl text-sm font-bold uppercase tracking-widest hover:bg-black transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:E?t.jsxs(t.Fragment,{children:[t.jsx(gs,{className:"animate-spin",size:18})," Processing..."]}):t.jsxs(t.Fragment,{children:[l==="login"?"Sign In":"Create Account"," ",t.jsx(xs,{size:18})]})})]})]})]})]}):null},FL=({onComplete:n})=>{const[e,s]=w.useState(""),[r,i]=w.useState("US"),[l,c]=w.useState("idle"),f=[{code:"US",name:"United States"},{code:"DE",name:"Germany"},{code:"GB",name:"United Kingdom"},{code:"FR",name:"France"},{code:"CA",name:"Canada"},{code:"AU",name:"Australia"},{code:"NL",name:"Netherlands"},{code:"ES",name:"Spain"},{code:"IT",name:"Italy"},{code:"BR",name:"Brazil"}],u=async g=>{g.preventDefault(),!(!e||!e.startsWith("http://")&&!e.startsWith("https://"))&&(c("analyzing"),await new Promise(b=>setTimeout(b,1200)),c("connecting"),await new Promise(b=>setTimeout(b,1500)),c("ready"),await new Promise(b=>setTimeout(b,800)),n("",e))},m={analyzing:{text:"Analyzing URL...",icon:t.jsx(gs,{className:"animate-spin",size:20})},connecting:{text:"Connecting to servers...",icon:t.jsx(gs,{className:"animate-spin",size:20})},ready:{text:"Traffic ready!",icon:t.jsx(ct,{size:20})}};return t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 border border-gray-100 max-w-xl mx-auto",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("div",{className:"w-10 h-10 bg-[#ff4d00]/10 rounded-xl flex items-center justify-center",children:t.jsx(Lt,{size:20,className:"text-[#ff4d00]"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-gray-900",children:"Quick Traffic Test"}),t.jsx("p",{className:"text-xs text-gray-500",children:"No signup required to start"})]})]}),t.jsxs("form",{onSubmit:u,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Your Website URL"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ts,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"url",required:!0,value:e,onChange:g=>s(g.target.value),placeholder:"https://yourwebsite.com",disabled:l!=="idle",className:"w-full bg-gray-50 border border-gray-200 p-4 pl-12 rounded-xl text-sm font-medium text-gray-900 focus:border-[#ff4d00] focus:ring-2 focus:ring-orange-500/20 outline-none transition-all disabled:opacity-50 disabled:cursor-not-allowed"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Target Country"}),t.jsx("select",{value:r,onChange:g=>i(g.target.value),disabled:l!=="idle",className:"w-full bg-gray-50 border border-gray-200 p-4 rounded-xl text-sm font-medium text-gray-900 focus:border-[#ff4d00] focus:ring-2 focus:ring-orange-500/20 outline-none transition-all disabled:opacity-50 disabled:cursor-not-allowed appearance-none cursor-pointer",children:f.map(g=>t.jsx("option",{value:g.code,children:g.name},g.code))})]}),l!=="idle"&&t.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-xl",children:[t.jsx("div",{className:`text-[#ff4d00] ${l==="ready"?"text-green-500":""}`,children:m[l].icon}),t.jsx("span",{className:`text-sm font-bold ${l==="ready"?"text-green-600":"text-gray-600"}`,children:m[l].text})]}),t.jsx("button",{type:"submit",disabled:l!=="idle"||!e,className:"w-full bg-[#ff4d00] text-white p-4 rounded-xl text-sm font-bold uppercase tracking-widest hover:bg-black transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:l==="idle"?t.jsxs(t.Fragment,{children:["Start Free Traffic ",t.jsx(xs,{size:18})]}):"Processing..."})]}),t.jsx("p",{className:"text-xs text-gray-400 text-center mt-4",children:"Free 2,000 visitors  No credit card required"})]})},BL=({initialCount:n=12403,className:e=""})=>{const[s,r]=w.useState(n),[i,l]=w.useState(n);return w.useEffect(()=>{const c=setInterval(()=>{const f=Math.floor(Math.random()*25)-10;r(u=>Math.max(1e4,u+f))},3e3+Math.random()*2e3);return()=>clearInterval(c)},[]),w.useEffect(()=>{const m=(s-i)/20;let g=0;const b=setInterval(()=>{g++,g>=20?(l(s),clearInterval(b)):l(v=>Math.round(v+m))},500/20);return()=>clearInterval(b)},[s]),t.jsxs("div",{className:`flex items-center gap-2 ${e}`,children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),t.jsxs("span",{className:"text-sm font-bold text-gray-600",children:[t.jsx("span",{className:"text-gray-900",children:i.toLocaleString()})," active visitors"]})]})},Nk=({onLogin:n,onNavigate:e})=>{const[s,r]=w.useState(!1),[i,l]=w.useState(!1),[c,f]=w.useState("signup"),[u,m]=w.useState(""),[g,b]=w.useState(""),[v,E]=w.useState(0),[N,C]=w.useState("professional");w.useEffect(()=>{const k=()=>r(window.scrollY>50);return window.addEventListener("scroll",k),()=>window.removeEventListener("scroll",k)},[]);const T={"@context":"https://schema.org","@type":"WebPage",name:"Free Website Traffic Generator - Get 2,000 Free Visitors | Traffic Creator",description:"Get free website traffic instantly. Traffic Creator offers 2,000 free visitors to boost your SEO rankings, CTR, and analytics data. No credit card required.",url:"https://traffic-creator.com/free-website-traffic",mainEntity:{"@type":"Service",name:"Free Website Traffic Generator",provider:{"@type":"Organization",name:"Traffic Creator"},offers:{"@type":"Offer",price:"0",priceCurrency:"USD",description:"2,000 free visitors for new users"}}},O={"@context":"https://schema.org","@type":"FAQPage",mainEntity:[{"@type":"Question",name:"Is this traffic safe for my AdSense account?",acceptedAnswer:{"@type":"Answer",text:"Yes, our traffic is designed to be AdSense-safe. We use residential IPs and natural behavior patterns that mimic real visitors."}},{"@type":"Question",name:"Are these real visitors or bots?",acceptedAnswer:{"@type":"Answer",text:"We use high-quality traffic with residential IPs that appears as real visitors in your analytics. Each visit includes realistic behavior patterns."}},{"@type":"Question",name:"Will I see the traffic in Google Analytics?",acceptedAnswer:{"@type":"Answer",text:"Absolutely. All traffic is fully compatible with Google Analytics 4, Google Search Console, and other major analytics platforms."}},{"@type":"Question",name:"How do I get free website traffic?",acceptedAnswer:{"@type":"Answer",text:"Simply enter your website URL above, select your target country, and click 'Start Free Traffic'. Create a free account to receive 2,000 visitors at no cost."}}]},F=k=>{f(k),m(""),l(!0)},z=(k,D)=>{b(D),m("Your campaign is ready! Create a free account to receive 2,000 visitors."),f("signup"),l(!0)},M=k=>{l(!1),n()},U=k=>{E(v===k?null:k)},X=[{question:"How do I get free website traffic?",answer:"Simply enter your website URL above, select your target country, and click 'Start Free Traffic'. Create a free account to receive 2,000 visitors at no costno credit card required."},{question:"Is this traffic safe for my AdSense account?",answer:"Yes, our traffic is designed to be AdSense-safe. We use residential IPs and natural behavior patterns that mimic real visitors. Our traffic passes all major analytics filters."},{question:"Are these real visitors or bots?",answer:"We use high-quality traffic with residential IPs that appears as real visitors in your analytics. Each visit includes realistic behavior patterns: page views, time on site, and navigation patterns."},{question:"Will I see the traffic in Google Analytics?",answer:"Absolutely. All traffic is fully compatible with Google Analytics 4, Google Search Console, and other major analytics platforms. You'll see real-time visitors, sessions, and engagement metrics."},{question:"Are there any hidden costs or subscriptions?",answer:"No hidden fees, no mandatory subscriptions. Purchase credit packs as needed, or choose monthly plans for agencies. Everything is transparent and clearly priced."},{question:"What if I'm not satisfied?",answer:"We offer a full money-back guarantee. If we fail to deliver the promised visitor count within 72 hours, you're eligible for a complete refundno questions asked."},{question:"Can I target specific countries?",answer:"Yes! We offer geo-targeting for 190+ countries. Premium plans include city-level targeting for local SEO campaigns."}],A=[{volume:6e4,name:"Starter",desc:"Perfect for testing"},{volume:5e5,name:"Growth",desc:"Most popular choice",highlight:!0,badge:"Most Popular"},{volume:1e6,name:"Business",desc:"Serious growth",badge:"Best Value",badgeColor:"bg-green-500"}],P=[{icon:t.jsx(Dn,{size:32}),title:"Poor Rankings?",desc:"Google ignores sites without traffic signals. Your content stays buried on page 10."},{icon:t.jsx(Ci,{size:32}),title:"Low CTR?",desc:"Click-through rate is a ranking factor. Low engagement means lower visibility."},{icon:t.jsx(kc,{size:32}),title:"No Analytics Data?",desc:"You can't optimize what you can't measure. Empty dashboards mean no insights."}],_=[{step:1,title:"Enter Your URL",desc:"Input your website address and select targeting options: country, device type, and traffic source.",icon:t.jsx(Ts,{size:24})},{step:2,title:"We Send Real Signals",desc:"Our residential network delivers traffic through real ISP connectionsnot data center IPs that get flagged.",icon:t.jsx(kn,{size:24})},{step:3,title:"Watch Results Live",desc:"Monitor your traffic in Google Analytics 4 in real-time. See visitors, sessions, and engagement metrics.",icon:t.jsx(Bl,{size:24})}];return t.jsxs("div",{className:"min-h-screen bg-white text-gray-900 font-sans overflow-x-hidden",children:[t.jsx(Ai,{title:"Free Website Traffic Generator - Get 2,000 Free Visitors | Traffic Creator",description:"Get free website traffic instantly. Receive 2,000 free visitors to boost your SEO rankings, CTR, and analytics data. No credit card required. Real residential traffic from 190+ countries.",keywords:"free website traffic, free traffic generator, get free traffic, website traffic free, free visitors, free web traffic, boost website traffic free, free SEO traffic, traffic generator free, increase website traffic free",schema:[T,O]}),t.jsx("header",{className:`fixed w-full z-50 transition-all duration-300 ${s?"top-0 bg-white/95 backdrop-blur-md shadow-sm border-b border-gray-100":"top-0 bg-transparent"}`,children:t.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-16 md:h-20 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[t.jsx("span",{className:"text-xl md:text-2xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),t.jsx("span",{className:"hidden sm:inline-block text-xs font-bold bg-black text-white px-2 py-1 rounded uppercase tracking-wide",children:"Creator"})]}),t.jsxs("div",{className:"flex items-center gap-3 md:gap-6",children:[t.jsxs("nav",{className:"hidden md:flex items-center gap-8 text-sm font-bold text-gray-500",children:[t.jsx("a",{href:"#problem",className:"hover:text-[#ff4d00] transition-colors",children:"Problem"}),t.jsx("a",{href:"#how-it-works",className:"hover:text-[#ff4d00] transition-colors",children:"How It Works"}),t.jsx("a",{href:"#pricing",className:"hover:text-[#ff4d00] transition-colors",children:"Pricing"})]}),t.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[t.jsx("button",{onClick:()=>F("login"),className:"text-sm font-bold text-gray-600 hover:text-[#ff4d00] transition-colors px-3 py-2",children:"Login"}),t.jsx("button",{onClick:()=>F("signup"),className:"bg-[#ff4d00] text-white px-4 md:px-6 py-2.5 text-xs md:text-sm font-bold uppercase tracking-wide hover:bg-black transition-colors rounded-xl shadow-lg shadow-orange-500/20",children:"Sign Up"})]})]})]})}),t.jsxs("section",{className:"relative pt-28 md:pt-40 pb-16 md:pb-24 px-6 overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0 z-0",children:[t.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-gradient-to-bl from-orange-100/50 to-transparent rounded-full blur-3xl -translate-y-1/2 translate-x-1/3"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-[400px] h-[400px] bg-gradient-to-tr from-blue-50/50 to-transparent rounded-full blur-3xl translate-y-1/2 -translate-x-1/3"})]}),t.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[t.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 bg-orange-50 border border-orange-100 px-4 py-2 rounded-full text-xs font-bold text-[#ff4d00] uppercase tracking-wide mb-6",children:[t.jsx(Kr,{size:14,className:"fill-[#ff4d00]"}),"100% Free - No Credit Card Required"]}),t.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-black tracking-tight leading-[1.1] mb-6",children:["Free Website Traffic",t.jsx("br",{}),t.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#ff4d00] to-orange-500",children:"in Under 5 Minutes"})]}),t.jsxs("p",{className:"text-lg md:text-xl text-gray-500 max-w-2xl mx-auto leading-relaxed mb-8",children:["Get ",t.jsx("span",{className:"font-bold text-gray-700",children:"2,000 free visitors"})," to your website. Boost SEO rankings, improve CTR, and fill your analytics with real residential traffic from 190+ countries."]})]}),t.jsx(FL,{onComplete:z})]})]}),t.jsx("section",{className:"bg-gray-50 border-y border-gray-100 py-8 px-6",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[t.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:t.jsx("span",{className:"font-bold uppercase tracking-wide text-xs",children:"Compatible with:"})}),t.jsx("div",{className:"flex flex-wrap items-center justify-center gap-8 md:gap-12",children:["Google Analytics","Semrush","WordPress","Ahrefs"].map((k,D)=>t.jsxs("div",{className:"flex items-center gap-2 opacity-60 hover:opacity-100 transition-opacity",children:[t.jsx(Bl,{size:18,className:"text-gray-400"}),t.jsx("span",{className:"text-sm font-bold text-gray-700",children:k})]},D))}),t.jsx(BL,{className:"shrink-0 bg-white px-4 py-2 rounded-full border border-gray-200"})]})})}),t.jsx("section",{id:"problem",className:"py-20 md:py-32 px-6 bg-gradient-to-b from-gray-50 to-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 bg-red-50 text-red-600 px-4 py-2 rounded-full text-xs font-bold uppercase tracking-wide mb-4",children:[t.jsx(ys,{size:14}),"The Problem"]}),t.jsx("h2",{className:"text-3xl md:text-4xl font-black tracking-tight mb-4",children:"Why Your Website Is Struggling"}),t.jsx("p",{className:"text-gray-500 max-w-xl mx-auto",children:"91% of content gets zero traffic from Google. Without visitor signals, search engines ignore your site."})]}),t.jsx("div",{className:"grid md:grid-cols-3 gap-6 md:gap-8",children:P.map((k,D)=>t.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl p-8 hover:shadow-xl hover:border-[#ff4d00]/30 transition-all group",children:[t.jsx("div",{className:"w-14 h-14 bg-red-50 rounded-xl flex items-center justify-center mb-6 text-red-500 group-hover:bg-[#ff4d00] group-hover:text-white transition-colors",children:k.icon}),t.jsx("h3",{className:"text-xl font-bold mb-3",children:k.title}),t.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:k.desc})]},D))})]})}),t.jsx("section",{id:"how-it-works",className:"py-20 md:py-32 px-6 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 bg-[#ff4d00]/10 text-[#ff4d00] px-4 py-2 rounded-full text-xs font-bold uppercase tracking-wide mb-4",children:[t.jsx(Lt,{size:14}),"How It Works"]}),t.jsx("h2",{className:"text-3xl md:text-4xl font-black tracking-tight mb-4",children:"Three Simple Steps"}),t.jsx("p",{className:"text-gray-500 max-w-xl mx-auto",children:"Start receiving quality traffic in under 5 minutes. No technical knowledge required."})]}),t.jsx("div",{className:"space-y-12 md:space-y-0 md:grid md:grid-cols-3 md:gap-8",children:_.map((k,D)=>t.jsxs("div",{className:"relative flex flex-col md:flex-col items-start md:items-center text-left md:text-center group",children:[D<_.length-1&&t.jsx("div",{className:"hidden md:block absolute top-12 left-[60%] w-[80%] h-0.5 bg-gradient-to-r from-[#ff4d00]/30 to-transparent"}),t.jsxs("div",{className:"flex items-center gap-4 md:flex-col md:gap-0 md:mb-6",children:[t.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-[#ff4d00]/10 to-orange-50 rounded-2xl flex items-center justify-center text-[#ff4d00] mb-0 md:mb-4 shrink-0 group-hover:scale-110 transition-transform",children:k.icon}),t.jsxs("div",{className:"md:hidden",children:[t.jsxs("div",{className:"text-xs font-bold text-[#ff4d00] uppercase tracking-wide mb-1",children:["Step ",k.step]}),t.jsx("h3",{className:"text-lg font-bold",children:k.title}),t.jsx("p",{className:"text-gray-500 text-sm mt-1",children:k.desc})]})]}),t.jsxs("div",{className:"hidden md:block",children:[t.jsxs("div",{className:"text-xs font-bold text-[#ff4d00] uppercase tracking-wide mb-2",children:["Step ",k.step]}),t.jsx("h3",{className:"text-lg font-bold mb-2",children:k.title}),t.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:k.desc})]})]},D))})]})}),t.jsx("section",{id:"pricing",className:"py-20 md:py-32 px-6 bg-gray-50",children:t.jsxs("div",{className:"max-w-5xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 bg-[#ff4d00]/10 text-[#ff4d00] px-4 py-2 rounded-full text-xs font-bold uppercase tracking-wide mb-4",children:[t.jsx(ux,{size:14}),"Transparent Pricing"]}),t.jsx("h2",{className:"text-3xl md:text-4xl font-black tracking-tight mb-4",children:"Pay Only For Results"}),t.jsx("p",{className:"text-gray-500 max-w-xl mx-auto",children:"No hidden fees. No monthly contracts. Choose your package and start immediately."})]}),t.jsx("div",{className:"flex justify-center gap-2 mb-8",children:$o.map(k=>t.jsxs("button",{onClick:()=>C(k.id),className:`px-6 py-3 text-xs font-bold uppercase tracking-widest transition-all ${N===k.id?"bg-[#ff4d00] text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"} ${k.popular?"ring-2 ring-[#ff4d00]/30":""}`,children:[k.name,k.popular&&t.jsx("span",{className:"ml-2 text-[10px]",children:""})]},k.id))}),t.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:A.map((k,D)=>{var ve;const L=((ve=nm[N][k.volume])==null?void 0:ve[1])||0,R=fw(N,k.volume,1),Y=$o.find(J=>J.id===N);return t.jsxs("div",{className:`relative bg-white rounded-2xl p-8 border transition-all ${k.highlight?"border-2 border-[#ff4d00] shadow-2xl shadow-[#ff4d00]/20 scale-105 z-10":"border-gray-100 hover:border-[#ff4d00]/30 hover:shadow-xl"}`,children:[k.badge&&t.jsx("div",{className:`absolute -top-3 left-1/2 -translate-x-1/2 ${k.badgeColor||"bg-[#ff4d00]"} text-white px-4 py-1 text-[10px] font-bold uppercase tracking-widest rounded-full whitespace-nowrap shadow-lg`,children:k.badge}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide mb-2",children:k.name}),t.jsxs("div",{className:"flex items-baseline gap-1",children:[t.jsx("span",{className:"text-4xl font-black text-gray-900",children:mw(L)}),t.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"one-time"})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-4 mb-6 text-center border border-gray-100",children:[t.jsx("div",{className:"text-2xl font-black text-gray-900",children:k.volume>=1e6?`${k.volume/1e6}M`:`${k.volume/1e3}k`}),t.jsx("div",{className:"text-xs text-gray-500 font-bold uppercase tracking-wide",children:"Visitors"}),t.jsxs("div",{className:"text-xs text-[#ff4d00] font-bold mt-1",children:["~",pw(R),"/1k"]})]}),t.jsx("p",{className:"text-sm text-gray-500 mb-6",children:k.desc}),t.jsx("ul",{className:"space-y-3 mb-8",children:Y==null?void 0:Y.features.slice(0,4).map((J,W)=>t.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(fn,{size:16,className:"text-green-500 shrink-0"}),J]},W))}),t.jsx("button",{onClick:()=>F("signup"),className:`w-full py-4 rounded-xl text-sm font-bold uppercase tracking-wide transition-all ${k.highlight?"bg-[#ff4d00] text-white hover:bg-black shadow-lg":"bg-gray-900 text-white hover:bg-[#ff4d00]"}`,children:"Get Started"})]},D)})}),t.jsxs("div",{className:"mt-12 flex flex-wrap justify-center gap-6 text-sm text-gray-500",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ct,{size:16,className:"text-green-500"}),"Instant delivery"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ct,{size:16,className:"text-green-500"}),"Money-back guarantee"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ct,{size:16,className:"text-green-500"}),"190+ countries"]})]})]})}),t.jsx("section",{id:"faq",className:"py-20 md:py-32 px-6 bg-white",children:t.jsxs("div",{className:"max-w-3xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-black tracking-tight mb-4",children:"Frequently Asked Questions"}),t.jsx("p",{className:"text-gray-500",children:"Everything you need to know before getting started."})]}),t.jsx("div",{className:"space-y-4",children:X.map((k,D)=>t.jsxs("div",{className:"bg-gray-50 border border-gray-100 rounded-xl overflow-hidden",children:[t.jsxs("button",{className:"w-full flex items-center justify-between p-6 text-left hover:bg-gray-100 transition-colors",onClick:()=>U(D),children:[t.jsx("span",{className:"font-bold text-gray-900 pr-4",children:k.question}),v===D?t.jsx(_c,{size:20,className:"text-[#ff4d00] shrink-0"}):t.jsx(Hr,{size:20,className:"text-gray-400 shrink-0"})]}),v===D&&t.jsx("div",{className:"px-6 pb-6 text-gray-600 text-sm leading-relaxed border-t border-gray-100 pt-4",children:k.answer})]},D))})]})}),t.jsxs("section",{className:"py-20 md:py-32 px-6 bg-[#ff4d00] relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-600/50 to-transparent"}),t.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[t.jsx("h2",{className:"text-3xl md:text-5xl font-black text-white tracking-tight mb-6",children:"Ready to Boost Your Traffic?"}),t.jsx("p",{className:"text-white/80 text-lg mb-8 max-w-xl mx-auto",children:"Join thousands of marketers who trust Traffic Creator for their SEO campaigns."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsxs("button",{onClick:()=>F("signup"),className:"bg-black text-white px-8 py-4 rounded-xl text-sm font-bold uppercase tracking-wide hover:bg-white hover:text-black transition-colors shadow-xl",children:["Start Free Trial ",t.jsx(xs,{size:18,className:"inline ml-2"})]}),t.jsx(Ge,{to:"/#pricing",className:"bg-white/10 backdrop-blur-sm border border-white/20 text-white px-8 py-4 rounded-xl text-sm font-bold uppercase tracking-wide hover:bg-white/20 transition-colors",children:"View All Plans"})]}),t.jsxs("div",{className:"mt-8 flex items-center justify-center gap-6 text-white/60 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fn,{size:16})," No credit card"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fn,{size:16})," Cancel anytime"]})]})]})]}),t.jsx("footer",{className:"bg-gray-900 text-white py-12 px-6",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-8",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xl font-black text-[#ff4d00]",children:"TRAFFIC"}),t.jsx("span",{className:"text-xs font-bold bg-white/10 text-white px-2 py-1 rounded uppercase",children:"Creator"})]}),t.jsxs("div",{className:"flex flex-wrap justify-center gap-6 text-sm text-gray-400",children:[t.jsx(Ge,{to:"/blog",className:"hover:text-white transition-colors",children:"Blog"}),t.jsx(Ge,{to:"/helpdesk",className:"hover:text-white transition-colors",children:"Help Center"}),t.jsx(Ge,{to:"/legal/privacy",className:"hover:text-white transition-colors",children:"Privacy"}),t.jsx(Ge,{to:"/legal/terms",className:"hover:text-white transition-colors",children:"Terms"}),t.jsx(Ge,{to:"/legal/refund",className:"hover:text-white transition-colors",children:"Refund Policy"})]}),t.jsx("div",{className:"text-sm text-gray-500",children:" 2025 Traffic Creator Inc."})]})})}),t.jsx(UL,{isOpen:i,onClose:()=>l(!1),initialMode:c,onSuccess:M,message:u})]})},yb=({onLogin:n,onNavigate:e,view:s})=>{const r=qs(),[i,l]=w.useState(""),[c,f]=w.useState(""),[u,m]=w.useState(""),[g,b]=w.useState(!1),[v,E]=w.useState(""),[N,C]=w.useState(""),[T,O]=w.useState(!1),F=async()=>{if(i){b(!0);try{await q.resendVerificationEmail(i),r(`/verify-email?email=${encodeURIComponent(i)}`)}catch(M){E(M.message||"Failed to resend verification email")}finally{b(!1)}}},z=async M=>{M.preventDefault(),E(""),C(""),b(!0),O(!1);try{if(s==="signup"){if(c.length<6)throw new Error("Password must be at least 6 characters long");const U=await q.register(u,i,c);if(U&&U.role){await q.syncAll(),n(U.role);return}r(`/verify-email?email=${encodeURIComponent(i)}`);return}else if(s==="login"){const U=await q.login(i,c);if(U.status==="suspended")throw new Error("Your account has been suspended. Please contact support.");await q.syncAll(),n(U.role)}else s==="forgot"&&(await q.forgotPassword(i),C("Password reset link sent! Check your email."),l(""))}catch(U){const X=U.message||"An error occurred";E(X),(X.toLowerCase().includes("verify")||X.toLowerCase().includes("verification"))&&O(!0)}finally{b(!1)}};return t.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:t.jsxs("div",{className:"max-w-md w-full bg-white animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t.jsxs(Ge,{to:"/",className:"flex items-center gap-2 text-gray-400 hover:text-[#ff4d00] transition-colors mb-8 text-xs font-bold uppercase tracking-wider",children:[t.jsx(Zn,{size:16})," Back to Home"]}),t.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[t.jsx("span",{className:"text-3xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),t.jsx("span",{className:"text-xs font-bold bg-black text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Bot"})]}),v&&t.jsxs("div",{className:"mb-6 bg-red-50 border-l-4 border-red-500 p-4 flex items-center gap-3",children:[t.jsx(ys,{className:"text-red-500 shrink-0",size:20}),t.jsxs("div",{className:"flex-1",children:[t.jsx("span",{className:"text-red-700 text-xs font-bold leading-relaxed",children:v}),T&&t.jsx("button",{onClick:F,className:"block mt-2 text-[#ff4d00] text-xs font-bold underline hover:no-underline",children:"Resend verification email"})]})]}),N&&t.jsxs("div",{className:"mb-6 bg-green-50 border-l-4 border-green-500 p-4 flex items-center gap-3",children:[t.jsx(ct,{className:"text-green-500 shrink-0",size:20}),t.jsx("span",{className:"text-green-700 text-xs font-bold leading-relaxed",children:N})]}),s==="forgot"?t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Reset Password"}),t.jsx("p",{className:"text-gray-500 mb-8",children:"Enter your email address and we'll send you a link to reset your password."}),t.jsxs("form",{onSubmit:z,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(xa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"email",required:!0,value:i,onChange:M=>l(M.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:"name@company.com"})]})]}),t.jsx("button",{type:"submit",disabled:g,className:"w-full bg-black text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:g?t.jsxs(t.Fragment,{children:[t.jsx(gs,{className:"animate-spin",size:16})," Sending..."]}):"Send Reset Link"}),t.jsx("div",{className:"text-center",children:t.jsx(Ge,{to:"/login",className:"text-xs font-bold text-gray-400 uppercase tracking-wider hover:text-black",children:"Back to Login"})})]})]}):t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:s==="login"?"Welcome Back":"Create Account"}),t.jsx("p",{className:"text-gray-500 mb-8",children:s==="login"?"Enter your credentials to access your dashboard.":"Start your first traffic campaign today."}),t.jsxs("form",{onSubmit:z,className:"space-y-6",children:[s==="signup"&&t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Full Name"}),t.jsxs("div",{className:"relative",children:[t.jsx(un,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"text",required:!0,value:u,onChange:M=>m(M.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:"John Doe"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(xa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"email",required:!0,value:i,onChange:M=>l(M.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:"name@company.com"})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:"Password"}),s==="login"&&t.jsx(Ge,{to:"/forgot",className:"text-[10px] font-bold text-[#ff4d00] uppercase tracking-wider hover:text-black",children:"Forgot?"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Yn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"password",required:!0,value:c,onChange:M=>f(M.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:s==="signup"?"Min. 6 characters":""})]}),s==="signup"&&c.length>0&&c.length<6&&t.jsx("p",{className:"text-red-500 text-xs mt-1 font-bold",children:"Password must be at least 6 characters"})]}),t.jsx("button",{type:"submit",disabled:g,className:"w-full bg-[#ff4d00] text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:g?t.jsxs(t.Fragment,{children:[t.jsx(gs,{className:"animate-spin",size:16})," Processing..."]}):t.jsxs(t.Fragment,{children:[s==="login"?"Sign In":"Get Started"," ",t.jsx(xs,{size:16})]})})]}),t.jsxs("div",{className:"mt-8 text-center pt-8 border-t border-gray-100",children:[t.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide mb-2",children:s==="login"?"Don't have an account?":"Already have an account?"}),t.jsx(Ge,{to:s==="login"?"/signup":"/login",className:"text-sm font-black text-gray-900 hover:text-[#ff4d00] uppercase tracking-wide block",children:s==="login"?"Create Account":"Login Here"})]})]})]})})},$L=({initialData:n,onSave:e})=>{const[s,r]=w.useState(n),[i,l]=w.useState(!1);w.useEffect(()=>{r(n)},[n]);const c=(u,m,g)=>{let b=parseFloat(g);isNaN(b)&&(b=0),r(v=>v.map(E=>E.id===u?{...E,[m]:b}:E))},f=async()=>{l(!0);try{await q.savePricing(s),e&&e(),alert("Traffic Campaign Configuration Saved to Database!")}catch(u){console.error(u),alert("Failed to save configuration")}finally{l(!1)}};return t.jsxs("div",{className:"bg-white p-8 md:p-10 shadow-sm border border-gray-100 min-h-[600px] animate-in fade-in",children:[t.jsxs("div",{className:"mb-10",children:[t.jsx("h3",{className:"text-[#ff4d00] text-xs font-bold uppercase tracking-widest mb-1",children:"Global Pricing Configuration"}),t.jsx("p",{className:"text-gray-500 text-sm",children:"Configure your traffic package rates per tier. Changes affect ALL new campaigns."})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-12",children:s.map(u=>t.jsxs("div",{className:"flex flex-col space-y-6 p-6 border border-gray-50 hover:border-gray-200 transition-colors bg-gray-50/50",children:[t.jsx("h4",{className:"text-xl font-black text-gray-900 mb-2 uppercase tracking-tight",children:u.name}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block",children:"CPM Rate ()"}),t.jsx("input",{type:"number",step:"0.01",value:u.hourlyRate,onChange:m=>c(u.id,"hourlyRate",m.target.value),className:"w-full bg-white border border-gray-200 text-gray-900 p-3 text-sm font-bold outline-none focus:border-[#ff4d00] transition-colors"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block",children:"Base Campaign Fee ()"}),t.jsx("input",{type:"number",value:u.baseFee,onChange:m=>c(u.id,"baseFee",m.target.value),className:"w-full bg-white border border-gray-200 text-gray-900 p-3 text-sm font-bold outline-none focus:border-[#ff4d00] transition-colors"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block",children:"Setup & Audit Fee ()"}),t.jsx("input",{type:"number",value:u.examFee,onChange:m=>c(u.id,"examFee",m.target.value),className:"w-full bg-white border border-gray-200 text-gray-900 p-3 text-sm font-bold outline-none focus:border-[#ff4d00] transition-colors"})]})]},u.id))}),t.jsx("div",{className:"mt-16 flex justify-end pt-8 border-t border-gray-100",children:t.jsx("button",{onClick:f,disabled:i,className:"bg-black text-white px-8 py-4 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Saving...":"Save Global Configuration"})})]})},qL=({transactions:n})=>{try{const e=[];for(let l=6;l>=0;l--){const c=new Date;c.setDate(c.getDate()-l),e.push(c.toLocaleDateString("en-US",{month:"short",day:"numeric"}))}const s=Array.isArray(n)?n:[],r=e.map(l=>s.filter(f=>f&&f.type==="credit"&&f.date===l).reduce((f,u)=>f+(Number(u.amount)||0),0)),i=Math.max(...r,100);return t.jsx("div",{className:"h-48 flex items-end justify-between gap-2",children:r.map((l,c)=>t.jsxs("div",{className:"flex-1 flex flex-col justify-end group",children:[t.jsx("div",{className:"bg-black group-hover:bg-[#ff4d00] transition-colors rounded-t-sm w-full relative",style:{height:`${l/i*100}%`,minHeight:"4px"},children:t.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-1 text-[9px] font-bold text-gray-500 opacity-0 group-hover:opacity-100 transition-opacity",children:["",l]})}),t.jsx("div",{className:"text-[9px] text-gray-400 text-center mt-2 font-mono",children:e[c]})]},c))})}catch{return t.jsx("div",{className:"text-xs text-red-500 p-4",children:"Error loading chart"})}},HL=({users:n=[],projects:e=[],tickets:s=[],transactions:r=[],stats:i,onNavigate:l})=>{var F,z,M,U,X,A,P;const[c,f]=w.useState([]);w.useEffect(()=>{q.getFraudAlerts().then(_=>{f(_.filter(k=>k.riskLevel==="high"||k.riskLevel==="medium"))})},[]);const u=Array.isArray(r)?r:[],m=Array.isArray(e)?e:[],g=Array.isArray(n)?n:[],b=Array.isArray(s)?s:[],v=((F=i==null?void 0:i.revenue)==null?void 0:F.total)??u.filter(_=>_&&_.type==="credit").reduce((_,k)=>_+(Number(k.amount)||0),0),E=((z=i==null?void 0:i.revenue)==null?void 0:z.today)??0,N=((M=i==null?void 0:i.projects)==null?void 0:M.active)??m.filter(_=>_&&_.status==="active").length,C=((U=i==null?void 0:i.users)==null?void 0:U.total)??g.length,T=((X=i==null?void 0:i.users)==null?void 0:X.new_today)??0,O=b.filter(_=>_&&_.status==="open").length;return t.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight mb-6",children:"Admin Overview"}),c.length>0&&t.jsxs("div",{className:"bg-red-50 border border-red-200 p-6 shadow-sm",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsxs("h3",{className:"text-sm font-black uppercase tracking-widest text-red-600 flex items-center gap-2",children:[t.jsx(ys,{size:16})," Fraud Alerts (",c.length,")"]}),t.jsxs("button",{onClick:()=>l("admin-users"),className:"text-[10px] uppercase font-bold text-red-600 hover:text-red-800 flex items-center gap-1",children:["View All ",t.jsx(sc,{size:10})]})]}),t.jsx("div",{className:"space-y-3",children:c.slice(0,3).map(_=>t.jsxs("div",{className:"bg-white p-4 border border-red-100 flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(kn,{size:12,className:_.riskLevel==="high"?"text-red-600":"text-yellow-600"}),t.jsxs("span",{className:"text-xs font-bold text-gray-900",children:[_.userEmails.length," Accounts share IP: ",_.ip]}),t.jsx("span",{className:`text-[9px] px-2 py-0.5 rounded font-bold uppercase ${_.riskLevel==="high"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:_.riskLevel})]}),t.jsxs("div",{className:"text-[10px] text-gray-500",children:[_.userEmails.slice(0,2).join(", "),_.userEmails.length>2&&` +${_.userEmails.length-2} more`]})]}),_.affiliateEarnings>0&&t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-[9px] text-gray-400 uppercase",children:"Affiliate Earnings"}),t.jsxs("div",{className:"text-sm font-black text-red-600",children:["",_.affiliateEarnings.toFixed(2)]})]})]},_.id))})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"bg-white p-8 border border-gray-200 shadow-sm hover:border-[#ff4d00] transition-colors relative overflow-hidden group",children:[t.jsxs("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 flex items-center gap-2",children:[t.jsx(Nr,{size:14})," Total Users"]}),t.jsx("div",{className:"text-4xl font-black text-gray-900",children:C}),T>0&&t.jsxs("div",{className:"text-[10px] font-bold text-green-600 mt-2 flex items-center gap-1",children:[t.jsx(er,{size:10})," +",T," Today"]})]}),t.jsxs("div",{className:"bg-white p-8 border border-gray-200 shadow-sm hover:border-[#ff4d00] transition-colors",children:[t.jsxs("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 flex items-center gap-2",children:[t.jsx(ga,{size:14})," Active Projects"]}),t.jsx("div",{className:"text-4xl font-black text-gray-900",children:N}),((A=i==null?void 0:i.projects)==null?void 0:A.new_today)>0&&t.jsxs("div",{className:"text-[10px] font-bold text-green-600 mt-2 flex items-center gap-1",children:[t.jsx(gT,{size:10})," +",(P=i==null?void 0:i.projects)==null?void 0:P.new_today," New Today"]})]}),t.jsxs("div",{className:"bg-white p-8 border border-gray-200 shadow-sm hover:border-[#ff4d00] transition-colors",children:[t.jsxs("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 flex items-center gap-2",children:[t.jsx(Gr,{size:14})," Open Tickets"]}),t.jsx("div",{className:"text-4xl font-black text-gray-900",children:O})]}),t.jsxs("div",{className:"bg-white p-8 border border-gray-200 shadow-sm hover:border-[#ff4d00] transition-colors",children:[t.jsxs("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 flex items-center gap-2",children:[t.jsx(Dn,{size:14})," Total Revenue"]}),t.jsxs("div",{className:"text-4xl font-black text-[#ff4d00]",children:["",(v||0).toLocaleString()]}),E>0&&t.jsxs("div",{className:"text-[10px] font-bold text-green-600 mt-2 flex items-center gap-1",children:[t.jsx(xn,{size:10})," +",E.toFixed(2)," Today"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[t.jsxs("div",{className:"bg-white p-8 border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"flex justify-between items-center mb-8",children:t.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00]",children:"Revenue Trend (7 Days)"})}),t.jsx(qL,{transactions:u})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm flex flex-col",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[t.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900",children:"Recent Registrations"}),t.jsx("button",{onClick:()=>l("admin-users"),className:"text-[10px] uppercase font-bold text-gray-400 hover:text-[#ff4d00]",children:"View All"})]}),t.jsx("div",{className:"divide-y divide-gray-100 flex-1 overflow-y-auto max-h-64",children:g.slice(0,5).map(_=>t.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-gray-50",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-xs font-bold text-gray-500",children:((_==null?void 0:_.name)||"?").charAt(0)}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs font-bold text-gray-900",children:(_==null?void 0:_.name)||"Unknown User"}),t.jsx("div",{className:"text-[9px] text-gray-400",children:(_==null?void 0:_.email)||"No Email"})]})]}),t.jsx("div",{className:"text-[9px] font-bold uppercase tracking-wide text-gray-400",children:(_==null?void 0:_.joinedDate)||"-"})]},(_==null?void 0:_.id)||Math.random()))})]})]})]})},GL=({users:n,projects:e,transactions:s,tickets:r,onRefresh:i,onEditUser:l})=>{const[c,f]=w.useState(""),[u,m]=w.useState(1),[g,b]=w.useState(100),[v,E]=w.useState("all"),[N,C]=w.useState(null);w.useEffect(()=>{q.getUserStats().then(C)},[n]);const T=_=>{const k=e.filter(D=>D.userId===_);return{total:k.length,active:k.filter(D=>D.status==="active").length,expired:k.filter(D=>D.status==="completed"||D.status==="stopped").length,demo:k.filter(D=>D.plan==="Free Trial").length}},O=_=>s.filter(k=>k.userId===_&&k.type==="debit"&&k.status==="completed").reduce((k,D)=>k+D.amount,0),F=(_,k)=>{const D=new Date(_).getTime();return(Date.now()-D)/(1e3*60*60)<=k},z=_=>{if(!_)return{text:"Never",isOnline:!1};const k=new Date(_).getTime(),L=Date.now()-k,R=Math.floor(L/(1e3*60)),Y=Math.floor(L/(1e3*60*60)),ve=Math.floor(L/(1e3*60*60*24)),J=Math.floor(ve/7),W=Math.floor(ve/30);return R<5?{text:"Online now",isOnline:!0}:R<60?{text:`${R}m ago`,isOnline:!1}:Y<24?{text:`${Y}h ago`,isOnline:!1}:ve<7?{text:`${ve}d ago`,isOnline:!1}:J<4?{text:`${J}w ago`,isOnline:!1}:{text:`${W}mo ago`,isOnline:!1}},M=_=>_<=30?{bg:"bg-green-100",text:"text-green-700",label:"Low"}:_<=60?{bg:"bg-yellow-100",text:"text-yellow-700",label:"Medium"}:{bg:"bg-red-100",text:"text-red-700",label:"High"},U=w.useMemo(()=>{let _=n.filter(k=>k.name.toLowerCase().includes(c.toLowerCase())||k.email.toLowerCase().includes(c.toLowerCase())||k.id.includes(c));switch(v){case"balance":_.sort((k,D)=>D.balance-k.balance);break;case"spent":_.sort((k,D)=>O(D.id)-O(k.id));break;case"projects":_.sort((k,D)=>T(D.id).total-T(k.id).total);break;case"new_24h":_=_.filter(k=>F(k.joinedDate,24));break;case"new_7d":_=_.filter(k=>F(k.joinedDate,168));break;case"new_30d":_=_.filter(k=>F(k.joinedDate,720));break;case"high_risk":_=_.filter(k=>(k.spamScore||0)>=60);break;case"ip_sharing":_=_.filter(k=>(k.ipSharedWithCount||0)>=1);break;case"fraud":_=_.filter(k=>(k.ipSharedWithCount||0)>=1&&(k.affiliateEarnings||0)>0);break;default:_.sort((k,D)=>new Date(D.joinedDate).getTime()-new Date(k.joinedDate).getTime())}return _},[n,c,v,e,s]),X=Math.ceil(U.length/g),A=U.slice((u-1)*g,u*g);Fe.useEffect(()=>{m(1)},[v,c,g]);const P=[{id:"all",label:"All Users",icon:t.jsx(Nr,{size:14}),count:N==null?void 0:N.totalUsers},{id:"high_risk",label:"High Risk",icon:t.jsx(ys,{size:14}),count:N==null?void 0:N.highRiskUsers,highlight:!0},{id:"ip_sharing",label:"IP Sharing",icon:t.jsx(kn,{size:14})},{id:"fraud",label:"Fraud Suspicion",icon:t.jsx(ys,{size:14}),highlight:!0},{id:"balance",label:"Highest Balance",icon:t.jsx(ki,{size:14})},{id:"projects",label:"Most Projects",icon:t.jsx(ga,{size:14})},{id:"spent",label:"Top Spenders",icon:t.jsx(ki,{size:14})},{id:"new_24h",label:"New (24h)",icon:t.jsx(Kt,{size:14}),count:N==null?void 0:N.newUsersToday},{id:"new_7d",label:"New (7d)",icon:t.jsx(Kt,{size:14}),count:N==null?void 0:N.newUsers7d},{id:"new_30d",label:"New (30d)",icon:t.jsx(Kt,{size:14}),count:N==null?void 0:N.newUsers30d}];return t.jsxs("div",{className:"animate-in fade-in",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end mb-6 gap-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"User Management"}),N&&t.jsxs("div",{className:"flex flex-wrap gap-4 mt-2 text-xs font-bold text-gray-500",children:[t.jsxs("span",{children:["Total: ",t.jsx("span",{className:"text-black",children:N.totalUsers.toLocaleString()})]}),t.jsxs("span",{children:["Active (24h): ",t.jsx("span",{className:"text-green-600",children:N.activeUsers24h})]}),t.jsxs("span",{children:["Active (7d): ",t.jsx("span",{className:"text-green-600",children:N.activeUsers7d})]}),N.highRiskUsers>0&&t.jsxs("span",{className:"text-red-600 flex items-center gap-1",children:[t.jsx(ys,{size:10})," High Risk: ",N.highRiskUsers]}),N.fraudAlertsCount>0&&t.jsxs("span",{className:"text-red-600 flex items-center gap-1",children:[t.jsx(kn,{size:10})," Fraud Alerts: ",N.fraudAlertsCount]})]})]}),t.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[t.jsxs("div",{className:"relative flex-1 md:w-64",children:[t.jsx("input",{type:"text",placeholder:"Search users...",value:c,onChange:_=>f(_.target.value),className:"w-full bg-white border border-gray-200 pl-10 pr-4 py-2 text-sm outline-none focus:border-[#ff4d00]"}),t.jsx(jr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:14})]}),t.jsxs("select",{value:g,onChange:_=>b(Number(_.target.value)),className:"bg-white border border-gray-200 px-3 py-2 text-sm font-bold text-gray-600 outline-none focus:border-[#ff4d00]",children:[t.jsx("option",{value:10,children:"10 per page"}),t.jsx("option",{value:25,children:"25 per page"}),t.jsx("option",{value:50,children:"50 per page"}),t.jsx("option",{value:100,children:"100 per page"})]}),t.jsxs("button",{onClick:()=>{const _=`ID,Name,Email,Role,Status,Balance,Joined,LastActive,SpamScore,IPSharedWith
`,k=n.map(Y=>`${Y.id},"${Y.name}",${Y.email},${Y.role},${Y.status},${Y.balance},${Y.joinedDate},${Y.lastActive||""},${Y.spamScore||0},${Y.ipSharedWithCount||0}`).join(`
`),D=new Blob([_+k],{type:"text/csv"}),L=window.URL.createObjectURL(D),R=document.createElement("a");R.href=L,R.download=`users_export_${new Date().toISOString().split("T")[0]}.csv`,R.click()},className:"flex items-center gap-2 bg-white border border-gray-200 px-3 py-2 text-sm font-bold text-gray-600 hover:text-black hover:border-black transition-colors",children:[t.jsx(ki,{size:14,className:"rotate-45"})," Export"]})]})]}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-6 border-b border-gray-200 pb-2",children:P.map(_=>t.jsxs("button",{onClick:()=>E(_.id),className:`flex items-center gap-2 px-4 py-2 text-xs font-bold uppercase tracking-wide transition-colors rounded-sm
                        ${v===_.id?"bg-black text-white":_.highlight?"bg-red-50 text-red-600 hover:bg-red-100 border border-red-200":"bg-white text-gray-500 hover:bg-gray-100"}
                    `,children:[_.icon," ",_.label,_.count!==void 0&&_.count>0&&t.jsx("span",{className:`px-1.5 py-0.5 rounded text-[9px] ${v===_.id?"bg-white/20":"bg-gray-200"}`,children:_.count})]},_.id))}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden min-h-[500px]",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-[#f9fafb] border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"User Details"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Last Active"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Projects"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Financials"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Risk"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Status"}),t.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:A.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:7,className:"p-8 text-center text-gray-400",children:"No users found matching your criteria."})}):A.map(_=>{var ve;const k=T(_.id),D=O(_.id),L=z(_.lastActive),R=M(_.spamScore||0),Y=(_.spamScore||0)>=60;return t.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${Y?"bg-red-50":""}`,children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-xs font-bold text-gray-500",children:_.name.charAt(0)}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-bold text-gray-900",children:_.name}),t.jsx("div",{className:"text-[10px] text-gray-400",children:_.email}),t.jsxs("div",{className:"text-[9px] text-gray-300 mt-0.5",children:["Joined: ",_.joinedDate]})]})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[L.isOnline&&t.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),t.jsx("span",{className:`text-[10px] font-medium ${L.isOnline?"text-green-600":"text-gray-500"}`,children:L.text})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("div",{className:"flex items-center gap-2 text-[10px] uppercase font-bold text-gray-600",children:[t.jsx(ga,{size:10,className:"text-[#ff4d00]"})," ",k.total," Total"]}),t.jsxs("div",{className:"flex flex-col gap-1 text-[9px] text-gray-400 font-medium mt-1",children:[t.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[t.jsx("div",{className:"w-1 h-1 rounded-full bg-green-500"}),k.active," Active"]}),k.demo>0&&t.jsxs("span",{className:"text-blue-500 flex items-center gap-1",children:[t.jsx(Lt,{size:8})," ",k.demo," Demo"]})]})]})}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsxs("div",{className:"text-sm font-black text-gray-900",children:["",_.balance.toFixed(2)]}),t.jsxs("div",{className:"text-[10px] text-gray-400 font-bold uppercase",children:["Spent: ",D.toFixed(0)]}),(_.affiliateEarnings||0)>0&&t.jsxs("div",{className:"text-[9px] text-[#ff4d00] font-bold flex items-center gap-1",children:[t.jsx(Dn,{size:8})," Aff: ",(ve=_.affiliateEarnings)==null?void 0:ve.toFixed(2)]})]}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-[9px] font-bold ${R.bg} ${R.text}`,children:[t.jsx(kn,{size:10}),R.label," (",_.spamScore||0,")"]}),(_.ipSharedWithCount||0)>0&&t.jsxs("span",{className:"text-[8px] text-orange-600 font-bold flex items-center gap-1",children:[t.jsx(ys,{size:8}),_.ipSharedWithCount," shared IP"]})]})}),t.jsx("td",{className:"px-6 py-4",children:_.status==="active"?t.jsxs("span",{className:"text-green-600 text-[10px] font-bold uppercase tracking-wide flex items-center gap-1",children:[t.jsx(ct,{size:10})," Active"]}):t.jsxs("span",{className:"text-red-600 text-[10px] font-bold uppercase tracking-wide flex items-center gap-1",children:[t.jsx(ZP,{size:10})," Suspended"]})}),t.jsx("td",{className:"px-6 py-4 text-right flex justify-end gap-3 items-center",children:t.jsxs("button",{onClick:()=>l(_.id),className:"bg-gray-100 hover:bg-black hover:text-white text-gray-600 px-4 py-2 text-[10px] font-bold uppercase tracking-wider transition-colors rounded-sm flex items-center gap-2",children:[t.jsx(lw,{size:12})," Edit"]})})]},_.id)})})]})}),X>1&&t.jsxs("div",{className:"p-4 border-t border-gray-200 bg-gray-50 flex items-center justify-between",children:[t.jsxs("div",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:["Page ",u," of ",X," (",U.length," Users)"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>m(Math.max(1,u-1)),disabled:u===1,className:"bg-white border border-gray-200 px-3 py-2 text-gray-600 hover:border-[#ff4d00] hover:text-[#ff4d00] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:t.jsx(ow,{size:14})}),t.jsx("div",{className:"flex gap-1",children:Array.from({length:Math.min(5,X)},(_,k)=>{let D=k+1;return X>5&&u>3&&(D=u-2+k),D>X?null:t.jsx("button",{onClick:()=>m(D),className:`w-8 h-8 text-xs font-bold flex items-center justify-center border transition-colors
                                            ${u===D?"bg-[#ff4d00] border-[#ff4d00] text-white":"bg-white border-gray-200 text-gray-600 hover:border-gray-300"}
                                        `,children:D},D)})}),t.jsx("button",{onClick:()=>m(Math.min(X,u+1)),disabled:u===X,className:"bg-white border border-gray-200 px-3 py-2 text-gray-600 hover:border-[#ff4d00] hover:text-[#ff4d00] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:t.jsx(Nc,{size:14})})]})]})]})]})},_k={billing:{bg:"bg-red-100",text:"text-red-600"},technical:{bg:"bg-blue-100",text:"text-blue-600"},urgent:{bg:"bg-orange-100",text:"text-orange-600"},feature:{bg:"bg-purple-100",text:"text-purple-600"},bug:{bg:"bg-red-100",text:"text-red-600"},default:{bg:"bg-gray-100",text:"text-gray-600"}},KL=({tickets:n,onRefresh:e,admins:s})=>{var be,Ue;const[r,i]=w.useState(null),[l,c]=w.useState(""),[f,u]=w.useState([]),[m,g]=w.useState([]),[b,v]=w.useState(""),[E,N]=w.useState("all"),[C,T]=w.useState(!1),[O,F]=w.useState(!1),[z,M]=w.useState([]),[U,X]=w.useState(!1),[A,P]=w.useState(null),[_,k]=w.useState(!0),[D,L]=w.useState([]),[R,Y]=w.useState(""),[ve,J]=w.useState(s||[]),[W,xe]=w.useState(!1),Ie=w.useRef(null),Ae=n||[],$=Ae.find(ee=>ee.id===r),ie=ee=>{var rr;const Me=(rr=ee.messages)==null?void 0:rr.filter(Us=>Us.sender!=="admin").pop(),Xe=Me?new Date(Me.date):new Date(ee.date),Gs=new Date().getTime()-Xe.getTime(),js=Math.floor(Gs/6e4);if(js<60)return{minutes:js,color:"bg-green-500",label:`${js}m`};if(js<240){const Us=Math.floor(js/60);return{minutes:js,color:"bg-yellow-500",label:`${Us}h`}}else{const Us=Math.floor(js/60);return{minutes:js,color:"bg-red-500",label:`${Us}h`}}},G=Ae.filter(ee=>C?ee.status==="archived":E==="all"?ee.status!=="archived":E==="open"?ee.status==="open":E==="pending"?ee.status==="pending":E==="in-progress"?ee.status==="in-progress":E==="closed"?ee.status==="closed":!0).filter(ee=>{var Me,Xe;return b===""||((Me=ee.subject)==null?void 0:Me.toLowerCase().includes(b.toLowerCase()))||((Xe=ee.userName)==null?void 0:Xe.toLowerCase().includes(b.toLowerCase()))}).sort((ee,Me)=>new Date(Me.date).getTime()-new Date(ee.date).getTime());w.useEffect(()=>{if(r){q.markTicketRead(r);const ee=Ae.find(Me=>Me.id===r);ee&&(L(ee.tags||[]),K(ee.userId)),e()}},[r]),w.useEffect(()=>{me(),H()},[]);const H=()=>{try{const ee=q.getAdmins();J(ee)}catch{J([])}},me=async()=>{const ee=await q.getTicketTemplates();M(ee)},K=async ee=>{try{const Me=await q.getUserStatsById(ee);P(Me)}catch{P(null)}},Te=async()=>{if(!(!l.trim()&&f.length===0||!r))try{await q.replyToTicket(r,l,"admin",f,U),c(""),u([]),X(!1),e()}catch(ee){console.error("Failed to send message:",ee)}},Re=async ee=>{if(r)try{await q.updateTicketPriority(r,ee),e()}catch(Me){console.error("Failed to update priority:",Me)}},Oe=async()=>{if(r&&confirm("Are you sure you want to permanently delete this ticket?"))try{await q.deleteTicket(r),i(null),e()}catch(ee){console.error("Failed to delete ticket:",ee)}},gt=ee=>{ee.target.files&&ee.target.files[0]&&u([...f,ee.target.files[0].name])},wt=ee=>{g(Me=>Me.includes(ee)?Me.filter(Xe=>Xe!==ee):[...Me,ee])},_t=()=>{m.length===G.length?g([]):g(G.map(ee=>ee.id))},kt=async ee=>{if(m.length!==0)try{await q.bulkUpdateTickets(m,ee),g([]),e()}catch(Me){console.error("Bulk action failed:",Me),alert("Failed to perform action. Please try again.")}},_e=async ee=>{if(r)try{await q.updateTicketStatus(r,ee),e()}catch(Me){console.error("Status change failed:",Me)}},Le=async()=>{if(r)try{await q.updateTicketStatus(r,"archived"),e()}catch(ee){console.error("Archive failed:",ee)}},xt=async()=>{if(r)try{await q.updateTicketStatus(r,"open"),e()}catch(ee){console.error("Unarchive failed:",ee)}},we=async ee=>{if(r)try{await q.assignTicket(r,ee),e()}catch(Me){console.error("Failed to assign ticket:",Me)}},se=async()=>{if(!R.trim()||!r)return;const ee=[...D,R.trim().toLowerCase()];L(ee);try{await q.updateTicketTags(r,ee),Y(""),e()}catch(Me){console.error("Failed to add tag:",Me)}},$e=async ee=>{if(!r)return;const Me=D.filter(Xe=>Xe!==ee);L(Me);try{await q.updateTicketTags(r,Me),e()}catch(Xe){console.error("Failed to remove tag:",Xe)}},tt=ee=>{var Me;c(Xe=>Xe+ee),F(!1),(Me=Ie.current)==null||Me.focus()},ae=ee=>_k[ee]||_k.default,It=ee=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(ee),ls=ee=>new Date(ee).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return t.jsxs("div",{className:"animate-in fade-in h-[calc(100vh-140px)] flex flex-col",children:[t.jsx("div",{className:"flex justify-between items-center mb-4",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Support Tickets"}),m.length>0&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:"text-xs font-bold text-gray-500",children:[m.length," selected"]}),t.jsx("button",{onClick:()=>kt("close"),className:"px-3 py-1.5 bg-green-500 text-white text-xs font-bold uppercase hover:bg-green-600 rounded-sm",children:"Close"}),t.jsx("button",{onClick:()=>kt("archive"),className:"px-3 py-1.5 bg-gray-500 text-white text-xs font-bold uppercase hover:bg-gray-600 rounded-sm",children:"Archive"}),t.jsx("button",{onClick:()=>kt("delete"),className:"px-3 py-1.5 bg-red-500 text-white text-xs font-bold uppercase hover:bg-red-600 rounded-sm",children:"Delete"})]})]})}),t.jsx("div",{className:"flex gap-1 mb-4 bg-gray-100 p-1 rounded-sm w-fit",children:[{id:"all",label:"All"},{id:"open",label:"Open"},{id:"in-progress",label:"In Progress"},{id:"pending",label:"Pending"},{id:"closed",label:"Closed"},{id:"archived",label:"Archived"}].map(ee=>t.jsx("button",{onClick:()=>{N(ee.id),T(ee.id==="archived")},className:`px-4 py-2 text-xs font-bold uppercase transition-colors rounded-sm ${E===ee.id?"bg-white text-black shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:ee.label},ee.id))}),t.jsx("div",{className:"flex gap-4 mb-4",children:t.jsxs("div",{className:"relative flex-1 max-w-md",children:[t.jsx("input",{value:b,onChange:ee=>v(ee.target.value),placeholder:"Search tickets...",className:"w-full bg-white border border-gray-200 pl-9 pr-4 py-2 text-xs font-bold outline-none focus:border-[#ff4d00]"}),t.jsx(jr,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"})]})}),t.jsxs("div",{className:"flex-1 bg-white border border-gray-200 shadow-sm flex overflow-hidden",children:[t.jsxs("div",{className:"w-[400px] border-r border-gray-200 flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200 bg-gray-50",children:[t.jsxs("button",{onClick:_t,className:"flex items-center gap-2 text-xs font-bold text-gray-500 hover:text-gray-700",children:[m.length===G.length&&G.length>0?t.jsx(Yl,{size:16}):t.jsx(Jd,{size:16}),"Select All"]}),t.jsxs("span",{className:"text-xs font-bold text-gray-400",children:[G.length," tickets"]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:G.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400 text-xs",children:"No conversations found."}):G.map(ee=>{var Me;return t.jsx("div",{onClick:()=>i(ee.id),className:`p-4 border-b border-gray-100 cursor-pointer transition-colors hover:bg-gray-50 ${r===ee.id?"bg-orange-50 border-l-4 border-l-[#ff4d00]":"border-l-4 border-l-transparent"}`,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("button",{onClick:Xe=>{Xe.stopPropagation(),wt(ee.id)},className:"mt-1 text-gray-400 hover:text-gray-600",children:m.includes(ee.id)?t.jsx(Yl,{size:16,className:"text-[#ff4d00]"}):t.jsx(Jd,{size:16})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex justify-between items-start mb-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`text-[9px] font-black uppercase px-1.5 py-0.5 rounded-sm ${ee.type==="chat"?"bg-blue-100 text-blue-600":"bg-gray-200 text-gray-600"}`,children:ee.type}),ee.assigneeName&&t.jsx("div",{className:"w-5 h-5 rounded-full bg-gray-300 flex items-center justify-center",children:t.jsx(un,{size:10,className:"text-white"})})]}),t.jsx("span",{className:"text-[10px] text-gray-400 font-bold",children:ee.date})]}),t.jsx("h4",{className:"text-sm font-bold text-gray-900 mb-1 truncate",children:ee.subject}),t.jsx("p",{className:"text-xs text-gray-500 truncate mb-2",children:ee.lastMessage}),t.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:(Me=ee.tags)==null?void 0:Me.slice(0,3).map(Xe=>t.jsx("span",{className:`text-[9px] font-bold px-1.5 py-0.5 rounded ${ae(Xe).bg} ${ae(Xe).text}`,children:Xe},Xe))}),t.jsxs("div",{className:"flex items-center justify-between mt-2",children:[t.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-bold text-gray-400 uppercase",children:[t.jsx(un,{size:10})," ",ee.userName]}),t.jsxs("div",{className:"flex items-center gap-2",children:[ee.status!=="closed"&&ee.status!=="archived"&&t.jsxs("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded text-[9px] font-bold text-white ${ie(ee).color}`,title:`Waiting for ${ie(ee).label}`,children:[t.jsx(Kt,{size:10}),ie(ee).label]}),ee.priority==="high"&&t.jsx("span",{className:"text-[9px] font-bold text-red-500 uppercase",children:"HIGH"})]})]})]})]})},ee.id)})})]}),$?t.jsxs("div",{className:"flex-1 flex flex-col h-full bg-[#fafafa]",children:[t.jsxs("div",{className:"bg-white p-4 border-b border-gray-200 flex justify-between items-start shadow-sm z-10",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-1",children:$.subject}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 flex-wrap",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(un,{size:14})," ",$.userName||"User"]}),t.jsx("span",{className:"text-gray-300",children:"|"}),t.jsxs("span",{className:"font-mono text-gray-400",children:["ID: ",$.id.slice(0,8)]}),$.projectName&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-gray-300",children:"|"}),t.jsx("span",{children:$.projectName})]})]}),t.jsxs("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[D.map(ee=>t.jsxs("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1 ${ae(ee).bg} ${ae(ee).text}`,children:[ee,t.jsx("button",{onClick:()=>$e(ee),children:t.jsx(mn,{size:10})})]},ee)),t.jsx("div",{className:"flex items-center gap-1",children:t.jsx("input",{value:R,onChange:ee=>Y(ee.target.value),onKeyDown:ee=>ee.key==="Enter"&&se(),placeholder:"+ tag",className:"w-16 text-[10px] px-1 py-0.5 border border-gray-200 rounded"})})]})]}),t.jsxs("div",{className:"flex flex-col items-end gap-2",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[$.status!=="archived"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>_e("open"),className:`p-1.5 rounded-sm transition-colors ${$.status==="open"?"bg-red-100 text-red-600":"text-gray-400 hover:text-red-500 hover:bg-red-50"}`,title:"Open",children:t.jsx(ok,{size:14})}),t.jsx("button",{onClick:()=>_e("in-progress"),className:`p-1.5 rounded-sm transition-colors ${$.status==="in-progress"?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-blue-500 hover:bg-blue-50"}`,title:"In Progress",children:t.jsx(sm,{size:14})}),t.jsx("button",{onClick:()=>_e("pending"),className:`p-1.5 rounded-sm transition-colors ${$.status==="pending"?"bg-amber-100 text-amber-600":"text-gray-400 hover:text-amber-500 hover:bg-amber-50"}`,title:"Pending",children:t.jsx(fO,{size:14})}),t.jsx("button",{onClick:()=>_e("closed"),className:`p-1.5 rounded-sm transition-colors ${$.status==="closed"?"bg-green-100 text-green-600":"text-gray-400 hover:text-green-500 hover:bg-green-50"}`,title:"Close",children:t.jsx(Yl,{size:14})}),t.jsx("div",{className:"h-4 w-px bg-gray-200 mx-1"}),t.jsx("button",{onClick:Le,className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-sm",title:"Archive",children:t.jsx(HP,{size:14})})]}),$.status==="archived"&&t.jsx("button",{onClick:xt,className:"p-1.5 text-gray-400 hover:text-blue-500 hover:bg-blue-50 rounded-sm",title:"Unarchive",children:t.jsx(ok,{size:14})})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>xe(!W),className:"flex items-center gap-1 px-2 py-1 text-[10px] font-bold uppercase border border-gray-200 rounded-sm hover:bg-gray-50",children:[$.assigneeName?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 rounded-full bg-[#ff4d00] flex items-center justify-center",children:t.jsx(un,{size:8,className:"text-white"})}),$.assigneeName]}):t.jsxs(t.Fragment,{children:[t.jsx(un,{size:12}),"Assign"]}),t.jsx(Hr,{size:10})]}),W&&t.jsx("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white border border-gray-200 shadow-lg rounded-sm z-50",children:t.jsxs("div",{className:"p-1",children:[t.jsx("button",{onClick:()=>{we(null),xe(!1)},className:"w-full text-left px-3 py-2 text-xs hover:bg-gray-100 rounded-sm",children:"Unassigned"}),ve.map(ee=>t.jsxs("button",{onClick:()=>{we(ee.id),xe(!1)},className:`w-full text-left px-3 py-2 text-xs hover:bg-gray-100 rounded-sm flex items-center gap-2 ${$.assigneeId===ee.id?"bg-orange-50 text-[#ff4d00]":""}`,children:[t.jsx("div",{className:"w-5 h-5 rounded-full bg-gray-200 flex items-center justify-center",children:t.jsx(un,{size:10})}),ee.name||ee.email]},ee.id))]})})]}),t.jsxs("select",{value:$.priority,onChange:ee=>Re(ee.target.value),className:`text-[10px] font-bold uppercase border border-gray-200 rounded-sm px-2 py-1 outline-none cursor-pointer ${$.priority==="high"?"text-red-500 border-red-200":"text-gray-500"}`,children:[t.jsx("option",{value:"low",children:"Low"}),t.jsx("option",{value:"medium",children:"Medium"}),t.jsx("option",{value:"high",children:"High"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>k(!_),className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-sm",title:"Toggle Customer Panel",children:t.jsx(Nr,{size:14})}),t.jsx("button",{onClick:Oe,className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-sm",children:t.jsx(ba,{size:14})})]})]})]}),t.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[t.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[t.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:(be=$.messages)==null?void 0:be.map(ee=>t.jsx("div",{className:`flex ${ee.sender==="admin"?"justify-end":"justify-start"}`,children:t.jsxs("div",{className:`max-w-[80%] ${ee.sender==="admin"?"items-end":"items-start"} flex flex-col`,children:[ee.isInternalNote&&t.jsxs("span",{className:"text-[10px] font-bold text-amber-500 uppercase mb-1 flex items-center gap-1",children:[t.jsx(Cf,{size:10})," Internal Note"]}),t.jsxs("div",{className:`p-4 shadow-sm text-sm leading-relaxed ${ee.isInternalNote?"bg-amber-50 text-gray-900 border border-amber-200 rounded-lg":ee.sender==="admin"?"bg-black text-white rounded-l-lg rounded-tr-lg":"bg-white text-gray-900 border border-gray-200 rounded-r-lg rounded-tl-lg"}`,children:[ee.text,ee.attachments&&ee.attachments.length>0&&t.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200/20 space-y-1",children:ee.attachments.map((Me,Xe)=>t.jsxs("div",{className:"flex items-center gap-2 text-xs opacity-80 bg-white/10 p-2 rounded-sm",children:[t.jsx(df,{size:12})," ",Me]},Xe))})]}),t.jsxs("span",{className:"text-[10px] text-gray-400 mt-1 font-bold uppercase tracking-wide",children:[ee.sender==="admin"?"You":$.userName,"  ",ee.date]})]})},ee.id))}),t.jsxs("div",{className:"p-4 bg-white border-t border-gray-200",children:[O&&z.length>0&&t.jsxs("div",{className:"mb-2 p-2 bg-gray-50 border border-gray-200 rounded-sm max-h-40 overflow-y-auto",children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase mb-2",children:"Quick Responses"}),z.map(ee=>t.jsxs("button",{onClick:()=>tt(ee.content),className:"w-full text-left px-2 py-1.5 text-xs hover:bg-gray-100 rounded-sm",children:[t.jsx("span",{className:"font-bold",children:ee.title}),t.jsxs("span",{className:"text-gray-400 ml-2",children:["/",ee.shortcut]})]},ee.id))]}),f.length>0&&t.jsx("div",{className:"flex gap-2 mb-2 flex-wrap",children:f.map((ee,Me)=>t.jsxs("div",{className:"bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-sm flex items-center gap-1",children:[ee," ",t.jsx("button",{onClick:()=>u(f.filter(Xe=>Xe!==ee)),children:t.jsx(mn,{size:12})})]},Me))}),t.jsxs("div",{className:"flex items-center gap-2 mb-2 text-xs",children:[t.jsxs("button",{onClick:()=>X(!U),className:`flex items-center gap-1 px-2 py-1 rounded-sm transition-colors ${U?"bg-amber-100 text-amber-700":"text-gray-400 hover:text-gray-600"}`,children:[U?t.jsx(Cf,{size:14}):t.jsx(kc,{size:14}),U?"Internal Note":"Reply"]}),t.jsx("div",{className:"h-3 w-px bg-gray-200"}),t.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600",children:t.jsx(aD,{size:14})}),t.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600",children:t.jsx(yO,{size:14})}),t.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600",children:t.jsx(EO,{size:14})}),t.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600",children:t.jsx(Af,{size:14})})]}),t.jsxs("div",{className:"flex gap-2 items-end",children:[t.jsxs("label",{className:"p-2 text-gray-400 hover:text-black cursor-pointer transition-colors",children:[t.jsx(df,{size:18}),t.jsx("input",{type:"file",className:"hidden",onChange:gt})]}),t.jsx("textarea",{ref:Ie,value:l,onChange:ee=>c(ee.target.value),onKeyDown:ee=>{ee.key==="/"&&l===""&&(ee.preventDefault(),F(!0)),ee.key==="Enter"&&!ee.shiftKey&&!O&&(ee.preventDefault(),Te())},placeholder:U?"Internal note (not visible to customer)...":"Type your reply... (type / for templates)",className:`flex-1 bg-[#f9fafb] border p-2 text-sm outline-none resize-none h-16 min-h-[48px] max-h-32 transition-colors ${U?"border-amber-200 focus:border-amber-400":"border-gray-200 focus:border-[#ff4d00]"}`}),t.jsx("button",{onClick:Te,disabled:!l&&f.length===0,className:`p-2.5 hover:opacity-80 transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${U?"bg-amber-500 text-white":"bg-[#ff4d00] text-white"}`,children:t.jsx(Qd,{size:18})})]})]})]}),_&&A&&t.jsxs("div",{className:"w-64 border-l border-gray-200 bg-white p-4 overflow-y-auto",children:[t.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Customer Info"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Plan"}),t.jsx("div",{className:`inline-block px-2 py-1 rounded-sm text-xs font-bold ${A.plan==="enterprise"?"bg-purple-100 text-purple-600":A.plan==="professional"?"bg-blue-100 text-blue-600":A.plan==="pro"?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600"}`,children:((Ue=A.plan)==null?void 0:Ue.toUpperCase())||"FREE"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Member Since"}),t.jsx("div",{className:"text-sm font-medium",children:ls(A.created_at)})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Lifetime Value"}),t.jsx("div",{className:"text-sm font-bold text-green-600",children:It(A.lifetime_value)})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Total Tickets"}),t.jsx("div",{className:"text-sm font-medium",children:A.total_tickets})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Open Tickets"}),t.jsx("div",{className:"text-sm font-medium",children:A.open_tickets})]}),t.jsx("div",{className:"pt-4 border-t border-gray-100",children:t.jsx("button",{className:"w-full px-3 py-2 bg-gray-100 text-gray-700 text-xs font-bold uppercase hover:bg-gray-200 rounded-sm",children:"View All Tickets"})})]})]})]})]}):t.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-300",children:[t.jsx(Gr,{size:64,className:"mb-4 opacity-20"}),t.jsx("p",{className:"text-sm font-medium",children:"Select a conversation to view details"})]})]})]})},WL=({projects:n,onEditProject:e,onEditUser:s,onBulkUpdate:r})=>{const[i,l]=w.useState(""),[c,f]=w.useState("all"),[u,m]=w.useState(new Set),[g,b]=w.useState(!1),[v,E]=w.useState(!1),[N,C]=w.useState({dateFrom:"",dateTo:"",tier:"",minHits:"",maxHits:"",minBalance:"",maxBalance:""}),[T,O]=w.useState([{key:"campaign",label:"Campaign",visible:!0,required:!0},{key:"email",label:"User Email",visible:!0},{key:"created",label:"Created",visible:!0},{key:"hits",label:"Total Hits",visible:!0},{key:"today",label:"Today",visible:!0},{key:"balance",label:"User Balance",visible:!0},{key:"tier",label:"Tier",visible:!0},{key:"expires",label:"Expires",visible:!0},{key:"status",label:"Status",visible:!0,required:!0},{key:"actions",label:"Actions",visible:!0,required:!0}]),F=w.useRef(null),z=G=>{try{return new URL(G).hostname.replace("www.","")}catch{return G}},M=G=>G?new Date(G).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"-",U=G=>G?new Date(G).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",X=G=>G==null?"0":G.toLocaleString(),A=(G,H)=>{const me=G||H;if(!me)return null;const K=new Date(me),Te=new Date;return Math.ceil((K.getTime()-Te.getTime())/(1e3*60*60*24))},P=G=>{const H=A(G.expiresAt,G.expires);return H!==null&&H>=0&&H<=7},_=G=>!G.totalTarget||G.totalTarget===0?0:Math.min(100,Math.round((G.totalHits||0)/G.totalTarget*100)),k=G=>{const H=(G||"").toLowerCase();return H==="economy"?"Economy":H==="professional"?"Professional":H==="expert"?"Expert":"Standard"},D=G=>{const H=(G||"").toLowerCase();return H==="economy"?"bg-green-100 text-green-700":H==="professional"?"bg-blue-100 text-blue-700":H==="expert"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-600"},L=[{key:"all",label:"All",count:n.length},{key:"active",label:"Active",count:n.filter(G=>G.status==="active").length,icon:t.jsx(tk,{size:14})},{key:"stopped",label:"Stopped",count:n.filter(G=>G.status==="stopped").length,icon:t.jsx(ek,{size:14})},{key:"completed",label:"Completed",count:n.filter(G=>G.status==="completed").length},{key:"flagged",label:"Flagged",count:n.filter(G=>G.isFlagged).length,icon:t.jsx(sk,{size:14})},{key:"expiring",label:"Expiring Soon",count:n.filter(P).length,icon:t.jsx(Kt,{size:14})},{key:"priority",label:"High Priority",count:n.filter(G=>(G.priority||0)>=5).length,icon:t.jsx(Lt,{size:14})}],R=w.useMemo(()=>n.filter(G=>{var Te,Re;const H=G.name.toLowerCase().includes(i.toLowerCase())||G.id.toLowerCase().includes(i.toLowerCase())||G.userEmail&&G.userEmail.toLowerCase().includes(i.toLowerCase())||((Te=G.settings)==null?void 0:Te.entryUrls)&&G.settings.entryUrls.toLowerCase().includes(i.toLowerCase())||G.tier&&G.tier.toLowerCase().includes(i.toLowerCase());let me=!0;switch(c){case"active":me=G.status==="active";break;case"stopped":me=G.status==="stopped";break;case"completed":me=G.status==="completed";break;case"flagged":me=!!G.isFlagged;break;case"expiring":me=P(G);break;case"priority":me=(G.priority||0)>=5;break}let K=!0;if(N.dateFrom){const Oe=G.createdAt?new Date(G.createdAt):null;Oe&&Oe<new Date(N.dateFrom)&&(K=!1)}if(N.dateTo){const Oe=G.createdAt?new Date(G.createdAt):null;Oe&&Oe>new Date(N.dateTo)&&(K=!1)}return N.tier&&((Re=G.tier)==null?void 0:Re.toLowerCase())!==N.tier.toLowerCase()&&(K=!1),N.minHits&&(G.totalHits||0)<parseInt(N.minHits)&&(K=!1),N.maxHits&&(G.totalHits||0)>parseInt(N.maxHits)&&(K=!1),N.minBalance&&(G.userBalance||0)<parseFloat(N.minBalance)&&(K=!1),N.maxBalance&&(G.userBalance||0)>parseFloat(N.maxBalance)&&(K=!1),H&&me&&K}),[n,i,c,N]),Y=()=>{u.size===R.length?m(new Set):m(new Set(R.map(G=>G.id)))},ve=G=>{const H=new Set(u);H.has(G)?H.delete(G):H.add(G),m(H)},J=G=>{if(u.size===0)return;const H={};switch(G){case"pause":H.status="stopped";break;case"activate":H.status="active";break;case"delete":break;case"priority":H.priority=5;break}r&&r(Array.from(u),H),m(new Set)},W=()=>{const G=["ID","Name","Email","Domain","Status","Tier","Total Hits","Today","Balance","Created","Expires"],H=R.map(Re=>{var Oe;return[Re.id,Re.name,Re.userEmail||"",(Oe=Re.settings)!=null&&Oe.entryUrls?z(Re.settings.entryUrls):"",Re.status,Re.tier||"",Re.totalHits||0,Re.hitsToday||0,Re.userBalance||0,Re.createdAt||"",Re.expiresAt||Re.expires||""]}),me=[G,...H].map(Re=>Re.map(Oe=>`"${String(Oe).replace(/"/g,'""')}"`).join(",")).join(`
`),K=new Blob([me],{type:"text/csv;charset=utf-8;"}),Te=document.createElement("a");Te.href=URL.createObjectURL(K),Te.download=`projects-export-${new Date().toISOString().split("T")[0]}.csv`,Te.click()},xe=G=>{navigator.clipboard.writeText(G)},Ie=G=>{O(H=>H.map(me=>me.key===G?{...me,visible:!me.visible}:me))},Ae=()=>{C({dateFrom:"",dateTo:"",tier:"",minHits:"",maxHits:"",minBalance:"",maxBalance:""})},$=Object.values(N).some(G=>G!==""),ie=T.filter(G=>G.visible);return t.jsxs("div",{className:"animate-in fade-in space-y-4",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Mission Control"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs("button",{onClick:W,className:"flex items-center gap-1.5 px-3 py-1.5 border border-gray-200 text-xs font-bold hover:bg-gray-50 transition-colors",children:[t.jsx(Ya,{size:14})," Export CSV"]}),t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>b(!g),className:"flex items-center gap-1.5 px-3 py-1.5 border border-gray-200 text-xs font-bold hover:bg-gray-50 transition-colors",children:[t.jsx(Bo,{size:14})," Columns",g?t.jsx(_c,{size:14}):t.jsx(Hr,{size:14})]}),g&&t.jsx("div",{className:"absolute right-0 top-full mt-1 bg-white border border-gray-200 shadow-lg z-20 p-3 min-w-[180px]",children:T.map(G=>t.jsxs("label",{className:"flex items-center gap-2 py-1 cursor-pointer hover:bg-gray-50 px-1",children:[t.jsx("input",{type:"checkbox",checked:G.visible,disabled:G.required,onChange:()=>Ie(G.key),className:"w-4 h-4"}),t.jsx("span",{className:"text-xs font-medium",children:G.label})]},G.key))})]})]})]}),t.jsx("div",{className:"flex gap-1 border-b border-gray-200 overflow-x-auto pb-px",children:L.map(G=>t.jsxs("button",{onClick:()=>f(G.key),className:`flex items-center gap-1.5 px-4 py-2.5 text-xs font-bold uppercase tracking-wide whitespace-nowrap border-b-2 transition-colors ${c===G.key?"border-[#ff4d00] text-[#ff4d00] bg-[#ff4d00]/5":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[G.icon,G.label,t.jsx("span",{className:`px-1.5 py-0.5 text-[10px] rounded ${c===G.key?"bg-[#ff4d00] text-white":"bg-gray-100 text-gray-500"}`,children:G.count})]},G.key))}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center justify-between",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[t.jsxs("div",{className:"relative group",children:[t.jsx(jr,{className:"absolute left-3 top-2.5 text-gray-400 group-focus-within:text-[#ff4d00]",size:16}),t.jsx("input",{type:"text",placeholder:"Search by Email, Domain, Name, ID, Tier...",value:i,onChange:G=>l(G.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 text-sm font-bold w-full sm:w-72 outline-none focus:border-[#ff4d00] transition-colors"})]}),t.jsxs("button",{onClick:()=>E(!v),className:`flex items-center gap-1.5 px-3 py-2 border text-sm font-bold transition-colors ${$?"border-[#ff4d00] text-[#ff4d00] bg-[#ff4d00]/5":"border-gray-200 hover:bg-gray-50"}`,children:[t.jsx(Sc,{size:14})," Advanced",$&&t.jsx("span",{className:"w-2 h-2 bg-[#ff4d00] rounded-full"})]})]}),u.size>0&&t.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-[#ff4d00]/5 border border-[#ff4d00]/20",children:[t.jsxs("span",{className:"text-xs font-bold text-[#ff4d00]",children:[u.size," selected"]}),t.jsx("button",{onClick:()=>J("activate"),className:"px-2 py-1 text-[10px] font-bold bg-green-100 text-green-700 hover:bg-green-200",children:"Activate"}),t.jsx("button",{onClick:()=>J("pause"),className:"px-2 py-1 text-[10px] font-bold bg-yellow-100 text-yellow-700 hover:bg-yellow-200",children:"Pause"}),t.jsx("button",{onClick:()=>J("priority"),className:"px-2 py-1 text-[10px] font-bold bg-purple-100 text-purple-700 hover:bg-purple-200",children:"High Priority"}),t.jsx("button",{onClick:()=>m(new Set),className:"p-1 hover:bg-gray-100",children:t.jsx(mn,{size:14})})]})]}),v&&t.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-4 grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-7 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Created From"}),t.jsx("input",{type:"date",value:N.dateFrom,onChange:G=>C({...N,dateFrom:G.target.value}),className:"w-full px-2 py-1.5 border border-gray-200 text-xs"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Created To"}),t.jsx("input",{type:"date",value:N.dateTo,onChange:G=>C({...N,dateTo:G.target.value}),className:"w-full px-2 py-1.5 border border-gray-200 text-xs"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Tier"}),t.jsxs("select",{value:N.tier,onChange:G=>C({...N,tier:G.target.value}),className:"w-full px-2 py-1.5 border border-gray-200 text-xs bg-white",children:[t.jsx("option",{value:"",children:"All Tiers"}),t.jsx("option",{value:"economy",children:"Economy"}),t.jsx("option",{value:"professional",children:"Professional"}),t.jsx("option",{value:"expert",children:"Expert"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Min Hits"}),t.jsx("input",{type:"number",placeholder:"0",value:N.minHits,onChange:G=>C({...N,minHits:G.target.value}),className:"w-full px-2 py-1.5 border border-gray-200 text-xs"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Max Hits"}),t.jsx("input",{type:"number",placeholder:"999999",value:N.maxHits,onChange:G=>C({...N,maxHits:G.target.value}),className:"w-full px-2 py-1.5 border border-gray-200 text-xs"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Min Balance"}),t.jsx("input",{type:"number",step:"0.01",placeholder:"0",value:N.minBalance,onChange:G=>C({...N,minBalance:G.target.value}),className:"w-full px-2 py-1.5 border border-gray-200 text-xs"})]}),t.jsx("div",{className:"flex items-end",children:t.jsx("button",{onClick:Ae,className:"px-3 py-1.5 text-xs font-bold text-gray-500 hover:text-gray-700 border border-gray-200 hover:bg-white",children:"Clear Filters"})})]}),t.jsx("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",ref:F,children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full min-w-[1200px]",children:[t.jsx("thead",{className:"bg-[#f9fafb] border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"w-10 px-3 py-3",children:t.jsx("button",{onClick:Y,className:"p-0.5",children:u.size===R.length&&R.length>0?t.jsx(Yl,{size:16,className:"text-[#ff4d00]"}):t.jsx(Jd,{size:16,className:"text-gray-400"})})}),ie.map(G=>t.jsx("th",{className:"px-4 py-3 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest whitespace-nowrap",children:G.label},G.key))]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:R.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:ie.length+1,className:"px-6 py-12 text-center text-gray-400 text-sm",children:"No campaigns found matching your criteria."})}):R.map(G=>{var K,Te,Re,Oe,gt,wt,_t,kt,_e,Le,xt,we;const H=A(G.expiresAt,G.expires),me=_(G);return t.jsxs("tr",{className:`hover:bg-gray-50 group transition-colors ${u.has(G.id)?"bg-[#ff4d00]/5":""}`,children:[t.jsx("td",{className:"w-10 px-3 py-3",children:t.jsx("button",{onClick:()=>ve(G.id),className:"p-0.5",children:u.has(G.id)?t.jsx(Yl,{size:16,className:"text-[#ff4d00]"}):t.jsx(Jd,{size:16,className:"text-gray-300"})})}),((K=T.find(se=>se.key==="campaign"))==null?void 0:K.visible)&&t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx("div",{className:"mt-0.5 p-1.5 bg-gray-100 rounded text-gray-500",children:t.jsx(Ts,{size:14})}),t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("span",{className:"text-sm font-bold text-gray-900 group-hover:text-[#ff4d00] transition-colors truncate",children:G.name}),G.isFlagged&&t.jsx(sk,{size:12,className:"text-red-500 fill-current"}),(G.priority||0)>=5&&t.jsx(Lt,{size:12,className:"text-yellow-500 fill-current"})]}),t.jsx("div",{className:"text-xs text-gray-500 font-mono mt-0.5 max-w-[200px] truncate",title:(Te=G.settings)==null?void 0:Te.entryUrls,children:(Re=G.settings)!=null&&Re.entryUrls?z(G.settings.entryUrls):"No URL"}),t.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[t.jsxs("span",{className:"text-[10px] text-gray-400 font-mono cursor-pointer hover:text-gray-600",onClick:()=>xe(G.id),title:"Click to copy",children:["ID: ",G.id.substring(0,8),"..."]}),t.jsx("button",{onClick:()=>xe(G.id),className:"p-0.5 hover:bg-gray-100 rounded",children:t.jsx(cn,{size:10,className:"text-gray-400"})})]})]})]})}),((Oe=T.find(se=>se.key==="email"))==null?void 0:Oe.visible)&&t.jsx("td",{className:"px-4 py-3",children:G.userEmail?t.jsxs("button",{onClick:()=>s&&s(G.userId),className:"flex items-center gap-1.5 text-xs font-medium text-gray-700 hover:text-[#ff4d00] transition-colors",title:"Click to view user",children:[t.jsx(xa,{size:12,className:"text-gray-400"}),t.jsx("span",{className:"truncate max-w-[150px]",children:G.userEmail})]}):t.jsx("span",{className:"text-xs text-gray-400",children:"-"})}),((gt=T.find(se=>se.key==="created"))==null?void 0:gt.visible)&&t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-600",children:[t.jsx(Uo,{size:12,className:"text-gray-400"}),t.jsx("span",{title:U(G.createdAt),children:M(G.createdAt)})]})}),((wt=T.find(se=>se.key==="hits"))==null?void 0:wt.visible)&&t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"min-w-[100px]",children:[t.jsxs("div",{className:"text-xs font-bold text-gray-700",children:[X(G.totalHits)," / ",X(G.totalTarget)]}),t.jsx("div",{className:"mt-1 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full rounded-full transition-all ${me>=100?"bg-green-500":me>=75?"bg-blue-500":"bg-[#ff4d00]"}`,style:{width:`${me}%`}})}),t.jsxs("div",{className:"text-[10px] text-gray-400 mt-0.5",children:[me,"%"]})]})}),((_t=T.find(se=>se.key==="today"))==null?void 0:_t.visible)&&t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:"text-xs font-bold text-gray-700",children:X(G.hitsToday)})}),((kt=T.find(se=>se.key==="balance"))==null?void 0:kt.visible)&&t.jsx("td",{className:"px-4 py-3",children:t.jsxs("span",{className:"text-xs font-bold text-gray-700",children:["$",(G.userBalance||0).toFixed(2)]})}),((_e=T.find(se=>se.key==="tier"))==null?void 0:_e.visible)&&t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:`inline-block px-2 py-0.5 text-[10px] font-bold uppercase tracking-wide rounded ${D(G.tier)}`,children:k(G.tier)})}),((Le=T.find(se=>se.key==="expires"))==null?void 0:Le.visible)&&t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(Kt,{size:12,className:`${H!==null&&H<=7?"text-yellow-500":"text-gray-400"}`}),t.jsx("span",{className:`text-xs ${H!==null&&H<=7?"text-yellow-700 font-bold":"text-gray-600"}`,children:M(G.expiresAt||G.expires)}),H!==null&&H<=7&&H>0&&t.jsxs("span",{className:"text-[10px] bg-yellow-100 text-yellow-700 px-1 rounded",children:[H,"d"]}),H!==null&&H<=0&&t.jsx("span",{className:"text-[10px] bg-red-100 text-red-700 px-1 rounded",children:"Expired"})]})}),((xt=T.find(se=>se.key==="status"))==null?void 0:xt.visible)&&t.jsx("td",{className:"px-4 py-3",children:t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-1 text-[9px] font-black uppercase tracking-wider rounded-full ${G.status==="active"?"bg-[#ff4d00]/10 text-[#ff4d00] ring-1 ring-[#ff4d00]/20":G.status==="completed"?"bg-green-100 text-green-700 ring-1 ring-green-600/20":"bg-gray-100 text-gray-500 ring-1 ring-gray-200"}`,children:[G.status==="active"?t.jsx(tk,{size:10,className:"fill-current"}):G.status==="stopped"?t.jsx(ek,{size:10}):null,G.status]})}),((we=T.find(se=>se.key==="actions"))==null?void 0:we.visible)&&t.jsx("td",{className:"px-4 py-3 text-right",children:t.jsxs("button",{onClick:()=>e(G.id),className:"bg-white border border-gray-200 hover:border-black hover:bg-black hover:text-white text-gray-600 px-3 py-1.5 text-[10px] font-bold uppercase tracking-wider transition-all rounded-sm inline-flex items-center gap-1.5 shadow-sm",children:[t.jsx(lw,{size:12})," Manage"]})})]},G.id)})})]})})}),t.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[t.jsxs("span",{children:["Showing ",R.length," of ",n.length," projects"]}),u.size>0&&t.jsxs("span",{children:[u.size," selected for bulk action"]})]})]})},YL=({transactions:n,onEditTransaction:e})=>t.jsxs("div",{className:"animate-in fade-in",children:[t.jsxs("div",{className:"flex justify-between items-end mb-6",children:[t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Global Transactions"}),t.jsxs("button",{className:"flex items-center gap-2 bg-white border border-gray-200 px-4 py-2 text-xs font-bold uppercase tracking-wider hover:border-[#ff4d00]",children:[t.jsx(Ya,{size:14})," Export CSV"]})]}),t.jsx("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-[#f9fafb] border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Trx ID"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Date"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"User ID"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Description"}),t.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Amount"}),t.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Action"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:n.map(s=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 text-xs font-mono text-gray-500",children:s.id}),t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-500",children:s.date}),t.jsx("td",{className:"px-6 py-4 text-xs font-mono text-gray-400",children:s.userId||"N/A"}),t.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:s.desc}),t.jsxs("td",{className:`px-6 py-4 text-sm font-black text-right ${s.type==="credit"?"text-green-600":"text-red-500"}`,children:[s.type==="credit"?"+":"-","",s.amount.toFixed(2)]}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("button",{onClick:()=>e(s.id),className:"bg-gray-100 hover:bg-black hover:text-white text-gray-600 px-3 py-1.5 text-[10px] font-bold uppercase tracking-wider transition-colors rounded-sm flex items-center gap-2 ml-auto",children:[t.jsx(lw,{size:12})," Edit"]})})]},s.id))})]})})]}),QL=({initialSettings:n,onSave:e})=>{const[s,r]=w.useState(n),i=()=>{q.saveSystemSettings(s),e(),alert("System settings updated.")};return t.jsxs("div",{className:"animate-in fade-in max-w-2xl",children:[t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight mb-6",children:"System Settings"}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm p-8 space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Site Name"}),t.jsx("input",{value:s.siteName,onChange:l=>r({...s,siteName:l.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Support Email"}),t.jsx("input",{value:s.supportEmail,onChange:l=>r({...s,supportEmail:l.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 focus:border-[#ff4d00] outline-none"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2 flex items-center gap-1",children:[t.jsx(Wd,{size:12})," SparkTraffic API Key"]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{value:s.sparkTrafficApiKey||"",onChange:l=>r({...s,sparkTrafficApiKey:l.target.value}),type:"password",className:"w-full bg-[#f9fafb] border border-gray-200 p-3 pl-10 text-sm font-mono text-gray-900 focus:border-[#ff4d00] outline-none",placeholder:"Enter API Key from v2.sparktraffic.com"}),t.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:t.jsx(Wd,{size:16})})]})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 bg-gray-50",children:[t.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Maintenance Mode"}),t.jsx("button",{onClick:()=>r({...s,maintenanceMode:!s.maintenanceMode}),className:`w-12 h-6 flex items-center p-1 transition-colors duration-300 ${s.maintenanceMode?"bg-[#ff4d00]":"bg-gray-300"}`,children:t.jsx("div",{className:`w-4 h-4 bg-white shadow-sm transform transition-transform duration-300 ${s.maintenanceMode?"translate-x-6":"translate-x-0"}`})})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 bg-gray-50",children:[t.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Allow New Registrations"}),t.jsx("button",{onClick:()=>r({...s,allowRegistrations:!s.allowRegistrations}),className:`w-12 h-6 flex items-center p-1 transition-colors duration-300 ${s.allowRegistrations?"bg-green-500":"bg-gray-300"}`,children:t.jsx("div",{className:`w-4 h-4 bg-white shadow-sm transform transition-transform duration-300 ${s.allowRegistrations?"translate-x-6":"translate-x-0"}`})})]}),t.jsx("div",{className:"pt-4 border-t border-gray-100",children:t.jsxs("button",{onClick:i,className:"bg-black text-white px-8 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[t.jsx(ya,{size:14})," Save Configuration"]})})]})]})},JL=({onRefresh:n})=>{const[e,s]=w.useState([]),[r,i]=w.useState(!1),[l,c]=w.useState(""),[f,u]=w.useState(""),[m,g]=w.useState("info"),[b,v]=w.useState(""),[E,N]=w.useState(""),[C,T]=w.useState(!1),[O,F]=w.useState(""),[z,M]=w.useState(""),U=60,X=250,A=async()=>{i(!0);const Y=await q.getAdminBroadcasts();s(Y),i(!1)};w.useEffect(()=>{A()},[]);const P=async()=>{if(!l.trim()||!f.trim())return;let Y;C&&O&&z&&(Y=new Date(`${O}T${z}`).toISOString()),await q.createBroadcast({title:l.substring(0,U),message:f.substring(0,X),type:m,isActive:!0,expiresAt:Y,actionUrl:b.trim()||void 0,actionText:E.trim()||void 0}),c(""),u(""),g("info"),v(""),N(""),T(!1),F(""),M(""),A(),n&&n()},_=async Y=>{await q.updateBroadcast(Y.id,{...Y,isActive:!Y.isActive}),A()},k=async Y=>{window.confirm("Are you sure you want to delete this broadcast?")&&(await q.deleteBroadcast(Y),A())},D=Y=>{if(c(Y.title),u(Y.message),g(Y.type),v(Y.actionUrl||""),N(Y.actionText||""),Y.expiresAt){const ve=new Date(Y.expiresAt);T(!0),F(ve.toISOString().split("T")[0]),M(ve.toTimeString().split(" ")[0].substring(0,5))}else T(!1);window.scrollTo({top:0,behavior:"smooth"})},L=Y=>{switch(Y){case"success":return"bg-green-500 border-green-500";case"warning":return"bg-orange-500 border-orange-500";case"critical":return"bg-red-500 border-red-500";default:return"bg-blue-500 border-blue-500"}},R=Y=>{switch(Y){case"success":return t.jsx(ct,{size:14,className:"text-white"});case"warning":return t.jsx(ys,{size:14,className:"text-white"});case"critical":return t.jsx(tc,{size:14,className:"text-white"});default:return t.jsx(nc,{size:14,className:"text-white"})}};return t.jsxs("div",{className:"animate-in fade-in",children:[t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight mb-6",children:"System Broadcasts"}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsx("div",{className:"lg:col-span-2",children:t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm mb-8",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Qb,{size:14})," Create New Broadcast"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsx(wd,{children:"Title / Headline"}),t.jsxs("span",{className:`text-[9px] font-bold ${l.length>U?"text-red-500":"text-gray-400"}`,children:[l.length,"/",U]})]}),t.jsx("input",{value:l,onChange:Y=>c(Y.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00] font-bold",placeholder:"e.g. Scheduled Maintenance",maxLength:U+10})]}),t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsx(wd,{children:"Message Body"}),t.jsxs("span",{className:`text-[9px] font-bold ${f.length>X?"text-red-500":"text-gray-400"}`,children:[f.length,"/",X]})]}),t.jsx("textarea",{value:f,onChange:Y=>u(Y.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00] font-medium h-24 resize-none",placeholder:"Detailed explanation...",maxLength:X+20})]}),t.jsxs("div",{className:"w-full md:w-48",children:[t.jsx(wd,{children:"Type"}),t.jsxs("select",{value:m,onChange:Y=>g(Y.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00]",children:[t.jsx("option",{value:"info",children:"Info (Blue)"}),t.jsx("option",{value:"success",children:"Success (Green)"}),t.jsx("option",{value:"warning",children:"Warning (Orange)"}),t.jsx("option",{value:"critical",children:"Critical (Red)"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t border-gray-50 pt-6",children:[t.jsxs("div",{children:[t.jsx(wd,{children:"Action URL (Optional)"}),t.jsx("input",{value:b,onChange:Y=>v(Y.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00]",placeholder:"https://example.com/blog"})]}),t.jsxs("div",{children:[t.jsx(wd,{children:"Action Button Text"}),t.jsx("input",{value:E,onChange:Y=>N(Y.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00]",placeholder:"Read More"})]})]}),t.jsxs("div",{className:"border-t border-gray-100 pt-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx(wd,{children:"Auto-Expire (Hidden after)"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>T(!C),className:`w-10 h-5 flex items-center p-0.5 transition-colors duration-300 ${C?"bg-[#ff4d00]":"bg-gray-300"}`,children:t.jsx("div",{className:`w-4 h-4 bg-white shadow-sm transform transition-transform duration-300 ${C?"translate-x-5":"translate-x-0"}`})}),t.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:C?"Enabled":"Disabled"})]})]}),C&&t.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-in fade-in slide-in-from-top-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase mb-1 block",children:"Expiry Date"}),t.jsx("input",{type:"date",value:O,onChange:Y=>F(Y.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] text-gray-400 font-bold uppercase mb-1 block",children:"Expiry Time"}),t.jsx("input",{type:"time",value:z,onChange:Y=>M(Y.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm outline-none focus:border-[#ff4d00]"})]})]})]}),t.jsxs("button",{onClick:P,disabled:l.length>U||f.length>X,className:"w-full bg-black text-white py-4 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:hover:bg-black",children:[t.jsx(Qb,{size:14})," Publish Broadcast"]})]})]})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-400",children:"Archived & Active"}),t.jsx("button",{onClick:A,className:"text-[10px] font-bold text-[#ff4d00] underline uppercase",children:"Refresh"})]}),t.jsxs("div",{className:"space-y-4",children:[r&&t.jsx("div",{className:"text-center p-4 text-gray-400 text-xs",children:"Loading..."}),!r&&e.length===0&&t.jsx("div",{className:"p-8 text-center text-gray-400 border border-gray-200 border-dashed bg-gray-50",children:"No broadcasts found."}),e.map(Y=>t.jsxs("div",{className:`p-6 border-l-4 shadow-sm bg-white relative group ${Y.isActive?L(Y.type).split(" ")[1]:"opacity-60 grayscale"}`,children:[t.jsxs("div",{className:"flex justify-between items-start mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:`flex items-center gap-1 text-[9px] font-black uppercase tracking-widest px-1.5 py-0.5 rounded-sm text-white ${L(Y.type).split(" ")[0]}`,children:[R(Y.type)," ",Y.type]}),t.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide",children:new Date(Y.createdAt).toLocaleDateString()})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>D(Y),className:"text-gray-300 hover:text-black transition-colors",title:"Duplicate Broadcast",children:t.jsx(cn,{size:14})}),t.jsx("button",{onClick:()=>k(Y.id),className:"text-gray-300 hover:text-red-500 transition-colors",children:t.jsx(ba,{size:14})})]})]}),t.jsx("h4",{className:"font-black text-sm uppercase mb-1",children:Y.title}),t.jsx("p",{className:"text-xs font-medium text-gray-600 mb-3",children:Y.message}),Y.actionUrl&&t.jsxs("div",{className:"mb-3 flex items-center gap-1 text-[10px] font-bold text-[#ff4d00] uppercase tracking-wider",children:[t.jsx(sc,{size:10})," ",Y.actionText||"Action",": ",t.jsx("span",{className:"text-gray-400 font-medium normal-case",children:Y.actionUrl})]}),t.jsxs("div",{className:"flex flex-col gap-2 pt-3 border-t border-gray-50 text-[10px] text-gray-500 font-bold uppercase transition-colors",children:[Y.expiresAt&&t.jsxs("div",{className:"flex items-center gap-1 text-[#ff4d00]",children:[t.jsx(Kt,{size:12})," Expires: ",new Date(Y.expiresAt).toLocaleString()]}),!Y.expiresAt&&t.jsxs("div",{className:"flex items-center gap-1 text-gray-400",children:[t.jsx(Kt,{size:12})," No Expiration"]})]}),t.jsx("div",{className:"mt-4",children:t.jsxs("button",{onClick:()=>_(Y),className:`text-xs font-bold uppercase flex items-center gap-2 ${Y.isActive?"text-green-600":"text-gray-400"}`,children:[Y.isActive?t.jsx(HM,{size:20}):t.jsx($M,{size:20}),Y.isActive?"Live":"Hidden"]})})]},Y.id))]})]})]})]})},wd=({children:n})=>t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:n}),XL=({onStartChat:n})=>{var E;const[e,s]=w.useState([]),[r,i]=w.useState(!0),[l,c]=w.useState(""),f=async()=>{const N=await q.getRealTimeVisitors();s(N),i(!1)};w.useEffect(()=>{f();const N=setInterval(f,1e4);return()=>clearInterval(N)},[]);const u=N=>{let T=q.getTickets().find(O=>(N.userId?O.userId===N.userId:!1)&&O.type==="chat"&&O.status!=="closed");if(!T){const O={id:`C-${Date.now().toString().slice(-4)}`,type:"chat",userId:N.userId||`guest-${Date.now()}`,userName:N.name,guestEmail:N.email!=="Unknown"?N.email:void 0,subject:"Admin Initiated Chat",status:"open",priority:"medium",date:new Date().toLocaleDateString(),lastMessage:"Admin started chat",unread:!1,messages:[{id:`m-${Date.now()}`,sender:"admin",text:"Hello! I noticed you are online. How can I help you today?",date:new Date().toLocaleString()}]};q.createTicket(O),T=O}n(T.id)},m=e.filter(N=>N.name.toLowerCase().includes(l.toLowerCase())||N.email.toLowerCase().includes(l.toLowerCase())||N.location.toLowerCase().includes(l.toLowerCase())),g=e.filter(N=>N.device==="Mobile").length,b=e.filter(N=>N.device==="Desktop").length,v=e.length>0?(E=e.sort((N,C)=>e.filter(T=>T.currentPage===N.currentPage).length-e.filter(T=>T.currentPage===C.currentPage).length).pop())==null?void 0:E.currentPage:"N/A";return t.jsxs("div",{className:"animate-in fade-in h-full flex flex-col",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-6 gap-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsxs("span",{className:"relative flex h-3 w-3",children:[t.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-500 opacity-75"}),t.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})]}),t.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-green-600",children:"Live Network Data"})]}),t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Real-Time Visitors"})]}),t.jsxs("div",{className:"flex gap-4 items-center",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"bg-white border border-gray-200 px-3 py-2 flex flex-col items-center min-w-[80px]",children:[t.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"Mobile"}),t.jsx("span",{className:"text-lg font-black text-gray-900",children:g})]}),t.jsxs("div",{className:"bg-white border border-gray-200 px-3 py-2 flex flex-col items-center min-w-[80px]",children:[t.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"Desktop"}),t.jsx("span",{className:"text-lg font-black text-gray-900",children:b})]}),t.jsxs("div",{className:"bg-white border border-gray-200 px-3 py-2 flex flex-col items-center min-w-[80px] hidden md:flex",children:[t.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"Top Page"}),t.jsx("span",{className:"text-xs font-black text-gray-900 truncate max-w-[80px]",children:v})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:"Search IP, Name...",value:l,onChange:N=>c(N.target.value),className:"bg-white border border-gray-200 pl-10 pr-4 py-3 text-sm outline-none focus:border-[#ff4d00] shadow-sm w-48"}),t.jsx(jr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:14})]})]})]}),e.length===0&&!r&&t.jsxs("div",{className:"bg-orange-50 border-l-4 border-orange-500 p-4 mb-6 flex items-center gap-3",children:[t.jsx(ys,{className:"text-orange-500",size:20}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-bold text-orange-800",children:"No active visitors"}),t.jsx("p",{className:"text-xs text-orange-700",children:"The database is currently empty of live sessions. Open the site in an Incognito window to see yourself appear here."})]})]}),t.jsx("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden flex-1",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-[#f9fafb] border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"User Identity"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Current Page"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Last Active"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Environment"}),t.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:r?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"p-12 text-center text-gray-400 animate-pulse",children:"Scanning live network..."})}):m.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"p-12 text-center text-gray-400",children:"No active users found matching your filter."})}):m.map(N=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-xs font-bold text-gray-500",children:N.name.charAt(0)}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-sm font-bold text-gray-900 flex items-center gap-2",children:[N.name,N.role==="guest"&&t.jsx("span",{className:"bg-gray-200 text-gray-600 text-[9px] px-1.5 py-0.5 rounded-sm uppercase",children:"Guest"})]}),t.jsx("div",{className:"text-[10px] text-gray-400",children:N.email}),t.jsxs("div",{className:"text-[9px] text-gray-300 mt-0.5 flex items-center gap-1",children:[t.jsx(Ts,{size:10})," ",N.location]})]})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),t.jsx("span",{className:"text-xs font-bold text-gray-700 font-mono bg-gray-100 px-2 py-1 rounded-sm",children:N.currentPage})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"text-xs font-bold text-gray-600 flex items-center gap-1",children:[t.jsx(Kt,{size:12,className:"text-gray-400"})," ",N.lastActive]})}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsxs("div",{className:"text-xs font-medium text-gray-600 flex items-center gap-2",children:[N.device.includes("Mobile")?t.jsx(dx,{size:14}):t.jsx(Yd,{size:14}),N.device," / ",N.browser]}),t.jsx("div",{className:"text-[10px] text-gray-400 font-mono mt-1",children:N.ip})]}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("button",{onClick:()=>u(N),className:"bg-black text-white px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2 ml-auto shadow-sm",children:[t.jsx(Gr,{size:12})," Chat"]})})]},N.id))})]})})})]})},ZL=({userId:n,onNavigateToProject:e,onUpdate:s})=>{var ie,G;const[r,i]=w.useState(null),[l,c]=w.useState([]),[f,u]=w.useState([]),[m,g]=w.useState([]),[b,v]=w.useState(!0),[E,N]=w.useState(null),[C,T]=w.useState(""),[O,F]=w.useState("economy"),[z,M]=w.useState(""),[U,X]=w.useState(!1);Fe.useEffect(()=>{A()},[n]);const A=async()=>{v(!0),N(null);try{const[H,me,K,Te]=await Promise.all([q.getUserDetails(n),q.getUserTransactions(n),q.getUserProjects(n),q.getBalanceAdjustments(n)]);i(H),c(me),u(K),g(Te)}catch(H){console.error("Failed to load user data:",H),N("Failed to load user data. Please try again.")}v(!1)},P=async()=>{if(!C||!z){alert("Please enter amount and reason");return}try{await q.addBonusHits(n,{tier:O,hits:parseInt(C),reason:z}),alert("Bonus hits added successfully"),X(!1),T(""),M(""),A(),s()}catch(H){alert(H.message||"Failed to add bonus hits")}},_=async()=>{if(confirm("Send password reset email to user?"))try{await q.sendPasswordReset(n),alert("Password reset email sent")}catch{alert("Failed to send password reset")}},k=async()=>{if(confirm("Resend verification email to user?"))try{await q.resendVerification(n),alert("Verification email sent")}catch{alert("Failed to send verification email")}},D=async()=>{if(confirm("Regenerate API key? This will invalidate the old key."))try{const H=await q.adminRegenerateApiKey(n);alert(`New API Key: ${H}`),A()}catch{alert("Failed to regenerate API key")}},L=async()=>{try{const H=await q.adminExportUserData(n),me=new Blob([JSON.stringify(H,null,2)],{type:"application/json"}),K=URL.createObjectURL(me),Te=document.createElement("a");Te.href=K,Te.download=`user_${n}_export.json`,Te.click(),URL.revokeObjectURL(K)}catch{alert("Failed to export user data")}},R=async()=>{if(!(r!=null&&r.user))return;const H=prompt("Enter suspension reason:");if(!H)return;const me={...r.user,status:"suspended",banReason:H};await q.updateUser(me),A(),s()},Y=async()=>{if(confirm("Log in as this user?"))try{await q.startImpersonation(n),window.location.href="/dashboard"}catch{alert("Failed to start impersonation")}};if(b)return t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."});if(E)return t.jsxs("div",{className:"p-8 text-center text-red-500",children:[t.jsx("div",{className:"font-bold mb-2",children:"Error"}),E,t.jsx("button",{onClick:A,className:"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-xs font-bold uppercase",children:"Retry"})]});if(!r)return t.jsx("div",{className:"p-8 text-center text-gray-500",children:"No user details found."});const{user:ve,tierBalances:J,totalSpent:W,totalHitsPurchased:xe,totalHitsUsed:Ie,referralsCount:Ae,referralEarnings:$}=r;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(ga,{size:16,className:"text-gray-400"}),t.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Economy"})]}),t.jsx("div",{className:"text-2xl font-black text-gray-900",children:J.economy.toLocaleString()}),t.jsx("div",{className:"text-xs text-gray-400",children:"hits available"})]}),t.jsxs("div",{className:"bg-white border border-orange-200 p-6 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Tf,{size:16,className:"text-orange-500"}),t.jsx("span",{className:"text-xs font-bold text-orange-500 uppercase",children:"Professional"})]}),t.jsx("div",{className:"text-2xl font-black text-gray-900",children:J.professional.toLocaleString()}),t.jsx("div",{className:"text-xs text-gray-400",children:"hits available"})]}),t.jsxs("div",{className:"bg-[#111] p-6 shadow-lg",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Lt,{size:16,className:"text-[#ff4d00]"}),t.jsx("span",{className:"text-xs font-bold text-[#ff4d00] uppercase",children:"Expert"})]}),t.jsx("div",{className:"text-2xl font-black text-white",children:J.expert.toLocaleString()}),t.jsx("div",{className:"text-xs text-gray-400",children:"hits available"})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 mb-4",children:"Spending Summary"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-6",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Total Deposited"}),t.jsxs("div",{className:"text-xl font-black text-green-600",children:["",W.toFixed(2)]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Hits Purchased"}),t.jsx("div",{className:"text-xl font-black text-gray-900",children:xe.toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Hits Used"}),t.jsx("div",{className:"text-xl font-black text-gray-900",children:Ie.toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Referrals"}),t.jsx("div",{className:"text-xl font-black text-gray-900",children:Ae})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Referral Earnings"}),t.jsxs("div",{className:"text-xl font-black text-green-600",children:["",$.toFixed(2)]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 mb-4",children:"Quick Actions"}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsxs("button",{onClick:()=>X(!U),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white text-xs font-bold uppercase hover:bg-green-700 transition-colors",children:[t.jsx(er,{size:14})," Add Bonus Hits"]}),t.jsxs("button",{onClick:_,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-xs font-bold uppercase hover:bg-blue-700 transition-colors",children:[t.jsx(Wd,{size:14})," Send Password Reset"]}),t.jsxs("button",{onClick:k,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white text-xs font-bold uppercase hover:bg-purple-700 transition-colors",children:[t.jsx(Ur,{size:14})," Resend Verification"]}),t.jsxs("button",{onClick:D,className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white text-xs font-bold uppercase hover:bg-gray-700 transition-colors",children:[t.jsx(Wd,{size:14})," Regenerate API Key"]}),t.jsxs("button",{onClick:Y,className:"flex items-center gap-2 px-4 py-2 bg-[#ff4d00] text-white text-xs font-bold uppercase hover:bg-orange-700 transition-colors",children:[t.jsx(NT,{size:14})," Login As User"]}),t.jsxs("button",{onClick:L,className:"flex items-center gap-2 px-4 py-2 bg-gray-800 text-white text-xs font-bold uppercase hover:bg-gray-900 transition-colors",children:[t.jsx(Ya,{size:14})," Export Data"]}),ve.status==="active"?t.jsxs("button",{onClick:R,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white text-xs font-bold uppercase hover:bg-red-700 transition-colors",children:[t.jsx(ys,{size:14})," Suspend Account"]}):t.jsxs("button",{onClick:async()=>{const H={...ve,status:"active",banReason:""};await q.updateUser(H),A(),s()},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white text-xs font-bold uppercase hover:bg-green-700 transition-colors",children:[t.jsx(kn,{size:14})," Reactivate Account"]})]}),U&&t.jsx("div",{className:"mt-4 p-4 bg-green-50 border border-green-200",children:t.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Tier"}),t.jsxs("select",{value:O,onChange:H=>F(H.target.value),className:"w-full p-2 text-sm border border-gray-200",children:[t.jsx("option",{value:"economy",children:"Economy"}),t.jsx("option",{value:"professional",children:"Professional"}),t.jsx("option",{value:"expert",children:"Expert"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Hits"}),t.jsx("input",{type:"number",value:C,onChange:H=>T(H.target.value),placeholder:"50000",className:"w-full p-2 text-sm border border-gray-200"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Reason"}),t.jsx("input",{type:"text",value:z,onChange:H=>M(H.target.value),placeholder:"Bonus for testing",className:"w-full p-2 text-sm border border-gray-200"})]}),t.jsx("div",{className:"flex items-end",children:t.jsx("button",{onClick:P,className:"w-full py-2 bg-green-600 text-white text-xs font-bold uppercase hover:bg-green-700",children:"Add Hits"})})]})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(Kd,{size:14})," Recent Projects (",f.length,")"]})}),f.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"No projects found"}):t.jsx("div",{className:"divide-y divide-gray-50",children:f.slice(0,5).map(H=>{var me;return t.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-gray-50 cursor-pointer",onClick:()=>e(H.id),children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-bold text-gray-900",children:H.name}),t.jsxs("div",{className:"text-xs text-gray-400",children:[H.tier,"  Created ",(me=H.createdAt)==null?void 0:me.split("T")[0]]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("span",{className:`px-2 py-1 text-[10px] font-bold uppercase ${H.status==="active"?"bg-green-100 text-green-700":H.status==="stopped"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:H.status}),t.jsx(Nc,{size:16,className:"text-gray-400"})]})]},H.id)})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(ki,{size:14})," Recent Transactions (",l.length,")"]})}),l.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"No transactions found"}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Description"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Tier"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Hits"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-right",children:"Amount"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:l.slice(0,5).map(H=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-3 text-xs text-gray-600 font-mono",children:H.date}),t.jsx("td",{className:"px-6 py-3 text-xs text-gray-900",children:H.desc}),t.jsx("td",{className:"px-6 py-3 text-xs font-bold uppercase",children:H.tier||"-"}),t.jsx("td",{className:"px-6 py-3 text-xs font-bold",children:H.hits?H.hits.toLocaleString():"-"}),t.jsxs("td",{className:`px-6 py-3 text-xs font-bold text-right ${H.type==="credit"?"text-green-600":"text-gray-900"}`,children:[H.type==="credit"?"+":"-","",H.amount.toFixed(2)]})]},H.id))})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(vT,{size:14})," Balance Adjustments (",m.length,")"]})}),m.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"No balance adjustments found"}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Admin"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Type"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Tier"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Hits"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Reason"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:m.slice(0,5).map(H=>{var me;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-3 text-xs text-gray-600 font-mono",children:H.createdAt?new Date(H.createdAt).toLocaleString():"-"}),t.jsx("td",{className:"px-6 py-3 text-xs text-gray-900",children:H.adminEmail||"System"}),t.jsx("td",{className:"px-6 py-3 text-xs font-bold uppercase",children:t.jsx("span",{className:H.adjustmentType==="credit"?"text-green-600":"text-red-600",children:H.adjustmentType})}),t.jsx("td",{className:"px-6 py-3 text-xs font-bold uppercase",children:H.tier||"-"}),t.jsx("td",{className:"px-6 py-3 text-xs font-bold",children:t.jsxs("span",{className:H.adjustmentType==="credit"?"text-green-600":"text-red-600",children:[H.adjustmentType==="credit"?"+":"-",((me=H.hits)==null?void 0:me.toLocaleString())||"0"]})}),t.jsx("td",{className:"px-6 py-3 text-xs text-gray-600",children:H.reason||"-"})]},H.id)})})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(Ts,{size:14})," Login History"]}),((ie=r==null?void 0:r.user)==null?void 0:ie.lastIp)&&t.jsxs("span",{className:"text-xs text-gray-400",children:["Last IP: ",t.jsx("span",{className:"font-mono text-gray-600",children:r.user.lastIp})]})]}),!((G=r==null?void 0:r.user)!=null&&G.loginHistory)||r.user.loginHistory.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"No login history found"}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"IP Address"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Device"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Type"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:r.user.loginHistory.map((H,me)=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-3 text-xs text-gray-600 font-mono",children:H.date||"-"}),t.jsx("td",{className:"px-6 py-3 text-xs font-mono text-gray-900",children:H.ip||"-"}),t.jsxs("td",{className:"px-6 py-3 text-xs text-gray-600 flex items-center gap-2",children:[t.jsx(Yd,{size:12,className:"text-gray-400"}),t.jsx("span",{className:"truncate max-w-[300px]",title:H.device,children:H.device||"-"})]}),t.jsx("td",{className:"px-6 py-3 text-xs",children:t.jsx("span",{className:`px-2 py-1 text-[10px] font-bold uppercase rounded ${H.type==="registration"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:H.type||"login"})})]},me))})]})]})]})},ez=({userId:n})=>{const[e,s]=w.useState([]),[r,i]=w.useState(!0),[l,c]=w.useState(null),[f,u]=w.useState("all"),[m,g]=w.useState("all"),[b,v]=w.useState(1),E=20;w.useEffect(()=>{N()},[n]);const N=async()=>{i(!0),c(null);try{const M=await q.getUserTransactions(n);s(M)}catch(M){console.error("Failed to load transactions:",M),c("Failed to load transactions.")}i(!1)},C=e.filter(M=>!(f!=="all"&&M.type!==f||m!=="all"&&M.tier!==m)),T=Math.ceil(C.length/E),O=C.slice((b-1)*E,b*E),F=M=>{if(!M)return t.jsx("span",{className:"text-gray-400",children:"-"});const U={economy:"bg-gray-100 text-gray-600",professional:"bg-orange-100 text-orange-600",expert:"bg-[#ff4d00]/10 text-[#ff4d00]"};return t.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${U[M]||"bg-gray-100 text-gray-600"}`,children:M})},z=()=>{const M=["Date","Description","Tier","Hits","Amount","Status"],U=C.map(P=>[P.date,P.desc,P.tier||"",P.hits||"",P.amount.toFixed(2),P.status]),X="data:text/csv;charset=utf-8,"+M.join(",")+`
`+U.map(P=>P.join(",")).join(`
`),A=document.createElement("a");A.href=encodeURI(X),A.download=`transactions_${n}.csv`,A.click()};return r?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):l?t.jsxs("div",{className:"p-8 text-center text-red-500",children:[t.jsx("div",{className:"font-bold mb-2",children:"Error"}),l,t.jsx("button",{onClick:N,className:"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-xs font-bold uppercase",children:"Retry"})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-white border border-gray-200 p-4 shadow-sm",children:t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Sc,{size:14,className:"text-gray-400"}),t.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Filters:"})]}),t.jsxs("select",{value:f,onChange:M=>{u(M.target.value),v(1)},className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase",children:[t.jsx("option",{value:"all",children:"All Types"}),t.jsx("option",{value:"credit",children:"Credits"}),t.jsx("option",{value:"debit",children:"Debits"})]}),t.jsxs("select",{value:m,onChange:M=>{g(M.target.value),v(1)},className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase",children:[t.jsx("option",{value:"all",children:"All Tiers"}),t.jsx("option",{value:"economy",children:"Economy"}),t.jsx("option",{value:"professional",children:"Professional"}),t.jsx("option",{value:"expert",children:"Expert"})]}),t.jsx("div",{className:"flex-1"}),t.jsxs("button",{onClick:z,className:"flex items-center gap-2 px-4 py-2 bg-gray-800 text-white text-xs font-bold uppercase hover:bg-gray-900",children:[t.jsx(Ya,{size:14})," Export CSV"]})]})}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:[t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Description"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Tier"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Hits"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-right",children:"Amount"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-center",children:"Status"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:O.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-400",children:"No transactions found"})}):O.map(M=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 text-xs text-gray-600 font-mono",children:M.date}),t.jsx("td",{className:"px-6 py-4 text-xs font-medium text-gray-900",children:M.desc}),t.jsx("td",{className:"px-6 py-4",children:F(M.tier)}),t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-900",children:M.hits?t.jsxs("span",{className:M.type==="credit"?"text-green-600":"text-red-600",children:[M.type==="credit"?"+":"-",M.hits.toLocaleString()]}):"-"}),t.jsxs("td",{className:`px-6 py-4 text-sm font-bold text-right ${M.type==="credit"?"text-green-600":"text-gray-900"}`,children:[M.type==="credit"?"+":"-","",M.amount.toFixed(2)]}),t.jsx("td",{className:"px-6 py-4 text-center",children:t.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${M.status==="completed"?"bg-green-100 text-green-700":M.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:M.status})})]},M.id))})]}),T>1&&t.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between",children:[t.jsxs("div",{className:"text-xs text-gray-500",children:["Showing ",(b-1)*E+1," to ",Math.min(b*E,C.length)," of ",C.length]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>v(M=>Math.max(1,M-1)),disabled:b===1,className:"p-2 border border-gray-200 disabled:opacity-50",children:t.jsx(ow,{size:14})}),t.jsxs("span",{className:"text-xs font-bold",children:["Page ",b," of ",T]}),t.jsx("button",{onClick:()=>v(M=>Math.min(T,M+1)),disabled:b===T,className:"p-2 border border-gray-200 disabled:opacity-50",children:t.jsx(Nc,{size:14})})]})]})]})]})},tz=({userId:n,onNavigateToProject:e})=>{const[s,r]=w.useState([]),[i,l]=w.useState(!0),[c,f]=w.useState(null),[u,m]=w.useState("all"),[g,b]=w.useState("all");w.useEffect(()=>{v()},[n]);const v=async()=>{l(!0),f(null);try{const T=await q.getUserProjects(n);r(T)}catch(T){console.error("Failed to load projects:",T),f("Failed to load projects.")}l(!1)},E=s.filter(T=>!(u!=="all"&&T.status!==u||g!=="all"&&T.tier!==g)),N=T=>{const O={active:"bg-green-100 text-green-700",stopped:"bg-yellow-100 text-yellow-700",completed:"bg-gray-100 text-gray-700"};return t.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${O[T||""]||"bg-gray-100 text-gray-700"}`,children:T||"unknown"})},C=T=>{if(!T)return t.jsx("span",{className:"text-gray-400",children:"-"});const O={economy:"bg-gray-100 text-gray-600",professional:"bg-orange-100 text-orange-600",expert:"bg-[#ff4d00]/10 text-[#ff4d00]"};return t.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${O[T]||"bg-gray-100 text-gray-600"}`,children:T})};return i?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):c?t.jsxs("div",{className:"p-8 text-center text-red-500",children:[t.jsx("div",{className:"font-bold mb-2",children:"Error"}),c,t.jsx("button",{onClick:v,className:"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-xs font-bold uppercase",children:"Retry"})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-white border border-gray-200 p-4 shadow-sm",children:t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Sc,{size:14,className:"text-gray-400"}),t.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Filters:"})]}),t.jsxs("select",{value:u,onChange:T=>m(T.target.value),className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"stopped",children:"Stopped"}),t.jsx("option",{value:"completed",children:"Completed"})]}),t.jsxs("select",{value:g,onChange:T=>b(T.target.value),className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase",children:[t.jsx("option",{value:"all",children:"All Tiers"}),t.jsx("option",{value:"economy",children:"Economy"}),t.jsx("option",{value:"professional",children:"Professional"}),t.jsx("option",{value:"expert",children:"Expert"})]}),t.jsx("div",{className:"flex-1"}),t.jsxs("span",{className:"text-xs text-gray-500",children:[E.length," projects"]})]})}),t.jsx("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:E.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400",children:"No projects found"}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Name"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Tier"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Hits Sent"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Target"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Created"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Expires"}),t.jsx("th",{className:"px-6 py-3"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:E.map(T=>{var O,F,z;return t.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>e(T.id),children:[t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"font-bold text-gray-900",children:T.name})}),t.jsx("td",{className:"px-6 py-4",children:N(T.status)}),t.jsx("td",{className:"px-6 py-4",children:C(T.tier)}),t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-900",children:(O=T.customTarget)!=null&&O.totalVisitors?T.customTarget.totalVisitors.toLocaleString():"-"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:(F=T.customTarget)!=null&&F.dailyLimit?`${T.customTarget.dailyLimit.toLocaleString()}/day`:"-"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-500 font-mono",children:((z=T.createdAt)==null?void 0:z.split("T")[0])||"-"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-500 font-mono",children:T.expires||"-"}),t.jsx("td",{className:"px-6 py-4",children:t.jsx(Nc,{size:16,className:"text-gray-400"})})]},T.id)})})]})})]})},sz=({userId:n})=>{const[e,s]=w.useState([]),[r,i]=w.useState(!0),[l,c]=w.useState(null),[f,u]=w.useState(null),[m,g]=w.useState(""),[b,v]=w.useState("all");w.useEffect(()=>{E()},[n]);const E=async()=>{i(!0),c(null);try{const O=await q.getUserTickets(n);s(O)}catch(O){console.error("Failed to load tickets:",O),c("Failed to load tickets.")}i(!1)},N=e.filter(O=>!(b!=="all"&&O.status!==b)),C=O=>{const F={open:"bg-green-100 text-green-700","in-progress":"bg-blue-100 text-blue-700",closed:"bg-gray-100 text-gray-700"};return t.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${F[O||""]||"bg-gray-100 text-gray-700"}`,children:O||"open"})},T=O=>{const F={low:"bg-gray-100 text-gray-600",medium:"bg-yellow-100 text-yellow-700",high:"bg-red-100 text-red-700"};return t.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${F[O||""]||"bg-gray-100 text-gray-600"}`,children:O||"low"})};return r?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):l?t.jsxs("div",{className:"p-8 text-center text-red-500",children:[t.jsx("div",{className:"font-bold mb-2",children:"Error"}),l,t.jsx("button",{onClick:E,className:"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-xs font-bold uppercase",children:"Retry"})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-white border border-gray-200 p-4 shadow-sm",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Filter:"}),t.jsxs("select",{value:b,onChange:O=>v(O.target.value),className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"open",children:"Open"}),t.jsx("option",{value:"in-progress",children:"In Progress"}),t.jsx("option",{value:"closed",children:"Closed"})]}),t.jsx("div",{className:"flex-1"}),t.jsxs("span",{className:"text-xs text-gray-500",children:[N.length," tickets"]})]})}),t.jsx("div",{className:"space-y-4",children:N.length===0?t.jsx("div",{className:"bg-white border border-gray-200 p-8 text-center text-gray-400",children:"No tickets found"}):N.map(O=>t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"p-4 flex items-center justify-between cursor-pointer hover:bg-gray-50",onClick:()=>u(f===O.id?null:O.id),children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(Gr,{size:16,className:"text-gray-400"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-bold text-gray-900",children:O.subject}),t.jsxs("div",{className:"text-xs text-gray-400",children:["Created: ",O.date]})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[T(O.priority),C(O.status),f===O.id?t.jsx(_c,{size:16}):t.jsx(Hr,{size:16})]})]}),f===O.id&&t.jsxs("div",{className:"border-t border-gray-100",children:[t.jsx("div",{className:"p-4 max-h-96 overflow-y-auto space-y-4",children:O.messages&&O.messages.length>0?O.messages.map((F,z)=>t.jsxs("div",{className:`p-3 rounded ${F.sender==="admin"?"bg-blue-50 ml-8":"bg-gray-50 mr-8"}`,children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("span",{className:`text-[10px] font-bold uppercase ${F.sender==="admin"?"text-blue-600":"text-gray-600"}`,children:F.sender==="admin"?"Support":"User"}),t.jsx("span",{className:"text-[10px] text-gray-400",children:F.date})]}),t.jsx("div",{className:"text-sm text-gray-700",children:F.text})]},z)):t.jsx("div",{className:"text-center text-gray-400 text-sm",children:"No messages yet"})}),O.status!=="closed"&&t.jsxs("div",{className:"p-4 border-t border-gray-100 flex gap-2",children:[t.jsx("input",{type:"text",value:m,onChange:F=>g(F.target.value),placeholder:"Type your reply...",className:"flex-1 p-3 border border-gray-200 text-sm"}),t.jsx("button",{className:"px-4 py-2 bg-[#ff4d00] text-white text-xs font-bold uppercase hover:bg-orange-700",children:t.jsx(Qd,{size:14})})]})]})]},O.id))})]})},nz=({userId:n,onUpdate:e})=>{const[s,r]=w.useState([]),[i,l]=w.useState([]),[c,f]=w.useState([]),[u,m]=w.useState(!0),[g,b]=w.useState(null);w.useEffect(()=>{v()},[n]);const v=async()=>{m(!0),b(null);try{const[N,C,T]=await Promise.all([q.getUserSessions(n),q.getImpersonationLog(n),q.getBalanceAdjustments(n)]);r(N),l(C),f(T)}catch(N){console.error("Failed to load security data:",N),b("Failed to load security data.")}m(!1)},E=async N=>{if(confirm("Terminate this session? User will be logged out."))try{await q.terminateUserSession(n,N),v()}catch{alert("Failed to terminate session")}};return u?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):g?t.jsxs("div",{className:"p-8 text-center text-red-500",children:[t.jsx("div",{className:"font-bold mb-2",children:"Error"}),g,t.jsx("button",{onClick:v,className:"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-xs font-bold uppercase",children:"Retry"})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(Yd,{size:14})," Active Sessions"]}),t.jsxs("span",{className:"text-xs text-gray-400",children:[s.length," active"]})]}),s.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400",children:"No active sessions"}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"IP Address"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Device"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Location"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Last Activity"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Expires"}),t.jsx("th",{className:"px-6 py-3"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:s.map(N=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 text-xs font-mono text-gray-900",children:N.ipAddress||"Unknown"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-600 truncate max-w-[200px]",children:N.userAgent?N.userAgent.substring(0,50)+"...":"Unknown"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-600",children:N.location||"-"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:N.lastActivity?new Date(N.lastActivity).toLocaleString():"-"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:N.expiresAt?new Date(N.expiresAt).toLocaleString():"-"}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("button",{onClick:()=>E(N.id),className:"text-red-500 hover:text-red-700",title:"Terminate Session",children:t.jsx(ba,{size:14})})})]},N.id))})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"p-6 border-b border-gray-100",children:t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(kn,{size:14})," Impersonation Log"]})}),i.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400",children:"No impersonation history"}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Admin"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Action"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"IP Address"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:i.map(N=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:N.createdAt?new Date(N.createdAt).toLocaleString():"-"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-900",children:N.adminEmail||N.adminId}),t.jsx("td",{className:"px-6 py-4 text-xs",children:t.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${N.action==="start"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:N.action})}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:N.ipAddress||"-"})]},N.id))})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsx("div",{className:"p-6 border-b border-gray-100",children:t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(Wd,{size:14})," Balance Adjustment History"]})}),c.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400",children:"No balance adjustments"}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Admin"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Type"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Tier"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Hits"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase",children:"Reason"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:c.map(N=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:N.createdAt?new Date(N.createdAt).toLocaleString():"-"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-900",children:N.adminEmail||"System"}),t.jsx("td",{className:"px-6 py-4 text-xs",children:t.jsx("span",{className:`px-2 py-1 text-[9px] font-bold uppercase ${N.adjustmentType==="credit"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:N.adjustmentType})}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-600 uppercase",children:N.tier||"-"}),t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-900",children:N.hits?`${N.adjustmentType==="credit"?"+":"-"}${N.hits.toLocaleString()}`:"-"}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-600",children:N.reason||"-"})]},N.id))})]})]})]})},rz={login:{label:"Login",icon:"",color:"bg-green-50"},logout:{label:"Logout",icon:"",color:"bg-gray-50"},project_created:{label:"Project Created",icon:"",color:"bg-blue-50"},project_started:{label:"Project Started",icon:"",color:"bg-green-50"},project_stopped:{label:"Project Stopped",icon:"",color:"bg-yellow-50"},project_deleted:{label:"Project Deleted",icon:"",color:"bg-red-50"},purchase:{label:"Purchase",icon:"",color:"bg-green-50"},balance_adjusted:{label:"Balance Adjusted",icon:"",color:"bg-orange-50"},api_key_regenerated:{label:"API Key Regenerated",icon:"",color:"bg-purple-50"},settings_change:{label:"Settings Changed",icon:"",color:"bg-gray-50"},password_change:{label:"Password Changed",icon:"",color:"bg-blue-50"},ticket_created:{label:"Ticket Created",icon:"",color:"bg-indigo-50"},ticket_reply:{label:"Ticket Reply",icon:"",color:"bg-indigo-50"},impersonation_start:{label:"Impersonation Started",icon:"",color:"bg-red-50"},impersonation_end:{label:"Impersonation Ended",icon:"",color:"bg-red-50"}},az=({userId:n})=>{const[e,s]=w.useState([]),[r,i]=w.useState(!0),[l,c]=w.useState(null),[f,u]=w.useState("all"),[m,g]=w.useState(null);w.useEffect(()=>{b()},[n]);const b=async()=>{i(!0),c(null);try{const C=await q.getUserActivity(n,100,0,f!=="all"?f:void 0);s(C)}catch(C){console.error("Failed to load activities:",C),c("Failed to load activities.")}i(!1)};w.useEffect(()=>{b()},[f]);const v=e,E=C=>rz[C]||{label:C,icon:"",color:"bg-gray-50"},N=Array.from(new Set(e.map(C=>C.actionType)));return r?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):l?t.jsxs("div",{className:"p-8 text-center text-red-500",children:[t.jsx("div",{className:"font-bold mb-2",children:"Error"}),l,t.jsx("button",{onClick:b,className:"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-xs font-bold uppercase",children:"Retry"})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-white border border-gray-200 p-4 shadow-sm",children:t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Sc,{size:14,className:"text-gray-400"}),t.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Filter:"})]}),t.jsxs("select",{value:f,onChange:C=>u(C.target.value),className:"text-xs border border-gray-200 px-3 py-1.5 bg-white font-bold uppercase",children:[t.jsx("option",{value:"all",children:"All Activities"}),N.map(C=>t.jsx("option",{value:C,children:E(C).label},C))]}),t.jsx("div",{className:"flex-1"}),t.jsxs("span",{className:"text-xs text-gray-500",children:[v.length," activities"]})]})}),t.jsx("div",{className:"bg-white border border-gray-200 shadow-sm",children:v.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400",children:"No activity recorded yet"}):t.jsx("div",{className:"divide-y divide-gray-50",children:v.map(C=>{const T=E(C.actionType);return t.jsx("div",{className:"p-4 hover:bg-gray-50 cursor-pointer",onClick:()=>g(m===C.id?null:C.id),children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-lg ${T.color}`,children:T.icon}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-bold text-gray-900",children:T.label}),t.jsx("span",{className:"ml-2 text-xs text-gray-400",children:C.createdAt?new Date(C.createdAt).toLocaleString():""})]}),m===C.id?t.jsx(_c,{size:16,className:"text-gray-400"}):t.jsx(Hr,{size:16,className:"text-gray-400"})]}),C.ipAddress&&t.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["IP: ",C.ipAddress]}),m===C.id&&C.actionDetail&&Object.keys(C.actionDetail).length>0&&t.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded text-xs",children:[t.jsx("div",{className:"font-bold text-gray-500 mb-1",children:"Details:"}),t.jsx("pre",{className:"text-gray-600 whitespace-pre-wrap",children:JSON.stringify(C.actionDetail,null,2)})]}),m===C.id&&C.userAgent&&t.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded text-xs",children:[t.jsx("div",{className:"font-bold text-gray-500 mb-1",children:"User Agent:"}),t.jsx("div",{className:"text-gray-600 truncate",children:C.userAgent})]})]})]})},C.id)})})})]})},iz=({userId:n,onUpdate:e})=>{const[s,r]=w.useState(!0),[i,l]=w.useState(null),[c,f]=w.useState(null),[u,m]=w.useState(""),[g,b]=w.useState(""),[v,E]=w.useState("user"),[N,C]=w.useState("active"),[T,O]=w.useState("free"),[F,z]=w.useState(""),[M,U]=w.useState(!1),[X,A]=w.useState(!1),[P,_]=w.useState(!1);w.useEffect(()=>{k()},[n]);const k=async()=>{r(!0),l(null);try{const L=await q.getUserDetails(n);if(L&&L.user){const R=L.user;f(R),m(R.email||""),b(R.name||""),E(R.role||"user"),C(R.status||"active"),O(R.plan||"free"),U(R.isVerified||!1)}}catch(L){console.error("Failed to load user profile:",L),l("Failed to load user profile.")}r(!1)},D=async()=>{_(!0);try{const L={email:u,name:g,role:v,status:N,plan:T,is_verified:M};F&&(L.password=F),await q.adminUpdateUser(n,L),z(""),e&&e(),alert("Profile updated successfully")}catch(L){console.error("Failed to update profile:",L),alert("Failed to update profile")}_(!1)};return s?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading profile..."}):i?t.jsxs("div",{className:"p-8 text-center text-red-500",children:[t.jsx("div",{className:"font-bold mb-2",children:"Error"}),i,t.jsx("button",{onClick:k,className:"mt-4 px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-xs font-bold uppercase",children:"Retry"})]}):t.jsx("div",{className:"space-y-6 max-w-4xl",children:t.jsxs("div",{className:"bg-white border boundary-gray-200 p-6 shadow-sm rounded-lg",children:[t.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center gap-2",children:[t.jsx("span",{className:"text-[#ff4d00]",children:""})," User Profile"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"col-span-2",children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"User ID"}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("input",{type:"text",value:n,readOnly:!0,className:"w-full bg-gray-50 border border-gray-200 p-2 text-sm text-gray-500 font-mono"})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Email Address"}),t.jsx("input",{type:"email",value:u,onChange:L=>m(L.target.value),className:"w-full border border-gray-300 p-2 text-sm focus:border-[#ff4d00] focus:ring-1 focus:ring-[#ff4d00] outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Display Name"}),t.jsx("input",{type:"text",value:g,onChange:L=>b(L.target.value),className:"w-full border border-gray-300 p-2 text-sm focus:border-[#ff4d00] focus:ring-1 focus:ring-[#ff4d00] outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Role"}),t.jsxs("select",{value:v,onChange:L=>E(L.target.value),className:"w-full border border-gray-300 p-2 text-sm focus:border-[#ff4d00] focus:ring-1 focus:ring-[#ff4d00] outline-none",children:[t.jsx("option",{value:"user",children:"User"}),t.jsx("option",{value:"admin",children:"Admin"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Account Status"}),t.jsxs("select",{value:N,onChange:L=>C(L.target.value),className:"w-full border border-gray-300 p-2 text-sm focus:border-[#ff4d00] focus:ring-1 focus:ring-[#ff4d00] outline-none",children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"suspended",children:"Suspended"}),t.jsx("option",{value:"banned",children:"Banned"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Subscription Plan"}),t.jsxs("select",{value:T,onChange:L=>O(L.target.value),className:"w-full border border-gray-300 p-2 text-sm focus:border-[#ff4d00] focus:ring-1 focus:ring-[#ff4d00] outline-none",children:[t.jsx("option",{value:"free",children:"Free"}),t.jsx("option",{value:"pro",children:"Pro"}),t.jsx("option",{value:"agency",children:"Agency"})]})]}),t.jsx("div",{className:"flex items-center mt-6",children:t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:M,onChange:L=>U(L.target.checked),className:"w-4 h-4 text-[#ff4d00] focus:ring-[#ff4d00] border-gray-300 rounded"}),t.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Email Verified"})]})}),t.jsxs("div",{className:"col-span-2 border-t border-gray-100 pt-6 mt-2",children:[t.jsx("h4",{className:"text-sm font-bold text-gray-900 mb-4 flex items-center gap-2",children:" Password Management"}),t.jsxs("div",{className:"bg-orange-50 p-4 rounded border border-orange-100",children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Set New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:X?"text":"password",value:F,onChange:L=>z(L.target.value),placeholder:"Enter new password to change...",className:"w-full border border-gray-300 p-2 pr-10 text-sm focus:border-[#ff4d00] focus:ring-1 focus:ring-[#ff4d00] outline-none"}),t.jsx("button",{type:"button",onClick:()=>A(!X),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:X?t.jsx(Cf,{size:16}):t.jsx(kc,{size:16})})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Leave blank to keep current password. Providing a value will update the password immediately upon save."})]})]})]}),t.jsx("div",{className:"mt-8 flex justify-end",children:t.jsxs("button",{onClick:D,disabled:P,className:"bg-[#ff4d00] text-white px-6 py-3 text-sm font-bold uppercase tracking-wider hover:bg-[#e64500] transition-colors flex items-center gap-2 disabled:opacity-50",children:[P?t.jsx(Ur,{className:"animate-spin",size:16}):t.jsx(ya,{size:16}),"Save Profile"]})})]})})},oz=({userId:n,onUpdate:e})=>{const[s,r]=w.useState(null),[i,l]=w.useState([]),[c,f]=w.useState(!0),[u,m]=w.useState(!1),[g,b]=w.useState("economy"),[v,E]=w.useState("credit"),[N,C]=w.useState(""),[T,O]=w.useState(""),[F,z]=w.useState(""),[M,U]=w.useState(null);w.useEffect(()=>{X()},[n]);const X=async()=>{f(!0);try{const[L,R]=await Promise.all([q.getUserDetails(n),q.getBalanceAdjustments(n)]);r(L),l(R)}catch(L){console.error("Failed to load credits data:",L)}f(!1)},A=async()=>{if(!N||parseInt(N)<=0){U("Please enter a valid hit count");return}if(!T.trim()){U("Please provide a reason");return}m(!0),U(null);try{await q.adjustUserBalance(n,{adjustmentType:v,tier:g,amount:0,hits:parseInt(N),reason:T.trim(),notes:F.trim()||void 0}),C(""),O(""),z(""),await X(),e()}catch(L){U(L.message||"Failed to adjust balance. Please try again.")}m(!1)};if(c)return t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."});if(!s)return t.jsx("div",{className:"p-8 text-center text-gray-500",children:"No user details found."});const{tierBalances:P}=s,_=L=>{switch(L){case"economy":return t.jsx(ga,{size:16,className:"text-gray-400"});case"professional":return t.jsx(Tf,{size:16,className:"text-orange-500"});case"expert":return t.jsx(Lt,{size:16,className:"text-[#ff4d00]"});default:return null}},k=L=>{switch(L){case"economy":return"Economy";case"professional":return"Professional";case"expert":return"Expert";default:return L}},D=L=>{switch(L){case"economy":return"border-gray-200";case"professional":return"border-orange-200";case"expert":return"border-[#ff4d00]/30 bg-[#111]";default:return"border-gray-200"}};return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"grid grid-cols-3 gap-4",children:["economy","professional","expert"].map(L=>t.jsxs("div",{className:`bg-white border ${D(L)} p-6 shadow-sm `,children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[_(L),t.jsx("span",{className:`text-xs font-bold uppercase ${L==="expert"?"text-[#ff4d00]":L==="professional"?"text-orange-500":"text-gray-400"}`,children:k(L)})]}),t.jsx("div",{className:`text-2xl font-black ${L==="expert"?"text-white":"text-gray-900"}`,children:P[L].toLocaleString()}),t.jsx("div",{className:"text-xs text-gray-400",children:"hits available"})]},L))}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 mb-4 flex items-center gap-2",children:[v==="credit"?t.jsx(er,{size:14}):t.jsx(ik,{size:14}),"Adjust Balance"]}),M&&t.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 text-xs flex items-center gap-2",children:[t.jsx(Kn,{size:14}),M]}),t.jsxs("div",{className:"grid grid-cols-6 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Tier"}),t.jsxs("select",{value:g,onChange:L=>b(L.target.value),className:"w-full p-2 text-sm border border-gray-200 focus:border-[#ff4d00] focus:outline-none",children:[t.jsx("option",{value:"economy",children:"Economy"}),t.jsx("option",{value:"professional",children:"Professional"}),t.jsx("option",{value:"expert",children:"Expert"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Operation"}),t.jsxs("select",{value:v,onChange:L=>E(L.target.value),className:"w-full p-2 text-sm border border-gray-200 focus:border-[#ff4d00] focus:outline-none",children:[t.jsx("option",{value:"credit",children:"Add"}),t.jsx("option",{value:"debit",children:"Remove"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Hits"}),t.jsx("input",{type:"number",value:N,onChange:L=>C(L.target.value),placeholder:"10000",min:"1",className:"w-full p-2 text-sm border border-gray-200 focus:border-[#ff4d00] focus:outline-none"})]}),t.jsxs("div",{className:"col-span-2",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Reason *"}),t.jsx("input",{type:"text",value:T,onChange:L=>O(L.target.value),placeholder:"Compensation for bug",className:"w-full p-2 text-sm border border-gray-200 focus:border-[#ff4d00] focus:outline-none"})]}),t.jsx("div",{className:"flex items-end",children:t.jsxs("button",{onClick:A,disabled:u,className:`w-full py-2 text-white text-xs font-bold uppercase transition-colors flex items-center justify-center gap-2
                                ${v==="credit"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"} ${u?"opacity-50 cursor-not-allowed":""}`,children:[u?t.jsx(Ur,{size:14,className:"animate-spin"}):v==="credit"?t.jsx(er,{size:14}):t.jsx(ik,{size:14}),v==="credit"?"Add Hits":"Remove Hits"]})})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Notes (optional)"}),t.jsx("input",{type:"text",value:F,onChange:L=>z(L.target.value),placeholder:"Additional details about this adjustment...",className:"w-full p-2 text-sm border border-gray-200 focus:border-[#ff4d00] focus:outline-none"})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(vT,{size:14})," Adjustment History"]}),t.jsxs("span",{className:"text-xs text-gray-400",children:[i.length," records"]})]}),i.length===0?t.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"No adjustments yet"}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-left",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-left",children:"Type"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-left",children:"Tier"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-right",children:"Hits"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-left",children:"Reason"}),t.jsx("th",{className:"px-6 py-3 text-[10px] font-bold text-gray-500 uppercase text-left",children:"Admin"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:i.map(L=>{var R;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-3 text-xs text-gray-600 font-mono",children:L.createdAt?new Date(L.createdAt).toLocaleDateString():"-"}),t.jsx("td",{className:"px-6 py-3 text-xs",children:t.jsx("span",{className:`px-2 py-0.5 text-[10px] font-bold uppercase rounded ${L.adjustmentType==="credit"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:L.adjustmentType==="credit"?"Added":"Removed"})}),t.jsx("td",{className:"px-6 py-3 text-xs font-bold uppercase",children:L.tier||"-"}),t.jsxs("td",{className:`px-6 py-3 text-xs font-bold text-right ${L.adjustmentType==="credit"?"text-green-600":"text-red-600"}`,children:[L.adjustmentType==="credit"?"+":"-",((R=L.hits)==null?void 0:R.toLocaleString())||"0"]}),t.jsx("td",{className:"px-6 py-3 text-xs text-gray-900 max-w-[200px] truncate",children:L.reason||"-"}),t.jsx("td",{className:"px-6 py-3 text-xs text-gray-500",children:L.adminEmail||"-"})]},L.id)})})]})]})]})},lz=[{id:"overview",label:"Overview",icon:t.jsx(un,{size:16})},{id:"profile",label:"Profile",icon:t.jsx(un,{size:16})},{id:"credits",label:"Credits",icon:t.jsx(DD,{size:16})},{id:"transactions",label:"Transactions",icon:t.jsx(xn,{size:16})},{id:"projects",label:"Projects",icon:t.jsx(aO,{size:16})},{id:"tickets",label:"Tickets",icon:t.jsx(FM,{size:16})},{id:"security",label:"Security",icon:t.jsx(kn,{size:16})},{id:"activity",label:"Activity",icon:t.jsx(br,{size:16})}],cz=({userId:n,onBack:e,onUpdate:s})=>{const[r,i]=w.useState(null),[l,c]=w.useState("overview"),[f,u]=w.useState(!0);w.useEffect(()=>{m()},[n]);const m=async()=>{u(!0);try{const v=await q.getUserDetails(n);v&&v.user&&i(v.user)}catch(v){console.error(v)}u(!1)},g=v=>{window.location.href=`/admin/projects/edit/${v}`},b=async()=>{if(r)try{await q.startImpersonation(r.id),window.location.href="/dashboard"}catch(v){console.error("Failed to impersonate",v),alert("Failed to start impersonation session. Please try again.")}};return f?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading user details..."}):r?t.jsxs("div",{className:"animate-in fade-in space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-gray-500 hover:text-[#ff4d00] text-xs font-bold uppercase tracking-wide transition-colors",children:[t.jsx(Zn,{size:14})," Back to Users"]}),t.jsx("div",{className:"flex items-center gap-2"})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm flex items-center justify-between rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-5",children:[t.jsx("div",{className:"w-14 h-14 bg-[#ff4d00] rounded-full flex items-center justify-center shadow-md",children:t.jsx("span",{className:"font-black text-white text-xl",children:r.name?r.name.charAt(0).toUpperCase():r.email.charAt(0).toUpperCase()})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-bold text-gray-900 text-xl",children:r.name||"Unnamed User"}),t.jsx("div",{className:"text-sm text-gray-500 font-mono",children:r.email}),t.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[t.jsx("span",{className:`px-2 py-0.5 text-[10px] font-bold uppercase rounded border ${r.status==="active"?"bg-green-50 text-green-600 border-green-200":"bg-red-50 text-red-600 border-red-200"}`,children:r.status}),t.jsx("span",{className:`px-2 py-0.5 text-[10px] font-bold uppercase rounded border ${r.role==="admin"?"bg-purple-50 text-purple-600 border-purple-200":"bg-gray-50 text-gray-600 border-gray-200"}`,children:r.role}),t.jsxs("span",{className:"px-2 py-0.5 text-[10px] font-bold uppercase rounded border bg-blue-50 text-blue-600 border-blue-200",children:[r.plan," Plan"]})]})]})]}),t.jsx("div",{className:"flex items-center gap-3",children:t.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-5 py-2.5 bg-black text-white text-xs font-bold uppercase hover:bg-gray-800 transition-colors border border-black shadow-sm",children:[t.jsx(NT,{size:14})," Login As User"]})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm rounded-lg overflow-hidden",children:[t.jsx("div",{className:"flex overflow-x-auto border-b border-gray-100",children:lz.map(v=>t.jsxs("button",{onClick:()=>c(v.id),className:`flex items-center gap-2 px-6 py-4 text-xs font-bold uppercase tracking-wider border-b-2 transition-all whitespace-nowrap
                                ${l===v.id?"border-[#ff4d00] text-[#ff4d00] bg-orange-50/50":"border-transparent text-gray-500 hover:text-gray-900 hover:bg-gray-50"}`,children:[t.jsx("span",{className:l===v.id?"text-[#ff4d00]":"text-gray-400",children:v.icon}),t.jsx("span",{children:v.label})]},v.id))}),t.jsx("div",{className:"p-6 bg-gray-50/30 min-h-[400px]",children:t.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 duration-300",children:[l==="overview"&&t.jsx(ZL,{userId:n,onNavigateToProject:g,onUpdate:s}),l==="profile"&&t.jsx(iz,{userId:n,onUpdate:()=>{m(),s()}}),l==="credits"&&t.jsx(oz,{userId:n,onUpdate:s}),l==="transactions"&&t.jsx(ez,{userId:n}),l==="projects"&&t.jsx(tz,{userId:n,onNavigateToProject:g}),l==="tickets"&&t.jsx(sz,{userId:n}),l==="security"&&t.jsx(nz,{userId:n,onUpdate:s}),l==="activity"&&t.jsx(az,{userId:n})]})})]})]}):t.jsx("div",{className:"p-8 text-center text-red-500",children:"User not found"})},dz=({projectId:n,onBack:e,onUpdate:s})=>{var X,A,P,_;const[r,i]=w.useState(null),[l,c]=w.useState(!1),[f,u]=w.useState(!0),[m,g]=w.useState([]),[b,v]=w.useState(""),[E,N]=w.useState(""),[C,T]=w.useState(""),[O,F]=w.useState(100);if(w.useEffect(()=>{(async()=>{try{const D=await q.getGeoLocations();g(D)}catch(D){console.error("Failed to load geo locations:",D)}})()},[]),w.useEffect(()=>{u(!0);const k=q.getProjectById(n);if(k){const D=JSON.parse(JSON.stringify(k));D.settings||(D.settings={bounceRate:0,returnRate:0,deviceSplit:70,deviceSpecific:"All",timeOnPage:"3 minutes",timezone:"UTC",language:"en-US",languages:["en-US"],gaId:"",entryUrls:"",innerUrls:"",exitUrls:"",autoCrawlEntry:!1,autoCrawlInner:!1,autoCrawlExit:!1,innerUrlCount:0,countries:["United States"],geoTargets:[{id:"default-geo",country:"United States",countryCode:"US",percent:100}],trafficSource:"organic",keywords:"",referralUrls:"",utmSource:"",utmMedium:"",utmCampaign:"",utmTerm:"",utmContent:"",sitemap:"",shortener:"",autoRenew:!1,cacheWebsite:!1,minimizeCpu:!1,randomizeSession:!0,antiFingerprint:!0,pageViewsWithScroll:0,clickExternal:0,clickInternal:0,adminPriority:0,adminWeight:1,forceStopReason:""}),D.settings.languages||(D.settings.languages=[D.settings.language||"en-US"]),D.settings.countries||(D.settings.countries=["United States"]),D.settings.geoTargets||(D.settings.geoTargets=[{id:"default-geo",country:"United States",countryCode:"US",percent:100}]),D.settings.geoTargets=D.settings.geoTargets.map(L=>{var R;return{...L,countryCode:L.countryCode||((R=Fr.find(Y=>Y.name===L.country))==null?void 0:R.code)||""}}),i(D)}u(!1)},[n]),f)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"text-gray-500",children:"Loading project..."})});if(!r||!r.settings)return t.jsx("div",{children:"Project not found."});const z=()=>{r&&(c(!0),setTimeout(()=>{q.updateProject(r),c(!1),s(),alert("Project configuration saved successfully.")},500))},M=(k,D)=>{!r||!r.settings||i({...r,settings:{...r.settings,[k]:D}})};if(!r||!r.settings)return t.jsx("div",{children:"Project not found."});const U=r.settings;return t.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 space-y-6 pb-12",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4 sticky top-0 bg-[#f3f4f6] z-10 py-4 border-b border-gray-200",children:[t.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-gray-500 hover:text-black text-xs font-bold uppercase tracking-wide",children:[t.jsx(Zn,{size:14})," Back to Projects"]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Editing Campaign"}),t.jsx("div",{className:"text-sm font-black text-gray-900",children:r.name})]}),t.jsxs("button",{onClick:z,disabled:l,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2 shadow-lg disabled:opacity-70 disabled:cursor-not-allowed",children:[t.jsx(ya,{size:14})," ",l?"Saving...":"Save All Changes"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Bo,{size:14})," Core Configuration"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(Ht,{children:"Project Name"}),t.jsx("input",{value:r.name,onChange:k=>i({...r,name:k.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx(Ht,{children:"Target URL (Entry)"}),t.jsx("input",{value:U.entryUrls,onChange:k=>M("entryUrls",k.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Ht,{children:"Plan Tier"}),t.jsx(Xs,{value:r.plan,onChange:k=>i({...r,plan:k}),options:[{value:"Free Trial",label:"Free Trial"},{value:"Starter",label:"Starter"},{value:"Growth",label:"Growth"},{value:"Agency",label:"Agency"}]})]}),t.jsxs("div",{children:[t.jsx(Ht,{children:"Status"}),t.jsx(Xs,{value:r.status,onChange:k=>i({...r,status:k}),options:[{value:"active",label:"Active"},{value:"stopped",label:"Stopped"},{value:"completed",label:"Completed"},{value:"archived",label:"Archived (Admin)"}]})]})]}),r.status==="stopped"&&t.jsxs("div",{className:"bg-red-50 border border-red-100 p-4",children:[t.jsx(Ht,{children:"Force Stop Reason (Visible to User)"}),t.jsx("input",{value:U.forceStopReason||"",onChange:k=>M("forceStopReason",k.target.value),className:"w-full bg-white border border-red-200 p-3 text-sm font-medium text-red-900 outline-none focus:border-red-500 placeholder-red-300",placeholder:"e.g. Violation of TOS, Payment Failed..."})]}),t.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-4 border-l-4 border-l-gray-400",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(br,{size:12,className:"text-gray-500"}),t.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-gray-500",children:"Admin Controls"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Ht,{children:"Queue Priority (-10 to 10)"}),t.jsx("input",{type:"number",min:"-10",max:"10",value:U.adminPriority||0,onChange:k=>M("adminPriority",parseInt(k.target.value)),className:"w-full bg-white border border-gray-200 p-2 text-sm font-bold text-gray-900 outline-none focus:border-gray-500"}),t.jsx("p",{className:"text-[9px] text-gray-400 mt-1",children:"Higher = processed first."})]}),t.jsxs("div",{children:[t.jsx(Ht,{children:"Traffic Weight (0.1 - 5.0)"}),t.jsx("input",{type:"number",step:"0.1",min:"0.1",max:"5.0",value:U.adminWeight||1,onChange:k=>M("adminWeight",parseFloat(k.target.value)),className:"w-full bg-white border border-gray-200 p-2 text-sm font-bold text-gray-900 outline-none focus:border-gray-500"}),t.jsx("p",{className:"text-[9px] text-gray-400 mt-1",children:"Multiplier for resource allocation."})]})]})]}),t.jsxs("div",{children:[t.jsx(Ht,{children:"Expiration Date"}),t.jsx("input",{value:r.expires,onChange:k=>i({...r,expires:k.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"YYYY-MM-DD"})]}),t.jsxs("div",{children:[t.jsx(Ht,{children:"Google Analytics ID"}),t.jsx("input",{value:U.gaId,onChange:k=>M("gaId",k.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-mono text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"G-XXXXXXXXXX"})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(br,{size:14})," Visitor Behavior"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Ht,{children:"Bounce Rate (%)"}),t.jsx("input",{type:"number",value:U.bounceRate,onChange:k=>M("bounceRate",parseInt(k.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx(Ht,{children:"Return Rate (%)"}),t.jsx("input",{type:"number",value:U.returnRate,onChange:k=>M("returnRate",parseInt(k.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]})]}),t.jsxs("div",{children:[t.jsx(Ht,{children:"Time On Page"}),t.jsx(Xs,{value:U.timeOnPage,onChange:k=>M("timeOnPage",k),options:[{value:"30 seconds",label:"30 seconds"},{value:"1 minute",label:"1 minute"},{value:"3 minutes",label:"3 minutes"},{value:"5 minutes",label:"5 minutes"}]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-end mb-2",children:[t.jsx(Ht,{children:"Device Split"}),t.jsxs("div",{className:"text-[10px] font-bold text-gray-400 uppercase flex gap-3",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Yd,{size:10})," Desktop: ",U.deviceSplit,"%"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(dx,{size:10})," Mobile: ",100-U.deviceSplit,"%"]})]})]}),t.jsx("input",{type:"range",min:"0",max:"100",value:U.deviceSplit,onChange:k=>M("deviceSplit",parseInt(k.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-[#ff4d00]"})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Fo,{size:14})," Geo-Targeting"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-3",children:[t.jsx(Ht,{children:"Traffic Distribution"}),t.jsxs("span",{className:`text-xs font-bold ${((X=U.geoTargets)==null?void 0:X.reduce((k,D)=>k+D.percent,0))===100?"text-green-600":"text-red-500"}`,children:["Total: ",((A=U.geoTargets)==null?void 0:A.reduce((k,D)=>k+D.percent,0))||0,"%"]})]}),U.geoTargets&&U.geoTargets.length>0&&t.jsx("div",{className:"space-y-2 mb-4",children:U.geoTargets.map((k,D)=>(m.find(L=>L.countryCode===k.countryCode)||Fr.find(L=>L.name===k.country),t.jsxs("div",{className:"flex items-center justify-between bg-gray-50 border border-gray-200 p-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[k.countryCode&&t.jsx("img",{src:`https://flagcdn.com/w20/${k.countryCode.toLowerCase()}.png`,alt:k.country,className:"w-5 h-auto"}),t.jsx("div",{children:t.jsxs("div",{className:"text-sm font-bold text-gray-900",children:[k.country,k.state&&t.jsxs("span",{className:"text-gray-500 font-normal",children:[" / ",k.state]}),k.city&&t.jsxs("span",{className:"text-gray-400 font-normal",children:[" / ",k.city]})]})})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"number",min:"0",max:"100",value:k.percent,onChange:L=>{const R=[...U.geoTargets];R[D].percent=parseInt(L.target.value)||0,M("geoTargets",R)},className:"w-16 bg-white border border-gray-200 p-1 text-sm font-bold text-center"}),t.jsx("span",{className:"text-xs text-gray-500",children:"%"}),t.jsx("button",{onClick:()=>M("geoTargets",U.geoTargets.filter(L=>L.id!==k.id)),className:"text-gray-400 hover:text-red-500",children:t.jsx(ba,{size:14})})]})]},k.id)))}),t.jsxs("div",{className:"bg-gray-50 border border-dashed border-gray-300 p-4",children:[t.jsx("div",{className:"text-xs font-bold text-gray-500 mb-3 uppercase",children:"Add Geo Target"}),t.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[t.jsx("div",{children:t.jsxs("select",{value:b,onChange:k=>{v(k.target.value),N(""),T("")},className:"w-full bg-white border border-gray-200 p-2 text-xs font-medium",children:[t.jsx("option",{value:"",children:"Country..."}),(m.length>0?m:Fr.map(k=>({countryCode:k.code,countryName:k.name,states:[],cities:[]}))).map(k=>t.jsx("option",{value:k.countryCode,children:k.countryName},k.countryCode))]})}),t.jsx("div",{children:t.jsxs("select",{value:E,onChange:k=>{N(k.target.value),T("")},className:"w-full bg-white border border-gray-200 p-2 text-xs font-medium",disabled:!b,children:[t.jsx("option",{value:"",children:"State (optional)"}),b&&((P=m.find(k=>k.countryCode===b))==null?void 0:P.states.map(k=>t.jsx("option",{value:k.name,children:k.name},k.code)))]})}),t.jsx("div",{children:t.jsxs("select",{value:C,onChange:k=>T(k.target.value),className:"w-full bg-white border border-gray-200 p-2 text-xs font-medium",disabled:!E,children:[t.jsx("option",{value:"",children:"City (optional)"}),E&&((_=m.find(k=>k.countryCode===b))==null?void 0:_.cities.filter(k=>!E||k.code.startsWith(E.substring(0,2).toUpperCase())).map(k=>t.jsx("option",{value:k.name,children:k.name},k.code)))]})}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx("input",{type:"number",min:"1",max:"100",value:O,onChange:k=>F(parseInt(k.target.value)||0),className:"w-14 bg-white border border-gray-200 p-2 text-xs font-bold text-center",placeholder:"%"}),t.jsx("button",{onClick:()=>{var R;if(!b)return;const k=m.find(Y=>Y.countryCode===b),D=(k==null?void 0:k.countryName)||((R=Fr.find(Y=>Y.code===b))==null?void 0:R.name)||b,L={id:`geo-${Date.now()}`,country:D,countryCode:b,state:E||void 0,stateCode:E?E.substring(0,2).toUpperCase():void 0,city:C||void 0,percent:O};M("geoTargets",[...U.geoTargets||[],L]),v(""),N(""),T(""),F(100)},disabled:!b,className:"flex-1 bg-[#ff4d00] text-white p-2 text-xs font-bold hover:bg-[#e64500] disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:t.jsx(er,{size:14})})]})]})]}),t.jsx("p",{className:"text-[10px] text-gray-400 mt-2",children:m.length>0?"Geo-targeting uses proxy locations synced from Geonode.":"Configure Geonode proxy in Admin > Infrastructure for full geo-targeting."})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Ht,{children:"Browser Language"}),t.jsx("input",{value:U.languages.join(", "),onChange:k=>M("languages",k.target.value.split(", ")),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx(Ht,{children:"Timezone"}),t.jsx(Xs,{value:U.timezone,onChange:k=>M("timezone",k),options:[{value:"UTC",label:"UTC"},{value:"EST",label:"EST"},{value:"PST",label:"PST"},{value:"CET",label:"CET"}]})]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Ci,{size:14})," Advanced Interactions"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(Ht,{children:"Traffic Source Type"}),t.jsx(Xs,{value:U.trafficSource,onChange:k=>M("trafficSource",k),options:[{value:"organic",label:"Organic (Search)"},{value:"direct",label:"Direct"},{value:"social",label:"Social"}]})]}),U.trafficSource==="organic"&&t.jsxs("div",{children:[t.jsx(Ht,{children:"Keywords (One per line)"}),t.jsx("textarea",{value:U.keywords,onChange:k=>M("keywords",k.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx(Ht,{children:"Inner URLs Count"}),t.jsx("input",{type:"number",value:U.innerUrlCount,onChange:k=>M("innerUrlCount",parseInt(k.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx(Ht,{children:"Scroll Events (%)"}),t.jsx("input",{type:"number",value:U.pageViewsWithScroll,onChange:k=>M("pageViewsWithScroll",parseInt(k.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx(Ht,{children:"Internal Clicks"}),t.jsx("input",{type:"number",value:U.clickInternal,onChange:k=>M("clickInternal",parseInt(k.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]})]}),t.jsxs("div",{children:[t.jsx(Ht,{children:"Inner URLs (CSV)"}),t.jsx("input",{value:U.innerUrls,onChange:k=>M("innerUrls",k.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-600 outline-none focus:border-[#ff4d00]",placeholder:"http://..., http://..."})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Bo,{size:14})," UTM & Attribution"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx(Ht,{children:"Campaign Source"}),t.jsx("input",{value:U.utmSource||"",onChange:k=>M("utmSource",k.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. google"})]}),t.jsxs("div",{children:[t.jsx(Ht,{children:"Campaign Medium"}),t.jsx("input",{value:U.utmMedium||"",onChange:k=>M("utmMedium",k.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. cpc"})]}),t.jsxs("div",{children:[t.jsx(Ht,{children:"Campaign Name"}),t.jsx("input",{value:U.utmCampaign||"",onChange:k=>M("utmCampaign",k.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. winter_sale"})]}),t.jsxs("div",{children:[t.jsx(Ht,{children:"Campaign Term"}),t.jsx("input",{value:U.utmTerm||"",onChange:k=>M("utmTerm",k.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. running_shoes"})]}),t.jsxs("div",{children:[t.jsx(Ht,{children:"Campaign Content"}),t.jsx("input",{value:U.utmContent||"",onChange:k=>M("utmContent",k.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. banner_wide"})]})]}),t.jsxs("p",{className:"mt-4 text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:["Supports: ","{{random_keyword}}, {{timestamp}}, {{device_type}}"]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm lg:col-span-2",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Lt,{size:14})," System Features"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsx(jd,{label:"Auto Renew",checked:U.autoRenew,onChange:k=>M("autoRenew",k)}),t.jsx(jd,{label:"Cache Website",checked:U.cacheWebsite,onChange:k=>M("cacheWebsite",k)}),t.jsx(jd,{label:"Minimize CPU",checked:U.minimizeCpu,onChange:k=>M("minimizeCpu",k)}),t.jsx(jd,{label:"Anti-Fingerprint",checked:U.antiFingerprint,onChange:k=>M("antiFingerprint",k)}),t.jsx(jd,{label:"Randomize Session",checked:U.randomizeSession,onChange:k=>M("randomizeSession",k)}),t.jsx(jd,{label:"Auto Crawl",checked:U.autoCrawlEntry,onChange:k=>M("autoCrawlEntry",k)})]})]})]})]})},Ht=({children:n})=>t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:n}),jd=({label:n,checked:e,onChange:s})=>t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 bg-gray-50",children:[t.jsx("span",{className:"text-sm font-bold text-gray-700",children:n}),t.jsx("button",{onClick:()=>s(!e),className:`w-10 h-5 flex items-center p-0.5 transition-colors duration-300 ${e?"bg-[#ff4d00]":"bg-gray-300"}`,children:t.jsx("div",{className:`w-4 h-4 bg-white shadow-sm transform transition-transform duration-300 ${e?"translate-x-5":"translate-x-0"}`})})]}),uz=({trxId:n,onBack:e,onUpdate:s})=>{const[r,i]=w.useState(null);w.useEffect(()=>{(async()=>{await q.syncAllTransactions();const u=q.getAllTransactionsAdmin().find(m=>m.id===n);i(u||null)})()},[n]);const l=async()=>{if(r)try{await q.updateTransaction(r),s(),alert("Transaction updated.")}catch(c){alert("Error: "+c.message)}};return r?t.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-gray-500 hover:text-black text-xs font-bold uppercase tracking-wide",children:[t.jsx(Zn,{size:14})," Back to Transactions"]}),t.jsxs("button",{onClick:l,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[t.jsx(ya,{size:14})," Save Changes"]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm max-w-3xl mx-auto",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-8",children:["Edit Transaction: ",r.id]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Description"}),t.jsx("input",{value:r.desc,onChange:c=>i({...r,desc:c.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Amount ()"}),t.jsx("input",{type:"number",value:r.amount,onChange:c=>i({...r,amount:parseFloat(c.target.value)||0}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Type"}),t.jsxs("select",{value:r.type,onChange:c=>i({...r,type:c.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",children:[t.jsx("option",{value:"credit",children:"Credit (+)"}),t.jsx("option",{value:"debit",children:"Debit (-)"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Status"}),t.jsxs("select",{value:r.status,onChange:c=>i({...r,status:c.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",children:[t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"failed",children:"Failed"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Date"}),t.jsx("input",{value:r.date,onChange:c=>i({...r,date:c.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Balance Tier"}),t.jsxs("select",{value:r.tier||"",onChange:c=>i({...r,tier:c.target.value||void 0}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",children:[t.jsx("option",{value:"",children:"General"}),t.jsx("option",{value:"economy",children:"Economy"}),t.jsx("option",{value:"professional",children:"Professional"}),t.jsx("option",{value:"expert",children:"Expert"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Reference"}),t.jsx("input",{value:r.reference||"",onChange:c=>i({...r,reference:c.target.value||void 0}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-mono text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"TGP-XXXXXXXX-XXXXXX"})]})]})]})]})]}):t.jsx("div",{children:"Transaction not found."})},hz={bounceRate:0,returnRate:0,deviceSplit:70,tabletSplit:0,deviceSpecific:"All",browser:"Random",timeOnPage:"3 minutes",timezone:"UTC",language:"en-US",languages:["en-US"],gaId:"",entryUrls:"",innerUrls:"",exitUrls:"",autoCrawlEntry:!1,autoCrawlInner:!1,autoCrawlExit:!1,innerUrlCount:0,countries:["United States"],geoTargets:[{id:"default-geo",country:"United States",countryCode:"US",percent:100}],trafficSource:"organic",keywords:"",referralUrls:"",utmSource:"",utmMedium:"",utmCampaign:"",utmTerm:"",utmContent:"",proxyMode:"auto",customProxies:"",scheduleMode:"continuous",scheduleTime:"",scheduleDuration:60,urlVisitOrder:"random",sitemap:"",shortener:"",autoRenew:!1,cacheWebsite:!1,minimizeCpu:!1,randomizeSession:!0,antiFingerprint:!0,pageViewsWithScroll:0,clickExternal:0,clickInternal:0},fz=({onBack:n,onSuccess:e})=>{var H,me;const[s,r]=w.useState(""),[i,l]=w.useState(""),[c,f]=w.useState(1e3),[u,m]=w.useState(7),[g,b]=w.useState({...hz}),[v,E]=w.useState(!1),[N,C]=w.useState(null),[T,O]=w.useState(!1),[F,z]=w.useState("idle"),[M,U]=w.useState([]),[X,A]=w.useState(""),[P,_]=w.useState(""),[k,D]=w.useState([]),[L,R]=w.useState(""),[Y,ve]=w.useState(""),[J,W]=w.useState(""),[xe,Ie]=w.useState(100);Fe.useEffect(()=>{(async()=>{const Te=await q.syncUsers();U(Te);const Re=q.getCurrentUser();Re&&A(Re.id)})()},[]),w.useEffect(()=>{(async()=>{try{const Te=await q.getGeoLocations();D(Te)}catch(Te){console.error("Failed to load geo locations:",Te)}})()},[]);const Ae=Math.round(c/u),$=(K,Te)=>{b(Re=>({...Re,[K]:Te}))},ie=async()=>{if(!i){C("Please enter a target URL first");return}O(!0),z("idle");try{const K=await q.scanGA4(i);K?($("gaId",K),z("success")):z("error")}catch{z("error")}finally{O(!1)}},G=async()=>{var K;if(!s||!i){C("Please enter a project name and target URL");return}if(c<100||u<1){C("Minimum 100 visitors and 1 day required");return}E(!0),C(null);try{const Te={...g,entryUrls:i},Re={id:"proj_"+Date.now(),userId:X||((K=q.getCurrentUser())==null?void 0:K.id)||"admin",name:s,plan:"Custom",customTarget:{totalVisitors:c,durationDays:u,dailyLimit:Ae},expires:"Never",status:"active",settings:Te,stats:[]};await q.addProject(Re),e(),n()}catch(Te){C(Te.message||"Failed to create project")}finally{E(!1)}};return t.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 space-y-6 pb-12",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4 sticky top-0 bg-[#f3f4f6] z-10 py-4 border-b border-gray-200",children:[t.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-gray-500 hover:text-black text-xs font-bold uppercase tracking-wide",children:[t.jsx(Zn,{size:14})," Back to Projects"]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"New Campaign"}),t.jsx("div",{className:"text-sm font-black text-gray-900",children:"Create Project"})]}),t.jsxs("button",{onClick:G,disabled:v,className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(ya,{size:14})," ",v?"Creating...":"Create Project"]})]})]}),N&&t.jsx("div",{className:"bg-red-50 border border-red-200 p-4 text-red-700 text-sm font-bold",children:N}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Bo,{size:14})," Core Configuration"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(nt,{children:"Project Name"}),t.jsx("input",{value:s,onChange:K=>r(K.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"My Traffic Campaign"})]}),t.jsxs("div",{children:[t.jsx(nt,{children:"Project Owner (User)"}),t.jsxs("div",{className:"relative",children:[t.jsx(un,{className:"absolute left-3 top-3 text-gray-400",size:16}),t.jsxs("select",{value:X,onChange:K=>A(K.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 pl-10 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00] appearance-none",children:[t.jsx("option",{value:"",children:"Select a User..."}),M.map(K=>t.jsxs("option",{value:K.id,children:[K.name," (",K.email,") - ",K.role]},K.id))]})]})]}),t.jsxs("div",{children:[t.jsx(nt,{children:"Target URL (Entry)"}),t.jsx("input",{value:i,onChange:K=>l(K.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"https://example.com"})]}),t.jsxs("div",{children:[t.jsx(nt,{children:"Total Visitors"}),t.jsx("input",{type:"number",min:"100",value:c,onChange:K=>f(parseInt(K.target.value)||0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"1000"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(nt,{children:"Duration (Days)"}),t.jsx("input",{type:"number",min:"1",value:u,onChange:K=>m(parseInt(K.target.value)||1),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx(nt,{children:"Daily Visitors"}),t.jsxs("div",{className:"w-full bg-[#f3f4f6] border border-gray-200 p-3 text-sm font-bold text-[#ff4d00]",children:[Ae.toLocaleString()," /day"]})]})]}),t.jsxs("div",{children:[t.jsx(nt,{children:"Google Analytics ID"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx("input",{value:g.gaId,onChange:K=>$("gaId",K.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-mono text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"G-XXXXXXXXXX"}),F==="success"&&t.jsx(ct,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-green-500"}),F==="error"&&t.jsx(Kn,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-red-500"})]}),t.jsxs("button",{onClick:ie,disabled:T||!i,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 text-xs font-bold uppercase tracking-wide flex items-center gap-2 transition-colors disabled:opacity-50",title:"Auto-detect GA ID from website",children:[T?t.jsx("div",{className:"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"}):t.jsx(jr,{size:14}),"Detect"]})]}),F==="error"&&t.jsx("p",{className:"text-[10px] text-red-500 mt-1",children:"No Google Analytics ID found on this website"})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(br,{size:14})," Visitor Behavior"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(nt,{children:"Bounce Rate (%)"}),t.jsx("input",{type:"number",value:g.bounceRate,onChange:K=>$("bounceRate",parseInt(K.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx(nt,{children:"Return Rate (%)"}),t.jsx("input",{type:"number",value:g.returnRate,onChange:K=>$("returnRate",parseInt(K.target.value)),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]})]}),t.jsxs("div",{children:[t.jsx(nt,{children:"Time On Page"}),t.jsx(Xs,{value:g.timeOnPage,onChange:K=>$("timeOnPage",K),options:[{value:"30 seconds",label:"30 seconds"},{value:"1 minute",label:"1 minute"},{value:"3 minutes",label:"3 minutes"},{value:"5 minutes",label:"5 minutes"}]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Fo,{size:14})," Geo-Targeting"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-3",children:[t.jsx(nt,{children:"Traffic Distribution"}),t.jsxs("span",{className:`text-xs font-bold ${g.geoTargets.reduce((K,Te)=>K+Te.percent,0)===100?"text-green-600":"text-red-500"}`,children:["Total: ",g.geoTargets.reduce((K,Te)=>K+Te.percent,0),"%"]})]}),g.geoTargets.length>0&&t.jsx("div",{className:"space-y-2 mb-4",children:g.geoTargets.map((K,Te)=>(k.find(Re=>Re.countryCode===K.countryCode)||Fr.find(Re=>Re.name===K.country),t.jsxs("div",{className:"flex items-center justify-between bg-gray-50 border border-gray-200 p-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[K.countryCode&&t.jsx("img",{src:`https://flagcdn.com/w20/${K.countryCode.toLowerCase()}.png`,alt:K.country,className:"w-5 h-auto"}),t.jsx("div",{children:t.jsxs("div",{className:"text-sm font-bold text-gray-900",children:[K.country,K.state&&t.jsxs("span",{className:"text-gray-500 font-normal",children:[" / ",K.state]}),K.city&&t.jsxs("span",{className:"text-gray-400 font-normal",children:[" / ",K.city]})]})})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"number",min:"0",max:"100",value:K.percent,onChange:Re=>{const Oe=[...g.geoTargets];Oe[Te].percent=parseInt(Re.target.value)||0,$("geoTargets",Oe)},className:"w-16 bg-white border border-gray-200 p-1 text-sm font-bold text-center"}),t.jsx("span",{className:"text-xs text-gray-500",children:"%"}),t.jsx("button",{onClick:()=>$("geoTargets",g.geoTargets.filter(Re=>Re.id!==K.id)),className:"text-gray-400 hover:text-red-500",children:t.jsx(ba,{size:14})})]})]},K.id)))}),t.jsxs("div",{className:"bg-gray-50 border border-dashed border-gray-300 p-4",children:[t.jsx("div",{className:"text-xs font-bold text-gray-500 mb-3 uppercase",children:"Add Geo Target"}),t.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[t.jsx("div",{children:t.jsxs("select",{value:L,onChange:K=>{R(K.target.value),ve(""),W("")},className:"w-full bg-white border border-gray-200 p-2 text-xs font-medium",children:[t.jsx("option",{value:"",children:"Country..."}),(k.length>0?k:Fr.map(K=>({countryCode:K.code,countryName:K.name,states:[],cities:[]}))).map(K=>t.jsx("option",{value:K.countryCode,children:K.countryName},K.countryCode))]})}),t.jsx("div",{children:t.jsxs("select",{value:Y,onChange:K=>{ve(K.target.value),W("")},className:"w-full bg-white border border-gray-200 p-2 text-xs font-medium",disabled:!L,children:[t.jsx("option",{value:"",children:"State (optional)"}),L&&((H=k.find(K=>K.countryCode===L))==null?void 0:H.states.map(K=>t.jsx("option",{value:K.name,children:K.name},K.code)))]})}),t.jsx("div",{children:t.jsxs("select",{value:J,onChange:K=>W(K.target.value),className:"w-full bg-white border border-gray-200 p-2 text-xs font-medium",disabled:!Y,children:[t.jsx("option",{value:"",children:"City (optional)"}),Y&&((me=k.find(K=>K.countryCode===L))==null?void 0:me.cities.filter(K=>!Y||K.code.startsWith(Y.substring(0,2).toUpperCase())).map(K=>t.jsx("option",{value:K.name,children:K.name},K.code)))]})}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx("input",{type:"number",min:"1",max:"100",value:xe,onChange:K=>Ie(parseInt(K.target.value)||0),className:"w-14 bg-white border border-gray-200 p-2 text-xs font-bold text-center",placeholder:"%"}),t.jsx("button",{onClick:()=>{var Oe;if(!L)return;const K=k.find(gt=>gt.countryCode===L),Te=(K==null?void 0:K.countryName)||((Oe=Fr.find(gt=>gt.code===L))==null?void 0:Oe.name)||L,Re={id:`geo-${Date.now()}`,country:Te,countryCode:L,state:Y||void 0,stateCode:Y?Y.substring(0,2).toUpperCase():void 0,city:J||void 0,percent:xe};$("geoTargets",[...g.geoTargets,Re]),R(""),ve(""),W(""),Ie(100)},disabled:!L,className:"flex-1 bg-[#ff4d00] text-white p-2 text-xs font-bold hover:bg-[#e64500] disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:t.jsx(er,{size:14})})]})]})]}),t.jsx("p",{className:"text-[10px] text-gray-400 mt-2",children:k.length>0?"Geo-targeting uses proxy locations synced from Geonode. States and cities are optional.":"Configure Geonode proxy in Admin > Infrastructure for full geo-targeting with states/cities."})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(nt,{children:"Browser Language"}),t.jsx("input",{value:g.languages.join(", "),onChange:K=>$("languages",K.target.value.split(", ")),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx(nt,{children:"Timezone"}),t.jsx(Xs,{value:g.timezone,onChange:K=>$("timezone",K),options:DT.slice(0,10)})]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Ci,{size:14})," Traffic Source"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(nt,{children:"Traffic Source Type"}),t.jsx(Xs,{value:g.trafficSource,onChange:K=>$("trafficSource",K),options:hw.slice(0,15)})]}),g.trafficSource==="organic"&&t.jsxs("div",{children:[t.jsx(nt,{children:"Keywords (One per line)"}),t.jsx("textarea",{value:g.keywords,onChange:K=>$("keywords",K.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24",placeholder:`keyword1
keyword2`})]}),g.trafficSource==="social"&&t.jsxs("div",{children:[t.jsx(nt,{children:"Referral URLs (One per line)"}),t.jsx("textarea",{value:g.referralUrls,onChange:K=>$("referralUrls",K.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24",placeholder:`https://facebook.com
https://twitter.com`})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Bo,{size:14})," UTM & Attribution"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx(nt,{children:"Campaign Source"}),t.jsx("input",{value:g.utmSource||"",onChange:K=>$("utmSource",K.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. google"})]}),t.jsxs("div",{children:[t.jsx(nt,{children:"Campaign Medium"}),t.jsx("input",{value:g.utmMedium||"",onChange:K=>$("utmMedium",K.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. cpc"})]}),t.jsxs("div",{children:[t.jsx(nt,{children:"Campaign Name"}),t.jsx("input",{value:g.utmCampaign||"",onChange:K=>$("utmCampaign",K.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. split_test"})]}),t.jsxs("div",{children:[t.jsx(nt,{children:"Campaign Term"}),t.jsx("input",{value:g.utmTerm||"",onChange:K=>$("utmTerm",K.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. keyword"})]}),t.jsxs("div",{children:[t.jsx(nt,{children:"Campaign Content"}),t.jsx("input",{value:g.utmContent||"",onChange:K=>$("utmContent",K.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium outline-none focus:border-[#ff4d00]",placeholder:"e.g. sidebar_ad"})]})]}),t.jsxs("p",{className:"mt-4 text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:["Supports: ","{{random_keyword}}, {{timestamp}}, {{device_type}}"]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Fo,{size:14})," Proxy & Schedule"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx(nt,{children:"Proxy Mode"}),t.jsx(Xs,{value:g.proxyMode||"auto",onChange:K=>$("proxyMode",K),options:[{value:"auto",label:"Auto-Rotate"},{value:"sticky",label:"Sticky Session"},{value:"custom",label:"Custom List"}]})]}),t.jsxs("div",{children:[t.jsx(nt,{children:"Visit Order"}),t.jsx(Xs,{value:g.urlVisitOrder||"random",onChange:K=>$("urlVisitOrder",K),options:[{value:"random",label:"Random"},{value:"sequential",label:"Sequential Funnel"}]})]})]}),g.proxyMode==="custom"&&t.jsxs("div",{children:[t.jsx(nt,{children:"Custom Proxies"}),t.jsx("textarea",{value:g.customProxies,onChange:K=>$("customProxies",K.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-mono outline-none focus:border-[#ff4d00] h-20",placeholder:"ip:port:user:pass"})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(dx,{size:14})," Device Targeting"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(nt,{children:"Device Specific"}),t.jsx(Xs,{value:g.deviceSpecific,onChange:K=>{K.includes("Mobile")&&$("deviceSplit",0),K.includes("Desktop")&&$("deviceSplit",100),$("deviceSpecific",K)},options:[{value:"All",label:"All Devices"},{value:"Desktop, Windows",label:"Windows Desktop"},{value:"Desktop, Mac",label:"Mac Desktop"},{value:"Mobile, iPhone",label:"iPhone"},{value:"Mobile, Android",label:"Android"}]})]}),t.jsxs("div",{children:[t.jsx(nt,{children:"Browser"}),t.jsx(Xs,{value:g.browser||"Random",onChange:K=>$("browser",K),options:[{value:"Random",label:"Random"},{value:"Chrome",label:"Chrome"},{value:"Firefox",label:"Firefox"},{value:"Safari",label:"Safari"},{value:"Edge",label:"Edge"}]})]})]}),t.jsxs("div",{children:[t.jsx(nt,{children:"Device Split (Desktop/Tablet/Mobile)"}),t.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[t.jsx("span",{className:"text-[10px] font-bold w-12 text-gray-500",children:"Desktop"}),t.jsx("input",{type:"range",min:"0",max:"100",value:g.deviceSplit,onChange:K=>{const Te=parseInt(K.target.value),Re=100-(g.tabletSplit||0);$("deviceSplit",Math.min(Te,Re))},className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-[#ff4d00]"}),t.jsxs("span",{className:"text-sm font-bold w-8",children:[g.deviceSplit,"%"]})]}),t.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[t.jsx("span",{className:"text-[10px] font-bold w-12 text-gray-500",children:"Tablet"}),t.jsx("input",{type:"range",min:"0",max:"100",value:g.tabletSplit||0,onChange:K=>{const Te=parseInt(K.target.value),Re=100-g.deviceSplit;$("tabletSplit",Math.min(Te,Re))},className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-gray-500"}),t.jsxs("span",{className:"text-sm font-bold w-8",children:[g.tabletSplit||0,"%"]})]}),t.jsxs("p",{className:"text-[10px] text-gray-400 mt-2 text-right",children:["Mobile Remainder: ",100-g.deviceSplit-(g.tabletSplit||0),"%"]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Af,{size:14})," Crawling Options"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(nt,{children:"Entry URLs (One per line)"}),t.jsx("textarea",{value:g.entryUrls,onChange:K=>$("entryUrls",K.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24",placeholder:`https://example.com
https://example.com/about`})]}),t.jsxs("div",{children:[t.jsx(nt,{children:"Inner URLs (One per line)"}),t.jsx("textarea",{value:g.innerUrls,onChange:K=>$("innerUrls",K.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24",placeholder:`https://example.com/page1
https://example.com/page2`})]}),t.jsxs("div",{children:[t.jsx(nt,{children:"Exit URLs (One per line)"}),t.jsx("textarea",{value:g.exitUrls,onChange:K=>$("exitUrls",K.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium text-gray-900 outline-none focus:border-[#ff4d00] h-24",placeholder:"https://example.com/thank-you"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:g.autoCrawlEntry,onChange:K=>$("autoCrawlEntry",K.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),t.jsx(nt,{className:"!mb-0",children:"Auto-crawl Entry"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:g.autoCrawlInner,onChange:K=>$("autoCrawlInner",K.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),t.jsx(nt,{className:"!mb-0",children:"Auto-crawl Inner"})]})]}),t.jsxs("div",{children:[t.jsx(nt,{children:"Inner URL Count"}),t.jsx("input",{type:"number",min:"0",value:g.innerUrlCount,onChange:K=>$("innerUrlCount",parseInt(K.target.value)||0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(TT,{size:14})," Advanced Options"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(nt,{children:"Sitemap URL"}),t.jsx("input",{value:g.sitemap,onChange:K=>$("sitemap",K.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-mono text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"https://example.com/sitemap.xml"})]}),t.jsxs("div",{children:[t.jsx(nt,{children:"URL Shortener"}),t.jsx("input",{value:g.shortener,onChange:K=>$("shortener",K.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-mono text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"https://short.url/..."})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:g.autoRenew,onChange:K=>$("autoRenew",K.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),t.jsx(nt,{className:"!mb-0",children:"Auto-renew"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:g.cacheWebsite,onChange:K=>$("cacheWebsite",K.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),t.jsx(nt,{className:"!mb-0",children:"Cache Website"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:g.minimizeCpu,onChange:K=>$("minimizeCpu",K.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),t.jsx(nt,{className:"!mb-0",children:"Minimize CPU"})]})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(kn,{size:14})," Session Behavior"]}),t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:g.randomizeSession,onChange:K=>$("randomizeSession",K.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),t.jsx(nt,{className:"!mb-0",children:"Randomize Session"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:g.antiFingerprint,onChange:K=>$("antiFingerprint",K.target.checked),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded focus:ring-[#ff4d00]"}),t.jsx(nt,{className:"!mb-0",children:"Anti-fingerprinting"})]})]})})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(KO,{size:14})," Interaction Settings"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(nt,{children:"Page Views with Scroll (%)"}),t.jsx("input",{type:"number",min:"0",max:"100",value:g.pageViewsWithScroll,onChange:K=>$("pageViewsWithScroll",parseInt(K.target.value)||0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(nt,{children:"Click External Links"}),t.jsx("input",{type:"number",min:"0",value:g.clickExternal,onChange:K=>$("clickExternal",parseInt(K.target.value)||0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx(nt,{children:"Click Internal Links"}),t.jsx("input",{type:"number",min:"0",value:g.clickInternal,onChange:K=>$("clickInternal",parseInt(K.target.value)||0),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]})]})]})]})]})]})},nt=({children:n,className:e=""})=>t.jsx("label",{className:`text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2 ${e}`,children:n}),mz=()=>{const[n,e]=w.useState("GET /stats"),[s,r]=w.useState("{}"),[i,l]=w.useState([]),[c,f]=w.useState(!1),[u,m]=w.useState(null),g=[{method:"GET",path:"/health",desc:"Check system health and mode"},{method:"GET",path:"/stats",desc:"Global traffic throughput statistics"},{method:"GET",path:"/events",desc:"Recent 50 page-view events with metadata"},{method:"GET",path:"/projects",desc:"List all running and saved projects"},{method:"POST",path:"/projects",desc:"Create a new traffic project"},{method:"DELETE",path:"/projects/{id}",desc:"Remove a project and stop traffic"},{method:"POST",path:"/start",desc:"Immediate ad-hoc traffic burst"},{method:"POST",path:"/stop",desc:"Halt all active user simulations"},{method:"GET",path:"/proxies",desc:"List active proxy rotation pool"},{method:"POST",path:"/proxies",desc:"Add a new proxy to the pool"},{method:"GET",path:"/admin/stats",desc:"SaaS Business Metrics (Revenue, Users)"}],b=(C,T,O)=>{const F={id:Math.random().toString(36).substr(2,9),type:C,msg:T,time:new Date().toLocaleTimeString(),duration:O};l(z=>[F,...z].slice(0,50))},v=async()=>{f(!0);const[C,T]=n.split(" "),O=le,F=performance.now();b("req",`${C} ${T}
Payload: ${s}`);try{const z={method:C,headers:{"Content-Type":"application/json",Authorization:"Bearer ADMIN_MOCK_TOKEN"}};C!=="GET"&&s!=="{}"&&(z.body=s);const M=await fetch(`${O}${T}`,z),U=performance.now(),X=Math.round(U-F);let A;try{A=await M.json()}catch{A={error:"Failed to parse JSON response"}}M.ok?b("res",JSON.stringify(A,null,2),X):b("err",`Error ${M.status}: ${JSON.stringify(A,null,2)}`,X)}catch(z){const M=performance.now();b("err",`Network Failure: ${z.message}`,Math.round(M-F))}finally{f(!1)}},E=(C,T)=>{navigator.clipboard.writeText(C),m(T),setTimeout(()=>m(null),2e3)},N=()=>l([]);return t.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)] animate-in fade-in",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6 flex-shrink-0",children:[t.jsxs("div",{className:"flex items-end gap-3",children:[t.jsx("div",{className:"bg-black p-2 rounded-sm text-white shadow-lg",children:t.jsx(bT,{size:24})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-1",children:"Developer Hub"}),t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"API Documentation & Debugger"})]})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"bg-white border border-gray-200 px-4 py-2 flex items-center gap-3 shadow-sm rounded-sm",children:[t.jsx(ST,{size:14,className:"text-green-500"}),t.jsxs("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:["Backend Status: ",t.jsx("span",{className:"text-green-600",children:"ONLINE"})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 px-4 py-2 flex items-center gap-3 shadow-sm rounded-sm",children:[t.jsx(Kt,{size:14,className:"text-blue-500"}),t.jsxs("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:["API Version: ",t.jsx("span",{className:"text-blue-600",children:"v1.2.0"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 flex-1 overflow-hidden",children:[t.jsxs("div",{className:"bg-white border border-gray-200 flex flex-col overflow-hidden shadow-sm rounded-sm",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 bg-gray-50 flex items-center justify-between",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(BD,{size:14})," Endpoints Reference"]}),t.jsx("span",{className:"text-[10px] font-bold bg-green-100 text-green-700 px-2 py-0.5 rounded-full",children:"FastAPI Engine"})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:[t.jsx("div",{className:"space-y-6",children:g.map((C,T)=>t.jsxs("div",{className:"group border-b border-gray-100 pb-6 last:border-0 hover:bg-gray-50/50 p-2 -m-2 transition-colors rounded-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("span",{className:`text-[10px] font-black px-2 py-0.5 rounded-sm uppercase tracking-tighter shadow-sm ${C.method==="GET"?"bg-blue-600 text-white":C.method==="POST"?"bg-green-600 text-white":C.method==="DELETE"?"bg-red-600 text-white":"bg-orange-600 text-white"}`,children:C.method}),t.jsx("code",{className:"text-xs font-bold text-gray-900",children:C.path}),t.jsxs("div",{className:"ml-auto flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[t.jsx("button",{onClick:()=>E(C.path,`path-${T}`),className:"p-1 px-2 bg-gray-100 hover:bg-black hover:text-white text-[9px] font-bold uppercase rounded-sm border border-gray-200 transition-all",children:u===`path-${T}`?"Copied":"Copy"}),t.jsx("button",{onClick:()=>{e(`${C.method} ${C.path}`),C.method==="POST"&&r(`{
  "demo": true
}`)},className:"p-1 px-2 bg-[#ff4d00]/10 hover:bg-[#ff4d00] text-[#ff4d00] hover:text-white text-[9px] font-bold uppercase rounded-sm border border-[#ff4d00]/20 transition-all",children:"Test"})]})]}),t.jsx("p",{className:"text-gray-500 text-[11px] leading-relaxed",children:C.desc})]},T))}),t.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-orange-50 to-amber-50 border border-orange-100 rounded-sm",children:[t.jsxs("h4",{className:"text-xs font-bold text-orange-800 uppercase mb-3 flex items-center gap-2",children:[t.jsx(Wd,{size:14})," Security Headers"]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between bg-white p-2 border border-orange-100 rounded-sm overflow-hidden",children:[t.jsx("code",{className:"text-[10px] text-gray-600",children:"Authorization: Bearer [token]"}),t.jsx("button",{onClick:()=>E("Authorization: Bearer YOUR_TOKEN","auth-header"),className:"text-[9px] font-bold text-orange-600 hover:underline",children:"Copy"})]}),t.jsxs("div",{className:"flex items-center justify-between bg-white p-2 border border-orange-100 rounded-sm overflow-hidden",children:[t.jsx("code",{className:"text-[10px] text-gray-600",children:"X-API-KEY: [your-key]"}),t.jsx("button",{onClick:()=>E("X-API-KEY: YOUR_KEY","x-key"),className:"text-[9px] font-bold text-orange-600 hover:underline",children:"Copy"})]}),t.jsx("p",{className:"text-[10px] text-orange-700/70 italic mt-2",children:"Admin requests bypass standard rate limits for maintenance purposes."})]})]})]})]}),t.jsxs("div",{className:"flex flex-col gap-6 overflow-hidden",children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-8 shadow-sm rounded-sm",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[t.jsx(Lt,{size:14,className:"text-[#ff4d00]"})," API Scratchpad"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>r(`{
  "demo": true
}`),className:"text-[9px] font-bold text-gray-400 hover:text-black uppercase",children:"Sample"}),t.jsx("button",{onClick:()=>r("{}"),className:"text-[9px] font-bold text-gray-400 hover:text-black uppercase",children:"Reset"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"flex-1 relative group",children:[t.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-300 group-focus-within:text-[#ff4d00] transition-colors",children:t.jsx(br,{size:14})}),t.jsx("input",{className:"w-full bg-gray-50 border border-gray-200 p-3 pl-10 text-xs font-mono outline-none focus:border-[#ff4d00] focus:bg-white transition-all rounded-sm",value:n,onChange:C=>e(C.target.value),placeholder:"METHOD /path (e.g. GET /health)"})]}),t.jsxs("button",{onClick:v,disabled:c,className:"bg-black text-white px-8 text-xs font-bold uppercase tracking-widest hover:bg-[#ff4d00] shadow-[0_4px_10px_rgba(0,0,0,0.1)] hover:shadow-[#ff4d00]/30 transition-all disabled:opacity-50 flex items-center gap-2 rounded-sm",children:[c?t.jsx(pz,{size:14,className:"animate-spin"}):t.jsx(Qd,{size:14}),"Execute"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Request Body (JSON)"}),t.jsxs("div",{className:"relative",children:[t.jsx("textarea",{className:"w-full bg-[#111] text-green-400 font-mono text-xs p-6 h-40 outline-none border border-gray-800 rounded-sm shadow-inner",value:s,onChange:C=>r(C.target.value),spellCheck:!1}),t.jsx("div",{className:"absolute right-4 bottom-4 text-[9px] font-bold text-gray-600 bg-[#1a1a1a] px-2 py-1 rounded-sm border border-gray-800",children:"UTF-8"})]})]})]})]}),t.jsxs("div",{className:"flex-1 bg-[#0a0a0a] border border-gray-800 flex flex-col overflow-hidden shadow-2xl rounded-sm",children:[t.jsxs("div",{className:"p-3 px-6 border-b border-gray-800 bg-[#111] flex items-center justify-between",children:[t.jsxs("h3",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] flex items-center gap-2",children:[t.jsx(ET,{size:12})," Live Trace Diagnostic"]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("button",{onClick:()=>E(i.map(C=>`[${C.time}] ${C.type.toUpperCase()}: ${C.msg}`).join(`
`),"copy-logs"),className:"text-[10px] font-bold text-gray-500 hover:text-white uppercase flex items-center gap-1",children:[t.jsx(cn,{size:10})," ",u==="copy-logs"?"Copied":"Export"]}),t.jsxs("button",{onClick:N,className:"text-[10px] font-bold text-gray-500 hover:text-red-500 uppercase flex items-center gap-1",children:[t.jsx(ba,{size:10})," Clear"]})]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar space-y-4 font-mono",children:i.length===0?t.jsx("div",{className:"h-full flex items-center justify-center text-gray-700 text-[10px] uppercase font-bold tracking-[0.2em] italic opacity-50",children:"Waiting for telemetry..."}):i.map(C=>t.jsxs("div",{className:"animate-in slide-in-from-left-2 duration-300 border-l-2 border-gray-800 pl-4 py-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-1.5",children:[t.jsx("span",{className:`text-[9px] font-black uppercase px-1.5 py-0.5 rounded-xs ${C.type==="req"?"bg-blue-500 text-white":C.type==="res"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:C.type==="req"?"REQUEST":C.type==="res"?"SUCCESS":"FAILURE"}),t.jsx("span",{className:"text-[9px] font-bold text-gray-600",children:C.time}),C.duration&&t.jsxs("span",{className:"text-[9px] font-bold text-gray-400 flex items-center gap-1",children:[t.jsx(Kt,{size:8})," ",C.duration,"ms"]}),t.jsx("button",{onClick:()=>E(C.msg,`copy-${C.id}`),className:"ml-auto text-[8px] font-bold text-gray-600 hover:text-white uppercase transition-colors",children:u===`copy-${C.id}`?"Copied":"Copy"})]}),t.jsx("div",{className:`text-[11px] leading-relaxed p-3 rounded-sm ${C.type==="req"?"bg-blue-950/20 text-blue-300/80":C.type==="res"?"bg-green-950/20 text-green-300":"bg-red-950/20 text-red-300"}`,children:t.jsx("pre",{className:"whitespace-pre-wrap break-all",children:C.msg})})]},C.id))})]})]})]})]})},pz=({size:n,className:e})=>t.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[t.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),t.jsx("path",{d:"M21 3v5h-5"}),t.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),t.jsx("path",{d:"M8 16H3v5"})]}),gz=()=>{const[n,e]=w.useState("campaigns"),[s,r]=w.useState([]),[i,l]=w.useState(null),[c,f]=w.useState(null),[u,m]=w.useState(""),[g,b]=w.useState(""),[v,E]=w.useState(!1),[N,C]=w.useState(null);w.useEffect(()=>{T(),q.getLoyaltySettings().then(l),q.getReferralSettings().then(f)},[]);const T=async()=>{const M=await q.getMarketingStats();r(M)},O=async()=>{i&&await q.saveLoyaltySettings(i)},F=async()=>{c&&await q.saveReferralSettings(c)},z=async()=>{if(!(!u||!g)){E(!0);try{await q.sendEmailBlast(u,g,"all"),alert("Email blast sent successfully!")}catch{alert("Failed to send email blast")}E(!1),C(new Date().toLocaleTimeString()),m(""),b("")}};return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Marketing Hub"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Manage acquisition campaigns and outbound communications."})]})}),t.jsxs("div",{className:"flex gap-4 border-b border-gray-200",children:[t.jsx("button",{onClick:()=>e("campaigns"),className:`pb-3 px-1 text-sm font-bold uppercase tracking-wide border-b-2 transition-colors ${n==="campaigns"?"border-[#ff4d00] text-[#ff4d00]":"border-transparent text-gray-500 hover:text-gray-800"}`,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ef,{size:16}),t.jsx("span",{children:"Ad Tracking & Stats"})]})}),t.jsx("button",{onClick:()=>e("email"),className:`pb-3 px-1 text-sm font-bold uppercase tracking-wide border-b-2 transition-colors ${n==="email"?"border-[#ff4d00] text-[#ff4d00]":"border-transparent text-gray-500 hover:text-gray-800"}`,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(xa,{size:16}),t.jsx("span",{children:"Email Blasts"})]})}),t.jsx("button",{onClick:()=>e("loyalty"),className:`pb-3 px-1 text-sm font-bold uppercase tracking-wide border-b-2 transition-colors ${n==="loyalty"?"border-[#ff4d00] text-[#ff4d00]":"border-transparent text-gray-500 hover:text-gray-800"}`,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ki,{size:16}),t.jsx("span",{children:"Loyalty & Referrals"})]})})]}),n==="campaigns"?t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.map(M=>{var U,X;return t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("span",{className:"text-[10px] font-bold uppercase px-2 py-1 rounded bg-gray-100 text-gray-600",children:M.type.replace("_"," ")}),t.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-1 rounded
                                    ${M.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:M.status})]}),t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:M.name}),t.jsxs("p",{className:"text-xs text-gray-400 mb-6",children:["Created: ",M.dateCreated]}),t.jsx("div",{className:"grid grid-cols-2 gap-4 mt-auto",children:M.type==="email"?t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Opens"}),t.jsxs("p",{className:"text-xl font-mono font-bold text-gray-900",children:[M.openRate,"%"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Clicks"}),t.jsxs("p",{className:"text-xl font-mono font-bold text-gray-900",children:[M.clickRate,"%"]})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Clicks"}),t.jsx("p",{className:"text-xl font-mono font-bold text-gray-900",children:(U=M.clicks)==null?void 0:U.toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Revenue"}),t.jsxs("p",{className:"text-xl font-mono font-bold text-green-600",children:["$",(X=M.revenue)==null?void 0:X.toLocaleString()]})]})]})})]},M.id)}),t.jsxs("button",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 flex flex-col items-center justify-center gap-3 text-gray-400 hover:text-[#ff4d00] hover:border-[#ff4d00] hover:bg-orange-50 transition-all group min-h-[200px]",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 group-hover:bg-[#ff4d00] flex items-center justify-center transition-colors",children:t.jsx(Ef,{size:24,className:"group-hover:text-white"})}),t.jsx("span",{className:"font-bold",children:"Track New URL"})]})]}):n==="email"?t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsx("div",{className:"lg:col-span-2 space-y-4",children:t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[t.jsxs("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[t.jsx(Qd,{size:20,className:"text-[#ff4d00]"}),"Compose Blast"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Subject Line"}),t.jsx("input",{type:"text",value:u,onChange:M=>m(M.target.value),className:"w-full p-3 border border-gray-300 rounded focus:ring-2 focus:ring-[#ff4d00] focus:border-transparent outline-none font-medium",placeholder:"e.g. Special Offer for Premium Members"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Target Audience"}),t.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded bg-gray-50 focus:ring-2 focus:ring-[#ff4d00] outline-none",children:[t.jsx("option",{value:"all",children:"All Users (Newsletter)"}),t.jsx("option",{value:"paid",children:"Active Paid Plans Only"}),t.jsx("option",{value:"inactive",children:"Inactive / Churned Users"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Message Body (HTML Supported)"}),t.jsx("textarea",{value:g,onChange:M=>b(M.target.value),className:"w-full p-4 border border-gray-300 rounded focus:ring-2 focus:ring-[#ff4d00] focus:border-transparent outline-none min-h-[300px] font-mono text-sm",placeholder:"<h1>Hello {name},</h1>..."})]}),t.jsxs("div",{className:"flex items-center justify-between pt-4",children:[t.jsx("p",{className:"text-sm text-gray-500",children:N&&`Last sent: ${N}`}),t.jsx("button",{onClick:z,disabled:v||!u||!g,className:`px-8 py-3 bg-[#ff4d00] text-white font-bold rounded shadow-lg shadow-orange-500/30 hover:bg-[#e64600] transition-all
                                            ${v||!u||!g?"opacity-50 cursor-not-allowed":"hover:transform hover:-translate-y-0.5"}`,children:v?"Sending...":"Send Broadcast"})]})]})]})}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-xl p-6",children:[t.jsx("h4",{className:"font-bold text-blue-900 mb-2",children:"Best Practices"}),t.jsxs("ul",{className:"text-sm text-blue-800 space-y-2 list-disc list-inside",children:[t.jsx("li",{children:"Keep subject lines under 60 chars"}),t.jsxs("li",{children:["Personalize using ","{name}"," tag"]}),t.jsx("li",{children:"Include a clear Call to Action"}),t.jsx("li",{children:"Test mobile rendering before sending"})]})]}),t.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-6",children:[t.jsx("h4",{className:"font-bold text-gray-900 mb-4",children:"Previous Blasts"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"p-3 bg-white rounded border border-gray-200 text-sm",children:[t.jsx("div",{className:"font-bold text-gray-800",children:"Spring Sale Announcement"}),t.jsx("div",{className:"text-gray-400 text-xs mt-1",children:"Sent: Mar 10  12,403 Recipients"})]}),t.jsxs("div",{className:"p-3 bg-white rounded border border-gray-200 text-sm",children:[t.jsx("div",{className:"font-bold text-gray-800",children:"Platform Update v2.1"}),t.jsx("div",{className:"text-gray-400 text-xs mt-1",children:"Sent: Feb 28  11,200 Recipients"})]})]})]})]})]}):t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("div",{className:"p-2 bg-purple-100 text-purple-600 rounded-lg",children:t.jsx(ki,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Loyalty Program"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Reward users for spending."})]}),t.jsx("div",{className:"ml-auto",children:t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:i==null?void 0:i.enabled,onChange:M=>l(U=>U?{...U,enabled:M.target.checked}:null),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#ff4d00]"})]})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Points per $1 Spent"}),t.jsx("input",{type:"number",value:(i==null?void 0:i.pointsPerDollar)||"",onChange:M=>l(U=>U?{...U,pointsPerDollar:Number(M.target.value)}:null),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Redemption Rate (Points = $1)"}),t.jsx("input",{type:"number",value:(i==null?void 0:i.redemptionRate)||"",onChange:M=>l(U=>U?{...U,redemptionRate:Number(M.target.value)}:null),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"}),t.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Example: 100 points = $1 discount."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Bonus Signup Points"}),t.jsx("input",{type:"number",value:(i==null?void 0:i.bonusSignupPoints)||"",onChange:M=>l(U=>U?{...U,bonusSignupPoints:Number(M.target.value)}:null),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]})]})]}),t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("div",{className:"p-2 bg-green-100 text-green-600 rounded-lg",children:t.jsx(Ci,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Referral Program"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Incentivize word-of-mouth growth."})]}),t.jsx("div",{className:"ml-auto",children:t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:c==null?void 0:c.enabled,onChange:M=>f(U=>U?{...U,enabled:M.target.checked}:null),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#ff4d00]"})]})})]}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Referrer Gets"}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-3 top-2 text-gray-400",children:"$"}),t.jsx("input",{type:"number",value:(c==null?void 0:c.referrerReward)||"",onChange:M=>f(U=>U?{...U,referrerReward:Number(M.target.value)}:null),className:"w-full p-2 pl-6 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Credit added to balance."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Referee Gets"}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-3 top-2 text-gray-400",children:"$"}),t.jsx("input",{type:"number",value:(c==null?void 0:c.refereeReward)||"",onChange:M=>f(U=>U?{...U,refereeReward:Number(M.target.value)}:null),className:"w-full p-2 pl-6 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Discount on first purchase."})]})]})})]}),t.jsx("div",{className:"lg:col-span-2 flex justify-end",children:t.jsx("button",{onClick:async()=>{await O(),await F(),alert("Settings Saved!")},className:"bg-black text-white px-6 py-2 rounded font-bold hover:bg-gray-800",children:"Save Settings"})})]})]})},xz=({onRefresh:n})=>{const[e,s]=w.useState([]),[r,i]=w.useState(!1),[l,c]=w.useState(!1),[f,u]=w.useState({code:"",discountType:"percent",discountValue:0,active:!0,usedCount:0,allowedPlans:[],maxUsesPerUser:1}),[m,g]=w.useState("PROMO-"),[b,v]=w.useState(10);w.useEffect(()=>{E()},[]);const E=async()=>{const O=await q.getCoupons();s(O)},N=async O=>{confirm("Are you sure you want to delete this coupon?")&&(await q.deleteCoupon(O),E())},C=async()=>{if(!f.code||!f.discountValue)return;const O={id:Date.now().toString(),code:f.code.toUpperCase(),discountType:f.discountType,discountValue:Number(f.discountValue),active:f.active||!1,usedCount:0,expiryDate:f.expiryDate,maxUses:f.maxUses,maxUsesPerUser:f.maxUsesPerUser,allowedPlans:f.allowedPlans};await q.saveCoupon(O),i(!1),u({code:"",discountType:"percent",discountValue:0,active:!0,usedCount:0,allowedPlans:[],maxUsesPerUser:1}),E(),n()},T=async()=>{for(let O=0;O<b;O++){const F=Math.random().toString(36).substring(2,6).toUpperCase(),z={id:`${Date.now()}-${O}`,code:`${m}${F}`,discountType:f.discountType,discountValue:Number(f.discountValue),active:!0,usedCount:0,expiryDate:f.expiryDate,maxUses:1,maxUsesPerUser:1};await q.saveCoupon(z)}i(!1),c(!1),E(),alert(`Successfully generated ${b} coupons!`)};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Coupon Manager"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Create and manage discount codes for campaigns."})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>{i(!0),c(!0)},className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:[t.jsx(cn,{size:16}),t.jsx("span",{children:"Bulk Generate"})]}),t.jsxs("button",{onClick:()=>{i(!0),c(!1)},className:"flex items-center gap-2 px-4 py-2 bg-black text-white rounded-md hover:bg-gray-800 transition-colors",children:[t.jsx(er,{size:16}),t.jsx("span",{children:"Create Coupon"})]})]})]}),r&&t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm animate-in fade-in slide-in-from-top-4",children:[t.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[l?t.jsx(cn,{className:"text-[#ff4d00]",size:20}):t.jsx(Xb,{className:"text-[#ff4d00]",size:20}),l?"Bulk Generate Coupons":"New Coupon"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-xs font-bold uppercase text-gray-400 border-b border-gray-100 pb-1",children:"Core Settings"}),l?t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Prefix"}),t.jsx("input",{type:"text",value:m,onChange:O=>g(O.target.value.toUpperCase()),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none",placeholder:"e.g. SUMMER-"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Quantity"}),t.jsx("input",{type:"number",value:b,onChange:O=>v(Number(O.target.value)),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none",min:"1",max:"1000"})]})]}):t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Code"}),t.jsx("input",{type:"text",value:f.code,onChange:O=>u({...f,code:O.target.value.toUpperCase()}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none",placeholder:"e.g. SUMMER2024"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Discount Value"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"number",value:f.discountValue,onChange:O=>u({...f,discountValue:Number(O.target.value)}),className:"flex-1 p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"}),t.jsxs("select",{value:f.discountType,onChange:O=>u({...f,discountType:O.target.value}),className:"p-2 border border-gray-300 rounded bg-gray-50",children:[t.jsx("option",{value:"percent",children:"% Off"}),t.jsx("option",{value:"fixed",children:"$ Off"})]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-xs font-bold uppercase text-gray-400 border-b border-gray-100 pb-1",children:"Restrictions & Limits"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Expiry Date"}),t.jsx("input",{type:"date",value:f.expiryDate||"",onChange:O=>u({...f,expiryDate:O.target.value}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Max Uses (Total)"}),t.jsx("input",{type:"number",value:f.maxUses||"",onChange:O=>u({...f,maxUses:Number(O.target.value)}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none",placeholder:"Unlimited"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Max Per User"}),t.jsx("input",{type:"number",value:f.maxUsesPerUser||"",onChange:O=>u({...f,maxUsesPerUser:Number(O.target.value)}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Plan Restriction"}),t.jsxs("select",{multiple:!0,className:"w-full p-2 border border-gray-300 rounded text-xs h-[42px]",value:f.allowedPlans||[],onChange:O=>{const F=O.target,z=Array.from(F.selectedOptions,M=>M.value);u({...f,allowedPlans:z})},children:[t.jsx("option",{value:"foundation",children:"Foundation"}),t.jsx("option",{value:"momentum",children:"Momentum"}),t.jsx("option",{value:"breakthrough",children:"Breakthrough"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Duration"}),t.jsxs("select",{value:f.duration||"once",onChange:O=>u({...f,duration:O.target.value}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none",children:[t.jsx("option",{value:"once",children:"Once"}),t.jsx("option",{value:"forever",children:"Forever"}),t.jsx("option",{value:"repeating",children:"Repeating"})]})]}),f.duration==="repeating"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Months"}),t.jsx("input",{type:"number",value:f.durationInMonths||"",onChange:O=>u({...f,durationInMonths:Number(O.target.value)}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none",placeholder:"3"})]})]})]})]}),t.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t border-gray-100",children:[t.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-900 font-medium",children:"Cancel"}),t.jsx("button",{onClick:l?T:C,className:"px-6 py-2 bg-[#ff4d00] text-white font-bold rounded hover:bg-[#e64600] transition-colors",children:l?`Generate ${b} Coupons`:"Save Coupon"})]})]}),t.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:t.jsxs("table",{className:"w-full text-left",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Code"}),t.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Discount"}),t.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Usage"}),t.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Restrictions"}),t.jsx("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase text-right",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:e.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:t.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[t.jsx(Xb,{size:32,className:"text-gray-300"}),t.jsx("p",{children:"No coupons created yet."})]})})}):e.map(O=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[t.jsxs("td",{className:"px-6 py-4",children:[t.jsxs("div",{className:"font-mono font-bold text-gray-900 bg-gray-100 inline-flex items-center gap-2 px-2 py-1 rounded border border-gray-200 text-xs group",children:[O.code,t.jsx("button",{onClick:F=>{F.stopPropagation();const z=`${window.location.origin}?coupon=${O.code}`;navigator.clipboard.writeText(z),alert(`Copied: ${z}`)},className:"opacity-0 group-hover:opacity-100 p-0.5 hover:bg-gray-200 rounded text-gray-400 hover:text-black transition-all",title:"Copy Sharable Link",children:t.jsx(dw,{size:10})})]}),O.bulkBatchId&&t.jsx("span",{className:"ml-2 text-[10px] text-gray-400 uppercase tracking-wide border border-gray-200 px-1 rounded",children:"BULK"})]}),t.jsx("td",{className:"px-6 py-4 font-medium text-gray-700",children:O.discountType==="percent"?`${O.discountValue}%`:`$${O.discountValue}`}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-bold uppercase
                                            ${O.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:O.active?"Active":"Inactive"})}),t.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600",children:[O.usedCount," ",O.maxUses?`/ ${O.maxUses}`:""]}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:O.allowedPlans&&O.allowedPlans.length>0?t.jsx("div",{className:"flex gap-1",children:O.allowedPlans.map(F=>t.jsx("span",{className:"text-[10px] bg-blue-50 text-blue-600 px-1.5 py-0.5 rounded capitalize border border-blue-100",children:F},F))}):t.jsx("span",{className:"text-gray-400 text-xs",children:"Global"})}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsx("button",{onClick:()=>N(O.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete Coupon",children:t.jsx(ba,{size:16})})})]},O.id))})]})}),t.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-4 flex items-start gap-3",children:[t.jsx(Kn,{className:"text-blue-500 mt-0.5 flex-shrink-0",size:18}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-bold text-blue-900",children:"Advanced Features"}),t.jsxs("p",{className:"text-xs text-blue-700 mt-1",children:["Use ",t.jsx("strong",{children:"Bulk Generate"})," to create hundreds of unique codes for partners or affiliates. Use ",t.jsx("strong",{children:"Plan Restrictions"}),' to create "Upgrade Only" offers valid for specific premium tiers.']})]})]})]})},yz=()=>{const[n,e]=w.useState(null),[s,r]=w.useState(!1),[i,l]=w.useState(!1);w.useEffect(()=>{q.getConversionSettings().then(f=>e(f))},[]);const c=async()=>{n&&(r(!0),await q.saveConversionSettings(n),setTimeout(()=>{r(!1),l(!0),setTimeout(()=>l(!1),2e3)},800))};return n?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Conversion Boosters"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Tools to increase visitor engagement and sales."})]}),t.jsx("button",{onClick:c,disabled:s,className:"flex items-center gap-2 px-6 py-2 bg-[#ff4d00] text-white font-bold rounded shadow-lg shadow-orange-500/30 hover:bg-[#e64600] transition-all",children:s?t.jsx("span",{children:"Saving..."}):i?t.jsxs(t.Fragment,{children:[t.jsx(ct,{size:18}),t.jsx("span",{children:"Saved!"})]}):t.jsxs(t.Fragment,{children:[t.jsx(ya,{size:18}),t.jsx("span",{children:"Save Changes"})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:t.jsx(Gr,{size:120})}),t.jsxs("div",{className:"flex items-center gap-3 mb-6 relative z-10",children:[t.jsx("div",{className:"p-2 bg-blue-100 text-blue-600 rounded-lg",children:t.jsx(Gr,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Social Proof Notifications"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Show recent sales popups to build trust."})]}),t.jsx("div",{className:"ml-auto",children:t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:n.socialProof.enabled,onChange:f=>e({...n,socialProof:{...n.socialProof,enabled:f.target.checked}}),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#ff4d00]"})]})})]}),t.jsxs("div",{className:"space-y-4 relative z-10",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Position"}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx("button",{onClick:()=>e({...n,socialProof:{...n.socialProof,position:"bottom-left"}}),className:`p-2 border rounded text-sm font-medium transition-all ${n.socialProof.position==="bottom-left"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:bg-gray-50"}`,children:"Bottom Left"}),t.jsx("button",{onClick:()=>e({...n,socialProof:{...n.socialProof,position:"bottom-right"}}),className:`p-2 border rounded text-sm font-medium transition-all ${n.socialProof.position==="bottom-right"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:bg-gray-50"}`,children:"Bottom Right"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Delay (Seconds)"}),t.jsx("input",{type:"number",value:n.socialProof.delay,onChange:f=>e({...n,socialProof:{...n.socialProof,delay:Number(f.target.value)}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Data Source"}),t.jsxs("select",{value:n.socialProof.showRealData?"real":"mock",onChange:f=>e({...n,socialProof:{...n.socialProof,showRealData:f.target.value==="real"}}),className:"w-full p-2 border border-gray-300 rounded bg-white",children:[t.jsx("option",{value:"mock",children:"Simulated (Mock)"}),t.jsx("option",{value:"real",children:"Real Sales Only"})]})]})]})]})]}),t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:t.jsx(Ci,{size:120})}),t.jsxs("div",{className:"flex items-center gap-3 mb-6 relative z-10",children:[t.jsx("div",{className:"p-2 bg-purple-100 text-purple-600 rounded-lg",children:t.jsx(Ci,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Exit Intent Popup"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Capture users before they leave."})]}),t.jsx("div",{className:"ml-auto",children:t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:n.exitIntent.enabled,onChange:f=>e({...n,exitIntent:{...n.exitIntent,enabled:f.target.checked}}),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#ff4d00]"})]})})]}),t.jsxs("div",{className:"space-y-4 relative z-10",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Headline"}),t.jsx("input",{type:"text",value:n.exitIntent.headline,onChange:f=>e({...n,exitIntent:{...n.exitIntent,headline:f.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Subtext"}),t.jsx("input",{type:"text",value:n.exitIntent.subtext,onChange:f=>e({...n,exitIntent:{...n.exitIntent,subtext:f.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Coupon Code"}),t.jsx("input",{type:"text",value:n.exitIntent.couponCode||"",onChange:f=>e({...n,exitIntent:{...n.exitIntent,couponCode:f.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsx("div",{className:"flex items-end pb-3",children:t.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:n.exitIntent.showOncePerSession,onChange:f=>e({...n,exitIntent:{...n.exitIntent,showOncePerSession:f.target.checked}}),className:"rounded text-black focus:ring-black"}),"Show once per session"]})})]})]})]}),t.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl border border-gray-200 shadow-sm relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:t.jsx(ak,{size:120})}),t.jsxs("div",{className:"flex items-center gap-3 mb-6 relative z-10",children:[t.jsx("div",{className:"p-2 bg-green-100 text-green-600 rounded-lg",children:t.jsx(ak,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Global Promo Bar"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Top-of-page banner for announcements."})]}),t.jsx("div",{className:"ml-auto",children:t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:n.promoBar.enabled,onChange:f=>e({...n,promoBar:{...n.promoBar,enabled:f.target.checked}}),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#ff4d00]"})]})})]}),t.jsxs("div",{className:"space-y-4 relative z-10",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Banner Message"}),t.jsx("input",{type:"text",value:n.promoBar.message,onChange:f=>e({...n,promoBar:{...n.promoBar,message:f.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Button Text"}),t.jsx("input",{type:"text",value:n.promoBar.buttonText||"",onChange:f=>e({...n,promoBar:{...n.promoBar,buttonText:f.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Button Link"}),t.jsx("input",{type:"text",value:n.promoBar.buttonLink||"",onChange:f=>e({...n,promoBar:{...n.promoBar,buttonLink:f.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Background Color"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"color",value:n.promoBar.backgroundColor,onChange:f=>e({...n,promoBar:{...n.promoBar,backgroundColor:f.target.value}}),className:"h-[38px] w-[50px] p-0 border border-gray-300 rounded cursor-pointer"}),t.jsx("input",{type:"text",value:n.promoBar.backgroundColor,onChange:f=>e({...n,promoBar:{...n.promoBar,backgroundColor:f.target.value}}),className:"flex-1 p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none uppercase"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Countdown Timer End Date (Optional)"}),t.jsx("input",{type:"datetime-local",value:n.promoBar.endDate||"",onChange:f=>e({...n,promoBar:{...n.promoBar,endDate:f.target.value}}),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-black outline-none"}),t.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Set a date to show a countdown timer within the banner."})]}),t.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[t.jsx("label",{className:"block text-xs font-bold uppercase text-gray-400 mb-2",children:"Live Preview"}),t.jsxs("div",{className:"rounded-lg p-3 text-center text-sm font-medium flex items-center justify-center gap-4 shadow-sm",style:{backgroundColor:n.promoBar.backgroundColor,color:n.promoBar.textColor},children:[t.jsx("span",{children:n.promoBar.message}),n.promoBar.buttonText&&t.jsx("span",{className:"px-3 py-1 bg-white text-black text-xs font-bold rounded shadow-sm opacity-90",children:n.promoBar.buttonText})]})]})]})]})]})]}):t.jsx("div",{children:"Loading..."})},bz=()=>{const[n,e]=w.useState([]),[s,r]=w.useState(!0),[i,l]=w.useState("all"),[c,f]=w.useState(null),[u,m]=w.useState(""),[g,b]=w.useState(!1);w.useEffect(()=>{v()},[i]);const v=async()=>{r(!0);try{const T=await q.getBankTransfers(i);e(T)}catch(T){console.error("Failed to load transfers",T)}r(!1)},E=async T=>{if(c){b(!0);try{await q.approveBankTransfer(c.id,T,u),f(null),m(""),await v()}catch(O){alert("Error: "+O.message)}b(!1)}},N=T=>{switch(T){case"approved":return t.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-[9px] font-black uppercase tracking-wider rounded-sm flex items-center gap-1",children:[t.jsx(ct,{size:10})," Approved"]});case"rejected":return t.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-[9px] font-black uppercase tracking-wider rounded-sm flex items-center gap-1",children:[t.jsx(tc,{size:10})," Rejected"]});default:return t.jsxs("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 text-[9px] font-black uppercase tracking-wider rounded-sm flex items-center gap-1",children:[t.jsx(Kt,{size:10})," Pending"]})}},C=T=>T?new Date(T).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return t.jsxs("div",{className:"animate-in fade-in space-y-6",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Payment Verification"}),t.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Bank Transfer Proofs"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("select",{value:i,onChange:T=>l(T.target.value),className:"text-xs border border-gray-200 px-4 py-2 bg-white font-bold uppercase tracking-wide",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"approved",children:"Approved"}),t.jsx("option",{value:"rejected",children:"Rejected"})]}),t.jsxs("button",{onClick:v,className:"bg-white border border-gray-200 px-4 py-2 text-xs font-bold uppercase tracking-wider hover:border-[#ff4d00] flex items-center gap-2",children:[t.jsx(Ur,{size:14})," Refresh"]})]})]}),s?t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx(Ur,{className:"animate-spin text-[#ff4d00]",size:32})}):n.length===0?t.jsxs("div",{className:"bg-white border border-gray-200 p-12 text-center",children:[t.jsx(Kd,{size:48,className:"mx-auto text-gray-300 mb-4"}),t.jsx("p",{className:"text-gray-500 font-medium",children:"No bank transfer proofs found."})]}):t.jsx("div",{className:"bg-white border border-gray-200 shadow-sm overflow-hidden",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-[#f9fafb] border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Date"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"User"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Reference"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Amount"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Tier"}),t.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Status"}),t.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Action"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:n.map(T=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-500",children:C(T.created_at)}),t.jsx("td",{className:"px-6 py-4 text-xs font-medium text-gray-900",children:T.user_email}),t.jsx("td",{className:"px-6 py-4 text-xs font-mono text-gray-500",children:T.reference}),t.jsxs("td",{className:"px-6 py-4 text-sm font-black text-gray-900",children:["",T.amount.toFixed(2)," ",t.jsxs("span",{className:"text-xs text-gray-400",children:["(",T.currency,")"]})]}),t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-600 capitalize",children:T.tier||"General"}),t.jsx("td",{className:"px-6 py-4",children:N(T.status)}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[t.jsx("a",{href:`${le}${T.file_url}`,download:T.file_name,className:"text-gray-400 hover:text-[#ff4d00] transition-colors",title:"Download",children:t.jsx(Ya,{size:14})}),t.jsxs("button",{onClick:()=>f(T),className:"bg-black text-white px-4 py-2 text-[10px] font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[t.jsx(kc,{size:12})," View"]})]})})]},T.id))})]})}),c&&t.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:()=>f(null),children:t.jsxs("div",{className:"bg-white w-full max-w-4xl max-h-[90vh] overflow-auto shadow-2xl",onClick:T=>T.stopPropagation(),children:[t.jsxs("div",{className:"p-6 border-b border-gray-200 flex justify-between items-start sticky top-0 bg-white",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-[#ff4d00] mb-1",children:"Transfer Details"}),t.jsx("h3",{className:"text-xl font-black text-gray-900",children:c.reference})]}),N(c.status)]}),t.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-1",children:"User Email"}),t.jsx("p",{className:"text-sm font-bold text-gray-900",children:c.user_email})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-1",children:"Amount"}),t.jsxs("p",{className:"text-2xl font-black text-gray-900",children:["",c.amount.toFixed(2)," ",t.jsxs("span",{className:"text-sm text-gray-400",children:["(",c.currency,")"]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-1",children:"Tier"}),t.jsx("p",{className:"text-sm font-bold text-gray-900 capitalize",children:c.tier||"General"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-1",children:"Submitted"}),t.jsx("p",{className:"text-sm font-bold text-gray-900",children:C(c.created_at)})]}),c.notes&&t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-1",children:"User Notes"}),t.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 border border-gray-200",children:c.notes})]}),c.admin_notes&&t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-1",children:"Admin Notes"}),t.jsx("p",{className:"text-sm text-gray-700 bg-yellow-50 p-3 border border-yellow-200",children:c.admin_notes})]})]}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-1",children:"Proof Document"}),t.jsx("div",{className:"bg-gray-50 border border-gray-200 p-4",children:c.file_url.endsWith(".pdf")?t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Kd,{size:32,className:"text-red-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-bold",children:c.file_name}),t.jsxs("a",{href:`${le}${c.file_url}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-[#ff4d00] hover:underline flex items-center gap-1",children:["Open PDF ",t.jsx(sc,{size:10})]})]})]}),t.jsxs("a",{href:`${le}${c.file_url}`,download:c.file_name,className:"bg-black text-white px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[t.jsx(Ya,{size:14})," Download"]})]}):t.jsxs("div",{className:"space-y-3",children:[t.jsx("img",{src:`${le}${c.file_url}`,alt:"Proof",className:"w-full h-auto max-h-64 object-contain"}),t.jsxs("a",{href:`${le}${c.file_url}`,download:c.file_name,className:"inline-flex items-center gap-2 bg-black text-white px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors",children:[t.jsx(Ya,{size:14})," Download Image"]})]})})]})})]}),c.status==="pending"&&t.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-200",children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-wide block mb-2",children:"Admin Notes (Optional)"}),t.jsx("textarea",{value:u,onChange:T=>m(T.target.value),className:"w-full border border-gray-200 p-3 text-sm",rows:3,placeholder:"Add notes about this transfer..."})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("button",{onClick:()=>E(!0),disabled:g,className:"flex-1 bg-green-500 text-white py-3 text-xs font-black uppercase tracking-widest hover:bg-green-600 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[g?t.jsx(Ur,{className:"animate-spin",size:14}):t.jsx(ct,{size:14}),"Approve & Credit"]}),t.jsxs("button",{onClick:()=>E(!1),disabled:g,className:"flex-1 bg-red-500 text-white py-3 text-xs font-black uppercase tracking-widest hover:bg-red-600 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[g?t.jsx(Ur,{className:"animate-spin",size:14}):t.jsx(tc,{size:14}),"Reject"]})]})]}),c.status!=="pending"&&t.jsx("div",{className:"p-6 border-t border-gray-200 flex justify-end",children:t.jsx("button",{onClick:()=>f(null),className:"bg-gray-100 hover:bg-gray-200 px-6 py-3 text-xs font-bold uppercase tracking-wider",children:"Close"})})]})})]})},vz=()=>{const[n,e]=w.useState("pending"),[s,r]=w.useState([]),[i,l]=w.useState([]),[c,f]=w.useState([]),[u,m]=w.useState(!0),[g,b]=w.useState(null),[v,E]=w.useState({approvedValue:"",adminNotes:"",fraudFlagged:!1,fraudReason:""}),[N,C]=w.useState(!1),[T,O]=w.useState(0),[F,z]=w.useState(!1),[M,U]=w.useState(null),[X,A]=w.useState(""),[P,_]=w.useState(!1);w.useEffect(()=>{k()},[]);const k=async()=>{try{const[W,xe,Ie,Ae]=await Promise.all([q.getPendingBenefits().catch(()=>[]),fetch(`${window.location.origin}/admin/benefit-types`,{headers:{Authorization:`Bearer ${localStorage.getItem("tgp_token")}`}}).then(ie=>ie.json()).then(ie=>Array.isArray(ie)?ie:[]).catch(()=>[]),q.getBenefitsHistory().catch(()=>[]),fetch(`${window.location.origin}/settings`).then(ie=>ie.json()).catch(()=>({settings:{}}))]);r(W),l(xe),f(Ie);const $=Ae.settings||{};O($.newUserSignupCreditsEconomy||0)}catch(W){console.error(W)}finally{m(!1)}},D=async()=>{z(!0);try{const Ie={...(await fetch(`${window.location.origin}/settings`).then(Ae=>Ae.json()).catch(()=>({settings:{}}))).settings||{},newUserSignupCreditsEconomy:T};await fetch(`${window.location.origin}/settings`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:Ie})}),alert("Signup credits saved successfully!")}catch(W){alert(W.message||"Failed to save")}finally{z(!1)}},L=W=>{U(W),A(JSON.stringify(W.requirements||{},null,2))},R=()=>{U({type:"",category:"",name:"",value:0,active:!0,display_order:0}),A(`{
  "description": "",
  "max_claims": 0,
  "frequency": "all_time"
}`)},Y=async()=>{_(!0);try{let W={};try{W=JSON.parse(X)}catch{throw new Error("Invalid JSON in requirements")}const xe={...M,requirements:W},Ie=xe.id;delete xe.id,delete xe.created_at;let Ae=`${window.location.origin}/admin/benefit-types`,$="POST";Ie&&(Ae+=`/${Ie}`,$="PUT");const ie=await fetch(Ae,{method:$,headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("tgp_token")}`},body:JSON.stringify(xe)});if(!ie.ok){const G=await ie.json();throw new Error(G.detail||"Failed to save")}U(null),await k()}catch(W){alert("Error: "+W.message)}finally{_(!1)}},ve=async()=>{if(g){C(!0);try{await q.approveBenefit(g.id,parseFloat(v.approvedValue)||g.claimed_value,v.adminNotes),await k(),b(null),E({approvedValue:"",adminNotes:"",fraudFlagged:!1,fraudReason:""})}catch(W){alert(W.message||"Failed to approve")}finally{C(!1)}}},J=async()=>{if(g){C(!0);try{await q.rejectBenefit(g.id,v.adminNotes,v.fraudFlagged,v.fraudReason),await k(),b(null),E({approvedValue:"",adminNotes:"",fraudFlagged:!1,fraudReason:""})}catch(W){alert(W.message||"Failed to reject")}finally{C(!1)}}};return u?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-[#ff4d00] border-t-transparent rounded-full"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-black text-gray-900",children:"Benefits Management"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Review marketing activity submissions and manage benefit types"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>e("pending"),className:`px-4 py-2 text-xs font-bold uppercase ${n==="pending"?"bg-[#ff4d00] text-white":"bg-gray-200"}`,children:["Pending (",s.length,")"]}),t.jsx("button",{onClick:()=>e("types"),className:`px-4 py-2 text-xs font-bold uppercase ${n==="types"?"bg-[#ff4d00] text-white":"bg-gray-200"}`,children:"Benefit Types"}),t.jsx("button",{onClick:()=>e("history"),className:`px-4 py-2 text-xs font-bold uppercase ${n==="history"?"bg-[#ff4d00] text-white":"bg-gray-200"}`,children:"History"}),t.jsx("button",{onClick:()=>e("signup"),className:`px-4 py-2 text-xs font-bold uppercase ${n==="signup"?"bg-[#ff4d00] text-white":"bg-gray-200"}`,children:"Signup Credits"})]})]}),n==="pending"&&t.jsx("div",{className:"space-y-4",children:s.length===0?t.jsxs("div",{className:"bg-white border border-gray-200 p-12 text-center",children:[t.jsx(Wn,{size:48,className:"mx-auto text-gray-300 mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No pending benefit requests"})]}):s.map(W=>t.jsx("div",{className:"bg-white border border-gray-200 p-6",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"bg-yellow-100 p-3",children:t.jsx(Kt,{size:24,className:"text-yellow-600"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("span",{className:"text-sm font-bold text-gray-900",children:W.user_email}),t.jsx("span",{className:"text-xs bg-gray-100 px-2 py-0.5",children:W.benefit_type}),t.jsx("span",{className:"text-xs bg-[#ff4d00]/10 text-[#ff4d00] px-2 py-0.5",children:W.benefit_category})]}),t.jsxs("a",{href:W.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline flex items-center gap-1",children:[W.url," ",t.jsx(sc,{size:12})]}),W.screenshot_url&&t.jsxs("a",{href:W.screenshot_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-500 hover:underline flex items-center gap-1 mt-1",children:["View Screenshot ",t.jsx(sc,{size:12})]}),W.description&&t.jsx("p",{className:"text-sm text-gray-500 mt-2",children:W.description}),t.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Submitted: ",new Date(W.submitted_at).toLocaleString()]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-2xl font-black text-[#ff4d00]",children:["",W.claimed_value]}),t.jsx("div",{className:"text-xs text-gray-500",children:"Claimed"}),t.jsx("div",{className:"flex gap-2 mt-4",children:t.jsx("button",{onClick:()=>{b(W),E({...v,approvedValue:String(W.claimed_value)})},className:"px-3 py-1 bg-green-500 text-white text-xs font-bold uppercase hover:bg-green-600",children:"Review"})})]})]})},W.id))}),n==="types"&&t.jsxs("div",{className:"bg-white border border-gray-200",children:[t.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[t.jsx("h3",{className:"font-bold",children:"Benefit Types Configuration"}),t.jsxs("button",{onClick:R,className:"px-3 py-1 bg-[#ff4d00] text-white text-xs font-bold uppercase flex items-center gap-1 hover:bg-[#e64600]",children:[t.jsx(er,{size:14})," Add Type"]})]}),t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left p-4 text-xs font-bold text-gray-500 uppercase",children:"Type"}),t.jsx("th",{className:"text-left p-4 text-xs font-bold text-gray-500 uppercase",children:"Category"}),t.jsx("th",{className:"text-left p-4 text-xs font-bold text-gray-500 uppercase",children:"Name"}),t.jsx("th",{className:"text-right p-4 text-xs font-bold text-gray-500 uppercase",children:"Value"}),t.jsx("th",{className:"text-center p-4 text-xs font-bold text-gray-500 uppercase",children:"Active"}),t.jsx("th",{className:"text-right p-4 text-xs font-bold text-gray-500 uppercase",children:"Actions"})]})}),t.jsx("tbody",{children:i.map(W=>t.jsxs("tr",{className:"border-t border-gray-100",children:[t.jsx("td",{className:"p-4 text-sm",children:W.type}),t.jsx("td",{className:"p-4 text-sm",children:W.category}),t.jsx("td",{className:"p-4 text-sm font-medium",children:W.name}),t.jsxs("td",{className:"p-4 text-sm text-right font-bold",children:["",W.value]}),t.jsx("td",{className:"p-4 text-center",children:t.jsx("span",{className:`px-2 py-1 text-xs ${W.active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:W.active?"Active":"Inactive"})}),t.jsx("td",{className:"p-4 text-right",children:t.jsx("button",{onClick:()=>L(W),className:"p-1 text-gray-400 hover:text-[#ff4d00]",children:t.jsx(RM,{size:16})})})]},W.id))})]})]}),n==="history"&&t.jsxs("div",{className:"bg-white border border-gray-200",children:[t.jsx("div",{className:"p-6 border-b border-gray-100",children:t.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-900",children:"Processed Benefits"})}),c.length===0?t.jsxs("div",{className:"p-12 text-center text-gray-400",children:[t.jsx(Kt,{size:32,className:"mx-auto mb-3 opacity-50"}),t.jsx("p",{className:"text-sm font-bold",children:"No processed benefits yet"})]}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"User"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Type"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Claimed"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Approved"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Status"}),t.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Reviewed"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-50",children:c.map(W=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-gray-900",children:W.user_email}),t.jsxs("td",{className:"px-6 py-4 text-xs text-gray-600",children:[W.benefit_type," / ",W.benefit_category]}),t.jsxs("td",{className:"px-6 py-4 text-xs font-bold",children:["",W.claimed_value]}),t.jsx("td",{className:"px-6 py-4 text-xs font-bold text-green-600",children:W.approved_value?`${W.approved_value}`:"-"}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsxs("span",{className:`inline-flex items-center gap-1 text-[9px] font-black uppercase tracking-wider px-2 py-1 rounded-sm ${W.status==="approved"?"bg-green-100 text-green-700":W.status==="rejected"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-500"}`,children:[W.status==="approved"?t.jsx(ct,{size:10}):W.status==="rejected"?t.jsx(tc,{size:10}):t.jsx(Kt,{size:10}),W.status]}),W.fraud_flagged&&t.jsx("span",{className:"ml-2 text-[8px] text-red-600 font-black uppercase",children:"Fraud"})]}),t.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:W.reviewed_at?new Date(W.reviewed_at).toLocaleDateString():"-"})]},W.id))})]})})]}),n==="signup"&&t.jsxs("div",{className:"bg-white border border-gray-200",children:[t.jsxs("div",{className:"p-6 border-b border-gray-200",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"New User Signup Bonus (Economy Credits)"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Configure how many economy credits new users receive for free when they register"})]}),t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"max-w-md",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Signup Bonus (Economy Credits)"}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"relative flex-1",children:t.jsx("input",{type:"number",min:"0",step:"100",value:T,onChange:W=>O(parseInt(W.target.value)||0),className:"pl-4 pr-4 py-2 w-full border border-gray-300 focus:ring-2 focus:ring-[#ff4d00] focus:border-transparent",placeholder:"0"})}),t.jsx("span",{className:"text-gray-500",children:"credits"})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Set to 0 to disable signup bonus. New users will not receive any economy credits upon registration."}),t.jsx("div",{className:"mt-6 flex items-center gap-4",children:t.jsxs("button",{onClick:D,disabled:F,className:"px-4 py-2 bg-[#ff4d00] text-white font-bold uppercase text-xs flex items-center gap-2 hover:bg-[#e64600] disabled:opacity-50",children:[F?t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):t.jsx(ya,{size:16}),F?"Saving...":"Save Settings"]})}),t.jsxs("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200",children:[t.jsxs("h4",{className:"text-sm font-bold text-blue-900 flex items-center gap-2",children:[t.jsx(Nr,{size:16}),"How it works"]}),t.jsxs("ul",{className:"mt-2 text-xs text-blue-800 space-y-1",children:[t.jsxs("li",{children:[" When a new user registers, they will automatically receive ",T.toLocaleString()," economy credits"]}),t.jsx("li",{children:" Credits are added to their economy balance immediately"}),t.jsx("li",{children:" A transaction record is created for tracking"}),t.jsx("li",{children:" This setting applies to all new registrations"})]})]})]})})]}),g&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white max-w-lg w-full p-6",children:[t.jsx("h3",{className:"text-xl font-bold mb-4",children:"Review Benefit Request"}),t.jsxs("div",{className:"bg-gray-50 p-4 mb-4",children:[t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"User:"}),t.jsx("span",{className:"text-sm font-bold",children:g.user_email})]}),t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Type:"}),t.jsxs("span",{className:"text-sm font-bold",children:[g.benefit_type," / ",g.benefit_category]})]}),t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Claimed:"}),t.jsxs("span",{className:"text-sm font-bold text-[#ff4d00]",children:["",g.claimed_value]})]}),t.jsxs("div",{className:"mt-2 pt-2 border-t flex flex-col gap-2",children:[t.jsx("a",{href:g.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline",children:"View Link "}),g.screenshot_url&&t.jsx("a",{href:g.screenshot_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline",children:"View Screenshot "})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Approved Value ()"}),t.jsx("input",{type:"number",className:"w-full border p-3",value:v.approvedValue,onChange:W=>E({...v,approvedValue:W.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Admin Notes"}),t.jsx("textarea",{className:"w-full border p-3",rows:3,value:v.adminNotes,onChange:W=>E({...v,adminNotes:W.target.value})})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",id:"fraud",checked:v.fraudFlagged,onChange:W=>E({...v,fraudFlagged:W.target.checked})}),t.jsxs("label",{htmlFor:"fraud",className:"text-sm text-red-600 font-bold flex items-center gap-1",children:[t.jsx(ys,{size:14})," Flag as Fraud"]})]}),v.fraudFlagged&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Fraud Reason"}),t.jsx("input",{type:"text",className:"w-full border p-3 border-red-300",value:v.fraudReason,onChange:W=>E({...v,fraudReason:W.target.value}),placeholder:"Reason for fraud flag..."})]})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{onClick:()=>b(null),className:"flex-1 border py-3 text-xs font-bold uppercase",children:"Cancel"}),t.jsx("button",{onClick:J,disabled:N,className:"flex-1 bg-red-500 text-white py-3 text-xs font-bold uppercase disabled:opacity-50",children:"Reject"}),t.jsx("button",{onClick:ve,disabled:N,className:"flex-1 bg-green-500 text-white py-3 text-xs font-bold uppercase disabled:opacity-50",children:"Approve"})]})]})}),M&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[t.jsx("h3",{className:"text-xl font-bold mb-4",children:M.id?"Edit Benefit Type":"Add Benefit Type"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Type"}),t.jsx("input",{type:"text",className:"w-full border p-2",value:M.type,onChange:W=>U({...M,type:W.target.value}),placeholder:"e.g. youtube, blog"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Category"}),t.jsx("input",{type:"text",className:"w-full border p-2",value:M.category,onChange:W=>U({...M,category:W.target.value}),placeholder:"e.g. viral, premium"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Name"}),t.jsx("input",{type:"text",className:"w-full border p-2",value:M.name,onChange:W=>U({...M,name:W.target.value}),placeholder:"e.g. YouTube Video"})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Value ()"}),t.jsx("input",{type:"number",step:"0.01",className:"w-full border p-2",value:M.value,onChange:W=>U({...M,value:parseFloat(W.target.value)||0})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Display Order"}),t.jsx("input",{type:"number",className:"w-full border p-2",value:M.display_order,onChange:W=>U({...M,display_order:parseInt(W.target.value)||0})})]}),t.jsxs("div",{className:"flex items-center pt-6",children:[t.jsx("input",{type:"checkbox",id:"bt-active",checked:M.active,onChange:W=>U({...M,active:W.target.checked}),className:"mr-2"}),t.jsx("label",{htmlFor:"bt-active",className:"text-sm font-bold",children:"Active"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Requirements (JSON)"}),t.jsx("textarea",{className:"w-full border p-2 font-mono text-sm",rows:6,value:X,onChange:W=>A(W.target.value)}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:'Requires valid JSON. Common fields: "description", "max_claims", "frequency" ("all_time", "daily", "weekly", "monthly").'})]})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{onClick:()=>U(null),className:"flex-1 border py-3 text-xs font-bold uppercase",children:"Cancel"}),t.jsx("button",{onClick:Y,disabled:P,className:"flex-1 bg-[#ff4d00] text-white py-3 text-xs font-bold uppercase disabled:opacity-50",children:P?"Saving...":"Save"})]})]})})]})},wz=()=>{var kt,_e,Le,xt,we,se,$e,tt;const[n,e]=w.useState({username:"",password:"",serviceName:"RESIDENTIAL-PREMIUM",proxyHost:"92.204.164.15",httpPort:9e3,sessionLifetimeMinutes:30,bandwidthLimitGb:void 0,notificationEmail:"support@traffic-creator.com",isActive:!0,warnAt80:!0,warnAt50:!0,warnAt20:!0}),[s,r]=w.useState(null),[i,l]=w.useState([]),[c,f]=w.useState(null),[u,m]=w.useState(!0),[g,b]=w.useState(!1),[v,E]=w.useState(!1),[N,C]=w.useState(!1),[T,O]=w.useState(!1),[F,z]=w.useState(null),[M,U]=w.useState([]),[X,A]=w.useState(""),[P,_]=w.useState(""),[k,D]=w.useState(""),[L,R]=w.useState(!1),[Y,ve]=w.useState(null),[J,W]=w.useState([]),[xe,Ie]=w.useState(null),[Ae,$]=w.useState(!1);w.useEffect(()=>{H(),ie(),G()},[]);const ie=async()=>{try{const ae=await q.getGeoLocations();U(ae)}catch(ae){console.error("Failed to load geo locations:",ae)}},G=async(ae=!1)=>{try{const[It,ls]=await Promise.all([q.getProxyLogs({limit:50,errorsOnly:ae}),q.getProxyLogStats()]);W(It),Ie(ls)}catch(It){console.error("Failed to load proxy logs:",It)}},H=async()=>{m(!0);try{const ae=await q.getProxyConfig();ae&&(r(ae),e({username:ae.username,password:"",serviceName:ae.serviceName,proxyHost:ae.proxyHost||"92.204.164.15",httpPort:ae.httpPort||9e3,sessionLifetimeMinutes:ae.sessionLifetimeMinutes,bandwidthLimitGb:ae.bandwidthLimitGb,notificationEmail:ae.notificationEmail,isActive:ae.isActive,warnAt80:ae.warnAt80,warnAt50:ae.warnAt50,warnAt20:ae.warnAt20}));const[It,ls]=await Promise.all([q.getProxySessions(!0),q.getProxyUsage()]);l(It),f(ls)}catch(ae){console.error("Failed to load proxy data:",ae)}finally{m(!1)}},me=async()=>{if(!n.username||!n.password){z({type:"error",text:"Username and password are required"});return}b(!0),z(null);try{const ae=await q.saveProxyConfig(n);r(ae),z({type:"success",text:"Proxy configuration saved successfully"})}catch(ae){z({type:"error",text:ae.message||"Failed to save configuration"})}finally{b(!1)}},K=async()=>{E(!0),z(null);try{const ae=await q.testProxyConnection();if(ae.success){z({type:"success",text:`Connection successful! Bandwidth: ${ae.bandwidth_used_gb||0} GB used`});const It=await q.getProxyUsage();f(It)}else z({type:"error",text:ae.message||"Connection failed"})}catch(ae){z({type:"error",text:ae.message||"Test failed"})}finally{E(!1)}},Te=async()=>{C(!0),z(null);try{const ae=await q.syncProxyLocations();z({type:"success",text:`Synced ${ae.locations_synced} geo locations`})}catch(ae){z({type:"error",text:ae.message||"Sync failed"})}finally{C(!1)}},Re=async ae=>{try{await q.releaseProxySession(ae),l(i.filter(It=>It.id!==ae)),z({type:"success",text:"Session released"})}catch(It){z({type:"error",text:It.message||"Failed to release session"})}},Oe=async()=>{try{const ae=await q.releaseAllProxySessions();l([]),z({type:"success",text:`Released ${ae.sessions_released} sessions`})}catch(ae){z({type:"error",text:ae.message||"Failed to release sessions"})}},gt=async()=>{var ae,It;if(!X){z({type:"error",text:"Please select a country for testing"});return}R(!0),ve(null),z(null);try{const ls=M.find(Ue=>Ue.countryCode===X),be=await q.testProxyTraffic({countryCode:X,countryName:ls==null?void 0:ls.countryName,state:P||void 0,city:k||void 0});ve(be),be.success?z({type:"success",text:`Test successful! IP: ${(ae=be.detected)==null?void 0:ae.ip} (${(It=be.detected)==null?void 0:It.country})`}):z({type:"error",text:be.message||"Test failed"})}catch(ls){z({type:"error",text:ls.message||"Test failed"})}finally{R(!1)}},wt=c!=null&&c.bandwidthLimitGb&&c.bandwidthUsedGb?c.bandwidthUsedGb/c.bandwidthLimitGb*100:s!=null&&s.bandwidthLimitGb&&s.bandwidthUsedGb?s.bandwidthUsedGb/s.bandwidthLimitGb*100:0,_t=ae=>ae>=100?"bg-red-500":ae>=80?"bg-orange-500":ae>=50?"bg-yellow-500":"bg-green-500";return u?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"text-gray-500",children:"Loading proxy configuration..."})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-black text-gray-900",children:"Proxy Provider"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Configure Geonode Residential Proxies for geo-targeted traffic"})]}),t.jsx("div",{className:"flex items-center gap-2",children:s!=null&&s.isActive?t.jsxs("span",{className:"flex items-center gap-1 text-green-600 text-sm font-bold",children:[t.jsx(o9,{size:16})," Active"]}):t.jsxs("span",{className:"flex items-center gap-1 text-gray-400 text-sm font-bold",children:[t.jsx(a9,{size:16})," Inactive"]})})]}),F&&t.jsxs("div",{className:`p-4 border flex items-center gap-2 ${F.type==="success"?"bg-green-50 border-green-200 text-green-700":"bg-red-50 border-red-200 text-red-700"}`,children:[F.type==="success"?t.jsx(ct,{size:16}):t.jsx(Kn,{size:16}),F.text]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(nk,{size:14})," Configuration"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Username"}),t.jsx("input",{type:"text",value:n.username,onChange:ae=>e({...n,username:ae.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"geonode_username"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:T?"text":"password",value:n.password,onChange:ae=>e({...n,password:ae.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 pr-10 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:""}),t.jsx("button",{type:"button",onClick:()=>O(!T),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:T?t.jsx(Cf,{size:16}):t.jsx(kc,{size:16})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Service Name"}),t.jsx("input",{type:"text",value:n.serviceName,onChange:ae=>e({...n,serviceName:ae.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"RESIDENTIAL-PREMIUM"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Proxy Host / IP"}),t.jsx("input",{type:"text",value:n.proxyHost,onChange:ae=>e({...n,proxyHost:ae.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"92.204.164.15"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Proxy Port"}),t.jsx("input",{type:"number",value:n.httpPort,onChange:ae=>e({...n,httpPort:parseInt(ae.target.value)||9e3}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"9000"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Session Lifetime (min)"}),t.jsx("input",{type:"number",value:n.sessionLifetimeMinutes,onChange:ae=>e({...n,sessionLifetimeMinutes:parseInt(ae.target.value)||30}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Bandwidth Limit (GB)"}),t.jsx("input",{type:"number",value:n.bandwidthLimitGb||"",onChange:ae=>e({...n,bandwidthLimitGb:ae.target.value?parseFloat(ae.target.value):void 0}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]",placeholder:"Optional"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2 flex items-center gap-1",children:[t.jsx(xa,{size:12})," Notification Email"]}),t.jsx("input",{type:"email",value:n.notificationEmail,onChange:ae=>e({...n,notificationEmail:ae.target.value}),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00]"})]}),t.jsxs("div",{className:"border-t border-gray-100 pt-4",children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Bandwidth Alerts"}),t.jsxs("div",{className:"flex flex-wrap gap-4",children:[t.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[t.jsx("input",{type:"checkbox",checked:n.warnAt80,onChange:ae=>e({...n,warnAt80:ae.target.checked}),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded"}),"80%"]}),t.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[t.jsx("input",{type:"checkbox",checked:n.warnAt50,onChange:ae=>e({...n,warnAt50:ae.target.checked}),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded"}),"50%"]}),t.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[t.jsx("input",{type:"checkbox",checked:n.warnAt20,onChange:ae=>e({...n,warnAt20:ae.target.checked}),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded"}),"20%"]})]})]}),t.jsxs("div",{className:"flex items-center gap-2 border-t border-gray-100 pt-4",children:[t.jsx("input",{type:"checkbox",checked:n.isActive,onChange:ae=>e({...n,isActive:ae.target.checked}),className:"w-4 h-4 text-[#ff4d00] border-gray-300 rounded"}),t.jsx("span",{className:"text-sm font-bold",children:"Proxy Active"})]}),t.jsxs("div",{className:"flex gap-2 pt-4",children:[t.jsxs("button",{onClick:me,disabled:g,className:"flex-1 bg-black text-white px-4 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:[t.jsx(ya,{size:14})," ",g?"Saving...":"Save"]}),t.jsxs("button",{onClick:K,disabled:v||!n.username,className:"bg-gray-100 text-gray-700 px-4 py-3 text-xs font-bold uppercase tracking-wider hover:bg-gray-200 transition-colors flex items-center gap-2 disabled:opacity-50",children:[v?t.jsx(Ur,{size:14,className:"animate-spin"}):t.jsx(br,{size:14})," Test"]}),t.jsxs("button",{onClick:Te,disabled:N||!s,className:"bg-gray-100 text-gray-700 px-4 py-3 text-xs font-bold uppercase tracking-wider hover:bg-gray-200 transition-colors flex items-center gap-2 disabled:opacity-50",children:[t.jsx(Ur,{size:14})," Sync"]})]})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(nk,{size:14})," Usage & Status"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[t.jsx("span",{className:"font-bold",children:"Bandwidth"}),t.jsxs("span",{className:"text-gray-500",children:[(c==null?void 0:c.bandwidthUsedGb)||(s==null?void 0:s.bandwidthUsedGb)||0," GB / ",(c==null?void 0:c.bandwidthLimitGb)||(s==null?void 0:s.bandwidthLimitGb)||"?"," GB"]})]}),t.jsx("div",{className:"w-full h-3 bg-gray-200 rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full transition-all ${_t(wt)}`,style:{width:`${Math.min(wt,100)}%`}})}),t.jsxs("div",{className:"text-right text-xs text-gray-400 mt-1",children:[wt.toFixed(1),"%"]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-gray-50 p-4 border border-gray-100",children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Active Sessions"}),t.jsx("div",{className:"text-2xl font-black text-gray-900",children:i.length})]}),t.jsxs("div",{className:"bg-gray-50 p-4 border border-gray-100",children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Last Sync"}),t.jsx("div",{className:"text-sm font-bold text-gray-900",children:s!=null&&s.lastSyncAt?new Date(s.lastSyncAt).toLocaleString():"Never"})]})]}),t.jsxs("button",{onClick:Oe,disabled:i.length===0,className:"w-full bg-red-50 text-red-600 px-4 py-3 text-xs font-bold uppercase tracking-wider hover:bg-red-100 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 border border-red-200",children:[t.jsx(ba,{size:14})," Release All Sessions"]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Kt,{size:14})," Active Sessions"]}),i.length===0?t.jsx("div",{className:"text-center text-gray-400 py-8",children:"No active sessions"}):t.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:i.map(ae=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 border border-gray-100",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"text-sm font-bold",children:[ae.country||"Unknown",ae.state&&` / ${ae.state}`,ae.city&&` / ${ae.city}`]}),t.jsxs("div",{className:"text-xs text-gray-400",children:[ae.sessionId,"  ",ae.requestCount," requests"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"text-xs text-gray-400",children:ae.expiresAt?`${Math.max(0,Math.floor((new Date(ae.expiresAt).getTime()-Date.now())/6e4))}m`:""}),t.jsx("button",{onClick:()=>Re(ae.id),className:"text-red-500 hover:text-red-700",children:t.jsx(ba,{size:14})})]})]},ae.id))})]})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] mb-6 flex items-center gap-2",children:[t.jsx(Lt,{size:14})," Test Proxy Traffic"]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Country"}),t.jsxs("select",{value:X,onChange:ae=>{A(ae.target.value),_(""),D("")},className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium",disabled:!(s!=null&&s.isActive),children:[t.jsx("option",{value:"",children:"Select Country..."}),M.map(ae=>t.jsx("option",{value:ae.countryCode,children:ae.countryName},ae.countryCode))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"State (optional)"}),t.jsxs("select",{value:P,onChange:ae=>{_(ae.target.value),D("")},className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium",disabled:!X,children:[t.jsx("option",{value:"",children:"Any State"}),X&&((kt=M.find(ae=>ae.countryCode===X))==null?void 0:kt.states.map(ae=>t.jsx("option",{value:ae.name,children:ae.name},ae.code)))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"City (optional)"}),t.jsxs("select",{value:k,onChange:ae=>D(ae.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-3 text-sm font-medium",disabled:!P,children:[t.jsx("option",{value:"",children:"Any City"}),P&&((_e=M.find(ae=>ae.countryCode===X))==null?void 0:_e.cities.filter(ae=>ae.code.startsWith(P.substring(0,2).toUpperCase())).map(ae=>t.jsx("option",{value:ae.name,children:ae.name},ae.code)))]})]})]}),t.jsx("button",{onClick:gt,disabled:L||!X||!(s!=null&&s.isActive),className:"bg-[#ff4d00] text-white px-6 py-3 text-xs font-bold uppercase tracking-wider hover:bg-[#e64500] transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:L?t.jsxs(t.Fragment,{children:[t.jsx(Ur,{size:14,className:"animate-spin"})," Testing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Lt,{size:14})," Run Test"]})}),M.length===0&&t.jsx("p",{className:"text-xs text-yellow-600 mt-2",children:"No geo locations loaded. Sync from Geonode first."})]}),t.jsx("div",{children:Y?t.jsx("div",{className:`p-4 border ${Y.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:Y.success?t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-green-700 font-bold",children:[t.jsx(ct,{size:16})," Test Successful"]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"IP Address:"}),t.jsx("span",{className:"font-mono font-bold ml-2",children:(Le=Y.detected)==null?void 0:Le.ip})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Latency:"}),t.jsxs("span",{className:"font-bold ml-2",children:[Y.latency_ms,"ms"]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Country:"}),t.jsxs("span",{className:"font-bold ml-2",children:[(xt=Y.detected)==null?void 0:xt.country," (",(we=Y.detected)==null?void 0:we.country_code,")"]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Region:"}),t.jsx("span",{className:"font-bold ml-2",children:(se=Y.detected)==null?void 0:se.region})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"City:"}),t.jsx("span",{className:"font-bold ml-2",children:($e=Y.detected)==null?void 0:$e.city})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"ISP:"}),t.jsx("span",{className:"font-bold ml-2",children:(tt=Y.detected)==null?void 0:tt.isp})]})]}),t.jsx("div",{className:`flex items-center gap-2 text-sm ${Y.geo_match?"text-green-600":"text-yellow-600"}`,children:Y.geo_match?t.jsxs(t.Fragment,{children:[t.jsx(ct,{size:14})," Geo-location matches request"]}):t.jsxs(t.Fragment,{children:[t.jsx(Kn,{size:14})," Geo-location does not match request"]})})]}):t.jsxs("div",{className:"flex items-center gap-2 text-red-700",children:[t.jsx(Kn,{size:16}),t.jsx("span",{children:Y.message})]})}):t.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-8 text-center text-gray-400",children:[t.jsx(Ts,{size:32,className:"mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"Select a country and run a test to verify proxy geo-location"})]})})]})]}),t.jsxs("div",{className:"bg-white border border-gray-200 p-6 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-[#ff4d00] flex items-center gap-2",children:[t.jsx(Kd,{size:14})," Proxy Logs"]}),t.jsxs("div",{className:"flex items-center gap-4",children:[xe&&t.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Dn,{size:12,className:"text-green-500"}),t.jsxs("span",{className:"font-bold",children:[xe.successRate,"%"]}),t.jsx("span",{className:"text-gray-400",children:"success"})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsxs("span",{className:"font-bold",children:[xe.avgLatencyMs,"ms"]}),t.jsx("span",{className:"text-gray-400",children:"avg latency"})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"font-bold text-red-500",children:xe.failed}),t.jsx("span",{className:"text-gray-400",children:"errors"})]})]}),t.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium",children:[t.jsx("input",{type:"checkbox",checked:Ae,onChange:ae=>{$(ae.target.checked),G(ae.target.checked)},className:"w-3 h-3"}),"Errors only"]}),t.jsx("button",{onClick:()=>G(Ae),className:"text-xs text-gray-500 hover:text-gray-700",children:t.jsx(Ur,{size:14})})]})]}),J.length===0?t.jsx("div",{className:"text-center text-gray-400 py-8",children:"No proxy logs yet"}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-xs",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-200",children:[t.jsx("th",{className:"text-left py-2 px-2 font-bold text-gray-400 uppercase",children:"Time"}),t.jsx("th",{className:"text-left py-2 px-2 font-bold text-gray-400 uppercase",children:"Status"}),t.jsx("th",{className:"text-left py-2 px-2 font-bold text-gray-400 uppercase",children:"Location"}),t.jsx("th",{className:"text-left py-2 px-2 font-bold text-gray-400 uppercase",children:"IP"}),t.jsx("th",{className:"text-left py-2 px-2 font-bold text-gray-400 uppercase",children:"Latency"}),t.jsx("th",{className:"text-left py-2 px-2 font-bold text-gray-400 uppercase",children:"Error"})]})}),t.jsx("tbody",{children:J.map(ae=>t.jsxs("tr",{className:`border-b border-gray-100 ${ae.success?"":"bg-red-50"}`,children:[t.jsx("td",{className:"py-2 px-2 text-gray-500",children:ae.createdAt?new Date(ae.createdAt).toLocaleString():""}),t.jsx("td",{className:"py-2 px-2",children:ae.success?t.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[t.jsx(ct,{size:12})," ",ae.responseCode||"OK"]}):t.jsxs("span",{className:"flex items-center gap-1 text-red-600",children:[t.jsx(Kn,{size:12})," ",ae.responseCode||"Error"]})}),t.jsx("td",{className:"py-2 px-2",children:ae.countryCode&&t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx("img",{src:`https://flagcdn.com/w16/${ae.countryCode.toLowerCase()}.png`,alt:ae.countryCode,className:"w-4 h-auto"}),ae.countryCode,ae.state&&t.jsxs("span",{className:"text-gray-400",children:["/",ae.state]}),ae.city&&t.jsxs("span",{className:"text-gray-300",children:["/",ae.city]})]})}),t.jsx("td",{className:"py-2 px-2 font-mono text-gray-500",children:ae.ipAddress||""}),t.jsx("td",{className:"py-2 px-2",children:ae.latencyMs?`${ae.latencyMs}ms`:""}),t.jsx("td",{className:"py-2 px-2 text-red-600 max-w-xs truncate",children:ae.errorMessage||""})]},ae.id))})]})})]})]})},jz=({onLogout:n})=>{const e=qs(),s=tr(),[r,i]=w.useState(!1),c=(()=>{const W=s.pathname;return W==="/admin"||W==="/admin/"?"admin-home":W.startsWith("/admin/users/edit/")?"admin-edit-user":W==="/admin/users"?"admin-users":W==="/admin/live"?"admin-live":W==="/admin/tickets"?"admin-tickets":W.startsWith("/admin/projects/edit/")?"admin-edit-project":W==="/admin/projects"?"admin-projects":W==="/admin/projects/create"?"admin-create-project":W.startsWith("/admin/transactions/edit/")?"admin-edit-transaction":W==="/admin/transactions"?"admin-transactions":W==="/admin/alerts"?"admin-alerts":W==="/admin/pricing"?"admin-pricing":W==="/admin/settings"?"admin-settings":W==="/admin/api-docs"?"admin-api-docs":W==="/admin/marketing"?"admin-marketing":W==="/admin/coupons"?"admin-coupons":W==="/admin/conversion"?"admin-conversion":W==="/admin/bank-transfers"?"admin-bank-transfers":W==="/admin/proxies"?"admin-proxies":"admin-home"})(),[f,u]=w.useState([]),[m,g]=w.useState([]),[b,v]=w.useState([]),[E,N]=w.useState([]),[C,T]=w.useState([]),[O,F]=w.useState(null),[z,M]=w.useState([]),[U,X]=w.useState(null);w.useEffect(()=>{q.init(),(async()=>{await Promise.all([q.syncProjects(),q.syncAdminProjects()]),await A()})()},[]);const A=async()=>{try{const[W,xe,Ie]=await Promise.all([q.syncUsers(),q.syncAllTransactions(),q.getAdminStats(),q.syncAdminProjects(),q.syncTickets(),q.syncSettings(),q.syncAlerts()]);u(W||[]),N(xe||[]),Ie&&X(Ie),g(q.getAdminProjects()),T(q.getTickets()),M(q.getAlerts());const Ae=q.getSystemSettings();Ae&&F(Ae),v(q.getPricing())}catch(W){console.error("Failed to refresh admin data:",W)}},P=W=>{const xe=q.getTickets();T(xe),e("/admin/tickets")},_=W=>{e(`/admin/users/edit/${W}`),window.scrollTo(0,0)},k=W=>{e(`/admin/projects/edit/${W}`),window.scrollTo(0,0)},D=W=>{e(`/admin/transactions/edit/${W}`),window.scrollTo(0,0)},L=[{title:"Admin Control",items:[{label:"Overview",id:"admin-home",path:"",icon:t.jsx(jT,{size:18})},{label:"User Management",id:"admin-users",path:"users",icon:t.jsx(Nr,{size:18})},{label:"Live Users",id:"admin-live",path:"live",icon:t.jsx(cw,{size:18})},{label:"All Projects",id:"admin-projects",path:"projects",icon:t.jsx(ga,{size:18})},{label:"Create Project",id:"admin-create-project",path:"projects/create",icon:t.jsx(er,{size:18})}]},{title:"Operations",items:[{label:"Transactions",id:"admin-transactions",path:"transactions",icon:t.jsx(xn,{size:18})},{label:"Bank Transfers",id:"admin-bank-transfers",path:"bank-transfers",icon:t.jsx(wT,{size:18})},{label:"Support Tickets",id:"admin-tickets",path:"tickets",icon:t.jsx(Gr,{size:18})},{label:"Broadcasts",id:"admin-alerts",path:"alerts",icon:t.jsx(Qb,{size:18})},{label:"API Documentation",id:"admin-api-docs",path:"api-docs",icon:t.jsx(bT,{size:18})}]},{title:"Growth",items:[{label:"Marketing Hub",id:"admin-marketing",path:"marketing",icon:t.jsx(Dn,{size:18})},{label:"Coupons",id:"admin-coupons",path:"coupons",icon:t.jsx(Xb,{size:18})},{label:"Conversion",id:"admin-conversion",path:"conversion",icon:t.jsx(Lt,{size:18})},{label:"Benefits",id:"admin-benefits",path:"benefits",icon:t.jsx(Dn,{size:18})}]},{title:"Infrastructure",items:[{label:"Proxy Provider",id:"admin-proxies",path:"proxies",icon:t.jsx(ST,{size:18})}]},{title:"Configuration",items:[{label:"Global Pricing",id:"admin-pricing",path:"pricing",icon:t.jsx(xn,{size:18})},{label:"System Settings",id:"admin-settings",path:"settings",icon:t.jsx(Bo,{size:18})}]}],R=()=>{const{id:W}=Vd();return W?t.jsx(cz,{userId:W,onBack:()=>e("/admin/users"),onUpdate:A}):t.jsx("div",{children:"Error: No User ID selected"})},Y=()=>{const{id:W}=Vd();return W?t.jsx(dz,{projectId:W,onBack:()=>e("/admin/projects"),onUpdate:A}):t.jsx("div",{children:"Error: No Project ID selected"})},ve=()=>{const{id:W}=Vd();return W?t.jsx(uz,{trxId:W,onBack:()=>e("/admin/transactions"),onUpdate:A}):t.jsx("div",{children:"Error: No Transaction ID selected"})},J=()=>t.jsx(fz,{onBack:()=>e("/admin/projects"),onSuccess:A});return t.jsxs("div",{className:"bg-[#f3f4f6] min-h-screen flex font-sans text-gray-900",children:[t.jsx(IT,{menuSections:L,currentView:c,onNavigate:W=>{e(`/admin/${{"admin-home":"","admin-users":"users","admin-live":"live","admin-projects":"projects","admin-create-project":"projects/create","admin-transactions":"transactions","admin-tickets":"tickets","admin-alerts":"alerts","admin-pricing":"pricing","admin-settings":"settings","admin-api-docs":"api-docs","admin-marketing":"marketing","admin-coupons":"coupons","admin-conversion":"conversion","admin-benefits":"benefits","admin-bank-transfers":"bank-transfers","admin-proxies":"proxies"}[W]||""}`),i(!1),window.scrollTo(0,0)},onLogout:n}),t.jsxs("main",{className:"flex-1 md:ml-64 flex flex-col min-h-screen relative",children:[t.jsx(RT,{title:"Super Admin Panel",onMobileMenuClick:()=>i(!0),isAdmin:!0}),t.jsx("div",{className:"flex-1 p-6 md:p-12 overflow-y-auto",children:t.jsx("div",{className:"max-w-screen-2xl mx-auto h-full",children:t.jsxs(rw,{children:[t.jsx(We,{index:!0,element:t.jsx(HL,{users:f,projects:m,tickets:C,transactions:E,onNavigate:W=>{e(`/admin/${{"admin-users":"users","admin-projects":"projects","admin-tickets":"tickets","admin-transactions":"transactions"}[W]||""}`)},stats:U})}),t.jsx(We,{path:"users",element:t.jsx(GL,{users:f,projects:m,transactions:E,tickets:C,onRefresh:A,onEditUser:_})}),t.jsx(We,{path:"users/edit/:id",element:t.jsx(R,{})}),t.jsx(We,{path:"live",element:t.jsx(XL,{onStartChat:P})}),t.jsx(We,{path:"tickets",element:t.jsx(KL,{tickets:C,onRefresh:A})}),t.jsx(We,{path:"projects",element:t.jsx(WL,{projects:m,onEditProject:k,onEditUser:_,onBulkUpdate:async(W,xe)=>{await q.bulkUpdateAdminProjects(W,xe),A()}})}),t.jsx(We,{path:"projects/edit/:id",element:t.jsx(Y,{})}),t.jsx(We,{path:"projects/create",element:t.jsx(J,{})}),t.jsx(We,{path:"transactions",element:t.jsx(YL,{transactions:E,onEditTransaction:D})}),t.jsx(We,{path:"transactions/edit/:id",element:t.jsx(ve,{})}),t.jsx(We,{path:"alerts",element:t.jsx(JL,{alerts:z,onRefresh:A})}),t.jsx(We,{path:"pricing",element:t.jsx($L,{initialData:b,onSave:()=>v(q.getPricing())})}),t.jsx(We,{path:"settings",element:O?t.jsx(QL,{initialSettings:O,onSave:A}):t.jsx("div",{children:"Loading..."})}),t.jsx(We,{path:"api-docs",element:t.jsx(mz,{})}),t.jsx(We,{path:"marketing",element:t.jsx(gz,{})}),t.jsx(We,{path:"coupons",element:t.jsx(xz,{onRefresh:A})}),t.jsx(We,{path:"conversion",element:t.jsx(yz,{})}),t.jsx(We,{path:"bank-transfers",element:t.jsx(bz,{})}),t.jsx(We,{path:"benefits",element:t.jsx(vz,{})}),t.jsx(We,{path:"proxies",element:t.jsx(wz,{})}),t.jsx(We,{path:"*",element:t.jsx(ca,{to:"/admin",replace:!0})})]})})})]})]})},Nz=({type:n,onBack:e})=>{const s=()=>{switch(n){case"privacy":return"Privacy Policy | Traffic Creator - Secure Website Traffic";case"terms":return"Terms of Use | Service Agreement - Traffic Creator";case"impressum":return"Impressum & Legal Imprint - EasyTrafficBot UG";case"agb":return"General Terms and Conditions (AGB) - Traffic Creator";case"refund":return"Refund & Cancellation Policy - Traffic Creator";case"delivery":return"Service Delivery Standards | Digital fulfillment";default:return"Legal Documentation - Traffic Creator"}},r=()=>{switch(n){case"privacy":return"Learn how Traffic Creator collects, uses, and protects your personal data in accordance with GDPR and international privacy standards.";case"terms":return"Our Terms of Use outline the legal agreement between you and Traffic Creator regarding your use of our website and services.";case"impressum":return"Official legal imprint and corporate information for EasyTrafficBot UG, the parent company of Traffic Creator.";case"agb":return"Read our General Terms and Conditions (AGB) for a detailed overview of our service agreements, pricing, and liability policies.";case"refund":return"Information about our refund policy, satisfaction guarantees, and the process for requesting a refund at Traffic Creator.";case"delivery":return"Understand our digital service delivery standards, including campaign activation times and fulfillment processes.";default:return"Official legal documentation for Traffic Creator services and website usage."}},i=()=>{switch(n){case"privacy":return"Privacy Policy";case"terms":return"Terms of Use";case"impressum":return"Impressum (Imprint)";case"agb":return"AGB (General Terms)";case"refund":return"Refund Policy";case"delivery":return"Delivery Policy";default:return"Legal Document"}},l=()=>{switch(n){case"impressum":return t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"font-bold text-gray-900 mb-8",children:"Last modified: February 06, 2024"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 text-sm text-gray-600",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold uppercase tracking-widest text-[#ff4d00] mb-4",children:"Information according to  5 TMG"}),t.jsx("p",{className:"font-bold text-gray-900",children:"EasyTrafficBot UG"}),t.jsx("p",{children:"Arrenbergsche Hfe 6"}),t.jsx("p",{children:"Building 44"}),t.jsx("p",{children:"42117 Wuppertal"}),t.jsx("p",{className:"mt-2 text-xs",children:"Commercial Register: HRB 30863"}),t.jsx("p",{className:"text-xs",children:"Registration Court: Amtsgericht Wuppertal"})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold uppercase tracking-widest text-[#ff4d00] mb-4",children:"Contact"}),t.jsxs("p",{children:[t.jsx("span",{className:"font-bold",children:"Phone:"})," +84373832085"]}),t.jsxs("p",{children:[t.jsx("span",{className:"font-bold",children:"Fax:"})," +49 (0) 123 44 55 99"]}),t.jsxs("p",{children:[t.jsx("span",{className:"font-bold",children:"E-Mail:"})," support@traffic-creator.com"]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold uppercase tracking-widest text-[#ff4d00] mb-4",children:"Represented by"}),t.jsx("p",{children:"Martin Freiwald"})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold uppercase tracking-widest text-[#ff4d00] mb-4",children:"EU Dispute Resolution"}),t.jsx("p",{children:"The European Commission provides a platform for online dispute resolution (ODR):"}),t.jsx("a",{href:"https://ec.europa.eu/consumers/odr/",target:"_blank",rel:"noopener noreferrer",className:"text-[#ff4d00] hover:underline break-all",children:"https://ec.europa.eu/consumers/odr/"}),t.jsx("p",{className:"mt-2 italic",children:"You can find our e-mail address above in the imprint."})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("h3",{className:"font-bold uppercase tracking-widest text-[#ff4d00] mb-4",children:"Consumer dispute resolution/Universal arbitration board"}),t.jsx("p",{children:"We are not willing or obliged to participate in dispute resolution proceedings before a consumer arbitration board."})]})]})]});case"agb":return t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"font-bold text-gray-900 mb-8",children:"General Terms and Conditions (AGB) for Traffic Bot"}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"1. Scope of Application"}),t.jsx("p",{children:"These General Terms and Conditions (AGB) apply to all business relationships between EasyTrafficBot UG (hereinafter: Provider) and its customers (hereinafter: Customer). The version valid at the time of the conclusion of the contract is authoritative."}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"2. Conclusion of Contract"}),t.jsx("p",{children:'The presentation of services on the website does not constitute a legally binding offer but an invitation to order. By clicking the "Order" or "Pay" button, the Customer places a binding order for the services contained in the shopping cart.'}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"3. Services"}),t.jsx("p",{children:"The Provider delivers website traffic to the URLs specified by the Customer. The Provider guarantees the delivery of the purchased number of visitors but does not guarantee specific actions by these visitors (e.g., sales, sign-ups) unless explicitly stated otherwise."}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"4. Prices and Payment"}),t.jsx("p",{children:"All prices are final prices and include the statutory value-added tax (VAT) unless the Customer is based outside the EU or has a valid VAT ID. Payments are due immediately upon conclusion of the contract."}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"5. Warranty and Liability"}),t.jsx("p",{children:"The Provider is liable for defects in accordance with the statutory provisions. Liability for slight negligence is excluded, provided that no essential contractual obligations are violated."})]});case"refund":return t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"font-bold text-gray-900 mb-8",children:"Last modified: September 25, 2024"}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"1. Right of Withdrawal"}),t.jsx("p",{children:"As a consumer based in the European Union, you have the right to withdraw from this contract within 14 days without giving any reason. The withdrawal period will expire after 14 days from the day of the conclusion of the contract."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"2. Effects of Withdrawal"}),t.jsx("p",{children:"If you withdraw from this contract, we shall reimburse to you all payments received from you, including the costs of delivery (with the exception of the supplementary costs resulting from your choice of a type of delivery other than the least expensive type of standard delivery offered by us), without undue delay and in any event not later than 14 days from the day on which we are informed about your decision to withdraw from this contract."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"3. Exceptions to the Right of Withdrawal"}),t.jsx("p",{children:"The right of withdrawal does not apply to:"}),t.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[t.jsx("li",{children:"The supply of digital content which is not supplied on a tangible medium if the performance has begun with your prior express consent and acknowledgment that you thereby lose your right of withdrawal."}),t.jsx("li",{children:"Services that have been fully performed if the performance has begun with your prior express consent, and with acknowledgment that you will lose your right of withdrawal once the contract has been fully performed."})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"4. How to Exercise Your Right of Withdrawal"}),t.jsx("p",{children:"To exercise your right of withdrawal, you must inform us of your decision to withdraw from this contract by an unequivocal statement (e.g., a letter sent by post or email). You may use the attached model withdrawal form, but it is not obligatory."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"5. Refunds for Defective Products or Services"}),t.jsx("p",{children:"If the product or service you received is defective or not as described, you are entitled to a repair, replacement, or refund. Please contact our customer service team to initiate this process."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"6. Subscription Services"}),t.jsx("p",{children:'You may cancel your subscription at any time. Refunds for the remaining unused period will be provided on a pro-rata basis. If you cancel within the first 30 days of your subscription ("trial period"), you are eligible for a full refund.'})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"7. Non-Refundable Items and Situations"}),t.jsx("p",{children:"The following items, services, or situations are non-refundable:"}),t.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[t.jsx("li",{children:"Custom or personalized services"}),t.jsx("li",{children:"Downloadable software or digital products that have been accessed or downloaded"}),t.jsx("li",{children:"Services that have already been fully performed"}),t.jsx("li",{children:"Traffic creation services where the failure to deliver traffic is due to factors beyond our control"})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"8. Traffic Delivery Issues Outside Our Control"}),t.jsx("p",{children:"Refunds will not be issued in cases where the failure to deliver traffic is due to factors beyond our control, including but not duration to:"}),t.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[t.jsx("li",{children:"Changes in search engine algorithms or policies"}),t.jsx("li",{children:"Changes in social media platform algorithms or policies"}),t.jsx("li",{children:"Restrictions or bans imposed on the client's website by third-party platforms"}),t.jsx("li",{children:"Client's website being offline or experiencing technical issues"}),t.jsx("li",{children:"Content on the client's website violating our terms of service or the terms of service of traffic sources"}),t.jsx("li",{children:"Force majeure events (e.g., natural disasters, global pandemics, significant internet outages)"})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"9. Refund Processing Time"}),t.jsx("p",{children:"Refunds will be processed within 5-10 business days of approval. The time it takes for the refund to appear in your account may vary depending on your payment method and financial institution."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"10. Contact Us"}),t.jsx("p",{children:"If you have any questions about our refund policy or wish to request a refund, please contact us at: support@traffic-creator.com"})]})]})]});case"delivery":return t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"font-bold text-gray-900 mb-8",children:"Service Delivery Standards"}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"1. Delivery Timeframe"}),t.jsx("p",{children:"Traffic campaigns typically start within 5 to 15 minutes after payment confirmation and campaign approval. In some cases, such as manual reviews for sensitive categories, activation may take up to 24 hours."}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"2. Method of Delivery"}),t.jsx("p",{children:"Services are delivered digitally. No physical products are shipped. You will receive a confirmation email once your campaign is active, and you can monitor progress in real-time via the Dashboard."}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-8 mb-4",children:"3. Campaign Completion"}),t.jsx("p",{children:"A campaign is considered complete when the total number of purchased visitors has been delivered to the target URL. Delivery speed is determined by your campaign settings."})]});case"privacy":return t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"font-bold text-gray-900 mb-8",children:"Last Updated: October 27, 2023"}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 tracking-tight uppercase",children:"1. Interpretation and Definitions"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-bold text-gray-800",children:"Interpretation"}),t.jsx("p",{children:"The words of which the initial letter is capitalized have meanings defined under the following conditions. The following definitions shall have the same meaning regardless of whether they appear in singular or in plural."}),t.jsx("h4",{className:"font-bold text-gray-800",children:"Definitions"}),t.jsx("p",{children:"For the purposes of this Privacy Policy:"}),t.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Account"})," means a unique account created for You to access our Service or parts of our Service."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Company"}),' (referred to as either "the Company", "We", "Us" or "Our" in this Agreement) refers to EasyTrafficBot UG, Arrenbergsche Hfe 6, 42117.']}),t.jsxs("li",{children:[t.jsx("strong",{children:"Cookies"})," are small files that are placed on Your computer, mobile device or any other device by a website..."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Personal Data"})," is any information that relates to an identified or identifiable individual."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Service"})," refers to the Website."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Usage Data"})," refers to data collected automatically, either generated by the use of the Service or from the Service infrastructure itself."]})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 tracking-tight uppercase",children:"2. Collecting and Using Your Personal Data"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-bold text-gray-800 underline",children:"Types of Data Collected"}),t.jsxs("p",{children:[t.jsx("strong",{children:"Personal Data:"})," While using Our Service, We may ask You to provide Us with certain personally identifiable information that can be used to contact or identify You. Personally identifiable information may include, but is not limited to: Email address, First name and last name, Usage Data."]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Usage Data:"})," Usage Data is collected automatically when using the Service. It may include information such as Your Device's Internet Protocol address (e.g. IP address), browser type, browser version, the pages of our Service that You visit, the time and date of Your visit, the time spent on those pages, unique device identifiers and other diagnostic data."]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 tracking-tight uppercase",children:"3. Tracking Technologies and Cookies"}),t.jsx("p",{children:"We use Cookies and similar tracking technologies to track the activity on Our Service and store certain information. Tracking technologies used are beacons, tags, and scripts to collect and track information and to improve and analyze Our Service."}),t.jsxs("ul",{className:"list-disc pl-5 mt-4 space-y-2",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Necessary / Essential Cookies:"})," These Cookies are essential to provide You with services available through the Website."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Cookies Policy / Notice Acceptance Cookies:"})," These Cookies identify if users have accepted the use of cookies on the Website."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Functionality Cookies:"})," These Cookies allow us to remember choices You make when You use the Website."]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 tracking-tight uppercase",children:"4. Use of Your Personal Data"}),t.jsx("p",{children:"The Company may use Personal Data for the following purposes:"}),t.jsxs("ul",{className:"list-disc pl-5 mt-4 space-y-2",children:[t.jsx("li",{children:"To provide and maintain our Service."}),t.jsx("li",{children:"To manage Your Account."}),t.jsx("li",{children:"For the performance of a contract."}),t.jsx("li",{children:"To contact You."}),t.jsx("li",{children:"To provide You with news, special offers and general information."})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 tracking-tight uppercase",children:"5. Delete Your Personal Data"}),t.jsx("p",{children:"You have the right to delete or request that We assist in deleting the Personal Data that We have collected about You. Our Service may give You the ability to delete certain information about You from within the Service."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 tracking-tight uppercase",children:"6. Contact Us"}),t.jsx("p",{children:"If you have any questions about this Privacy Policy, You can contact us by email: support@traffic-creator.com"})]})]})]});case"terms":return t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"font-bold text-gray-900 mb-8",children:"Last modified: September 25, 2024"}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"1. Introduction"}),t.jsx("p",{children:"Welcome to Traffic Bot. These Terms of Use (the 'Terms') constitute a legally binding agreement between you ('the User') and Traffic Bot ('we', 'our', or 'us') regarding your access to and use of our website and services. By accessing or using our services, you confirm your acceptance of these Terms in full."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"2. User Obligations"}),t.jsx("p",{children:"When using our services, you agree to:"}),t.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[t.jsx("li",{children:"Provide accurate and complete information (such as your name, email, etc.) when creating an account"}),t.jsx("li",{children:"Maintain the security of your account credentials"}),t.jsx("li",{children:"Use our services only for lawful purposes and in accordance with these Terms"}),t.jsx("li",{children:"Not attempt to interfere with or disrupt our services or servers"}),t.jsx("li",{children:"Not use our services to distribute malware or other harmful code"}),t.jsx("li",{children:"Notify us immediately of any unauthorized access to or use of your account"})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"3. Privacy Policy"}),t.jsx("p",{children:"We respect your privacy and are committed to protecting your personal data. Our Privacy Policy outlines how we collect, use, and protect your personal information."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"4. Intellectual Property Rights"}),t.jsx("p",{children:"All content, features, and functionality of our services are owned by Traffic Bot and are protected by international copyright, trademark, and other intellectual property laws. You may not reproduce, modify, distribute, or otherwise exploit any intellectual property belonging to Traffic Bot without our express written consent."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"5. Limitation of Liability"}),t.jsx("p",{children:"To the fullest extent permitted by law, Traffic Bot shall not be liable for any indirect, incidental, special, consequential, or punitive damages, or any loss of profits or revenues, whether incurred directly or indirectly, or any loss of data, use, goodwill, or other intangible losses resulting from your use or inability to use our services."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"6. Termination"}),t.jsx("p",{children:"We reserve the right to terminate or suspend your account at our sole discretion, without prior notice, for reasons including but not limited to violations of these Terms, illegal activity, or prolonged periods of inactivity."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"7. Governing Law"}),t.jsx("p",{children:"These Terms shall be governed by the laws of Germany, without reference to conflict of law principles. Any legal disputes shall be exclusively resolved in the courts of Wuppertal."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"8. Dispute Resolution"}),t.jsx("p",{children:"Any disputes arising out of or related to these Terms or our services shall first be attempted to be resolved through good-faith negotiations. If such negotiations fail, both parties agree to resolve the dispute through binding arbitration."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"9. Amendments to Terms"}),t.jsx("p",{children:"We may modify these Terms from time to time. Material changes will be communicated via email, through a notice on our website, or other appropriate methods. Your continued use of our services following the posting of changes will confirm your acceptance of such changes."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"10. Acceptance of Terms"}),t.jsx("p",{children:"By accessing or using our services, you confirm that you have read, understood, and agree to be bound by these Terms of Use. If you do not agree, you must not use our services."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"11. Severability"}),t.jsx("p",{children:"If any provision of these Terms is held to be unenforceable or invalid, such provision will be changed and interpreted to accomplish the objectives of such provision to the greatest extent possible under applicable law, and the remaining provisions will continue in full force and effect."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"12. Third-Party Services"}),t.jsx("p",{children:"Our services may contain links to third-party websites or services that are not owned or controlled by Traffic Bot. We have no control over, and assume no responsibility for, the content, privacy policies, or practices of any third-party websites or services."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"13. Contact Us"}),t.jsx("p",{children:"If you have any questions about these Terms of Use, please contact us at: support@traffic-creator.com"})]})]})]});default:return t.jsx("p",{children:"Content not available."})}};return t.jsxs("div",{className:"min-h-screen bg-white",children:[t.jsx(Ai,{title:s(),description:r(),keywords:`traffic bot ${n}, website traffic ${n}, seo traffic legal, easytrafficbot ug documentation`,type:"article",schema:{"@context":"https://schema.org","@type":"WebPage",publisher:{"@type":"Organization",name:"Traffic Creator",logo:"https://traffic-creator.com/logo.png"}}}),t.jsx("div",{className:"border-b border-gray-100 bg-white sticky top-0 z-50",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-6 h-20 flex items-center justify-between",children:[t.jsxs(Ge,{to:"/",className:"flex items-center gap-2 text-gray-400 hover:text-[#ff4d00] transition-colors text-xs font-bold uppercase tracking-wider",children:[t.jsx(Zn,{size:16})," Back"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),t.jsx("span",{className:"text-[10px] font-bold bg-black text-white px-1.5 py-0.5 rounded-sm uppercase tracking-wide",children:"Bot"})]})]})}),t.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-20",children:[t.jsx("h1",{className:"text-4xl font-black text-gray-900 mb-12 uppercase tracking-tight",children:i()}),t.jsx("div",{className:"prose prose-gray max-w-none text-gray-600 leading-relaxed font-sans",children:l()})]}),t.jsx("footer",{className:"bg-black text-white py-12 px-6 mt-20",children:t.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col md:flex-row justify-between items-center gap-8",children:[t.jsx("div",{className:"text-xl font-black text-white tracking-tight",children:"TRAFFIC BOT"}),t.jsx("div",{className:"text-xs text-gray-600",children:" 2024 EasyTrafficBot UG"})]})})]})},_z=({onBack:n})=>{const[e,s]=w.useState(""),[r,i]=w.useState("all"),[l,c]=w.useState(null),[f,u]=w.useState([]);w.useEffect(()=>{q.getFAQs().then(u).catch(()=>u([]))},[]);const m=[{id:"all",label:"All Topics"},{id:"billing",label:"Billing & Payments",icon:t.jsx(xn,{size:14})},{id:"technical",label:"Technical Support",icon:t.jsx(c9,{size:14})},{id:"general",label:"General Account",icon:t.jsx(Ts,{size:14})}],g=[{id:"1",question:"How long does it take for traffic to start?",answer:"Campaigns typically start delivering traffic within 5-15 minutes after creation. However, depending on the complexity of your targeting (specific cities, devices), it may take up to an hour for the first hits to register.",category:"general"},{id:"2",question:"Can I upgrade my plan later?",answer:"Yes, you can upgrade your plan at any time. Simply add funds to your wallet and create a new campaign with the desired higher tier. We recommend the 'Agency' plan for maximum volume.",category:"billing"},{id:"3",question:"Why is my traffic not showing in Google Analytics?",answer:"Ensure you are looking at 'Realtime' reports. Also, verify that your GA4 ID is correct in the project settings. Some traffic filters in GA4 may exclude bot traffic by default; our 'Growth' plan is designed to bypass standard bot filters.",category:"technical"},{id:"4",question:"Is this traffic safe for AdSense?",answer:"Our 'Growth' and 'Agency' traffic tiers are safe for AdSense as they utilize high-quality residential IPs. However, we always recommend monitoring your CTR (Click-Through Rate) and adjusting your campaign speed accordingly.",category:"technical"},{id:"5",question:"What payment methods do you accept?",answer:"We accept Visa, Mastercard, American Express via Stripe. We also support PayPal and various Cryptocurrencies (BTC, ETH, USDT).",category:"billing"},{id:"6",question:"How do I reset my API key?",answer:"Navigate to your Profile settings in the dashboard. Under the 'Developer Settings' section, click the refresh icon to invalidate your old key and generate a new one.",category:"general"}],v=(f.length>0?f:g).filter(E=>(r==="all"||E.category===r)&&(E.question.toLowerCase().includes(e.toLowerCase())||E.answer.toLowerCase().includes(e.toLowerCase())));return t.jsxs("div",{className:"min-h-screen bg-white text-gray-900 font-sans",children:[t.jsx(Ai,{title:"Help Center & Documentation 2024 - Traffic Bot Support",description:"Find answers to common questions, setup guides, and API documentation for Traffic Bot in 2024.",keywords:"traffic bot support 2024, help center, documentation, faq, seo tool support",type:"article",schema:{"@context":"https://schema.org","@type":"FAQPage",mainEntity:v.map(E=>({"@type":"Question",name:E.question,acceptedAnswer:{"@type":"Answer",text:E.answer}}))}}),t.jsxs("div",{className:"bg-[#111] text-white pt-20 pb-32 px-6 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-[#ff4d00] opacity-10 rounded-full blur-3xl transform translate-x-1/2 -translate-y-1/2"}),t.jsxs("div",{className:"max-w-4xl mx-auto relative z-10",children:[t.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-gray-400 hover:text-white mb-8 text-xs font-bold uppercase tracking-wider transition-colors",children:[t.jsx(Zn,{size:16})," Back to Home"]}),t.jsx("h1",{className:"text-4xl md:text-5xl font-black uppercase tracking-tight mb-6",children:"How can we help?"}),t.jsxs("div",{className:"relative max-w-2xl",children:[t.jsx(jr,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",value:e,onChange:E=>s(E.target.value),placeholder:"Search for answers...",className:"w-full bg-white text-gray-900 pl-16 pr-6 py-5 rounded-sm shadow-xl text-lg font-medium outline-none focus:ring-2 focus:ring-[#ff4d00]"})]})]})]}),t.jsxs("div",{className:"max-w-4xl mx-auto px-6 -mt-16 relative z-20 pb-20",children:[t.jsx("div",{className:"flex flex-wrap gap-4 mb-12",children:m.map(E=>t.jsxs("button",{onClick:()=>i(E.id),className:`px-6 py-4 rounded-sm shadow-sm flex items-center gap-3 text-sm font-bold uppercase tracking-wider transition-all
                            ${r===E.id?"bg-[#ff4d00] text-white transform -translate-y-1":"bg-white text-gray-600 hover:bg-gray-50"}
                        `,children:[E.icon,E.label]},E.id))}),t.jsx("div",{className:"space-y-4",children:v.length===0?t.jsxs("div",{className:"text-center py-20 bg-gray-50 border border-gray-100 rounded-sm",children:[t.jsx(Gr,{className:"mx-auto text-gray-300 mb-4",size:48}),t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"No results found"}),t.jsx("p",{className:"text-gray-500",children:"Try adjusting your search terms or browse all categories."})]}):v.map((E,N)=>t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm transition-all hover:border-gray-300",children:[t.jsxs("button",{className:"w-full flex items-center justify-between p-6 text-left",onClick:()=>c(l===N?null:N),children:[t.jsx("span",{className:"font-bold text-gray-900 text-lg",children:E.question}),l===N?t.jsx(_c,{size:20,className:"text-[#ff4d00]"}):t.jsx(Hr,{size:20,className:"text-gray-400"})]}),l===N&&t.jsx("div",{className:"px-6 pb-8 pt-2 text-gray-600 leading-relaxed animate-in fade-in slide-in-from-top-2 border-t border-gray-50",children:E.answer})]},N))}),t.jsxs("div",{className:"mt-20 bg-gray-50 border border-gray-200 p-10 text-center",children:[t.jsx("h3",{className:"text-2xl font-black uppercase tracking-tight mb-4",children:"Still need help?"}),t.jsx("p",{className:"text-gray-500 mb-8 max-w-lg mx-auto",children:"Our support team is available 24/7 to assist you with any technical or billing inquiries."}),t.jsxs("div",{className:"flex justify-center gap-4",children:[t.jsxs("button",{className:"bg-black text-white px-8 py-4 text-xs font-bold uppercase tracking-wider hover:bg-[#ff4d00] transition-colors flex items-center gap-2",children:[t.jsx(xa,{size:16})," Contact Support"]}),t.jsxs("button",{className:"bg-white border border-gray-300 text-gray-900 px-8 py-4 text-xs font-bold uppercase tracking-wider hover:bg-gray-100 transition-colors flex items-center gap-2",children:[t.jsx(Gr,{size:16})," Live Chat"]})]})]})]}),t.jsx("footer",{className:"bg-black text-white py-12 px-6",children:t.jsxs("div",{className:"max-w-4xl mx-auto flex justify-between items-center",children:[t.jsx("div",{className:"text-xl font-black tracking-tight",children:"TRAFFIC BOT"}),t.jsx("div",{className:"text-xs text-gray-500",children:" 2024 EasyTrafficBot UG"})]})})]})},kk=({onBack:n})=>{const{slug:e}=Vd(),s=qs(),[r,i]=w.useState([]),[l,c]=w.useState(null),[f,u]=w.useState(!0),[m,g]=w.useState(null),[b,v]=w.useState(""),[E,N]=w.useState("All"),[C,T]=w.useState(e?"article":"list");w.useEffect(()=>{(async()=>{try{const D=await(await fetch("/api/blog/articles")).json();i(D),u(!1)}catch(k){console.error("Error fetching articles:",k),u(!1)}})()},[]),w.useEffect(()=>{e?(async()=>{try{const k=await fetch(`/api/blog/articles/${e}`);if(k.ok){const D=await k.json();c(D.content)}}catch(k){console.error("Error fetching article content:",k)}})():c(null)},[e]);const O=["All","Reviews","SEO","Marketing","Guides","Crypto","Strategy","Analytics"];w.useEffect(()=>{if(!f)if(e){const _=r.find(k=>k.slug===e);_?(g(_.id),T("article")):s("/blog")}else T("list"),g(null)},[e,r,f]);const F=_=>{const k=r.find(D=>D.id===_);k&&(s(`/blog/${k.slug}`),window.scrollTo(0,0))},z=()=>{s("/blog"),window.scrollTo(0,0)},M=()=>{const k=`<?xml version="1.0" encoding="UTF-8" ?>
        <rss version="2.0">
        <channel>
            <title>Traffic Creator Journal</title>
            <link>https://traffic-creator.com</link>
            <description>Digital Growth Insights</description>
            ${r.map(R=>`
        <item>
            <title>${R.title}</title>
            <link>https://traffic-creator.com/blog/${R.slug}</link>
            <description>${R.excerpt}</description>
            <pubDate>${new Date(R.date).toUTCString()}</pubDate>
            <guid>https://traffic-creator.com/blog/${R.slug}</guid>
        </item>
      `).join("")}
        </channel>
        </rss>`,D=new Blob([k],{type:"text/xml"}),L=URL.createObjectURL(D);window.open(L,"_blank")},U=r.find(_=>_.id===m),X=U?r.filter(_=>_.category===U.category&&_.id!==U.id):[],A=C==="article"&&U?{title:`${U.title} | Traffic Creator Journal`,description:U.seoDescription,keywords:U.tags.join(", "),type:"article",image:U.image,schema:{"@context":"https://schema.org","@type":"BlogPosting",headline:U.title,image:[U.image],datePublished:new Date(U.date).toISOString(),author:[{"@type":"Person",name:U.author}],publisher:{"@type":"Organization",name:"Traffic Creator",logo:{"@type":"ImageObject",url:"https://traffic-creator.com/logo.png"}},description:U.seoDescription}}:{title:"SEO & Traffic Generation Blog 2026 | Traffic Creator Insights",description:"Expert guides for 2026 on improving website traffic, CTR manipulation strategies, and technical SEO best practices for modern algorithms.",keywords:"seo blog 2026, traffic generation tips, ranking strategies, digital marketing insights",type:"website"},P=r.filter(_=>{const k=_.title.toLowerCase().includes(b.toLowerCase())||_.excerpt.toLowerCase().includes(b.toLowerCase()),D=E==="All"||_.category===E;return k&&D});return C==="article"&&U?t.jsxs("div",{className:"min-h-screen bg-white font-sans text-gray-900 pb-20 selection:bg-[#ff4d00]/30 underline-offset-4",children:[t.jsx(Ai,{...A}),t.jsx(kz,{}),t.jsxs("div",{className:"relative h-[60vh] bg-gray-900 group",children:[t.jsx("img",{src:U.image,className:"w-full h-full object-cover opacity-60 group-hover:opacity-50 transition-opacity duration-700",alt:"Cover"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white via-transparent to-transparent"})," ",t.jsx("div",{className:"absolute top-0 left-0 w-full p-6 flex justify-between items-center z-10",children:t.jsxs("button",{onClick:z,className:"text-white flex items-center gap-2 text-xs font-bold uppercase tracking-wider hover:text-[#ff4d00] transition-colors bg-black/20 backdrop-blur-md px-4 py-2 rounded-full",children:[t.jsx(Zn,{size:14})," Back"]})}),t.jsx("div",{className:"absolute bottom-0 left-0 w-full p-8 md:p-16",children:t.jsxs("div",{className:"max-w-4xl mx-auto animate-in slide-in-from-bottom-10 fade-in duration-700",children:[t.jsx("div",{className:"flex gap-2 mb-6",children:t.jsx("span",{className:"bg-[#ff4d00] text-white px-3 py-1 text-[10px] font-black uppercase tracking-widest",children:U.category})}),t.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white leading-[1.1] mb-8 drop-shadow-lg",children:U.title}),t.jsxs("div",{className:"flex flex-wrap items-center gap-8 text-gray-200 text-sm font-medium border-t border-white/20 pt-8",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gray-700 rounded-full flex items-center justify-center text-white font-bold",children:U.author.charAt(0)}),t.jsxs("div",{children:[t.jsx("div",{className:"text-white font-bold",children:U.author}),t.jsx("div",{className:"text-xs text-gray-300 uppercase tracking-wide",children:U.role})]})]}),t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(Uo,{size:16})," ",U.date]}),t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(Kt,{size:16})," ",U.readTime]})]})]})})]}),t.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-20 grid grid-cols-1 lg:grid-cols-4 gap-12",children:[t.jsxs("div",{className:"lg:col-span-3",children:[t.jsx("p",{className:"text-xl text-gray-600 mb-10 font-medium border-l-4 border-[#ff4d00] pl-6 italic",children:U.excerpt}),l?t.jsx("div",{className:"article-content-wrapper text-gray-800",dangerouslySetInnerHTML:{__html:l}}):t.jsxs("div",{className:"prose prose-lg prose-slate max-w-none leading-relaxed prose-headings:font-black prose-headings:tracking-tight prose-a:text-[#ff4d00] prose-img:rounded-sm space-y-6",children:[t.jsxs("div",{className:"animate-pulse space-y-4",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]}),t.jsx("p",{className:"text-gray-400",children:"Loading article content..."})]}),t.jsx("div",{className:"mt-20 pt-10 border-t border-gray-200",children:t.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:U.tags.map(_=>t.jsxs("span",{className:"bg-gray-100 hover:bg-gray-200 transition-colors text-gray-600 px-4 py-2 text-xs font-bold uppercase tracking-wide rounded-sm cursor-pointer",children:["#",_]},_))})})]}),t.jsxs("div",{className:"lg:col-span-1 space-y-12",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest text-gray-500 mb-4",children:"Share This"}),t.jsx("div",{className:"flex gap-2",children:t.jsx("button",{className:"p-3 rounded-full border border-gray-200 text-gray-500 hover:text-[#ff4d00] hover:border-[#ff4d00] transition-all",onClick:()=>{navigator.clipboard.writeText(window.location.href),alert("Link copied!")},children:t.jsx(dw,{size:18})})})]}),X.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest text-gray-500 mb-6",children:"Related Reads"}),t.jsx("div",{className:"space-y-6",children:X.slice(0,5).map(_=>t.jsxs("div",{className:"group cursor-pointer",onClick:()=>F(_.id),children:[t.jsx("div",{className:"aspect-video bg-gray-100 mb-2 overflow-hidden rounded-sm",children:t.jsx("img",{src:_.image,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"})}),t.jsx("h5",{className:"text-sm font-bold text-gray-900 group-hover:text-[#ff4d00] leading-tight mb-1",children:_.title}),t.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase",children:_.date})]},_.id))})]}),t.jsxs("div",{className:"bg-gray-50 border border-gray-100 text-gray-900 p-6 text-center rounded-sm",children:[t.jsx(xa,{className:"mx-auto mb-4 text-[#ff4d00]",size:24}),t.jsx("h3",{className:"text-lg font-black uppercase tracking-tight mb-2",children:"Join the Inner Circle"}),t.jsx("p",{className:"text-gray-500 text-xs mb-6",children:"Get exclusive SEO tips delivered to your inbox."}),t.jsx("input",{type:"email",placeholder:"Email",className:"bg-white border border-gray-200 text-gray-900 placeholder-gray-400 px-4 py-2 w-full outline-none focus:ring-1 focus:ring-[#ff4d00] mb-2 text-sm"}),t.jsx("button",{className:"w-full bg-[#ff4d00] text-white px-4 py-2 font-bold uppercase text-xs tracking-wider hover:bg-black hover:text-white transition-colors",children:"Subscribe"})]})]})]})]}):t.jsxs("div",{className:"min-h-screen bg-white font-sans text-gray-900",children:[t.jsx(Ai,{...A}),t.jsx("div",{className:"border-b border-gray-200 sticky top-0 bg-white/95 backdrop-blur-md z-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between",children:[t.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-gray-500 hover:text-[#ff4d00] transition-colors text-xs font-bold uppercase tracking-wider",children:[t.jsx(Zn,{size:16})," Back to Home"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),t.jsx("span",{className:"text-[10px] font-bold bg-black text-white px-1.5 py-0.5 rounded-sm uppercase tracking-wide",children:"Journal"})]})]})}),t.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-20",children:[t.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-20 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[t.jsxs("h1",{className:"text-5xl md:text-7xl font-black uppercase tracking-tight mb-6 leading-[0.9] text-gray-900",children:["Digital ",t.jsx("span",{className:"text-[#ff4d00]",children:"Growth"}),t.jsx("br",{}),"Insights."]}),t.jsx("p",{className:"text-xl text-gray-500 leading-relaxed mb-10",children:"Expert advice on digital marketing, SEO strategies, and traffic optimization for the modern web."}),t.jsxs("div",{className:"relative max-w-xl mx-auto shadow-xl",children:[t.jsx("input",{type:"text",placeholder:"Search articles...",value:b,onChange:_=>v(_.target.value),className:"w-full bg-white border border-gray-200 py-4 pl-12 pr-4 text-sm font-bold text-gray-900 outline-none focus:border-[#ff4d00] transition-colors rounded-sm"}),t.jsx(jr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18})]})]}),t.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-16",children:O.map(_=>t.jsx("button",{onClick:()=>N(_),className:`px-6 py-2 text-xs font-bold uppercase tracking-widest border transition-all rounded-full
                            ${E===_?"bg-[#ff4d00] text-white border-[#ff4d00] shadow-lg":"bg-gray-50 text-gray-500 border-gray-200 hover:border-gray-400 hover:text-black"}
                        `,children:_},_))}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-12 gap-y-16",children:P.length===0?t.jsxs("div",{className:"col-span-3 text-center py-20 text-gray-400",children:[t.jsx(Sc,{size:48,className:"mx-auto mb-4 opacity-20"}),t.jsx("p",{children:"No articles found matching your criteria."})]}):P.map((_,k)=>t.jsxs("article",{className:"group cursor-pointer flex flex-col h-full animate-in fade-in slide-in-from-bottom-4",style:{animationDelay:`${k*100}ms`},onClick:()=>F(_.id),children:[t.jsxs("div",{className:"aspect-[4/3] overflow-hidden bg-gray-100 mb-6 relative rounded-sm group shadow-sm",children:[t.jsx("img",{src:_.image,alt:_.title,className:"w-full h-full object-cover transform scale-100 group-hover:scale-110 transition-transform duration-1000 opacity-90 group-hover:opacity-100",loading:"lazy"}),t.jsx("div",{className:"absolute top-4 left-4 bg-white/90 backdrop-blur-md px-3 py-1 text-[10px] font-black uppercase tracking-widest text-[#ff4d00] shadow-sm border border-gray-100",children:_.category})]}),t.jsxs("div",{className:"flex-1 flex flex-col",children:[t.jsxs("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[_.date," ",t.jsx("span",{className:"w-1.5 h-1.5 bg-[#ff4d00] rounded-full"})," ",_.readTime]}),t.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-3 group-hover:text-[#ff4d00] transition-colors leading-tight tracking-tight",children:_.title}),t.jsx("p",{className:"text-gray-500 text-sm leading-relaxed mb-6 flex-1 line-clamp-3",children:_.excerpt}),t.jsxs("div",{className:"flex items-center gap-2 text-xs font-black uppercase tracking-widest text-[#ff4d00] group-hover:translate-x-2 transition-transform duration-300 mt-auto",children:["Read Article ",t.jsx(xs,{size:14})]})]})]},_.id))})]}),t.jsx("footer",{className:"bg-gray-900 text-white py-12 px-6 mt-20",children:t.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-6",children:[t.jsx("div",{className:"text-xl font-black tracking-tight",children:"TRAFFIC CREATOR"}),t.jsxs("div",{className:"flex gap-6 text-xs font-bold text-gray-500 uppercase tracking-widest",children:[t.jsxs("button",{onClick:M,className:"hover:text-white transition-colors flex items-center gap-2",children:[t.jsx(xM,{size:14})," RSS Feed"]}),t.jsx("button",{className:"hover:text-white transition-colors",children:"Newsletter"}),t.jsx("button",{className:"hover:text-white transition-colors",children:"Archive"})]}),t.jsx("div",{className:"text-xs text-gray-600",children:" 2026 Traffic Creator Inc."})]})})]})},kz=()=>{const[n,e]=w.useState(0);return w.useEffect(()=>{const s=()=>{const r=document.documentElement.scrollTop,i=document.documentElement.scrollHeight-document.documentElement.clientHeight;if(i===0)return;const l=r/i;e(l)};return window.addEventListener("scroll",s,{passive:!0}),()=>window.removeEventListener("scroll",s)},[]),t.jsx("div",{className:"fixed top-0 left-0 h-1 bg-[#ff4d00] z-[60] transition-all duration-100 ease-out",style:{width:`${n*100}%`}})};/*! js-cookie v3.0.5 | MIT */function tg(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)n[r]=s[r]}return n}var Sz={read:function(n){return n[0]==='"'&&(n=n.slice(1,-1)),n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(n){return encodeURIComponent(n).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function rv(n,e){function s(i,l,c){if(!(typeof document>"u")){c=tg({},e,c),typeof c.expires=="number"&&(c.expires=new Date(Date.now()+c.expires*864e5)),c.expires&&(c.expires=c.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var f="";for(var u in c)c[u]&&(f+="; "+u,c[u]!==!0&&(f+="="+c[u].split(";")[0]));return document.cookie=i+"="+n.write(l,i)+f}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var l=document.cookie?document.cookie.split("; "):[],c={},f=0;f<l.length;f++){var u=l[f].split("="),m=u.slice(1).join("=");try{var g=decodeURIComponent(u[0]);if(c[g]=n.read(m,g),i===g)break}catch{}}return i?c[i]:c}}return Object.create({set:s,get:r,remove:function(i,l){s(i,"",tg({},l,{expires:-1}))},withAttributes:function(i){return rv(this.converter,tg({},this.attributes,i))},withConverter:function(i){return rv(tg({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(n)}})}var Pg=rv(Sz,{path:"/"});const Tz=({condition:n,wrapper:e,children:s})=>n?e(s):s,av={TOP:"top",BOTTOM:"bottom"};var xw=(n=>(n.STRICT="strict",n.LAX="lax",n.NONE="none",n))(xw||{});const iv={HIDDEN:"hidden",BY_COOKIE_VALUE:"byCookieValue"},rE="CookieConsent",Ez=({children:n,...e})=>Fe.createElement("button",{...e},n),ef={disableStyles:!1,hideOnAccept:!0,hideOnDecline:!0,location:av.BOTTOM,visible:iv.BY_COOKIE_VALUE,onAccept:n=>{},onDecline:()=>{},cookieName:rE,cookieValue:"true",declineCookieValue:"false",setDeclineCookie:!0,buttonText:"I understand",declineButtonText:"I decline",debug:!1,expires:365,containerClasses:"CookieConsent",contentClasses:"",buttonClasses:"",buttonWrapperClasses:"",declineButtonClasses:"",buttonId:"rcc-confirm-button",declineButtonId:"rcc-decline-button",extraCookieOptions:{},disableButtonStyles:!1,enableDeclineButton:!1,flipButtons:!1,sameSite:xw.LAX,ButtonComponent:Ez,overlay:!1,overlayClasses:"",onOverlayClick:()=>{},acceptOnOverlayClick:!1,ariaAcceptLabel:"Accept cookies",ariaDeclineLabel:"Decline cookies",acceptOnScroll:!1,acceptOnScrollPercentage:25,customContentAttributes:{},customContainerAttributes:{},customButtonProps:{},customDeclineButtonProps:{},customButtonWrapperAttributes:{},style:{},buttonStyle:{},declineButtonStyle:{},contentStyle:{},overlayStyle:{}},Cz={visible:!1,style:{alignItems:"baseline",background:"#353535",color:"white",display:"flex",flexWrap:"wrap",justifyContent:"space-between",left:"0",position:"fixed",width:"100%",zIndex:"999"},buttonStyle:{background:"#ffd42d",border:"0",borderRadius:"0px",boxShadow:"none",color:"black",cursor:"pointer",flex:"0 0 auto",padding:"5px 10px",margin:"15px"},declineButtonStyle:{background:"#c12a2a",border:"0",borderRadius:"0px",boxShadow:"none",color:"#e5e5e5",cursor:"pointer",flex:"0 0 auto",padding:"5px 10px",margin:"15px"},contentStyle:{flex:"1 0 300px",margin:"15px"},overlayStyle:{position:"fixed",left:0,top:0,width:"100%",height:"100%",zIndex:"999",backgroundColor:"rgba(0,0,0,0.3)"}},Az=(n=rE)=>{const e=Pg.get(n);return e===void 0?Pg.get(aE(n)):e},aE=n=>`${n}-legacy`,iE=class extends w.Component{constructor(){super(...arguments),this.state=Cz,this.handleScroll=()=>{const{acceptOnScrollPercentage:e}={...ef,...this.props},s=document.documentElement,r=document.body,i="scrollTop",l="scrollHeight";(s[i]||r[i])/((s[l]||r[l])-s.clientHeight)*100>e&&this.accept(!0)},this.removeScrollListener=()=>{const{acceptOnScroll:e}=this.props;e&&globalThis.removeEventListener("scroll",this.handleScroll)}}componentDidMount(){const{debug:e}=this.props;(this.getCookieValue()===void 0||e)&&(this.setState({visible:!0}),this.props.acceptOnScroll&&globalThis.addEventListener("scroll",this.handleScroll,{passive:!0}))}componentWillUnmount(){this.removeScrollListener()}accept(e=!1){const{cookieName:s,cookieValue:r,hideOnAccept:i,onAccept:l}={...ef,...this.props};this.setCookie(s,r),l(e??!1),i&&(this.setState({visible:!1}),this.removeScrollListener())}overlayClick(){const{acceptOnOverlayClick:e,onOverlayClick:s}={...ef,...this.props};e&&this.accept(),s()}decline(){const{cookieName:e,declineCookieValue:s,hideOnDecline:r,onDecline:i,setDeclineCookie:l}={...ef,...this.props};l&&this.setCookie(e,s),i(),r&&this.setState({visible:!1})}setCookie(e,s){const{extraCookieOptions:r,expires:i,sameSite:l}=this.props;let{cookieSecurity:c}=this.props;c===void 0&&(c=globalThis.location?globalThis.location.protocol==="https:":!0);const f={expires:i,...r,sameSite:l,secure:c};l===xw.NONE&&Pg.set(aE(e),s,f),Pg.set(e,s,f)}getCookieValue(){const{cookieName:e}=this.props;return Az(e)}render(){switch(this.props.visible){case iv.HIDDEN:return null;case iv.BY_COOKIE_VALUE:if(!this.state.visible)return null;break}const{location:e,style:s,buttonStyle:r,declineButtonStyle:i,contentStyle:l,disableStyles:c,buttonText:f,declineButtonText:u,containerClasses:m,contentClasses:g,buttonClasses:b,buttonWrapperClasses:v,declineButtonClasses:E,buttonId:N,declineButtonId:C,disableButtonStyles:T,enableDeclineButton:O,flipButtons:F,ButtonComponent:z,overlay:M,overlayClasses:U,overlayStyle:X,ariaAcceptLabel:A,ariaDeclineLabel:P,customContainerAttributes:_,customContentAttributes:k,customButtonProps:D,customDeclineButtonProps:L,customButtonWrapperAttributes:R}=this.props;let Y={},ve={},J={},W={},xe={};switch(c?(Y=Object.assign({},s),ve=Object.assign({},r),J=Object.assign({},i),W=Object.assign({},l),xe=Object.assign({},X)):(Y=Object.assign({},{...this.state.style,...s}),W=Object.assign({},{...this.state.contentStyle,...l}),xe=Object.assign({},{...this.state.overlayStyle,...X}),T?(ve=Object.assign({},r),J=Object.assign({},i)):(ve=Object.assign({},{...this.state.buttonStyle,...r}),J=Object.assign({},{...this.state.declineButtonStyle,...i}))),e){case av.TOP:Y.top="0";break;case av.BOTTOM:Y.bottom="0";break}const Ie=[];return O&&Ie.push(Fe.createElement(z,{key:"declineButton",style:J,className:E,id:C,"aria-label":P,onClick:()=>{this.decline()},...L},u)),Ie.push(Fe.createElement(z,{key:"acceptButton",style:ve,className:b,id:N,"aria-label":A,onClick:()=>{this.accept()},...D},f)),F&&Ie.reverse(),Fe.createElement(Tz,{condition:M,wrapper:Ae=>Fe.createElement("div",{style:xe,className:U,onClick:()=>{this.overlayClick()},onKeyDown:$=>{($.key==="Enter"||$.key===" ")&&($.preventDefault(),this.overlayClick())},role:"button",tabIndex:0,"aria-label":"Close cookie consent banner"},Ae)},Fe.createElement("div",{className:`${m}`,style:Y,..._},Fe.createElement("div",{style:W,className:g,...k},this.props.children),Fe.createElement("div",{className:`${v}`,...R},Ie.map(Ae=>Ae))))}};iE.defaultProps=ef;let Iz=iE;const Rz=()=>{const[n,e]=w.useState(!1);return t.jsx(t.Fragment,{children:t.jsxs(Iz,{location:"bottom",buttonText:"Accept All",declineButtonText:"Decline",manageCookieUseUrl:"#",onAccept:s=>{console.log(s?"Cookie accepted by scrolling":"Cookie accepted by button")},enableDeclineButton:!0,flipButtons:!0,cookieName:"trafficgen_cookie_consent",expires:365,style:{background:"#1a1a1a",color:"#ffffff",padding:"20px",display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"15px",fontSize:"14px",zIndex:9999},buttonStyle:{background:"#ff4d00",color:"#ffffff",border:"none",padding:"12px 24px",borderRadius:"4px",cursor:"pointer",fontWeight:"bold",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},declineButtonStyle:{background:"transparent",color:"#999999",border:"1px solid #666666",padding:"12px 24px",borderRadius:"4px",cursor:"pointer",fontWeight:"bold",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},overlay:!0,children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",flex:1},children:[t.jsx(MD,{size:24,color:"#ff4d00"}),t.jsxs("div",{children:[t.jsx("strong",{style:{color:"#ff4d00",fontSize:"15px"},children:" Cookie Consent"}),t.jsx("p",{style:{margin:"5px 0 0 0",fontSize:"13px",color:"#cccccc"},children:'We use cookies to enhance your browsing experience, serve personalized content, and analyze our traffic. By clicking "Accept All", you consent to our use of cookies.'})]})]}),t.jsx("button",{onClick:()=>e(!n),style:{background:"transparent",border:"none",color:"#ff4d00",cursor:"pointer",fontSize:"12px",textDecoration:"underline",marginTop:"10px"},children:n?"Hide Details":"Learn More"}),n&&t.jsxs("div",{style:{marginTop:"15px",padding:"15px",background:"#2a2a2a",borderRadius:"4px",width:"100%",fontSize:"12px"},children:[t.jsx("h4",{style:{margin:"0 0 10px 0",color:"#ff4d00"},children:"Cookie Categories"}),t.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#cccccc"},children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Essential:"})," Required for the website to function properly"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Analytics:"})," Help us understand how visitors interact with our website"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Marketing:"})," Used to track visitors across websites for ad targeting"]})]}),t.jsx("p",{style:{marginTop:"10px",color:"#999999"},children:'You can manage your cookie preferences at any time by clicking "Decline" or clearing your browser cookies.'})]})]})})},Pz=()=>{const[n]=cx(),e=qs(),[s,r]=w.useState("input"),[i,l]=w.useState(""),[c,f]=w.useState(["","","",""]),[u,m]=w.useState(""),g=w.useRef([]),[b,v]=w.useState("idle");w.useEffect(()=>{const z=n.get("email");z&&m(z)},[n]),w.useEffect(()=>{g.current[0]&&g.current[0].focus()},[]);const E=(z,M)=>{var X;if(!/^\d*$/.test(M))return;const U=[...c];U[z]=M.slice(-1),f(U),M&&z<3&&((X=g.current[z+1])==null||X.focus()),U.every(A=>A!=="")&&U.join("").length===4&&T(U.join(""))},N=(z,M)=>{var U;M.key==="Backspace"&&!c[z]&&z>0&&((U=g.current[z-1])==null||U.focus())},C=z=>{z.preventDefault();const M=z.clipboardData.getData("text").replace(/\D/g,"").slice(0,4),U=[...c];M.split("").forEach((X,A)=>{A<4&&(U[A]=X)}),f(U),U.every(X=>X!=="")&&T(U.join(""))},T=async z=>{r("loading");try{await q.verifyEmail(z),r("success"),l("Your email has been verified successfully! You can now log in and create projects.")}catch(M){r("error"),l(M.message||"Verification failed. The code may have expired.")}},O=async()=>{if(u){v("sending");try{await q.resendVerificationEmail(u),v("sent")}catch{v("idle")}}},F=()=>{var z;f(["","","",""]),r("input"),l(""),(z=g.current[0])==null||z.focus()};return t.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:t.jsxs("div",{className:"max-w-md w-full bg-white animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t.jsx(Ge,{to:"/",className:"flex items-center gap-2 text-gray-400 hover:text-[#ff4d00] transition-colors mb-8 text-xs font-bold uppercase tracking-wider",children:"Back to Home"}),t.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[t.jsx("span",{className:"text-3xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),t.jsx("span",{className:"text-xs font-bold bg-black text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Creator"})]}),s==="input"&&t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(xa,{className:"text-[#ff4d00]",size:40})}),t.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Enter Verification Code"}),t.jsx("p",{className:"text-gray-500 mb-8",children:"We've sent a 4-digit code to your email. Enter it below to verify your account."}),t.jsx("div",{className:"flex justify-center gap-3 mb-6",children:c.map((z,M)=>t.jsx("input",{ref:U=>{g.current[M]=U},type:"text",inputMode:"numeric",maxLength:1,value:z,onChange:U=>E(M,U.target.value),onKeyDown:U=>N(M,U),onPaste:M===0?C:void 0,className:"w-14 h-16 text-center text-2xl font-bold border-2 border-gray-200 rounded-xl focus:border-[#ff4d00] focus:outline-none transition-colors"},M))}),t.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"The code expires in 24 hours"}),u&&t.jsx("button",{onClick:O,disabled:b!=="idle",className:"text-sm text-[#ff4d00] hover:text-[#e64500] font-medium disabled:text-gray-400",children:b==="sending"?"Sending...":b==="sent"?"Code sent!":"Didn't receive a code? Resend"})]}),s==="loading"&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(gs,{className:"animate-spin mx-auto mb-4 text-[#ff4d00]",size:48}),t.jsx("p",{className:"text-gray-500 font-medium",children:"Verifying your code..."})]}),s==="success"&&t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(ct,{className:"text-green-500",size:40})}),t.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Email Verified!"}),t.jsx("p",{className:"text-gray-500 mb-8",children:i}),t.jsx("button",{onClick:()=>e("/login"),className:"w-full bg-[#ff4d00] text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors",children:"Continue to Login"})]}),s==="error"&&t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(tc,{className:"text-red-500",size:40})}),t.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Verification Failed"}),t.jsx("p",{className:"text-gray-500 mb-8",children:i}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("button",{onClick:F,className:"w-full bg-[#ff4d00] text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors",children:"Try Again"}),t.jsx(Ge,{to:"/login",className:"block text-center text-sm font-bold text-gray-400 hover:text-[#ff4d00]",children:"Back to Login"})]})]})]})})},Dz=()=>{const[n]=cx(),e=qs(),[s,r]=w.useState(""),[i,l]=w.useState(""),[c,f]=w.useState(!1),[u,m]=w.useState(!1),[g,b]=w.useState(""),[v,E]=w.useState(!1),N=n.get("token"),C=async T=>{if(T.preventDefault(),b(""),s.length<6){b("Password must be at least 6 characters long");return}if(s!==i){b("Passwords do not match");return}if(!N){b("Invalid reset link. No token provided.");return}m(!0);try{await q.resetPassword(N,s),E(!0)}catch(O){b(O.message||"Password reset failed. The link may have expired.")}finally{m(!1)}};return N?v?t.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:t.jsxs("div",{className:"max-w-md w-full bg-white animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t.jsx(Ge,{to:"/",className:"flex items-center gap-2 text-gray-400 hover:text-[#ff4d00] transition-colors mb-8 text-xs font-bold uppercase tracking-wider",children:"Back to Home"}),t.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[t.jsx("span",{className:"text-3xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),t.jsx("span",{className:"text-xs font-bold bg-black text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Creator"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(ct,{className:"text-green-500",size:40})}),t.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Password Reset!"}),t.jsx("p",{className:"text-gray-500 mb-8",children:"Your password has been successfully reset. You can now log in with your new password."}),t.jsx("button",{onClick:()=>e("/login"),className:"w-full bg-[#ff4d00] text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors",children:"Continue to Login"})]})]})}):t.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:t.jsxs("div",{className:"max-w-md w-full bg-white animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t.jsx(Ge,{to:"/",className:"flex items-center gap-2 text-gray-400 hover:text-[#ff4d00] transition-colors mb-8 text-xs font-bold uppercase tracking-wider",children:"Back to Home"}),t.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[t.jsx("span",{className:"text-3xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),t.jsx("span",{className:"text-xs font-bold bg-black text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Creator"})]}),t.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Reset Password"}),t.jsx("p",{className:"text-gray-500 mb-8",children:"Enter your new password below."}),g&&t.jsxs("div",{className:"mb-6 bg-red-50 border-l-4 border-red-500 p-4 flex items-center gap-3",children:[t.jsx(ys,{className:"text-red-500 shrink-0",size:20}),t.jsx("span",{className:"text-red-700 text-xs font-bold leading-relaxed",children:g})]}),t.jsxs("form",{onSubmit:C,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Yn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:c?"text":"password",required:!0,value:s,onChange:T=>r(T.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 pr-12 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:"Min. 6 characters"}),t.jsx("button",{type:"button",onClick:()=>f(!c),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c?t.jsx(Cf,{size:18}):t.jsx(kc,{size:18})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Confirm Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Yn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:c?"text":"password",required:!0,value:i,onChange:T=>l(T.target.value),className:"w-full bg-[#f9fafb] border border-gray-200 p-4 pl-12 text-sm font-medium text-gray-900 focus:border-[#ff4d00] outline-none transition-colors",placeholder:"Confirm your password"})]})]}),t.jsx("button",{type:"submit",disabled:u,className:"w-full bg-[#ff4d00] text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:u?t.jsxs(t.Fragment,{children:[t.jsx(gs,{className:"animate-spin",size:16})," Resetting..."]}):t.jsxs(t.Fragment,{children:["Reset Password ",t.jsx(xs,{size:16})]})})]})]})}):t.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:t.jsxs("div",{className:"max-w-md w-full bg-white animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t.jsx(Ge,{to:"/",className:"flex items-center gap-2 text-gray-400 hover:text-[#ff4d00] transition-colors mb-8 text-xs font-bold uppercase tracking-wider",children:"Back to Home"}),t.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[t.jsx("span",{className:"text-3xl font-black text-[#ff4d00] tracking-tight",children:"TRAFFIC"}),t.jsx("span",{className:"text-xs font-bold bg-black text-white px-2 py-1 rounded-sm uppercase tracking-wide",children:"Creator"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(ys,{className:"text-red-500",size:40})}),t.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Invalid Link"}),t.jsx("p",{className:"text-gray-500 mb-8",children:"This password reset link is invalid or has expired."}),t.jsx(Ge,{to:"/forgot",className:"block w-full bg-[#ff4d00] text-white p-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition-colors text-center",children:"Request New Link"})]})]})})},Oz=()=>{const n=qs(),[e]=cx(),[s,r]=w.useState("");return w.useEffect(()=>{const i=e.get("token"),l=e.get("return")||"/dashboard";if(!i){r("No token provided"),setTimeout(()=>n("/login"),2e3);return}q.validateSsoToken(i).then(async c=>{c.valid&&c.user&&c.token?(localStorage.setItem("tgp_token",c.token),q.setCurrentUser(c.user),await q.syncAll(),n(l)):(r("Session validation failed. Please login again."),setTimeout(()=>n("/login"),2e3))}).catch(()=>{r("Session validation failed. Please login again."),setTimeout(()=>n("/login"),2e3)})},[e,n]),s?t.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:t.jsxs("div",{className:"max-w-md w-full text-center",children:[t.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 flex items-center gap-3 mb-6",children:[t.jsx(ys,{className:"text-red-500 shrink-0",size:20}),t.jsx("span",{className:"text-red-700 text-xs font-bold",children:s})]}),t.jsx("p",{className:"text-gray-500 text-xs",children:"Redirecting to login..."})]})}):t.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx(gs,{className:"animate-spin mx-auto mb-4 text-[#ff4d00]",size:32}),t.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Logging you in..."})]})})},Mz=({children:n})=>{var i;const[e,s]=w.useState({hasError:!1,error:null}),r=l=>{s({hasError:!0,error:l})};return Fe.useEffect(()=>{const l=c=>{r(c.reason)};return window.addEventListener("unhandledrejection",l),()=>window.removeEventListener("unhandledrejection",l)},[]),e.hasError?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsxs("div",{className:"text-center p-8",children:[t.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),t.jsx("p",{className:"text-gray-600 mb-4",children:(i=e.error)==null?void 0:i.message}),t.jsx("button",{onClick:()=>window.location.href="/login",className:"bg-[#ff4d00] text-white px-6 py-2 rounded font-bold",children:"Go to Login"})]})}):t.jsx(t.Fragment,{children:n})},Sk=({children:n,adminOnly:e})=>{const s=q.getCurrentUser();return s?e&&s.role!=="admin"?t.jsx(ca,{to:"/dashboard",replace:!0}):t.jsx(t.Fragment,{children:n}):t.jsx(ca,{to:"/login",replace:!0})},Lz=()=>{const{type:n}=Vd(),e=qs(),s=()=>{const r=q.getCurrentUser();r&&(r.role==="user"||r.role==="admin")?e("/dashboard"):e("/")};return t.jsx(Nz,{type:n,onBack:s})},zz=()=>{const n=qs(),e=tr();w.useEffect(()=>{q.init()},[]),w.useEffect(()=>{const l=q.getCurrentUser();if(l){const c=e.pathname.substring(1)||"landing";q.trackPresence(c,l)}},[e]);const s=l=>{n(l==="admin"?"/admin":"/dashboard"),window.scrollTo(0,0)},r=()=>{n("/"),window.scrollTo(0,0)},i=()=>{n("/"),window.scrollTo(0,0)};return t.jsxs(Mz,{children:[t.jsxs(rw,{children:[t.jsx(We,{path:"/",element:t.jsx(LL,{onLogin:()=>n("/login"),onNavigate:l=>n(`/${l}`)})}),t.jsx(We,{path:"/login",element:t.jsx(yb,{view:"login",onLogin:s,onNavigate:l=>n(`/${l}`)})}),t.jsx(We,{path:"/signup",element:t.jsx(yb,{view:"signup",onLogin:s,onNavigate:l=>n(`/${l}`)})}),t.jsx(We,{path:"/forgot",element:t.jsx(yb,{view:"forgot",onLogin:s,onNavigate:l=>n(`/${l}`)})}),t.jsx(We,{path:"/verify-email",element:t.jsx(Pz,{})}),t.jsx(We,{path:"/reset-password",element:t.jsx(Dz,{})}),t.jsx(We,{path:"/sso",element:t.jsx(Oz,{})}),t.jsx(We,{path:"/dashboard/*",element:t.jsx(Sk,{children:t.jsx(DL,{onLogout:r,onNavigate:l=>n(`/${l}`)})})}),t.jsx(We,{path:"/admin/*",element:t.jsx(Sk,{adminOnly:!0,children:t.jsx(jz,{onLogout:r})})}),t.jsx(We,{path:"/helpdesk",element:t.jsx(_z,{onBack:i})}),t.jsx(We,{path:"/blog",element:t.jsx(kk,{onBack:i})}),t.jsx(We,{path:"/blog/:slug",element:t.jsx(kk,{onBack:i})}),t.jsx(We,{path:"/legal/:type",element:t.jsx(Lz,{})}),t.jsx(We,{path:"/privacy",element:t.jsx(ca,{to:"/legal/privacy",replace:!0})}),t.jsx(We,{path:"/terms",element:t.jsx(ca,{to:"/legal/terms",replace:!0})}),t.jsx(We,{path:"/impressum",element:t.jsx(ca,{to:"/legal/impressum",replace:!0})}),t.jsx(We,{path:"/agb",element:t.jsx(ca,{to:"/legal/agb",replace:!0})}),t.jsx(We,{path:"/refund",element:t.jsx(ca,{to:"/legal/refund",replace:!0})}),t.jsx(We,{path:"/delivery",element:t.jsx(ca,{to:"/legal/delivery",replace:!0})}),t.jsx(We,{path:"/organic-website-traffic",element:t.jsx(zL,{onLogin:()=>n("/login"),onNavigate:l=>n(`/${l}`)})}),t.jsx(We,{path:"/modern-traffic",element:t.jsx(VL,{onLogin:()=>n("/login"),onNavigate:l=>n(`/${l}`)})}),t.jsx(We,{path:"/free-website-traffic",element:t.jsx(Nk,{onLogin:()=>n("/login"),onNavigate:l=>n(`/${l}`)})}),t.jsx(We,{path:"/landing2",element:t.jsx(Nk,{onLogin:()=>n("/login"),onNavigate:l=>n(`/${l}`)})}),t.jsx(We,{path:"*",element:t.jsx(ca,{to:"/",replace:!0})})]}),t.jsx(Rz,{})]})},Vz=()=>{};var Tk={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=function(n){const e=[];let s=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[s++]=i:i<2048?(e[s++]=i>>6|192,e[s++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[s++]=i>>18|240,e[s++]=i>>12&63|128,e[s++]=i>>6&63|128,e[s++]=i&63|128):(e[s++]=i>>12|224,e[s++]=i>>6&63|128,e[s++]=i&63|128)}return e},Uz=function(n){const e=[];let s=0,r=0;for(;s<n.length;){const i=n[s++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const l=n[s++];e[r++]=String.fromCharCode((i&31)<<6|l&63)}else if(i>239&&i<365){const l=n[s++],c=n[s++],f=n[s++],u=((i&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const l=n[s++],c=n[s++];e[r++]=String.fromCharCode((i&15)<<12|(l&63)<<6|c&63)}}return e.join("")},lE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const l=n[i],c=i+1<n.length,f=c?n[i+1]:0,u=i+2<n.length,m=u?n[i+2]:0,g=l>>2,b=(l&3)<<4|f>>4;let v=(f&15)<<2|m>>6,E=m&63;u||(E=64,c||(v=64)),r.push(s[g],s[b],s[v],s[E])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(oE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Uz(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const l=s[n.charAt(i++)],f=i<n.length?s[n.charAt(i)]:0;++i;const m=i<n.length?s[n.charAt(i)]:64;++i;const b=i<n.length?s[n.charAt(i)]:64;if(++i,l==null||f==null||m==null||b==null)throw new Fz;const v=l<<2|f>>4;if(r.push(v),m!==64){const E=f<<4&240|m>>2;if(r.push(E),b!==64){const N=m<<6&192|b;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Fz extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Bz=function(n){const e=oE(n);return lE.encodeByteArray(e,!0)},Dg=function(n){return Bz(n).replace(/\./g,"")},yw=function(n){try{return lE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Og(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const s=e;return new Date(s.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const s in e)!e.hasOwnProperty(s)||!$z(s)||(n[s]=Og(n[s],e[s]));return n}function $z(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qz=()=>bw().__FIREBASE_DEFAULTS__,Hz=()=>{if(typeof process>"u"||typeof Tk>"u")return;const n=Tk.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Gz=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&yw(n[1]);return e&&JSON.parse(e)},vw=()=>{try{return Vz()||qz()||Hz()||Gz()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ww=()=>{var n;return(n=vw())==null?void 0:n.config},Kz=n=>{var e;return(e=vw())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cE(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yz(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Dg(JSON.stringify(s)),Dg(JSON.stringify(c)),""].join(".")}const uf={};function Qz(){const n={prod:[],emulator:[]};for(const e of Object.keys(uf))uf[e]?n.emulator.push(e):n.prod.push(e);return n}function Jz(n){let e=document.getElementById(n),s=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),s=!0),{created:s,element:e}}let Ek=!1;function dE(n,e){if(typeof window>"u"||typeof document>"u"||!Su(window.location.host)||uf[n]===e||uf[n]||Ek)return;uf[n]=e;function s(v){return`__firebase__banner__${v}`}const r="__firebase__banner",l=Qz().prod.length>0;function c(){const v=document.getElementById(r);v&&v.remove()}function f(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function u(v,E){v.setAttribute("width","24"),v.setAttribute("id",E),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function m(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Ek=!0,c()},v}function g(v,E){v.setAttribute("id",E),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function b(){const v=Jz(r),E=s("text"),N=document.getElementById(E)||document.createElement("span"),C=s("learnmore"),T=document.getElementById(C)||document.createElement("a"),O=s("preprendIcon"),F=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const z=v.element;f(z),g(T,C);const M=m();u(F,O),z.append(F,N,T,M),document.body.appendChild(z)}l?(N.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xz(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ds())}function fx(){var e;const n=(e=vw())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Zz(){return typeof window<"u"||uE()}function uE(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function e8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mx(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function jw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hE(){const n=ds();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function fE(){return!fx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mE(){return!fx()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function ic(){try{return typeof indexedDB=="object"}catch{return!1}}function Nw(){return new Promise((n,e)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),s||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{s=!1},i.onerror=()=>{var l;e(((l=i.error)==null?void 0:l.message)||"")}}catch(s){e(s)}})}function pE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8="FirebaseError";class pn extends Error{constructor(e,s,r){super(s),this.code=e,this.customData=r,this.name=t8,Object.setPrototypeOf(this,pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oi.prototype.create)}}class Oi{constructor(e,s,r){this.service=e,this.serviceName=s,this.errors=r}create(e,...s){const r=s[0]||{},i=`${this.service}/${e}`,l=this.errors[e],c=l?s8(l,r):"Error",f=`${this.serviceName}: ${c} (${i}).`;return new pn(i,f,r)}}function s8(n,e){return n.replace(n8,(s,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const n8=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function r8(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function qo(n,e){if(n===e)return!0;const s=Object.keys(n),r=Object.keys(e);for(const i of s){if(!r.includes(i))return!1;const l=n[i],c=e[i];if(Ak(l)&&Ak(c)){if(!qo(l,c))return!1}else if(l!==c)return!1}for(const i of r)if(!s.includes(i))return!1;return!0}function Ak(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(n){const e=[];for(const[s,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(s)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Md(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,l]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(l)}}),e}function tf(n){const e=n.indexOf("?");if(!e)return"";const s=n.indexOf("#",e);return n.substring(e,s>0?s:void 0)}function gE(n,e){const s=new a8(n,e);return s.subscribe.bind(s)}class a8{constructor(e,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(s=>{s.next(e)})}error(e){this.forEachObserver(s=>{s.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,s,r){let i;if(e===void 0&&s===void 0&&r===void 0)throw new Error("Missing Observer.");i8(e,["next","error","complete"])?i=e:i={next:e,error:s,complete:r},i.next===void 0&&(i.next=bb),i.error===void 0&&(i.error=bb),i.complete===void 0&&(i.complete=bb);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,e)}sendOne(e,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{s(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function i8(n,e){if(typeof n!="object"||n===null)return!1;for(const s of e)if(s in n&&typeof n[s]=="function")return!0;return!1}function bb(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8=1e3,l8=2,c8=14400*1e3,d8=.5;function Ik(n,e=o8,s=l8){const r=e*Math.pow(s,n),i=Math.round(d8*r*(Math.random()-.5)*2);return Math.min(c8,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(n){return n&&n._delegate?n._delegate:n}class Ln{constructor(e,s,r){this.name=e,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const r=new Wz;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:s});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(f8(e))try{this.getOrInitializeService({instanceIdentifier:Dl})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(s);try{const l=this.getOrInitializeService({instanceIdentifier:i});r.resolve(l)}catch{}}}}clearInstance(e=Dl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Dl){return this.instances.has(e)}getOptions(e=Dl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(i)}return i}onInit(e,s){const r=this.normalizeInstanceIdentifier(s),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const l=this.instances.get(r);return l&&e(l,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,s){const r=this.onInitCallbacks.get(s);if(r)for(const i of r)try{i(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:h8(e),options:s}),this.instances.set(e,r),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Dl){return this.component?this.component.multipleInstances?e:Dl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function h8(n){return n===Dl?void 0:n}function f8(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new u8(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=[];var mt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(mt||(mt={}));const yE={debug:mt.DEBUG,verbose:mt.VERBOSE,info:mt.INFO,warn:mt.WARN,error:mt.ERROR,silent:mt.SILENT},m8=mt.INFO,p8={[mt.DEBUG]:"log",[mt.VERBOSE]:"log",[mt.INFO]:"info",[mt.WARN]:"warn",[mt.ERROR]:"error"},g8=(n,e,...s)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=p8[e];if(i)console[i](`[${r}]  ${n.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rm{constructor(e){this.name=e,this._logLevel=m8,this._logHandler=g8,this._userLogHandler=null,_w.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mt.DEBUG,...e),this._logHandler(this,mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mt.VERBOSE,...e),this._logHandler(this,mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mt.INFO,...e),this._logHandler(this,mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mt.WARN,...e),this._logHandler(this,mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mt.ERROR,...e),this._logHandler(this,mt.ERROR,...e)}}function x8(n){_w.forEach(e=>{e.setLogLevel(n)})}function y8(n,e){for(const s of _w){let r=null;e&&e.level&&(r=yE[e.level]),n===null?s.userLogHandler=null:s.userLogHandler=(i,l,...c)=>{const f=c.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch{return null}}).filter(u=>u).join(" ");l>=(r??i.logLevel)&&n({level:mt[l].toLowerCase(),message:f,args:c,type:i.name})}}}const b8=(n,e)=>e.some(s=>n instanceof s);let Rk,Pk;function v8(){return Rk||(Rk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function w8(){return Pk||(Pk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bE=new WeakMap,ov=new WeakMap,vE=new WeakMap,vb=new WeakMap,kw=new WeakMap;function j8(n){const e=new Promise((s,r)=>{const i=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{s(Oo(n.result)),i()},c=()=>{r(n.error),i()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(s=>{s instanceof IDBCursor&&bE.set(s,n)}).catch(()=>{}),kw.set(e,n),e}function N8(n){if(ov.has(n))return;const e=new Promise((s,r)=>{const i=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{s(),i()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});ov.set(n,e)}let lv={get(n,e,s){if(n instanceof IDBTransaction){if(e==="done")return ov.get(n);if(e==="objectStoreNames")return n.objectStoreNames||vE.get(n);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Oo(n[e])},set(n,e,s){return n[e]=s,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function _8(n){lv=n(lv)}function k8(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const r=n.call(wb(this),e,...s);return vE.set(r,e.sort?e.sort():[e]),Oo(r)}:w8().includes(n)?function(...e){return n.apply(wb(this),e),Oo(bE.get(this))}:function(...e){return Oo(n.apply(wb(this),e))}}function S8(n){return typeof n=="function"?k8(n):(n instanceof IDBTransaction&&N8(n),b8(n,v8())?new Proxy(n,lv):n)}function Oo(n){if(n instanceof IDBRequest)return j8(n);if(vb.has(n))return vb.get(n);const e=S8(n);return e!==n&&(vb.set(n,e),kw.set(e,n)),e}const wb=n=>kw.get(n);function wE(n,e,{blocked:s,upgrade:r,blocking:i,terminated:l}={}){const c=indexedDB.open(n,e),f=Oo(c);return r&&c.addEventListener("upgradeneeded",u=>{r(Oo(c.result),u.oldVersion,u.newVersion,Oo(c.transaction),u)}),s&&c.addEventListener("blocked",u=>s(u.oldVersion,u.newVersion,u)),f.then(u=>{l&&u.addEventListener("close",()=>l()),i&&u.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const T8=["get","getKey","getAll","getAllKeys","count"],E8=["put","add","delete","clear"],jb=new Map;function Dk(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(jb.get(e))return jb.get(e);const s=e.replace(/FromIndex$/,""),r=e!==s,i=E8.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(i||T8.includes(s)))return;const l=async function(c,...f){const u=this.transaction(c,i?"readwrite":"readonly");let m=u.store;return r&&(m=m.index(f.shift())),(await Promise.all([m[s](...f),i&&u.done]))[0]};return jb.set(e,l),l}_8(n=>({...n,get:(e,s,r)=>Dk(e,s)||n.get(e,s,r),has:(e,s)=>!!Dk(e,s)||n.has(e,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(A8(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function A8(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mg="@firebase/app",cv="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new rm("@firebase/app"),I8="@firebase/app-compat",R8="@firebase/analytics-compat",P8="@firebase/analytics",D8="@firebase/app-check-compat",O8="@firebase/app-check",M8="@firebase/auth",L8="@firebase/auth-compat",z8="@firebase/database",V8="@firebase/data-connect",U8="@firebase/database-compat",F8="@firebase/functions",B8="@firebase/functions-compat",$8="@firebase/installations",q8="@firebase/installations-compat",H8="@firebase/messaging",G8="@firebase/messaging-compat",K8="@firebase/performance",W8="@firebase/performance-compat",Y8="@firebase/remote-config",Q8="@firebase/remote-config-compat",J8="@firebase/storage",X8="@firebase/storage-compat",Z8="@firebase/firestore",eV="@firebase/ai",tV="@firebase/firestore-compat",sV="firebase",nV="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho="[DEFAULT]",rV={[Mg]:"fire-core",[I8]:"fire-core-compat",[P8]:"fire-analytics",[R8]:"fire-analytics-compat",[O8]:"fire-app-check",[D8]:"fire-app-check-compat",[M8]:"fire-auth",[L8]:"fire-auth-compat",[z8]:"fire-rtdb",[V8]:"fire-data-connect",[U8]:"fire-rtdb-compat",[F8]:"fire-fn",[B8]:"fire-fn-compat",[$8]:"fire-iid",[q8]:"fire-iid-compat",[H8]:"fire-fcm",[G8]:"fire-fcm-compat",[K8]:"fire-perf",[W8]:"fire-perf-compat",[Y8]:"fire-rc",[Q8]:"fire-rc-compat",[J8]:"fire-gcs",[X8]:"fire-gcs-compat",[Z8]:"fire-fst",[tV]:"fire-fst-compat",[eV]:"fire-vertex","fire-js":"fire-js",[sV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=new Map,Zd=new Map,eu=new Map;function Rf(n,e){try{n.container.addComponent(e)}catch(s){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,s)}}function jE(n,e){n.container.addOrOverwriteComponent(e)}function Wr(n){const e=n.name;if(eu.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;eu.set(e,n);for(const s of Go.values())Rf(s,n);for(const s of Zd.values())Rf(s,n);return!0}function px(n,e){const s=n.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),n.container.getProvider(e)}function aV(n,e,s=Ho){px(n,e).clearInstance(s)}function Sw(n){return n.options!==void 0}function NE(n){return Sw(n)?!1:"authIdToken"in n||"appCheckToken"in n||"releaseOnDeref"in n||"automaticDataCollectionEnabled"in n}function rs(n){return n==null?!1:n.settings!==void 0}function iV(){eu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vr=new Oi("app","Firebase",oV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _E=class{constructor(e,s,r){this._isDeleted=!1,this._options={...e},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(n,e){const s=yw(n.split(".")[1]);if(s===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(s).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(s).exp*1e3,l=new Date().getTime();i-l<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class lV extends _E{constructor(e,s,r,i){const l=s.automaticDataCollectionEnabled!==void 0?s.automaticDataCollectionEnabled:!0,c={name:r,automaticDataCollectionEnabled:l};if(e.apiKey!==void 0)super(e,c,i);else{const f=e;super(f.options,c,i)}this._serverConfig={automaticDataCollectionEnabled:l,...s},this._serverConfig.authIdToken&&Ok(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&Ok(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,s.releaseOnDeref=void 0,On(Mg,cv,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Ew(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw vr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=nV;function Tw(n,e={}){let s=n;typeof e!="object"&&(e={name:e});const r={name:Ho,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw vr.create("bad-app-name",{appName:String(i)});if(s||(s=ww()),!s)throw vr.create("no-options");const l=Go.get(i);if(l){if(qo(s,l.options)&&qo(r,l.config))return l;throw vr.create("duplicate-app",{appName:i})}const c=new xE(i);for(const u of eu.values())c.addComponent(u);const f=new _E(s,r,c);return Go.set(i,f),f}function cV(n,e={}){if(Zz()&&!uE())throw vr.create("invalid-server-app-environment");let s,r=e||{};if(n&&(Sw(n)?s=n.options:NE(n)?r=n:s=n),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),s||(s=ww()),!s)throw vr.create("no-options");const i={...r,...s};i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const l=g=>[...g].reduce((b,v)=>Math.imul(31,b)+v.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw vr.create("finalization-registry-not-supported",{});const c=""+l(JSON.stringify(i)),f=Zd.get(c);if(f)return f.incRefCount(r.releaseOnDeref),f;const u=new xE(c);for(const g of eu.values())u.addComponent(g);const m=new lV(s,r,c,u);return Zd.set(c,m),m}function dV(n=Ho){const e=Go.get(n);if(!e&&n===Ho&&ww())return Tw();if(!e)throw vr.create("no-app",{appName:n});return e}function uV(){return Array.from(Go.values())}async function Ew(n){let e=!1;const s=n.name;Go.has(s)?(e=!0,Go.delete(s)):Zd.has(s)&&n.decRefCount()<=0&&(Zd.delete(s),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function On(n,e,s){let r=rV[n]??n;s&&(r+=`-${s}`);const i=r.match(/\s|\//),l=e.match(/\s|\//);if(i||l){const c=[`Unable to register library "${r}" with version "${e}":`];i&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(c.join(" "));return}Wr(new Ln(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function kE(n,e){if(n!==null&&typeof n!="function")throw vr.create("invalid-log-argument");y8(n,e)}function SE(n){x8(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV="firebase-heartbeat-database",fV=1,Pf="firebase-heartbeat-store";let Nb=null;function TE(){return Nb||(Nb=wE(hV,fV,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Pf)}catch(s){console.warn(s)}}}}).catch(n=>{throw vr.create("idb-open",{originalErrorMessage:n.message})})),Nb}async function mV(n){try{const s=(await TE()).transaction(Pf),r=await s.objectStore(Pf).get(EE(n));return await s.done,r}catch(e){if(e instanceof pn)Ii.warn(e.message);else{const s=vr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ii.warn(s.message)}}}async function Mk(n,e){try{const r=(await TE()).transaction(Pf,"readwrite");await r.objectStore(Pf).put(e,EE(n)),await r.done}catch(s){if(s instanceof pn)Ii.warn(s.message);else{const r=vr.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});Ii.warn(r.message)}}}function EE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV=1024,gV=30;class xV{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new bV(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,s;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Lk();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)==null?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:i}),this._heartbeatsCache.heartbeats.length>gV){const c=vV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ii.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=Lk(),{heartbeatsToSend:r,unsentEntries:i}=yV(this._heartbeatsCache.heartbeats),l=Dg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=s,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(s){return Ii.warn(s),""}}}function Lk(){return new Date().toISOString().substring(0,10)}function yV(n,e=pV){const s=[];let r=n.slice();for(const i of n){const l=s.find(c=>c.agent===i.agent);if(l){if(l.dates.push(i.date),zk(s)>e){l.dates.pop();break}}else if(s.push({agent:i.agent,dates:[i.date]}),zk(s)>e){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class bV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ic()?Nw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await mV(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Mk(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Mk(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function zk(n){return Dg(JSON.stringify({version:2,heartbeats:n})).length}function vV(n){if(n.length===0)return-1;let e=0,s=n[0].date;for(let r=1;r<n.length;r++)n[r].date<s&&(s=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(n){Wr(new Ln("platform-logger",e=>new C8(e),"PRIVATE")),Wr(new Ln("heartbeat",e=>new xV(e),"PRIVATE")),On(Mg,cv,n),On(Mg,cv,"esm2020"),On("fire-js","")}wV("");const jV=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:pn,SDK_VERSION:el,_DEFAULT_ENTRY_NAME:Ho,_addComponent:Rf,_addOrOverwriteComponent:jE,_apps:Go,_clearComponents:iV,_components:eu,_getProvider:px,_isFirebaseApp:Sw,_isFirebaseServerApp:rs,_isFirebaseServerAppSettings:NE,_registerComponent:Wr,_removeServiceInstance:aV,_serverApps:Zd,deleteApp:Ew,getApp:dV,getApps:uV,initializeApp:Tw,initializeServerApp:cV,onLog:kE,registerVersion:On,setLogLevel:SE},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e,s){this._delegate=e,this.firebase=s,Rf(e,new Ln("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Ew(this._delegate)))}_getService(e,s=Ho){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())==null?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:s})}_removeServiceInstance(e,s=Ho){this._delegate.container.getProvider(e).clearInstance(s)}_addComponent(e){Rf(this._delegate,e)}_addOrOverwriteComponent(e){jE(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},Vk=new Oi("app-compat","Firebase",_V);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(n){const e={},s={__esModule:!0,initializeApp:l,app:i,registerVersion:On,setLogLevel:SE,onLog:kE,apps:null,SDK_VERSION:el,INTERNAL:{registerComponent:f,removeApp:r,useAsService:u,modularAPIs:jV}};s.default=s,Object.defineProperty(s,"apps",{get:c});function r(m){delete e[m]}function i(m){if(m=m||Ho,!Ck(e,m))throw Vk.create("no-app",{appName:m});return e[m]}i.App=n;function l(m,g={}){const b=Tw(m,g);if(Ck(e,b.name))return e[b.name];const v=new n(b,s);return e[b.name]=v,v}function c(){return Object.keys(e).map(m=>e[m])}function f(m){const g=m.name,b=g.replace("-compat","");if(Wr(m)&&m.type==="PUBLIC"){const v=(E=i())=>{if(typeof E[b]!="function")throw Vk.create("invalid-app-argument",{appName:g});return E[b]()};m.serviceProps!==void 0&&Og(v,m.serviceProps),s[b]=v,n.prototype[b]=function(...E){return this._getService.bind(this,g).apply(this,m.multipleInstances?E:[])}}return m.type==="PUBLIC"?s[b]:null}function u(m,g){return g==="serverAuth"?null:g}return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(){const n=kV(NV);n.INTERNAL={...n.INTERNAL,createFirebaseNamespace:CE,extendNamespace:e,createSubscribe:gE,ErrorFactory:Oi,deepExtend:Og};function e(s){Og(n,s)}return n}const SV=CE();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=new rm("@firebase/app-compat"),TV="@firebase/app-compat",EV="0.5.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(n){On(TV,EV,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=bw();if(n.firebase!==void 0){Uk.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Uk.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const tl=SV;CV();var AV="firebase",IV="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tl.registerVersion(AV,IV,"app-compat");const $h={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Nd={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function AE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PV=RV,DV=AE,IE=new Oi("auth","Firebase",AE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg=new rm("@firebase/auth");function OV(n,...e){Lg.logLevel<=mt.WARN&&Lg.warn(`Auth (${el}): ${n}`,...e)}function pg(n,...e){Lg.logLevel<=mt.ERROR&&Lg.error(`Auth (${el}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(n,...e){throw Aw(n,...e)}function $s(n,...e){return Aw(n,...e)}function Cw(n,e,s){const r={...DV(),[e]:s};return new Oi("auth","Firebase",r).create(e,{appName:n.name})}function Zs(n){return Cw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Eu(n,e,s){const r=s;if(!(e instanceof r))throw r.name!==e.constructor.name&&yn(n,"argument-error"),Cw(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Aw(n,...e){if(typeof n!="string"){const s=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(s,...r)}return IE.create(n,...e)}function Ce(n,e,...s){if(!n)throw Aw(e,...s)}function Ga(n){const e="INTERNAL ASSERTION FAILED: "+n;throw pg(e),new Error(e)}function va(n,e){n||Ga(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function Iw(){return Fk()==="http:"||Fk()==="https:"}function Fk(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Iw()||mx()||"connection"in navigator)?navigator.onLine:!0}function LV(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,s){this.shortDelay=e,this.longDelay=s,va(s>e,"Short delay should be less than long delay!"),this.isMobile=Xz()||jw()}get(){return MV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(n,e){va(n.emulator,"Emulator should always be set here");const{url:s}=n.emulator;return e?`${s}${e.startsWith("/")?e.slice(1):e}`:s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{static initialize(e,s,r){this.fetchImpl=e,s&&(this.headersImpl=s),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ga("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ga("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ga("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UV=new am(3e4,6e4);function vs(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ws(n,e,s,r,i={}){return PE(n,i,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const f=Tu({key:n.config.apiKey,...c}).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:u,...l};return e8()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Su(n.emulatorConfig.host)&&(m.credentials="include"),RE.fetch()(await DE(n,n.config.apiHost,s,f),m)})}async function PE(n,e,s){n._canInitEmulator=!1;const r={...zV,...e};try{const i=new BV(n),l=await Promise.race([s(),i.promise]);i.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw sf(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[u,m]=f.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw sf(n,"credential-already-in-use",c);if(u==="EMAIL_EXISTS")throw sf(n,"email-already-in-use",c);if(u==="USER_DISABLED")throw sf(n,"user-disabled",c);const g=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Cw(n,g,m);yn(n,g)}}catch(i){if(i instanceof pn)throw i;yn(n,"network-request-failed",{message:String(i)})}}async function Mi(n,e,s,r,i={}){const l=await ws(n,e,s,r,i);return"mfaPendingCredential"in l&&yn(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function DE(n,e,s,r){const i=`${e}${s}?${r}`,l=n,c=l.config.emulator?Rw(n.config,i):`${n.config.apiScheme}://${i}`;return VV.includes(s)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function FV(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class BV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((s,r)=>{this.timer=setTimeout(()=>r($s(this.auth,"network-request-failed")),UV.get())})}}function sf(n,e,s){const r={appName:n.name};s.email&&(r.email=s.email),s.phoneNumber&&(r.phoneNumber=s.phoneNumber);const i=$s(n,e,r);return i.customData._tokenResponse=s,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(n){return n!==void 0&&n.getResponse!==void 0}function $k(n){return n!==void 0&&n.enterprise!==void 0}class OE{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const s of this.recaptchaEnforcementState)if(s.provider&&s.provider===e)return FV(s.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $V(n){return(await ws(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function ME(n,e){return ws(n,"GET","/v2/recaptchaConfig",vs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qV(n,e){return ws(n,"POST","/v1/accounts:delete",e)}async function HV(n,e){return ws(n,"POST","/v1/accounts:update",e)}async function zg(n,e){return ws(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GV(n,e=!1){const s=Qe(n),r=await s.getIdToken(e),i=gx(r);Ce(i&&i.exp&&i.auth_time&&i.iat,s.auth,"internal-error");const l=typeof i.firebase=="object"?i.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:i,token:r,authTime:hf(_b(i.auth_time)),issuedAtTime:hf(_b(i.iat)),expirationTime:hf(_b(i.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function _b(n){return Number(n)*1e3}function gx(n){const[e,s,r]=n.split(".");if(e===void 0||s===void 0||r===void 0)return pg("JWT malformed, contained fewer than 3 sections"),null;try{const i=yw(s);return i?JSON.parse(i):(pg("Failed to decode base64 JWT payload"),null)}catch(i){return pg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function qk(n){const e=gx(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ri(n,e,s=!1){if(s)return e;try{return await e}catch(r){throw r instanceof pn&&KV(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function KV({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const s=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,s){this.createdAt=e,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=hf(this.lastLoginAt),this.creationTime=hf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Of(n){var b;const e=n.auth,s=await n.getIdToken(),r=await Ri(n,zg(e,{idToken:s}));Ce(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const l=(b=i.providerUserInfo)!=null&&b.length?LE(i.providerUserInfo):[],c=QV(n.providerData,l),f=n.isAnonymous,u=!(n.email&&i.passwordHash)&&!(c!=null&&c.length),m=f?u:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new dv(i.createdAt,i.lastLoginAt),isAnonymous:m};Object.assign(n,g)}async function YV(n){const e=Qe(n);await Of(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function QV(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function LE(n){return n.map(({providerId:e,...s})=>({providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JV(n,e){const s=await PE(n,{},async()=>{const r=Tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:l}=n.config,c=await DE(n,i,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:f,body:r};return n.emulatorConfig&&Su(n.emulatorConfig.host)&&(u.credentials="include"),RE.fetch()(c,u)});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function XV(n,e){return ws(n,"POST","/v2/accounts:revokeToken",vs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const s="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,s)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const s=qk(e);this.updateTokensAndExpiration(e,null,s)}async getToken(e,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,s){const{accessToken:r,refreshToken:i,expiresIn:l}=await JV(e,s);this.updateTokensAndExpiration(r,i,Number(l))}updateTokensAndExpiration(e,s,r){this.refreshToken=s||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,s){const{refreshToken:r,accessToken:i,expirationTime:l}=s,c=new Ud;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),i&&(Ce(typeof i=="string","internal-error",{appName:e}),c.accessToken=i),l&&(Ce(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ud,this.toJSON())}_performRefresh(){return Ga("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(n,e){Ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ha{constructor({uid:e,auth:s,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new WV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new dv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const s=await Ri(this,this.stsTokenManager.getToken(this.auth,e));return Ce(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(e){return GV(this,e)}reload(){return YV(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(s=>({...s})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const s=new ha({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return s.metadata._copy(this.metadata),s}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,s=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),s&&await Of(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rs(this.auth.app))return Promise.reject(Zs(this.auth));const e=await this.getIdToken();return await Ri(this,qV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,s){const r=s.displayName??void 0,i=s.email??void 0,l=s.phoneNumber??void 0,c=s.photoURL??void 0,f=s.tenantId??void 0,u=s._redirectEventId??void 0,m=s.createdAt??void 0,g=s.lastLoginAt??void 0,{uid:b,emailVerified:v,isAnonymous:E,providerData:N,stsTokenManager:C}=s;Ce(b&&C,e,"internal-error");const T=Ud.fromJSON(this.name,C);Ce(typeof b=="string",e,"internal-error"),ko(r,e.name),ko(i,e.name),Ce(typeof v=="boolean",e,"internal-error"),Ce(typeof E=="boolean",e,"internal-error"),ko(l,e.name),ko(c,e.name),ko(f,e.name),ko(u,e.name),ko(m,e.name),ko(g,e.name);const O=new ha({uid:b,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:E,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:T,createdAt:m,lastLoginAt:g});return N&&Array.isArray(N)&&(O.providerData=N.map(F=>({...F}))),u&&(O._redirectEventId=u),O}static async _fromIdTokenResponse(e,s,r=!1){const i=new Ud;i.updateFromServerResponse(s);const l=new ha({uid:s.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Of(l),l}static async _fromGetAccountInfoResponse(e,s,r){const i=s.users[0];Ce(i.localId!==void 0,"internal-error");const l=i.providerUserInfo!==void 0?LE(i.providerUserInfo):[],c=!(i.email&&i.passwordHash)&&!(l!=null&&l.length),f=new Ud;f.updateFromIdToken(r);const u=new ha({uid:i.localId,auth:e,stsTokenManager:f,isAnonymous:c}),m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new dv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(l!=null&&l.length)};return Object.assign(u,m),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=new Map;function yr(n){va(n instanceof Function,"Expected a class definition");let e=Hk.get(n);return e?(va(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Hk.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,s){this.storage[e]=s}async _get(e){const s=this.storage[e];return s===void 0?null:s}async _remove(e){delete this.storage[e]}_addListener(e,s){}_removeListener(e,s){}}zE.type="NONE";const tu=zE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(n,e,s){return`firebase:${n}:${e}:${s}`}class Fd{constructor(e,s,r){this.persistence=e,this.auth=s,this.userKey=r;const{config:i,name:l}=this.auth;this.fullUserKey=Jl(this.userKey,i.apiKey,l),this.fullPersistenceKey=Jl("persistence",i.apiKey,l),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const s=await zg(this.auth,{idToken:e}).catch(()=>{});return s?ha._fromGetAccountInfoResponse(this.auth,s,e):null}return ha._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,s,r="authUser"){if(!s.length)return new Fd(yr(tu),e,r);const i=(await Promise.all(s.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=i[0]||yr(tu);const c=Jl(r,e.config.apiKey,e.name);let f=null;for(const m of s)try{const g=await m._get(c);if(g){let b;if(typeof g=="string"){const v=await zg(e,{idToken:g}).catch(()=>{});if(!v)break;b=await ha._fromGetAccountInfoResponse(e,v,g)}else b=ha._fromJSON(e,g);m!==l&&(f=b),l=m;break}}catch{}const u=i.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!u.length?new Fd(l,e,r):(l=u[0],f&&await l._set(c,f.toJSON()),await Promise.all(s.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new Fd(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($E(e))return"Blackberry";if(qE(e))return"Webos";if(UE(e))return"Safari";if((e.includes("chrome/")||FE(e))&&!e.includes("edge/"))return"Chrome";if(im(e))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(s);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function VE(n=ds()){return/firefox\//i.test(n)}function UE(n=ds()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FE(n=ds()){return/crios\//i.test(n)}function BE(n=ds()){return/iemobile/i.test(n)}function im(n=ds()){return/android/i.test(n)}function $E(n=ds()){return/blackberry/i.test(n)}function qE(n=ds()){return/webos/i.test(n)}function om(n=ds()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function ZV(n=ds()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function eU(n=ds()){var e;return om(n)&&!!((e=window.navigator)!=null&&e.standalone)}function tU(){return hE()&&document.documentMode===10}function HE(n=ds()){return om(n)||im(n)||qE(n)||$E(n)||/windows phone/i.test(n)||BE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(n,e=[]){let s;switch(n){case"Browser":s=Gk(ds());break;case"Worker":s=`${Gk(ds())}-${n}`;break;default:s=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${s}/JsCore/${el}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,s){const r=l=>new Promise((c,f)=>{try{const u=e(l);c(u)}catch(u){f(u)}});r.onAbort=s,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const s=[];try{for(const r of this.queue)await r(e),r.onAbort&&s.push(r.onAbort)}catch(r){s.reverse();for(const i of s)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nU(n,e={}){return ws(n,"GET","/v2/passwordPolicy",vs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU=6;class aU{constructor(e){var r;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=s.minPasswordLength??rU,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=s.meetsMinPasswordLength??!0),s.isValid&&(s.isValid=s.meetsMaxPasswordLength??!0),s.isValid&&(s.isValid=s.containsLowercaseLetter??!0),s.isValid&&(s.isValid=s.containsUppercaseLetter??!0),s.isValid&&(s.isValid=s.containsNumericCharacter??!0),s.isValid&&(s.isValid=s.containsNonAlphanumericCharacter??!0),s}validatePasswordLengthOptions(e,s){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(s.meetsMinPasswordLength=e.length>=r),i&&(s.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(s,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,s,r,i,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e,s,r,i){this.app=e,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kk(this),this.idTokenSubscription=new Kk(this),this.beforeStateQueue=new sU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,s){return s&&(this._popupRedirectResolver=yr(s)),this._initializationPromise=this.queue(async()=>{var r,i,l;if(!this._deleted&&(this.persistenceManager=await Fd.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const s=await zg(this,{idToken:e}),r=await ha._fromGetAccountInfoResponse(this,s,e);await this.directlySetCurrentUser(r)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(rs(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let r=s,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,f=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!c||c===f)&&(u!=null&&u.user)&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(e){try{await Of(e)}catch(s){if((s==null?void 0:s.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rs(this.app))return Promise.reject(Zs(this));const s=e?Qe(e):null;return s&&Ce(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(e,s=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rs(this.app)?Promise.reject(Zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rs(this.app)?Promise.reject(Zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nU(this),s=new aU(e);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Oi("auth","Firebase",e())}onAuthStateChanged(e,s,r){return this.registerStateListener(this.authStateSubscription,e,s,r)}beforeAuthStateChanged(e,s){return this.beforeStateQueue.pushCallback(e,s)}onIdTokenChanged(e,s,r){return this.registerStateListener(this.idTokenSubscription,e,s,r)}authStateReady(){return new Promise((e,s)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},s)}})}async revokeAccessToken(e){if(this.currentUser){const s=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:s};this.tenantId!=null&&(r.tenantId=this.tenantId),await XV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,s){const r=await this.getOrInitRedirectPersistenceManager(s);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const s=e&&yr(e)||this._popupRedirectResolver;Ce(s,this,"argument-error"),this.redirectPersistenceManager=await Fd.create(this,[yr(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var s,r;return this._isInitialized&&await this.queue(async()=>{}),((s=this._currentUser)==null?void 0:s._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var s;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((s=this.currentUser)==null?void 0:s.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,s,r,i){if(this._deleted)return()=>{};const l=typeof s=="function"?s:s.next.bind(s);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof s=="function"){const u=e.addObserver(s,r,i);return()=>{c=!0,u()}}else{const u=e.addObserver(s);return()=>{c=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const s=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());s&&(e["X-Firebase-Client"]=s);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var s;if(rs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((s=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getToken());return e!=null&&e.error&&OV(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function us(n){return Qe(n)}class Kk{constructor(e){this.auth=e,this.observer=null,this.addObserver=gE(s=>this.observer=s)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oU(n){lm=n}function Pw(n){return lm.loadJS(n)}function lU(){return lm.recaptchaV2Script}function cU(){return lm.recaptchaEnterpriseScript}function dU(){return lm.gapiScript}function KE(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU=500,hU=6e4,sg=1e12;class fU{constructor(e){this.auth=e,this.counter=sg,this._widgets=new Map}render(e,s){const r=this.counter;return this._widgets.set(r,new gU(e,this.auth.name,s||{})),this.counter++,r}reset(e){var r;const s=e||sg;(r=this._widgets.get(s))==null||r.delete(),this._widgets.delete(s)}getResponse(e){var r;const s=e||sg;return((r=this._widgets.get(s))==null?void 0:r.getResponse())||""}async execute(e){var r;const s=e||sg;return(r=this._widgets.get(s))==null||r.execute(),""}}class mU{constructor(){this.enterprise=new pU}ready(e){e()}execute(e,s){return Promise.resolve("token")}render(e,s){return""}}class pU{ready(e){e()}execute(e,s){return Promise.resolve("token")}render(e,s){return""}}class gU{constructor(e,s,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;Ce(i,"argument-error",{appName:s}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=xU(50);const{callback:e,"expired-callback":s}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,s)try{s()}catch{}this.isVisible&&this.execute()},hU)},uU))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function xU(n){const e=[],s="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(s.charAt(Math.floor(Math.random()*s.length)));return e.join("")}const yU="recaptcha-enterprise",ff="NO_RECAPTCHA";class WE{constructor(e){this.type=yU,this.auth=us(e)}async verify(e="verify",s=!1){async function r(l){if(!s){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{ME(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const m=new OE(u);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,c(m.siteKey)}}).catch(u=>{f(u)})})}function i(l,c,f){const u=window.grecaptcha;$k(u)?u.enterprise.ready(()=>{u.enterprise.execute(l,{action:e}).then(m=>{c(m)}).catch(()=>{c(ff)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mU().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(f=>{if(!s&&$k(window.grecaptcha))i(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let u=cU();u.length!==0&&(u+=f),Pw(u).then(()=>{i(f,l,c)}).catch(m=>{c(m)})}}).catch(f=>{c(f)})})}}async function qh(n,e,s,r=!1,i=!1){const l=new WE(n);let c;if(i)c=ff;else try{c=await l.verify(s)}catch{c=await l.verify(s,!0)}const f={...e};if(s==="mfaSmsEnrollment"||s==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const u=f.phoneEnrollmentInfo.phoneNumber,m=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const u=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Mo(n,e,s,r,i){var l,c;if(i==="EMAIL_PASSWORD_PROVIDER")if((l=n._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await qh(n,e,s,s==="getOobCode");return r(n,f)}else return r(n,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${s} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await qh(n,e,s,s==="getOobCode");return r(n,u)}else return Promise.reject(f)});else if(i==="PHONE_PROVIDER")if((c=n._getRecaptchaConfig())!=null&&c.isProviderEnabled("PHONE_PROVIDER")){const f=await qh(n,e,s);return r(n,f).catch(async u=>{var m;if(((m=n._getRecaptchaConfig())==null?void 0:m.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${s} flow.`);const g=await qh(n,e,s,!1,!0);return r(n,g)}return Promise.reject(u)})}else{const f=await qh(n,e,s,!1,!0);return r(n,f)}else return Promise.reject(i+" provider is not supported.")}async function bU(n){const e=us(n),s=await ME(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new OE(s);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new WE(e).verify()}function vU(n,e){const s=(e==null?void 0:e.persistence)||[],r=(Array.isArray(s)?s:[s]).map(yr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function wU(n,e,s){const r=us(n);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(s!=null&&s.disableWarnings),l=YE(e),{host:c,port:f}=jU(e),u=f===null?"":`:${f}`,m={url:`${l}//${c}${u}/`},g=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(qo(m,r.config.emulator)&&qo(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Su(c)?(cE(`${l}//${c}${u}`),dE("Auth",!0)):i||NU()}function YE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function jU(n){const e=YE(n),s=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!s)return{host:"",port:null};const r=s[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const l=i[1];return{host:l,port:Wk(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:Wk(c)}}}function Wk(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function NU(){function n(){const e=document.createElement("p"),s=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,s){this.providerId=e,this.signInMethod=s}toJSON(){return Ga("not implemented")}_getIdTokenResponse(e){return Ga("not implemented")}_linkToIdToken(e,s){return Ga("not implemented")}_getReauthenticationResolver(e){return Ga("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QE(n,e){return ws(n,"POST","/v1/accounts:resetPassword",vs(n,e))}async function _U(n,e){return ws(n,"POST","/v1/accounts:update",e)}async function kU(n,e){return ws(n,"POST","/v1/accounts:signUp",e)}async function SU(n,e){return ws(n,"POST","/v1/accounts:update",vs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TU(n,e){return Mi(n,"POST","/v1/accounts:signInWithPassword",vs(n,e))}async function xx(n,e){return ws(n,"POST","/v1/accounts:sendOobCode",vs(n,e))}async function EU(n,e){return xx(n,e)}async function CU(n,e){return xx(n,e)}async function AU(n,e){return xx(n,e)}async function IU(n,e){return xx(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RU(n,e){return Mi(n,"POST","/v1/accounts:signInWithEmailLink",vs(n,e))}async function PU(n,e){return Mi(n,"POST","/v1/accounts:signInWithEmailLink",vs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf extends Cu{constructor(e,s,r,i=null){super("password",r),this._email=e,this._password=s,this._tenantId=i}static _fromEmailAndPassword(e,s){return new Mf(e,s,"password")}static _fromEmailAndCode(e,s,r=null){return new Mf(e,s,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e;if(s!=null&&s.email&&(s!=null&&s.password)){if(s.signInMethod==="password")return this._fromEmailAndPassword(s.email,s.password);if(s.signInMethod==="emailLink")return this._fromEmailAndCode(s.email,s.password,s.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const s={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mo(e,s,"signInWithPassword",TU,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return RU(e,{email:this._email,oobCode:this._password});default:yn(e,"internal-error")}}async _linkToIdToken(e,s){switch(this.signInMethod){case"password":const r={idToken:s,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mo(e,r,"signUpPassword",kU,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return PU(e,{idToken:s,email:this._email,oobCode:this._password});default:yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Si(n,e){return Mi(n,"POST","/v1/accounts:signInWithIdp",vs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU="http://localhost";class Xa extends Cu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const s=new Xa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(s.idToken=e.idToken),e.accessToken&&(s.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(s.nonce=e.nonce),e.pendingToken&&(s.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(s.accessToken=e.oauthToken,s.secret=e.oauthTokenSecret):yn("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...l}=s;if(!r||!i)return null;const c=new Xa(r,i);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const s=this.buildRequest();return Si(e,s)}_linkToIdToken(e,s){const r=this.buildRequest();return r.idToken=s,Si(e,r)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,Si(e,s)}buildRequest(){const e={requestUri:DU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),e.postBody=Tu(s)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yk(n,e){return ws(n,"POST","/v1/accounts:sendVerificationCode",vs(n,e))}async function OU(n,e){return Mi(n,"POST","/v1/accounts:signInWithPhoneNumber",vs(n,e))}async function MU(n,e){const s=await Mi(n,"POST","/v1/accounts:signInWithPhoneNumber",vs(n,e));if(s.temporaryProof)throw sf(n,"account-exists-with-different-credential",s);return s}const LU={USER_NOT_FOUND:"user-not-found"};async function zU(n,e){const s={...e,operation:"REAUTH"};return Mi(n,"POST","/v1/accounts:signInWithPhoneNumber",vs(n,s),LU)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends Cu{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,s){return new Xl({verificationId:e,verificationCode:s})}static _fromTokenResponse(e,s){return new Xl({phoneNumber:e,temporaryProof:s})}_getIdTokenResponse(e){return OU(e,this._makeVerificationRequest())}_linkToIdToken(e,s){return MU(e,{idToken:s,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return zU(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:s,verificationId:r,verificationCode:i}=this.params;return e&&s?{temporaryProof:e,phoneNumber:s}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:s,verificationCode:r,phoneNumber:i,temporaryProof:l}=e;return!r&&!s&&!i&&!l?null:new Xl({verificationId:s,verificationCode:r,phoneNumber:i,temporaryProof:l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VU(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function UU(n){const e=Md(tf(n)).link,s=e?Md(tf(e)).deep_link_id:null,r=Md(tf(n)).deep_link_id;return(r?Md(tf(r)).link:null)||r||s||e||n}class yx{constructor(e){const s=Md(tf(e)),r=s.apiKey??null,i=s.oobCode??null,l=VU(s.mode??null);Ce(r&&i&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=i,this.continueUrl=s.continueUrl??null,this.languageCode=s.lang??null,this.tenantId=s.tenantId??null}static parseLink(e){const s=UU(e);try{return new yx(s)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(){this.providerId=sl.PROVIDER_ID}static credential(e,s){return Mf._fromEmailAndPassword(e,s)}static credentialWithLink(e,s){const r=yx.parseLink(s);return Ce(r,"argument-error"),Mf._fromEmailAndCode(e,r.code,r.tenantId)}}sl.PROVIDER_ID="password";sl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends Li{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Bd extends Au{static credentialFromJSON(e){const s=typeof e=="string"?JSON.parse(e):e;return Ce("providerId"in s&&"signInMethod"in s,"argument-error"),Xa._fromParams(s)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return Ce(e.idToken||e.accessToken,"argument-error"),Xa._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Bd.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Bd.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:l,nonce:c,providerId:f}=e;if(!r&&!i&&!s&&!l||!f)return null;try{return new Bd(f)._credential({idToken:s,accessToken:r,nonce:c,pendingToken:l})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends Au{constructor(){super("facebook.com")}static credential(e){return Xa._fromParams({providerId:Ba.PROVIDER_ID,signInMethod:Ba.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ba.credentialFromTaggedObject(e)}static credentialFromError(e){return Ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ba.credential(e.oauthAccessToken)}catch{return null}}}Ba.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ba.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a extends Au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,s){return Xa._fromParams({providerId:$a.PROVIDER_ID,signInMethod:$a.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:s})}static credentialFromResult(e){return $a.credentialFromTaggedObject(e)}static credentialFromError(e){return $a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:r}=e;if(!s&&!r)return null;try{return $a.credential(s,r)}catch{return null}}}$a.GOOGLE_SIGN_IN_METHOD="google.com";$a.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa extends Au{constructor(){super("github.com")}static credential(e){return Xa._fromParams({providerId:qa.PROVIDER_ID,signInMethod:qa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qa.credentialFromTaggedObject(e)}static credentialFromError(e){return qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qa.credential(e.oauthAccessToken)}catch{return null}}}qa.GITHUB_SIGN_IN_METHOD="github.com";qa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU="http://localhost";class su extends Cu{constructor(e,s){super(e,e),this.pendingToken=s}_getIdTokenResponse(e){const s=this.buildRequest();return Si(e,s)}_linkToIdToken(e,s){const r=this.buildRequest();return r.idToken=s,Si(e,r)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,Si(e,s)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:l}=s;return!r||!i||!l||r!==i?null:new su(r,l)}static _create(e,s){return new su(e,s)}buildRequest(){return{requestUri:FU,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU="saml.";class Vg extends Li{constructor(e){Ce(e.startsWith(BU),"argument-error"),super(e)}static credentialFromResult(e){return Vg.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Vg.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const s=su.fromJSON(e);return Ce(s,"argument-error"),s}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:s,providerId:r}=e;if(!s||!r)return null;try{return su._create(r,s)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha extends Au{constructor(){super("twitter.com")}static credential(e,s){return Xa._fromParams({providerId:Ha.PROVIDER_ID,signInMethod:Ha.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:s})}static credentialFromResult(e){return Ha.credentialFromTaggedObject(e)}static credentialFromError(e){return Ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:s,oauthTokenSecret:r}=e;if(!s||!r)return null;try{return Ha.credential(s,r)}catch{return null}}}Ha.TWITTER_SIGN_IN_METHOD="twitter.com";Ha.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JE(n,e){return Mi(n,"POST","/v1/accounts:signUp",vs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,s,r,i=!1){const l=await ha._fromIdTokenResponse(e,r,i),c=Qk(r);return new Yr({user:l,providerId:c,_tokenResponse:r,operationType:s})}static async _forOperation(e,s,r){await e._updateTokensIfNecessary(r,!0);const i=Qk(r);return new Yr({user:e,providerId:i,_tokenResponse:r,operationType:s})}}function Qk(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $U(n){var i;if(rs(n.app))return Promise.reject(Zs(n));const e=us(n);if(await e._initializationPromise,(i=e.currentUser)!=null&&i.isAnonymous)return new Yr({user:e.currentUser,providerId:null,operationType:"signIn"});const s=await JE(e,{returnSecureToken:!0}),r=await Yr._fromIdTokenResponse(e,"signIn",s,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug extends pn{constructor(e,s,r,i){super(s.code,s.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ug.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:s.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,s,r,i){return new Ug(e,s,r,i)}}function XE(n,e,s,r){return(e==="reauthenticate"?s._getReauthenticationResolver(n):s._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Ug._fromErrorAndOperation(n,l,e,r):l})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qU(n,e){const s=Qe(n);await bx(!0,s,e);const{providerUserInfo:r}=await HV(s.auth,{idToken:await s.getIdToken(),deleteProvider:[e]}),i=ZE(r||[]);return s.providerData=s.providerData.filter(l=>i.has(l.providerId)),i.has("phone")||(s.phoneNumber=null),await s.auth._persistUserIfCurrent(s),s}async function Dw(n,e,s=!1){const r=await Ri(n,e._linkToIdToken(n.auth,await n.getIdToken()),s);return Yr._forOperation(n,"link",r)}async function bx(n,e,s){await Of(e);const r=ZE(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";Ce(r.has(s)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eC(n,e,s=!1){const{auth:r}=n;if(rs(r.app))return Promise.reject(Zs(r));const i="reauthenticate";try{const l=await Ri(n,XE(r,i,e,n),s);Ce(l.idToken,r,"internal-error");const c=gx(l.idToken);Ce(c,r,"internal-error");const{sub:f}=c;return Ce(n.uid===f,r,"user-mismatch"),Yr._forOperation(n,i,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&yn(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tC(n,e,s=!1){if(rs(n.app))return Promise.reject(Zs(n));const r="signIn",i=await XE(n,r,e),l=await Yr._fromIdTokenResponse(n,r,i);return s||await n._updateCurrentUser(l.user),l}async function vx(n,e){return tC(us(n),e)}async function sC(n,e){const s=Qe(n);return await bx(!1,s,e.providerId),Dw(s,e)}async function nC(n,e){return eC(Qe(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HU(n,e){return Mi(n,"POST","/v1/accounts:signInWithCustomToken",vs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GU(n,e){if(rs(n.app))return Promise.reject(Zs(n));const s=us(n),r=await HU(s,{token:e,returnSecureToken:!0}),i=await Yr._fromIdTokenResponse(s,"signIn",r);return await s._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,s){this.factorId=e,this.uid=s.mfaEnrollmentId,this.enrollmentTime=new Date(s.enrolledAt).toUTCString(),this.displayName=s.displayName}static _fromServerResponse(e,s){return"phoneInfo"in s?Ow._fromServerResponse(e,s):"totpInfo"in s?Mw._fromServerResponse(e,s):yn(e,"internal-error")}}class Ow extends cm{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,s){return new Ow(s)}}class Mw extends cm{constructor(e){super("totp",e)}static _fromServerResponse(e,s){return new Mw(s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(n,e,s){var r;Ce(((r=s.url)==null?void 0:r.length)>0,n,"invalid-continue-uri"),Ce(typeof s.dynamicLinkDomain>"u"||s.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),Ce(typeof s.linkDomain>"u"||s.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=s.url,e.dynamicLinkDomain=s.dynamicLinkDomain,e.linkDomain=s.linkDomain,e.canHandleCodeInApp=s.handleCodeInApp,s.iOS&&(Ce(s.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=s.iOS.bundleId),s.android&&(Ce(s.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=s.android.installApp,e.androidMinimumVersionCode=s.android.minimumVersion,e.androidPackageName=s.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lw(n){const e=us(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function KU(n,e,s){const r=us(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};s&&wx(r,i,s),await Mo(r,i,"getOobCode",CU,"EMAIL_PASSWORD_PROVIDER")}async function WU(n,e,s){await QE(Qe(n),{oobCode:e,newPassword:s}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Lw(n),r})}async function YU(n,e){await SU(Qe(n),{oobCode:e})}async function rC(n,e){const s=Qe(n),r=await QE(s,{oobCode:e}),i=r.requestType;switch(Ce(i,s,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ce(r.newEmail,s,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ce(r.mfaInfo,s,"internal-error");default:Ce(r.email,s,"internal-error")}let l=null;return r.mfaInfo&&(l=cm._fromServerResponse(us(s),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:l},operation:i}}async function QU(n,e){const{data:s}=await rC(Qe(n),e);return s.email}async function JU(n,e,s){if(rs(n.app))return Promise.reject(Zs(n));const r=us(n),c=await Mo(r,{returnSecureToken:!0,email:e,password:s,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",JE,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Lw(n),u}),f=await Yr._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(f.user),f}function XU(n,e,s){return rs(n.app)?Promise.reject(Zs(n)):vx(Qe(n),sl.credential(e,s)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Lw(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZU(n,e,s){const r=us(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function l(c,f){Ce(f.handleCodeInApp,r,"argument-error"),f&&wx(r,c,f)}l(i,s),await Mo(r,i,"getOobCode",AU,"EMAIL_PASSWORD_PROVIDER")}function eF(n,e){const s=yx.parseLink(e);return(s==null?void 0:s.operation)==="EMAIL_SIGNIN"}async function tF(n,e,s){if(rs(n.app))return Promise.reject(Zs(n));const r=Qe(n),i=sl.credentialWithLink(e,s||Df());return Ce(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),vx(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sF(n,e){return ws(n,"POST","/v1/accounts:createAuthUri",vs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nF(n,e){const s=Iw()?Df():"http://localhost",r={identifier:e,continueUri:s},{signinMethods:i}=await sF(Qe(n),r);return i||[]}async function rF(n,e){const s=Qe(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&wx(s.auth,i,e);const{email:l}=await EU(s.auth,i);l!==n.email&&await n.reload()}async function aF(n,e,s){const r=Qe(n),l={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};s&&wx(r.auth,l,s);const{email:c}=await IU(r.auth,l);c!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iF(n,e){return ws(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oF(n,{displayName:e,photoURL:s}){if(e===void 0&&s===void 0)return;const r=Qe(n),l={idToken:await r.getIdToken(),displayName:e,photoUrl:s,returnSecureToken:!0},c=await Ri(r,iF(r.auth,l));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const f=r.providerData.find(({providerId:u})=>u==="password");f&&(f.displayName=r.displayName,f.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function lF(n,e){const s=Qe(n);return rs(s.auth.app)?Promise.reject(Zs(s.auth)):aC(s,e,null)}function cF(n,e){return aC(Qe(n),null,e)}async function aC(n,e,s){const{auth:r}=n,l={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(l.email=e),s&&(l.password=s);const c=await Ri(n,_U(r,l));await n._updateTokensIfNecessary(c,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dF(n){var i,l;if(!n)return null;const{providerId:e}=n,s=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},r=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&(n!=null&&n.idToken)){const c=(l=(i=gx(n.idToken))==null?void 0:i.firebase)==null?void 0:l.sign_in_provider;if(c){const f=c!=="anonymous"&&c!=="custom"?c:null;return new $d(r,f)}}if(!e)return null;switch(e){case"facebook.com":return new uF(r,s);case"github.com":return new hF(r,s);case"google.com":return new fF(r,s);case"twitter.com":return new mF(r,s,n.screenName||null);case"custom":case"anonymous":return new $d(r,null);default:return new $d(r,e,s)}}class $d{constructor(e,s,r={}){this.isNewUser=e,this.providerId=s,this.profile=r}}class iC extends $d{constructor(e,s,r,i){super(e,s,r),this.username=i}}class uF extends $d{constructor(e,s){super(e,"facebook.com",s)}}class hF extends iC{constructor(e,s){super(e,"github.com",s,typeof(s==null?void 0:s.login)=="string"?s==null?void 0:s.login:null)}}class fF extends $d{constructor(e,s){super(e,"google.com",s)}}class mF extends iC{constructor(e,s,r){super(e,"twitter.com",s,r)}}function pF(n){const{user:e,_tokenResponse:s}=n;return e.isAnonymous&&!s?{providerId:null,isNewUser:!1,profile:null}:dF(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,s,r){this.type=e,this.credential=s,this.user=r}static _fromIdtoken(e,s){return new $l("enroll",e,s)}static _fromMfaPendingCredential(e){return new $l("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var s,r;if(e!=null&&e.multiFactorSession){if((s=e.multiFactorSession)!=null&&s.pendingCredential)return $l._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if((r=e.multiFactorSession)!=null&&r.idToken)return $l._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,s,r){this.session=e,this.hints=s,this.signInResolver=r}static _fromError(e,s){const r=us(e),i=s.customData._serverResponse,l=(i.mfaInfo||[]).map(f=>cm._fromServerResponse(r,f));Ce(i.mfaPendingCredential,r,"internal-error");const c=$l._fromMfaPendingCredential(i.mfaPendingCredential);return new zw(c,l,async f=>{const u=await f._process(r,c);delete i.mfaInfo,delete i.mfaPendingCredential;const m={...i,idToken:u.idToken,refreshToken:u.refreshToken};switch(s.operationType){case"signIn":const g=await Yr._fromIdTokenResponse(r,s.operationType,m);return await r._updateCurrentUser(g.user),g;case"reauthenticate":return Ce(s.user,r,"internal-error"),Yr._forOperation(s.user,s.operationType,m);default:yn(r,"internal-error")}})}async resolveSignIn(e){const s=e;return this.signInResolver(s)}}function gF(n,e){var i;const s=Qe(n),r=e;return Ce(e.customData.operationType,s,"argument-error"),Ce((i=r.customData._serverResponse)==null?void 0:i.mfaPendingCredential,s,"argument-error"),zw._fromError(s,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(n,e){return ws(n,"POST","/v2/accounts/mfaEnrollment:start",vs(n,e))}function xF(n,e){return ws(n,"POST","/v2/accounts/mfaEnrollment:finalize",vs(n,e))}function yF(n,e){return ws(n,"POST","/v2/accounts/mfaEnrollment:withdraw",vs(n,e))}class Vw{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(s=>{s.mfaInfo&&(this.enrolledFactors=s.mfaInfo.map(r=>cm._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new Vw(e)}async getSession(){return $l._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,s){const r=e,i=await this.getSession(),l=await Ri(this.user,r._process(this.user.auth,i,s));return await this.user._updateTokensIfNecessary(l),this.user.reload()}async unenroll(e){const s=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Ri(this.user,yF(this.user.auth,{idToken:r,mfaEnrollmentId:s}));this.enrolledFactors=this.enrolledFactors.filter(({uid:l})=>l!==s),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const kb=new WeakMap;function bF(n){const e=Qe(n);return kb.has(e)||kb.set(e,Vw._fromUser(e)),kb.get(e)}const Fg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,s){this.storageRetriever=e,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(Fg,"1"),this.storage.removeItem(Fg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,s){return this.storage.setItem(e,JSON.stringify(s)),Promise.resolve()}_get(e){const s=this.storage.getItem(e);return Promise.resolve(s?JSON.parse(s):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF=1e3,wF=10;class lC extends oC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,s)=>this.onStorageEvent(e,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=HE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const s of Object.keys(this.listeners)){const r=this.storage.getItem(s),i=this.localCache[s];r!==i&&e(s,i,r)}}onStorageEvent(e,s=!1){if(!e.key){this.forAllChangedKeys((c,f,u)=>{this.notifyListeners(c,u)});return}const r=e.key;s?this.detachListener():this.stopPolling();const i=()=>{const c=this.storage.getItem(r);!s&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);tU()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,wF):i()}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,s,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:s,newValue:r}),!0)})},vF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,s){await super._set(e,s),this.localCache[e]=JSON.stringify(s)}async _get(e){const s=await super._get(e);return this.localCache[e]=JSON.stringify(s),s}async _remove(e){await super._remove(e),delete this.localCache[e]}}lC.type="LOCAL";const Uw=lC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC extends oC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,s){}_removeListener(e,s){}}cC.type="SESSION";const oc=cC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jF(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(s){return{fulfilled:!1,reason:s}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const s=this.receivers.find(i=>i.isListeningto(e));if(s)return s;const r=new jx(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const s=e,{eventId:r,eventType:i,data:l}=s.data,c=this.handlersMap[i];if(!(c!=null&&c.size))return;s.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const f=Array.from(c).map(async m=>m(s.origin,l)),u=await jF(f);s.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(s)}_unsubscribe(e,s){this.handlersMap[e]&&s&&this.handlersMap[e].delete(s),(!s||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(n="",e=10){let s="";for(let r=0;r<e;r++)s+=Math.floor(Math.random()*10);return n+s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,s,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let l,c;return new Promise((f,u)=>{const m=dm("",20);i.port1.start();const g=setTimeout(()=>{u(new Error("unsupported_event"))},r);c={messageChannel:i,onMessage(b){const v=b;if(v.data.eventId===m)switch(v.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(v.data.response);break;default:clearTimeout(g),clearTimeout(l),u(new Error("invalid_response"));break}}},this.handlers.add(c),i.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:s},[i.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(){return window}function _F(n){zs().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(){return typeof zs().WorkerGlobalScope<"u"&&typeof zs().importScripts=="function"}async function kF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SF(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function TF(){return Fw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="firebaseLocalStorageDb",EF=1,Bg="firebaseLocalStorage",uC="fbase_key";class um{constructor(e){this.request=e}toPromise(){return new Promise((e,s)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function Nx(n,e){return n.transaction([Bg],e?"readwrite":"readonly").objectStore(Bg)}function CF(){const n=indexedDB.deleteDatabase(dC);return new um(n).toPromise()}function uv(){const n=indexedDB.open(dC,EF);return new Promise((e,s)=>{n.addEventListener("error",()=>{s(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Bg,{keyPath:uC})}catch(i){s(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Bg)?e(r):(r.close(),await CF(),e(await uv()))})})}async function Xk(n,e,s){const r=Nx(n,!0).put({[uC]:e,value:s});return new um(r).toPromise()}async function AF(n,e){const s=Nx(n,!1).get(e),r=await new um(s).toPromise();return r===void 0?null:r.value}function Zk(n,e){const s=Nx(n,!0).delete(e);return new um(s).toPromise()}const IF=800,RF=3;class hC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await uv(),this.db)}async _withRetries(e){let s=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(s++>RF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Fw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jx._getInstance(TF()),this.receiver._subscribe("keyChanged",async(e,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(e,s)=>["keyChanged"])}async initializeSender(){var s,r;if(this.activeServiceWorker=await kF(),!this.activeServiceWorker)return;this.sender=new NF(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(s=e[0])!=null&&s.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await uv();return await Xk(e,Fg,"1"),await Zk(e,Fg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,s){return this._withPendingWrite(async()=>(await this._withRetries(r=>Xk(r,e,s)),this.localCache[e]=s,this.notifyServiceWorker(e)))}async _get(e){const s=await this._withRetries(r=>AF(r,e));return this.localCache[e]=s,s}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(s=>Zk(s,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const l=Nx(i,!1).getAll();return new um(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const s=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:l}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(l)&&(this.notifyListeners(i,l),s.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),s.push(i));return s}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hC.type="LOCAL";const Lf=hC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(n,e){return ws(n,"POST","/v2/accounts/mfaSignIn:start",vs(n,e))}function PF(n,e){return ws(n,"POST","/v2/accounts/mfaSignIn:finalize",vs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=KE("rcb"),DF=new am(3e4,6e4);class OF{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=zs().grecaptcha)!=null&&e.render)}load(e,s=""){return Ce(MF(s),e,"argument-error"),this.shouldResolveImmediately(s)&&Bk(zs().grecaptcha)?Promise.resolve(zs().grecaptcha):new Promise((r,i)=>{const l=zs().setTimeout(()=>{i($s(e,"network-request-failed"))},DF.get());zs()[Sb]=()=>{zs().clearTimeout(l),delete zs()[Sb];const f=zs().grecaptcha;if(!f||!Bk(f)){i($s(e,"internal-error"));return}const u=f.render;f.render=(m,g)=>{const b=u(m,g);return this.counter++,b},this.hostLanguage=s,r(f)};const c=`${lU()}?${Tu({onload:Sb,render:"explicit",hl:s})}`;Pw(c).catch(()=>{clearTimeout(l),i($s(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var s;return!!((s=zs().grecaptcha)!=null&&s.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function MF(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class LF{async load(e){return new fU(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf="recaptcha",zF={theme:"light",type:"image"};let VF=class{constructor(e,s,r={...zF}){this.parameters=r,this.type=mf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=us(e),this.isInvisible=this.parameters.size==="invisible",Ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof s=="string"?document.getElementById(s):s;Ce(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new LF:new OF,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),s=this.getAssertedRecaptcha(),r=s.getResponse(e);return r||new Promise(i=>{const l=c=>{c&&(this.tokenChangeListeners.delete(l),i(c))};this.tokenChangeListeners.add(l),this.isInvisible&&s.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Ce(!this.parameters.sitekey,this.auth,"argument-error"),Ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return s=>{if(this.tokenChangeListeners.forEach(r=>r(s)),typeof e=="function")e(s);else if(typeof e=="string"){const r=zs()[e];typeof r=="function"&&r(s)}}}assertNotDestroyed(){Ce(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const s=document.createElement("div");e.appendChild(s),e=s}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Ce(Iw()&&!Fw(),this.auth,"internal-error"),await UF(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await $V(this.auth);Ce(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function UF(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,s){this.verificationId=e,this.onConfirmation=s}confirm(e){const s=Xl._fromVerification(this.verificationId,e);return this.onConfirmation(s)}}async function FF(n,e,s){if(rs(n.app))return Promise.reject(Zs(n));const r=us(n),i=await _x(r,e,Qe(s));return new Bw(i,l=>vx(r,l))}async function BF(n,e,s){const r=Qe(n);await bx(!1,r,"phone");const i=await _x(r.auth,e,Qe(s));return new Bw(i,l=>sC(r,l))}async function $F(n,e,s){const r=Qe(n);if(rs(r.auth.app))return Promise.reject(Zs(r.auth));const i=await _x(r.auth,e,Qe(s));return new Bw(i,l=>nC(r,l))}async function _x(n,e,s){var r;if(!n._getRecaptchaConfig())try{await bU(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const l=i.session;if("phoneNumber"in i){Ce(l.type==="enroll",n,"internal-error");const c={idToken:l.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Mo(n,c,"mfaSmsEnrollment",async(g,b)=>{if(b.phoneEnrollmentInfo.captchaResponse===ff){Ce((s==null?void 0:s.type)===mf,g,"argument-error");const v=await Tb(g,b,s);return Jk(g,v)}return Jk(g,b)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneSessionInfo.sessionInfo}else{Ce(l.type==="signin",n,"internal-error");const c=((r=i.multiFactorHint)==null?void 0:r.uid)||i.multiFactorUid;Ce(c,n,"missing-multi-factor-info");const f={mfaPendingCredential:l.credential,mfaEnrollmentId:c,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Mo(n,f,"mfaSmsSignIn",async(b,v)=>{if(v.phoneSignInInfo.captchaResponse===ff){Ce((s==null?void 0:s.type)===mf,b,"argument-error");const E=await Tb(b,v,s);return eS(b,E)}return eS(b,v)},"PHONE_PROVIDER").catch(b=>Promise.reject(b))).phoneResponseInfo.sessionInfo}}else{const l={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Mo(n,l,"sendVerificationCode",async(m,g)=>{if(g.captchaResponse===ff){Ce((s==null?void 0:s.type)===mf,m,"argument-error");const b=await Tb(m,g,s);return Yk(m,b)}return Yk(m,g)},"PHONE_PROVIDER").catch(m=>Promise.reject(m))).sessionInfo}}finally{s==null||s._reset()}}async function qF(n,e){const s=Qe(n);if(rs(s.auth.app))return Promise.reject(Zs(s.auth));await Dw(s,e)}async function Tb(n,e,s){Ce(s.type===mf,n,"argument-error");const r=await s.verify();Ce(typeof r=="string",n,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const l=i.phoneEnrollmentInfo.phoneNumber,c=i.phoneEnrollmentInfo.captchaResponse,f=i.phoneEnrollmentInfo.clientType,u=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:r,captchaResponse:c,clientType:f,recaptchaVersion:u}}),i}else if("phoneSignInInfo"in i){const l=i.phoneSignInInfo.captchaResponse,c=i.phoneSignInInfo.clientType,f=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:l,clientType:c,recaptchaVersion:f}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lc=class gg{constructor(e){this.providerId=gg.PROVIDER_ID,this.auth=us(e)}verifyPhoneNumber(e,s){return _x(this.auth,e,Qe(s))}static credential(e,s){return Xl._fromVerification(e,s)}static credentialFromResult(e){const s=e;return gg.credentialFromTaggedObject(s)}static credentialFromError(e){return gg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:s,temporaryProof:r}=e;return s&&r?Xl._fromTokenResponse(s,r):null}};lc.PROVIDER_ID="phone";lc.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(n,e){return e?yr(e):(Ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w extends Cu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Si(e,this._buildIdpRequest())}_linkToIdToken(e,s){return Si(e,this._buildIdpRequest(s))}_getReauthenticationResolver(e){return Si(e,this._buildIdpRequest())}_buildIdpRequest(e){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(s.idToken=e),s}}function HF(n){return tC(n.auth,new $w(n),n.bypassAuthState)}function GF(n){const{auth:e,user:s}=n;return Ce(s,e,"internal-error"),eC(s,new $w(n),n.bypassAuthState)}async function KF(n){const{auth:e,user:s}=n;return Ce(s,e,"internal-error"),Dw(s,new $w(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,s,r,i,l=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(e,s)=>{this.pendingPromise={resolve:e,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:s,sessionId:r,postBody:i,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const u={auth:this.auth,requestUri:s,sessionId:r,tenantId:l||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(u))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HF;case"linkViaPopup":case"linkViaRedirect":return KF;case"reauthViaPopup":case"reauthViaRedirect":return GF;default:yn(this.auth,"internal-error")}}resolve(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF=new am(2e3,1e4);async function YF(n,e,s){if(rs(n.app))return Promise.reject($s(n,"operation-not-supported-in-this-environment"));const r=us(n);Eu(n,e,Li);const i=Tc(r,s);return new ji(r,"signInViaPopup",e,i).executeNotNull()}async function QF(n,e,s){const r=Qe(n);if(rs(r.auth.app))return Promise.reject($s(r.auth,"operation-not-supported-in-this-environment"));Eu(r.auth,e,Li);const i=Tc(r.auth,s);return new ji(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function JF(n,e,s){const r=Qe(n);Eu(r.auth,e,Li);const i=Tc(r.auth,s);return new ji(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class ji extends fC{constructor(e,s,r,i,l){super(e,s,i,l),this.provider=r,this.authWindow=null,this.pollId=null,ji.currentPopupAction&&ji.currentPopupAction.cancel(),ji.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){va(this.filter.length===1,"Popup operations only handle one event");const e=dm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject($s(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject($s(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ji.currentPopupAction=null}pollUserCancellation(){const e=()=>{var s,r;if((r=(s=this.authWindow)==null?void 0:s.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($s(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WF.get())};e()}}ji.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF="pendingRedirect",pf=new Map;class ZF extends fC{constructor(e,s,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,r),this.eventId=null}async execute(){let e=pf.get(this.auth._key());if(!e){try{const r=await eB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(s){e=()=>Promise.reject(s)}pf.set(this.auth._key(),e)}return this.bypassAuthState||pf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const s=await this.auth._redirectUserForId(e.eventId);if(s)return this.user=s,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eB(n,e){const s=pC(e),r=mC(n);if(!await r._isAvailable())return!1;const i=await r._get(s)==="true";return await r._remove(s),i}async function qw(n,e){return mC(n)._set(pC(e),"true")}function tB(){pf.clear()}function Hw(n,e){pf.set(n._key(),e)}function mC(n){return yr(n._redirectPersistence)}function pC(n){return Jl(XF,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sB(n,e,s){return nB(n,e,s)}async function nB(n,e,s){if(rs(n.app))return Promise.reject(Zs(n));const r=us(n);Eu(n,e,Li),await r._initializationPromise;const i=Tc(r,s);return await qw(i,r),i._openRedirect(r,e,"signInViaRedirect")}function rB(n,e,s){return aB(n,e,s)}async function aB(n,e,s){const r=Qe(n);if(Eu(r.auth,e,Li),rs(r.auth.app))return Promise.reject(Zs(r.auth));await r.auth._initializationPromise;const i=Tc(r.auth,s);await qw(i,r.auth);const l=await gC(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",l)}function iB(n,e,s){return oB(n,e,s)}async function oB(n,e,s){const r=Qe(n);Eu(r.auth,e,Li),await r.auth._initializationPromise;const i=Tc(r.auth,s);await bx(!1,r,e.providerId),await qw(i,r.auth);const l=await gC(r);return i._openRedirect(r.auth,e,"linkViaRedirect",l)}async function lB(n,e){return await us(n)._initializationPromise,kx(n,e,!1)}async function kx(n,e,s=!1){if(rs(n.app))return Promise.reject(Zs(n));const r=us(n),i=Tc(r,e),c=await new ZF(r,i,s).execute();return c&&!s&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}async function gC(n){const e=dm(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cB=600*1e3;class xC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let s=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(s=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dB(e)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=e,s=!0)),s}sendToConsumer(e,s){var r;if(e.error&&!yC(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";s.onError($s(this.auth,i))}else s.onAuthEvent(e)}isEventForConsumer(e,s){const r=s.eventId===null||!!e.eventId&&e.eventId===s.eventId;return s.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cB&&this.cachedEventUids.clear(),this.cachedEventUids.has(tS(e))}saveEventToCache(e){this.cachedEventUids.add(tS(e)),this.lastProcessedEventTime=Date.now()}}function tS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function yC({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dB(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yC(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC(n,e={}){return ws(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hB=/^https?/;async function fB(n){if(n.config.emulator)return;const{authorizedDomains:e}=await bC(n);for(const s of e)try{if(mB(s))return}catch{}yn(n,"unauthorized-domain")}function mB(n){const e=Df(),{protocol:s,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?s==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):s==="chrome-extension:"&&c.hostname===r}if(!hB.test(s))return!1;if(uB.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pB=new am(3e4,6e4);function sS(){const n=zs().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let s=0;s<n.CP.length;s++)n.CP[s]=null}}function gB(n){return new Promise((e,s)=>{var i,l,c;function r(){sS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sS(),s($s(n,"network-request-failed"))},timeout:pB.get()})}if((l=(i=zs().gapi)==null?void 0:i.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=zs().gapi)!=null&&c.load)r();else{const f=KE("iframefcb");return zs()[f]=()=>{gapi.load?r():s($s(n,"network-request-failed"))},Pw(`${dU()}?onload=${f}`).catch(u=>s(u))}}).catch(e=>{throw xg=null,e})}let xg=null;function xB(n){return xg=xg||gB(n),xg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yB=new am(5e3,15e3),bB="__/auth/iframe",vB="emulator/auth/iframe",wB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NB(n){const e=n.config;Ce(e.authDomain,n,"auth-domain-config-required");const s=e.emulator?Rw(e,vB):`https://${n.config.authDomain}/${bB}`,r={apiKey:e.apiKey,appName:n.name,v:el},i=jB.get(n.config.apiHost);i&&(r.eid=i);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${s}?${Tu(r).slice(1)}`}async function _B(n){const e=await xB(n),s=zs().gapi;return Ce(s,n,"internal-error"),e.open({where:document.body,url:NB(n),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wB,dontclear:!0},r=>new Promise(async(i,l)=>{await r.restyle({setHideOnLeave:!1});const c=$s(n,"network-request-failed"),f=zs().setTimeout(()=>{l(c)},yB.get());function u(){zs().clearTimeout(f),i(r)}r.ping(u).then(u,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SB=500,TB=600,EB="_blank",CB="http://localhost";class nS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AB(n,e,s,r=SB,i=TB){const l=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const u={...kB,width:r.toString(),height:i.toString(),top:l,left:c},m=ds().toLowerCase();s&&(f=FE(m)?EB:s),VE(m)&&(e=e||CB,u.scrollbars="yes");const g=Object.entries(u).reduce((v,[E,N])=>`${v}${E}=${N},`,"");if(eU(m)&&f!=="_self")return IB(e||"",f),new nS(null);const b=window.open(e||"",f,g);Ce(b,n,"popup-blocked");try{b.focus()}catch{}return new nS(b)}function IB(n,e){const s=document.createElement("a");s.href=n,s.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RB="__/auth/handler",PB="emulator/auth/handler",DB=encodeURIComponent("fac");async function hv(n,e,s,r,i,l){Ce(n.config.authDomain,n,"auth-domain-config-required"),Ce(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:s,redirectUrl:r,v:el,eventId:i};if(e instanceof Li){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",r8(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,b]of Object.entries(l||{}))c[g]=b}if(e instanceof Au){const g=e.getScopes().filter(b=>b!=="");g.length>0&&(c.scopes=g.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const g of Object.keys(f))f[g]===void 0&&delete f[g];const u=await n._getAppCheckToken(),m=u?`#${DB}=${encodeURIComponent(u)}`:"";return`${OB(n)}?${Tu(f).slice(1)}${m}`}function OB({config:n}){return n.emulator?Rw(n,PB):`https://${n.authDomain}/${RB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="webStorageSupport";class MB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oc,this._completeRedirectFn=kx,this._overrideRedirectResult=Hw}async _openPopup(e,s,r,i){var c;va((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await hv(e,s,r,Df(),i);return AB(e,l,dm())}async _openRedirect(e,s,r,i){await this._originValidation(e);const l=await hv(e,s,r,Df(),i);return _F(l),new Promise(()=>{})}_initialize(e){const s=e._key();if(this.eventManagers[s]){const{manager:i,promise:l}=this.eventManagers[s];return i?Promise.resolve(i):(va(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[s]={promise:r},r.catch(()=>{delete this.eventManagers[s]}),r}async initAndGetManager(e){const s=await _B(e),r=new xC(e);return s.register("authEvent",i=>(Ce(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=s,r}_isIframeWebStorageSupported(e,s){this.iframes[e._key()].send(Eb,{type:Eb},i=>{var c;const l=(c=i==null?void 0:i[0])==null?void 0:c[Eb];l!==void 0&&s(!!l),yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=fB(e)),this.originValidationPromises[s]}get _shouldInitProactively(){return HE()||UE()||om()}}const LB=MB;class zB{constructor(e){this.factorId=e}_process(e,s,r){switch(s.type){case"enroll":return this._finalizeEnroll(e,s.credential,r);case"signin":return this._finalizeSignIn(e,s.credential);default:return Ga("unexpected MultiFactorSessionType")}}}class Gw extends zB{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Gw(e)}_finalizeEnroll(e,s,r){return xF(e,{idToken:s,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,s){return PF(e,{mfaPendingCredential:s,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class vC{constructor(){}static assertion(e){return Gw._fromCredential(e)}}vC.FACTOR_ID="phone";var rS="@firebase/auth",aS="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const s=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,s),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const s=this.internalListeners.get(e);s&&(this.internalListeners.delete(e),s(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UB(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FB(n){Wr(new Ln("auth",(e,{options:s})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;Ce(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GE(n)},m=new iU(r,i,l,u);return vU(m,s),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,s,r)=>{e.getProvider("auth-internal").initialize()})),Wr(new Ln("auth-internal",e=>{const s=us(e.getProvider("auth").getImmediate());return(r=>new VB(r))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),On(rS,aS,UB(n)),On(rS,aS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB=300;Kz("authIdTokenMaxAge");function $B(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}oU({loadJS(n){return new Promise((e,s)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const l=$s("internal-error");l.customData=i,s(l)},r.type="text/javascript",r.charset="UTF-8",$B().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FB("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qB=2e3;async function HB(n,e,s){const{BuildInfo:r}=cc();va(e.sessionId,"AuthEvent did not contain a session ID");const i=await QB(e.sessionId),l={};return om()?l.ibi=r.packageName:im()?l.apn=r.packageName:yn(n,"operation-not-supported-in-this-environment"),r.displayName&&(l.appDisplayName=r.displayName),l.sessionId=i,hv(n,s,e.type,void 0,e.eventId??void 0,l)}async function GB(n){const{BuildInfo:e}=cc(),s={};om()?s.iosBundleId=e.packageName:im()?s.androidPackageName=e.packageName:yn(n,"operation-not-supported-in-this-environment"),await bC(n,s)}function KB(n){const{cordova:e}=cc();return new Promise(s=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,ZV()?"_blank":"_system","location=yes"),s(i)})})}async function WB(n,e,s){const{cordova:r}=cc();let i=()=>{};try{await new Promise((l,c)=>{let f=null;function u(){var v;l();const b=(v=r.plugins.browsertab)==null?void 0:v.close;typeof b=="function"&&b(),typeof(s==null?void 0:s.close)=="function"&&s.close()}function m(){f||(f=window.setTimeout(()=>{c($s(n,"redirect-cancelled-by-user"))},qB))}function g(){(document==null?void 0:document.visibilityState)==="visible"&&m()}e.addPassiveListener(u),document.addEventListener("resume",m,!1),im()&&document.addEventListener("visibilitychange",g,!1),i=()=>{e.removePassiveListener(u),document.removeEventListener("resume",m,!1),document.removeEventListener("visibilitychange",g,!1),f&&window.clearTimeout(f)}})}finally{i()}}function YB(n){var s,r,i,l,c,f,u,m,g,b;const e=cc();Ce(typeof((s=e==null?void 0:e.universalLinks)==null?void 0:s.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ce(typeof((r=e==null?void 0:e.BuildInfo)==null?void 0:r.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ce(typeof((c=(l=(i=e==null?void 0:e.cordova)==null?void 0:i.plugins)==null?void 0:l.browsertab)==null?void 0:c.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ce(typeof((m=(u=(f=e==null?void 0:e.cordova)==null?void 0:f.plugins)==null?void 0:u.browsertab)==null?void 0:m.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ce(typeof((b=(g=e==null?void 0:e.cordova)==null?void 0:g.InAppBrowser)==null?void 0:b.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function QB(n){const e=JB(n),s=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(s)).map(i=>i.toString(16).padStart(2,"0")).join("")}function JB(n){if(va(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),s=new Uint8Array(e);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XB=20;class ZB extends xC{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(s=>s(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function e7(n,e,s=null){return{type:e,eventId:s,urlResponse:null,sessionId:n7(),postBody:null,tenantId:n.tenantId,error:$s(n,"no-auth-event")}}function t7(n,e){return fv()._set(mv(n),e)}async function iS(n){const e=await fv()._get(mv(n));return e&&await fv()._remove(mv(n)),e}function s7(n,e){var r,i;const s=a7(e);if(s.includes("/__/auth/callback")){const l=yg(s),c=l.firebaseError?r7(decodeURIComponent(l.firebaseError)):null,f=(i=(r=c==null?void 0:c.code)==null?void 0:r.split("auth/"))==null?void 0:i[1],u=f?$s(f):null;return u?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:s,postBody:null}}return null}function n7(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let s=0;s<XB;s++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function fv(){return yr(Uw)}function mv(n){return Jl("authEvent",n.config.apiKey,n.name)}function r7(n){try{return JSON.parse(n)}catch{return null}}function a7(n){const e=yg(n),s=e.link?decodeURIComponent(e.link):void 0,r=yg(s).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return yg(i).link||i||r||s||n}function yg(n){if(!(n!=null&&n.includes("?")))return{};const[e,...s]=n.split("?");return Md(s.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i7=500;class o7{constructor(){this._redirectPersistence=oc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=kx,this._overrideRedirectResult=Hw}async _initialize(e){const s=e._key();let r=this.eventManagers.get(s);return r||(r=new ZB(e),this.eventManagers.set(s,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){yn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,s,r,i){YB(e);const l=await this._initialize(e);await l.initialized(),l.resetRedirect(),tB(),await this._originValidation(e);const c=e7(e,r,i);await t7(e,c);const f=await HB(e,c,s),u=await KB(f);return WB(e,l,u)}_isIframeWebStorageSupported(e,s){throw new Error("Method not implemented.")}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=GB(e)),this.originValidationPromises[s]}attachCallbackListeners(e,s){const{universalLinks:r,handleOpenURL:i,BuildInfo:l}=cc(),c=setTimeout(async()=>{await iS(e),s.onEvent(oS())},i7),f=async g=>{clearTimeout(c);const b=await iS(e);let v=null;b&&(g!=null&&g.url)&&(v=s7(b,g.url)),s.onEvent(v||oS())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,f);const u=i,m=`${l.packageName.toLowerCase()}://`;cc().handleOpenURL=async g=>{if(g.toLowerCase().startsWith(m)&&f({url:g}),typeof u=="function")try{u(g)}catch(b){console.error(b)}}}}const l7=o7;function oS(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:$s("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c7(n,e){us(n)._logFramework(e)}var d7="@firebase/auth-compat",u7="0.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h7=1e3;function gf(){var n;return((n=self==null?void 0:self.location)==null?void 0:n.protocol)||null}function f7(){return gf()==="http:"||gf()==="https:"}function wC(n=ds()){return!!((gf()==="file:"||gf()==="ionic:"||gf()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function m7(){return jw()||fx()}function p7(){return hE()&&(document==null?void 0:document.documentMode)===11}function g7(n=ds()){return/Edge\/\d+/.test(n)}function x7(n=ds()){return p7()||g7(n)}function jC(){try{const n=self.localStorage,e=dm();if(n)return n.setItem(e,"1"),n.removeItem(e),x7()?ic():!0}catch{return Kw()&&ic()}return!1}function Kw(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Cb(){return(f7()||mx()||wC())&&!m7()&&jC()&&!Kw()}function NC(){return wC()&&typeof document<"u"}async function y7(){return NC()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},h7);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function b7(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr={LOCAL:"local",NONE:"none",SESSION:"session"},Hh=Ce,_C="persistence";function v7(n,e){if(Hh(Object.values(xr).includes(e),n,"invalid-persistence-type"),jw()){Hh(e!==xr.SESSION,n,"unsupported-persistence-type");return}if(fx()){Hh(e===xr.NONE,n,"unsupported-persistence-type");return}if(Kw()){Hh(e===xr.NONE||e===xr.LOCAL&&ic(),n,"unsupported-persistence-type");return}Hh(e===xr.NONE||jC(),n,"unsupported-persistence-type")}async function pv(n){await n._initializationPromise;const e=kC(),s=Jl(_C,n.config.apiKey,n.name);e&&e.setItem(s,n._getPersistenceType())}function w7(n,e){const s=kC();if(!s)return[];const r=Jl(_C,n,e);switch(s.getItem(r)){case xr.NONE:return[tu];case xr.LOCAL:return[Lf,oc];case xr.SESSION:return[oc];default:return[]}}function kC(){var n;try{return((n=b7())==null?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j7=Ce;class Io{constructor(){this.browserResolver=yr(LB),this.cordovaResolver=yr(l7),this.underlyingResolver=null,this._redirectPersistence=oc,this._completeRedirectFn=kx,this._overrideRedirectResult=Hw}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,s,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,s,r,i)}async _openRedirect(e,s,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,s,r,i)}_isIframeWebStorageSupported(e,s){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,s)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return NC()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return j7(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await y7();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(n){return n.unwrap()}function N7(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _7(n){return TC(n)}function k7(n,e){var r;const s=(r=e.customData)==null?void 0:r._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new S7(n,gF(n,e))}else if(s){const i=TC(e),l=e;i&&(l.credential=i,l.tenantId=s.tenantId||void 0,l.email=s.email||void 0,l.phoneNumber=s.phoneNumber||void 0)}}function TC(n){const{_tokenResponse:e}=n instanceof pn?n.customData:n;if(!e)return null;if(!(n instanceof pn)&&"temporaryProof"in e&&"phoneNumber"in e)return lc.credentialFromResult(n);const s=e.providerId;if(!s||s===$h.PASSWORD)return null;let r;switch(s){case $h.GOOGLE:r=$a;break;case $h.FACEBOOK:r=Ba;break;case $h.GITHUB:r=qa;break;case $h.TWITTER:r=Ha;break;default:const{oauthIdToken:i,oauthAccessToken:l,oauthTokenSecret:c,pendingToken:f,nonce:u}=e;return!l&&!c&&!i&&!f?null:f?s.startsWith("saml.")?su._create(s,f):Xa._fromParams({providerId:s,signInMethod:s,pendingToken:f,idToken:i,accessToken:l}):new Bd(s).credential({idToken:i,accessToken:l,rawNonce:u})}return n instanceof pn?r.credentialFromError(n):r.credentialFromResult(n)}function Gn(n,e){return e.catch(s=>{throw s instanceof pn&&k7(n,s),s}).then(s=>{const r=s.operationType,i=s.user;return{operationType:r,credential:_7(s),additionalUserInfo:pF(s),user:Sx.getOrCreate(i)}})}async function gv(n,e){const s=await e;return{verificationId:s.verificationId,confirm:r=>Gn(n,s.confirm(r))}}class S7{constructor(e,s){this.resolver=s,this.auth=N7(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Gn(SC(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sx=class nf{constructor(e){this._delegate=e,this.multiFactor=bF(e)}static getOrCreate(e){return nf.USER_MAP.has(e)||nf.USER_MAP.set(e,new nf(e)),nf.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Gn(this.auth,sC(this._delegate,e))}async linkWithPhoneNumber(e,s){return gv(this.auth,BF(this._delegate,e,s))}async linkWithPopup(e){return Gn(this.auth,JF(this._delegate,e,Io))}async linkWithRedirect(e){return await pv(us(this.auth)),iB(this._delegate,e,Io)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Gn(this.auth,nC(this._delegate,e))}reauthenticateWithPhoneNumber(e,s){return gv(this.auth,$F(this._delegate,e,s))}reauthenticateWithPopup(e){return Gn(this.auth,QF(this._delegate,e,Io))}async reauthenticateWithRedirect(e){return await pv(us(this.auth)),rB(this._delegate,e,Io)}sendEmailVerification(e){return rF(this._delegate,e)}async unlink(e){return await qU(this._delegate,e),this}updateEmail(e){return lF(this._delegate,e)}updatePassword(e){return cF(this._delegate,e)}updatePhoneNumber(e){return qF(this._delegate,e)}updateProfile(e){return oF(this._delegate,e)}verifyBeforeUpdateEmail(e,s){return aF(this._delegate,e,s)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Sx.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=Ce;class xv{constructor(e,s){if(this.app=e,s.isInitialized()){this._delegate=s.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Gh(r,"invalid-api-key",{appName:e.name}),Gh(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Io:void 0;this._delegate=s.initialize({options:{persistence:T7(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(PV),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Sx.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,s){wU(this._delegate,e,s)}applyActionCode(e){return YU(this._delegate,e)}checkActionCode(e){return rC(this._delegate,e)}confirmPasswordReset(e,s){return WU(this._delegate,e,s)}async createUserWithEmailAndPassword(e,s){return Gn(this._delegate,JU(this._delegate,e,s))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return nF(this._delegate,e)}isSignInWithEmailLink(e){return eF(this._delegate,e)}async getRedirectResult(){Gh(Cb(),this._delegate,"operation-not-supported-in-this-environment");const e=await lB(this._delegate,Io);return e?Gn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){c7(this._delegate,e)}onAuthStateChanged(e,s,r){const{next:i,error:l,complete:c}=lS(e,s,r);return this._delegate.onAuthStateChanged(i,l,c)}onIdTokenChanged(e,s,r){const{next:i,error:l,complete:c}=lS(e,s,r);return this._delegate.onIdTokenChanged(i,l,c)}sendSignInLinkToEmail(e,s){return ZU(this._delegate,e,s)}sendPasswordResetEmail(e,s){return KU(this._delegate,e,s||void 0)}async setPersistence(e){v7(this._delegate,e);let s;switch(e){case xr.SESSION:s=oc;break;case xr.LOCAL:s=await yr(Lf)._isAvailable()?Lf:Uw;break;case xr.NONE:s=tu;break;default:return yn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(s)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Gn(this._delegate,$U(this._delegate))}signInWithCredential(e){return Gn(this._delegate,vx(this._delegate,e))}signInWithCustomToken(e){return Gn(this._delegate,GU(this._delegate,e))}signInWithEmailAndPassword(e,s){return Gn(this._delegate,XU(this._delegate,e,s))}signInWithEmailLink(e,s){return Gn(this._delegate,tF(this._delegate,e,s))}signInWithPhoneNumber(e,s){return gv(this._delegate,FF(this._delegate,e,s))}async signInWithPopup(e){return Gh(Cb(),this._delegate,"operation-not-supported-in-this-environment"),Gn(this._delegate,YF(this._delegate,e,Io))}async signInWithRedirect(e){return Gh(Cb(),this._delegate,"operation-not-supported-in-this-environment"),await pv(this._delegate),sB(this._delegate,e,Io)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return QU(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}xv.Persistence=xr;function lS(n,e,s){let r=n;typeof n!="function"&&({next:r,error:e,complete:s}=n);const i=r;return{next:c=>i(c&&Sx.getOrCreate(c)),error:e,complete:s}}function T7(n,e){const s=w7(n,e);if(typeof self<"u"&&!s.includes(Lf)&&s.push(Lf),typeof window<"u")for(const r of[Uw,oc])s.includes(r)||s.push(r);return s.includes(tu)||s.push(tu),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{static credential(e,s){return lc.credential(e,s)}constructor(){this.providerId="phone",this._delegate=new lc(SC(tl.auth()))}verifyPhoneNumber(e,s){return this._delegate.verifyPhoneNumber(e,s)}unwrap(){return this._delegate}}Ww.PHONE_SIGN_IN_METHOD=lc.PHONE_SIGN_IN_METHOD;Ww.PROVIDER_ID=lc.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E7=Ce;class C7{constructor(e,s,r=tl.app()){var i;E7((i=r.options)==null?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new VF(r.auth(),e,s),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A7="auth-compat";function I7(n){n.INTERNAL.registerComponent(new Ln(A7,e=>{const s=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new xv(s,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Nd.EMAIL_SIGNIN,PASSWORD_RESET:Nd.PASSWORD_RESET,RECOVER_EMAIL:Nd.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Nd.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Nd.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Nd.VERIFY_EMAIL}},EmailAuthProvider:sl,FacebookAuthProvider:Ba,GithubAuthProvider:qa,GoogleAuthProvider:$a,OAuthProvider:Bd,SAMLAuthProvider:Vg,PhoneAuthProvider:Ww,PhoneMultiFactorGenerator:vC,RecaptchaVerifier:C7,TwitterAuthProvider:Ha,Auth:xv,AuthCredential:Cu,Error:pn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(d7,u7)}I7(tl);var cS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Lo,EC;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,P){function _(){}_.prototype=P.prototype,A.F=P.prototype,A.prototype=new _,A.prototype.constructor=A,A.D=function(k,D,L){for(var R=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)R[Y-2]=arguments[Y];return P.prototype[D].apply(k,R)}}function s(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,s),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,P,_){_||(_=0);const k=Array(16);if(typeof P=="string")for(var D=0;D<16;++D)k[D]=P.charCodeAt(_++)|P.charCodeAt(_++)<<8|P.charCodeAt(_++)<<16|P.charCodeAt(_++)<<24;else for(D=0;D<16;++D)k[D]=P[_++]|P[_++]<<8|P[_++]<<16|P[_++]<<24;P=A.g[0],_=A.g[1],D=A.g[2];let L=A.g[3],R;R=P+(L^_&(D^L))+k[0]+3614090360&4294967295,P=_+(R<<7&4294967295|R>>>25),R=L+(D^P&(_^D))+k[1]+3905402710&4294967295,L=P+(R<<12&4294967295|R>>>20),R=D+(_^L&(P^_))+k[2]+606105819&4294967295,D=L+(R<<17&4294967295|R>>>15),R=_+(P^D&(L^P))+k[3]+3250441966&4294967295,_=D+(R<<22&4294967295|R>>>10),R=P+(L^_&(D^L))+k[4]+4118548399&4294967295,P=_+(R<<7&4294967295|R>>>25),R=L+(D^P&(_^D))+k[5]+1200080426&4294967295,L=P+(R<<12&4294967295|R>>>20),R=D+(_^L&(P^_))+k[6]+2821735955&4294967295,D=L+(R<<17&4294967295|R>>>15),R=_+(P^D&(L^P))+k[7]+4249261313&4294967295,_=D+(R<<22&4294967295|R>>>10),R=P+(L^_&(D^L))+k[8]+1770035416&4294967295,P=_+(R<<7&4294967295|R>>>25),R=L+(D^P&(_^D))+k[9]+2336552879&4294967295,L=P+(R<<12&4294967295|R>>>20),R=D+(_^L&(P^_))+k[10]+4294925233&4294967295,D=L+(R<<17&4294967295|R>>>15),R=_+(P^D&(L^P))+k[11]+2304563134&4294967295,_=D+(R<<22&4294967295|R>>>10),R=P+(L^_&(D^L))+k[12]+1804603682&4294967295,P=_+(R<<7&4294967295|R>>>25),R=L+(D^P&(_^D))+k[13]+4254626195&4294967295,L=P+(R<<12&4294967295|R>>>20),R=D+(_^L&(P^_))+k[14]+2792965006&4294967295,D=L+(R<<17&4294967295|R>>>15),R=_+(P^D&(L^P))+k[15]+1236535329&4294967295,_=D+(R<<22&4294967295|R>>>10),R=P+(D^L&(_^D))+k[1]+4129170786&4294967295,P=_+(R<<5&4294967295|R>>>27),R=L+(_^D&(P^_))+k[6]+3225465664&4294967295,L=P+(R<<9&4294967295|R>>>23),R=D+(P^_&(L^P))+k[11]+643717713&4294967295,D=L+(R<<14&4294967295|R>>>18),R=_+(L^P&(D^L))+k[0]+3921069994&4294967295,_=D+(R<<20&4294967295|R>>>12),R=P+(D^L&(_^D))+k[5]+3593408605&4294967295,P=_+(R<<5&4294967295|R>>>27),R=L+(_^D&(P^_))+k[10]+38016083&4294967295,L=P+(R<<9&4294967295|R>>>23),R=D+(P^_&(L^P))+k[15]+3634488961&4294967295,D=L+(R<<14&4294967295|R>>>18),R=_+(L^P&(D^L))+k[4]+3889429448&4294967295,_=D+(R<<20&4294967295|R>>>12),R=P+(D^L&(_^D))+k[9]+568446438&4294967295,P=_+(R<<5&4294967295|R>>>27),R=L+(_^D&(P^_))+k[14]+3275163606&4294967295,L=P+(R<<9&4294967295|R>>>23),R=D+(P^_&(L^P))+k[3]+4107603335&4294967295,D=L+(R<<14&4294967295|R>>>18),R=_+(L^P&(D^L))+k[8]+1163531501&4294967295,_=D+(R<<20&4294967295|R>>>12),R=P+(D^L&(_^D))+k[13]+2850285829&4294967295,P=_+(R<<5&4294967295|R>>>27),R=L+(_^D&(P^_))+k[2]+4243563512&4294967295,L=P+(R<<9&4294967295|R>>>23),R=D+(P^_&(L^P))+k[7]+1735328473&4294967295,D=L+(R<<14&4294967295|R>>>18),R=_+(L^P&(D^L))+k[12]+2368359562&4294967295,_=D+(R<<20&4294967295|R>>>12),R=P+(_^D^L)+k[5]+4294588738&4294967295,P=_+(R<<4&4294967295|R>>>28),R=L+(P^_^D)+k[8]+2272392833&4294967295,L=P+(R<<11&4294967295|R>>>21),R=D+(L^P^_)+k[11]+1839030562&4294967295,D=L+(R<<16&4294967295|R>>>16),R=_+(D^L^P)+k[14]+4259657740&4294967295,_=D+(R<<23&4294967295|R>>>9),R=P+(_^D^L)+k[1]+2763975236&4294967295,P=_+(R<<4&4294967295|R>>>28),R=L+(P^_^D)+k[4]+1272893353&4294967295,L=P+(R<<11&4294967295|R>>>21),R=D+(L^P^_)+k[7]+4139469664&4294967295,D=L+(R<<16&4294967295|R>>>16),R=_+(D^L^P)+k[10]+3200236656&4294967295,_=D+(R<<23&4294967295|R>>>9),R=P+(_^D^L)+k[13]+681279174&4294967295,P=_+(R<<4&4294967295|R>>>28),R=L+(P^_^D)+k[0]+3936430074&4294967295,L=P+(R<<11&4294967295|R>>>21),R=D+(L^P^_)+k[3]+3572445317&4294967295,D=L+(R<<16&4294967295|R>>>16),R=_+(D^L^P)+k[6]+76029189&4294967295,_=D+(R<<23&4294967295|R>>>9),R=P+(_^D^L)+k[9]+3654602809&4294967295,P=_+(R<<4&4294967295|R>>>28),R=L+(P^_^D)+k[12]+3873151461&4294967295,L=P+(R<<11&4294967295|R>>>21),R=D+(L^P^_)+k[15]+530742520&4294967295,D=L+(R<<16&4294967295|R>>>16),R=_+(D^L^P)+k[2]+3299628645&4294967295,_=D+(R<<23&4294967295|R>>>9),R=P+(D^(_|~L))+k[0]+4096336452&4294967295,P=_+(R<<6&4294967295|R>>>26),R=L+(_^(P|~D))+k[7]+1126891415&4294967295,L=P+(R<<10&4294967295|R>>>22),R=D+(P^(L|~_))+k[14]+2878612391&4294967295,D=L+(R<<15&4294967295|R>>>17),R=_+(L^(D|~P))+k[5]+4237533241&4294967295,_=D+(R<<21&4294967295|R>>>11),R=P+(D^(_|~L))+k[12]+1700485571&4294967295,P=_+(R<<6&4294967295|R>>>26),R=L+(_^(P|~D))+k[3]+2399980690&4294967295,L=P+(R<<10&4294967295|R>>>22),R=D+(P^(L|~_))+k[10]+4293915773&4294967295,D=L+(R<<15&4294967295|R>>>17),R=_+(L^(D|~P))+k[1]+2240044497&4294967295,_=D+(R<<21&4294967295|R>>>11),R=P+(D^(_|~L))+k[8]+1873313359&4294967295,P=_+(R<<6&4294967295|R>>>26),R=L+(_^(P|~D))+k[15]+4264355552&4294967295,L=P+(R<<10&4294967295|R>>>22),R=D+(P^(L|~_))+k[6]+2734768916&4294967295,D=L+(R<<15&4294967295|R>>>17),R=_+(L^(D|~P))+k[13]+1309151649&4294967295,_=D+(R<<21&4294967295|R>>>11),R=P+(D^(_|~L))+k[4]+4149444226&4294967295,P=_+(R<<6&4294967295|R>>>26),R=L+(_^(P|~D))+k[11]+3174756917&4294967295,L=P+(R<<10&4294967295|R>>>22),R=D+(P^(L|~_))+k[2]+718787259&4294967295,D=L+(R<<15&4294967295|R>>>17),R=_+(L^(D|~P))+k[9]+3951481745&4294967295,A.g[0]=A.g[0]+P&4294967295,A.g[1]=A.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,A.g[2]=A.g[2]+D&4294967295,A.g[3]=A.g[3]+L&4294967295}r.prototype.v=function(A,P){P===void 0&&(P=A.length);const _=P-this.blockSize,k=this.C;let D=this.h,L=0;for(;L<P;){if(D==0)for(;L<=_;)i(this,A,L),L+=this.blockSize;if(typeof A=="string"){for(;L<P;)if(k[D++]=A.charCodeAt(L++),D==this.blockSize){i(this,k),D=0;break}}else for(;L<P;)if(k[D++]=A[L++],D==this.blockSize){i(this,k),D=0;break}}this.h=D,this.o+=P},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var P=1;P<A.length-8;++P)A[P]=0;P=this.o*8;for(var _=A.length-8;_<A.length;++_)A[_]=P&255,P/=256;for(this.v(A),A=Array(16),P=0,_=0;_<4;++_)for(let k=0;k<32;k+=8)A[P++]=this.g[_]>>>k&255;return A};function l(A,P){var _=f;return Object.prototype.hasOwnProperty.call(_,A)?_[A]:_[A]=P(A)}function c(A,P){this.h=P;const _=[];let k=!0;for(let D=A.length-1;D>=0;D--){const L=A[D]|0;k&&L==P||(_[D]=L,k=!1)}this.g=_}var f={};function u(A){return-128<=A&&A<128?l(A,function(P){return new c([P|0],P<0?-1:0)}):new c([A|0],A<0?-1:0)}function m(A){if(isNaN(A)||!isFinite(A))return b;if(A<0)return T(m(-A));const P=[];let _=1;for(let k=0;A>=_;k++)P[k]=A/_|0,_*=4294967296;return new c(P,0)}function g(A,P){if(A.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(A.charAt(0)=="-")return T(g(A.substring(1),P));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const _=m(Math.pow(P,8));let k=b;for(let L=0;L<A.length;L+=8){var D=Math.min(8,A.length-L);const R=parseInt(A.substring(L,L+D),P);D<8?(D=m(Math.pow(P,D)),k=k.j(D).add(m(R))):(k=k.j(_),k=k.add(m(R)))}return k}var b=u(0),v=u(1),E=u(16777216);n=c.prototype,n.m=function(){if(C(this))return-T(this).m();let A=0,P=1;for(let _=0;_<this.g.length;_++){const k=this.i(_);A+=(k>=0?k:4294967296+k)*P,P*=4294967296}return A},n.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N(this))return"0";if(C(this))return"-"+T(this).toString(A);const P=m(Math.pow(A,6));var _=this;let k="";for(;;){const D=M(_,P).g;_=O(_,D.j(P));let L=((_.g.length>0?_.g[0]:_.h)>>>0).toString(A);if(_=D,N(_))return L+k;for(;L.length<6;)L="0"+L;k=L+k}},n.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function N(A){if(A.h!=0)return!1;for(let P=0;P<A.g.length;P++)if(A.g[P]!=0)return!1;return!0}function C(A){return A.h==-1}n.l=function(A){return A=O(this,A),C(A)?-1:N(A)?0:1};function T(A){const P=A.g.length,_=[];for(let k=0;k<P;k++)_[k]=~A.g[k];return new c(_,~A.h).add(v)}n.abs=function(){return C(this)?T(this):this},n.add=function(A){const P=Math.max(this.g.length,A.g.length),_=[];let k=0;for(let D=0;D<=P;D++){let L=k+(this.i(D)&65535)+(A.i(D)&65535),R=(L>>>16)+(this.i(D)>>>16)+(A.i(D)>>>16);k=R>>>16,L&=65535,R&=65535,_[D]=R<<16|L}return new c(_,_[_.length-1]&-2147483648?-1:0)};function O(A,P){return A.add(T(P))}n.j=function(A){if(N(this)||N(A))return b;if(C(this))return C(A)?T(this).j(T(A)):T(T(this).j(A));if(C(A))return T(this.j(T(A)));if(this.l(E)<0&&A.l(E)<0)return m(this.m()*A.m());const P=this.g.length+A.g.length,_=[];for(var k=0;k<2*P;k++)_[k]=0;for(k=0;k<this.g.length;k++)for(let D=0;D<A.g.length;D++){const L=this.i(k)>>>16,R=this.i(k)&65535,Y=A.i(D)>>>16,ve=A.i(D)&65535;_[2*k+2*D]+=R*ve,F(_,2*k+2*D),_[2*k+2*D+1]+=L*ve,F(_,2*k+2*D+1),_[2*k+2*D+1]+=R*Y,F(_,2*k+2*D+1),_[2*k+2*D+2]+=L*Y,F(_,2*k+2*D+2)}for(A=0;A<P;A++)_[A]=_[2*A+1]<<16|_[2*A];for(A=P;A<2*P;A++)_[A]=0;return new c(_,0)};function F(A,P){for(;(A[P]&65535)!=A[P];)A[P+1]+=A[P]>>>16,A[P]&=65535,P++}function z(A,P){this.g=A,this.h=P}function M(A,P){if(N(P))throw Error("division by zero");if(N(A))return new z(b,b);if(C(A))return P=M(T(A),P),new z(T(P.g),T(P.h));if(C(P))return P=M(A,T(P)),new z(T(P.g),P.h);if(A.g.length>30){if(C(A)||C(P))throw Error("slowDivide_ only works with positive integers.");for(var _=v,k=P;k.l(A)<=0;)_=U(_),k=U(k);var D=X(_,1),L=X(k,1);for(k=X(k,2),_=X(_,2);!N(k);){var R=L.add(k);R.l(A)<=0&&(D=D.add(_),L=R),k=X(k,1),_=X(_,1)}return P=O(A,D.j(P)),new z(D,P)}for(D=b;A.l(P)>=0;){for(_=Math.max(1,Math.floor(A.m()/P.m())),k=Math.ceil(Math.log(_)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),L=m(_),R=L.j(P);C(R)||R.l(A)>0;)_-=k,L=m(_),R=L.j(P);N(L)&&(L=v),D=D.add(L),A=O(A,R)}return new z(D,A)}n.B=function(A){return M(this,A).h},n.and=function(A){const P=Math.max(this.g.length,A.g.length),_=[];for(let k=0;k<P;k++)_[k]=this.i(k)&A.i(k);return new c(_,this.h&A.h)},n.or=function(A){const P=Math.max(this.g.length,A.g.length),_=[];for(let k=0;k<P;k++)_[k]=this.i(k)|A.i(k);return new c(_,this.h|A.h)},n.xor=function(A){const P=Math.max(this.g.length,A.g.length),_=[];for(let k=0;k<P;k++)_[k]=this.i(k)^A.i(k);return new c(_,this.h^A.h)};function U(A){const P=A.g.length+1,_=[];for(let k=0;k<P;k++)_[k]=A.i(k)<<1|A.i(k-1)>>>31;return new c(_,A.h)}function X(A,P){const _=P>>5;P%=32;const k=A.g.length-_,D=[];for(let L=0;L<k;L++)D[L]=P>0?A.i(L+_)>>>P|A.i(L+_+1)<<32-P:A.i(L+_);return new c(D,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,EC=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=g,Lo=c}).apply(typeof cS<"u"?cS:typeof self<"u"?self:typeof window<"u"?window:{});var ng=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CC,rf,AC,bg,yv,IC,RC,PC;(function(){var n,e=Object.defineProperty;function s(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof ng=="object"&&ng];for(var j=0;j<p.length;++j){var I=p[j];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=s(this);function i(p,j){if(j)e:{var I=r;p=p.split(".");for(var B=0;B<p.length-1;B++){var oe=p[B];if(!(oe in I))break e;I=I[oe]}p=p[p.length-1],B=I[p],j=j(B),j!=B&&j!=null&&e(I,p,{configurable:!0,writable:!0,value:j})}}i("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(p){return p||function(j){var I=[],B;for(B in j)Object.prototype.hasOwnProperty.call(j,B)&&I.push([B,j[B]]);return I}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(p){var j=typeof p;return j=="object"&&p!=null||j=="function"}function u(p,j,I){return p.call.apply(p.bind,arguments)}function m(p,j,I){return m=u,m.apply(null,arguments)}function g(p,j){var I=Array.prototype.slice.call(arguments,1);return function(){var B=I.slice();return B.push.apply(B,arguments),p.apply(this,B)}}function b(p,j){function I(){}I.prototype=j.prototype,p.Z=j.prototype,p.prototype=new I,p.prototype.constructor=p,p.Ob=function(B,oe,fe){for(var Pe=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)Pe[rt-2]=arguments[rt];return j.prototype[oe].apply(B,Pe)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function E(p){const j=p.length;if(j>0){const I=Array(j);for(let B=0;B<j;B++)I[B]=p[B];return I}return[]}function N(p,j){for(let B=1;B<arguments.length;B++){const oe=arguments[B];var I=typeof oe;if(I=I!="object"?I:oe?Array.isArray(oe)?"array":I:"null",I=="array"||I=="object"&&typeof oe.length=="number"){I=p.length||0;const fe=oe.length||0;p.length=I+fe;for(let Pe=0;Pe<fe;Pe++)p[I+Pe]=oe[Pe]}else p.push(oe)}}class C{constructor(j,I){this.i=j,this.j=I,this.h=0,this.g=null}get(){let j;return this.h>0?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}function T(p){c.setTimeout(()=>{throw p},0)}function O(){var p=A;let j=null;return p.g&&(j=p.g,p.g=p.g.next,p.g||(p.h=null),j.next=null),j}class F{constructor(){this.h=this.g=null}add(j,I){const B=z.get();B.set(j,I),this.h?this.h.next=B:this.g=B,this.h=B}}var z=new C(()=>new M,p=>p.reset());class M{constructor(){this.next=this.g=this.h=null}set(j,I){this.h=j,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let U,X=!1,A=new F,P=()=>{const p=Promise.resolve(void 0);U=()=>{p.then(_)}};function _(){for(var p;p=O();){try{p.h.call(p.g)}catch(I){T(I)}var j=z;j.j(p),j.h<100&&(j.h++,p.next=j.g,j.g=p)}X=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(p,j){this.type=p,this.g=this.target=j,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,j=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const I=()=>{};c.addEventListener("test",I,j),c.removeEventListener("test",I,j)}catch{}return p})();function R(p){return/^[\s\xa0]*$/.test(p)}function Y(p,j){D.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,j)}b(Y,D),Y.prototype.init=function(p,j){const I=this.type=p.type,B=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=j,j=p.relatedTarget,j||(I=="mouseover"?j=p.fromElement:I=="mouseout"&&(j=p.toElement)),this.relatedTarget=j,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&Y.Z.h.call(this)},Y.prototype.h=function(){Y.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var ve="closure_listenable_"+(Math.random()*1e6|0),J=0;function W(p,j,I,B,oe){this.listener=p,this.proxy=null,this.src=j,this.type=I,this.capture=!!B,this.ha=oe,this.key=++J,this.da=this.fa=!1}function xe(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Ie(p,j,I){for(const B in p)j.call(I,p[B],B,p)}function Ae(p,j){for(const I in p)j.call(void 0,p[I],I,p)}function $(p){const j={};for(const I in p)j[I]=p[I];return j}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(p,j){let I,B;for(let oe=1;oe<arguments.length;oe++){B=arguments[oe];for(I in B)p[I]=B[I];for(let fe=0;fe<ie.length;fe++)I=ie[fe],Object.prototype.hasOwnProperty.call(B,I)&&(p[I]=B[I])}}function H(p){this.src=p,this.g={},this.h=0}H.prototype.add=function(p,j,I,B,oe){const fe=p.toString();p=this.g[fe],p||(p=this.g[fe]=[],this.h++);const Pe=K(p,j,B,oe);return Pe>-1?(j=p[Pe],I||(j.fa=!1)):(j=new W(j,this.src,fe,!!B,oe),j.fa=I,p.push(j)),j};function me(p,j){const I=j.type;if(I in p.g){var B=p.g[I],oe=Array.prototype.indexOf.call(B,j,void 0),fe;(fe=oe>=0)&&Array.prototype.splice.call(B,oe,1),fe&&(xe(j),p.g[I].length==0&&(delete p.g[I],p.h--))}}function K(p,j,I,B){for(let oe=0;oe<p.length;++oe){const fe=p[oe];if(!fe.da&&fe.listener==j&&fe.capture==!!I&&fe.ha==B)return oe}return-1}var Te="closure_lm_"+(Math.random()*1e6|0),Re={};function Oe(p,j,I,B,oe){if(Array.isArray(j)){for(let fe=0;fe<j.length;fe++)Oe(p,j[fe],I,B,oe);return null}return I=se(I),p&&p[ve]?p.J(j,I,f(B)?!!B.capture:!1,oe):gt(p,j,I,!1,B,oe)}function gt(p,j,I,B,oe,fe){if(!j)throw Error("Invalid event type");const Pe=f(oe)?!!oe.capture:!!oe;let rt=xt(p);if(rt||(p[Te]=rt=new H(p)),I=rt.add(j,I,B,Pe,fe),I.proxy)return I;if(B=wt(),I.proxy=B,B.src=p,B.listener=I,p.addEventListener)L||(oe=Pe),oe===void 0&&(oe=!1),p.addEventListener(j.toString(),B,oe);else if(p.attachEvent)p.attachEvent(_e(j.toString()),B);else if(p.addListener&&p.removeListener)p.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return I}function wt(){function p(I){return j.call(p.src,p.listener,I)}const j=Le;return p}function _t(p,j,I,B,oe){if(Array.isArray(j))for(var fe=0;fe<j.length;fe++)_t(p,j[fe],I,B,oe);else B=f(B)?!!B.capture:!!B,I=se(I),p&&p[ve]?(p=p.i,fe=String(j).toString(),fe in p.g&&(j=p.g[fe],I=K(j,I,B,oe),I>-1&&(xe(j[I]),Array.prototype.splice.call(j,I,1),j.length==0&&(delete p.g[fe],p.h--)))):p&&(p=xt(p))&&(j=p.g[j.toString()],p=-1,j&&(p=K(j,I,B,oe)),(I=p>-1?j[p]:null)&&kt(I))}function kt(p){if(typeof p!="number"&&p&&!p.da){var j=p.src;if(j&&j[ve])me(j.i,p);else{var I=p.type,B=p.proxy;j.removeEventListener?j.removeEventListener(I,B,p.capture):j.detachEvent?j.detachEvent(_e(I),B):j.addListener&&j.removeListener&&j.removeListener(B),(I=xt(j))?(me(I,p),I.h==0&&(I.src=null,j[Te]=null)):xe(p)}}}function _e(p){return p in Re?Re[p]:Re[p]="on"+p}function Le(p,j){if(p.da)p=!0;else{j=new Y(j,this);const I=p.listener,B=p.ha||p.src;p.fa&&kt(p),p=I.call(B,j)}return p}function xt(p){return p=p[Te],p instanceof H?p:null}var we="__closure_events_fn_"+(Math.random()*1e9>>>0);function se(p){return typeof p=="function"?p:(p[we]||(p[we]=function(j){return p.handleEvent(j)}),p[we])}function $e(){k.call(this),this.i=new H(this),this.M=this,this.G=null}b($e,k),$e.prototype[ve]=!0,$e.prototype.removeEventListener=function(p,j,I,B){_t(this,p,j,I,B)};function tt(p,j){var I,B=p.G;if(B)for(I=[];B;B=B.G)I.push(B);if(p=p.M,B=j.type||j,typeof j=="string")j=new D(j,p);else if(j instanceof D)j.target=j.target||p;else{var oe=j;j=new D(B,p),G(j,oe)}oe=!0;let fe,Pe;if(I)for(Pe=I.length-1;Pe>=0;Pe--)fe=j.g=I[Pe],oe=ae(fe,B,!0,j)&&oe;if(fe=j.g=p,oe=ae(fe,B,!0,j)&&oe,oe=ae(fe,B,!1,j)&&oe,I)for(Pe=0;Pe<I.length;Pe++)fe=j.g=I[Pe],oe=ae(fe,B,!1,j)&&oe}$e.prototype.N=function(){if($e.Z.N.call(this),this.i){var p=this.i;for(const j in p.g){const I=p.g[j];for(let B=0;B<I.length;B++)xe(I[B]);delete p.g[j],p.h--}}this.G=null},$e.prototype.J=function(p,j,I,B){return this.i.add(String(p),j,!1,I,B)},$e.prototype.K=function(p,j,I,B){return this.i.add(String(p),j,!0,I,B)};function ae(p,j,I,B){if(j=p.i.g[String(j)],!j)return!0;j=j.concat();let oe=!0;for(let fe=0;fe<j.length;++fe){const Pe=j[fe];if(Pe&&!Pe.da&&Pe.capture==I){const rt=Pe.listener,Ns=Pe.ha||Pe.src;Pe.fa&&me(p.i,Pe),oe=rt.call(Ns,B)!==!1&&oe}}return oe&&!B.defaultPrevented}function It(p,j){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=m(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(j)>2147483647?-1:c.setTimeout(p,j||0)}function ls(p){p.g=It(()=>{p.g=null,p.i&&(p.i=!1,ls(p))},p.l);const j=p.h;p.h=null,p.m.apply(null,j)}class be extends k{constructor(j,I){super(),this.m=j,this.l=I,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:ls(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ue(p){k.call(this),this.h=p,this.g={}}b(Ue,k);var ee=[];function Me(p){Ie(p.g,function(j,I){this.g.hasOwnProperty(I)&&kt(j)},p),p.g={}}Ue.prototype.N=function(){Ue.Z.N.call(this),Me(this)},Ue.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xe=c.JSON.stringify,Zt=c.JSON.parse,Gs=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function js(){}function rr(){}var Us={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Fs(){D.call(this,"d")}b(Fs,D);function bn(){D.call(this,"c")}b(bn,D);var Vt={},Rc=null;function Bi(){return Rc=Rc||new $e}Vt.Ia="serverreachability";function ll(p){D.call(this,Vt.Ia,p)}b(ll,D);function ar(p){const j=Bi();tt(j,new ll(j))}Vt.STAT_EVENT="statevent";function ja(p,j){D.call(this,Vt.STAT_EVENT,p),this.stat=j}b(ja,D);function cs(p){const j=Bi();tt(j,new ja(j,p))}Vt.Ja="timingevent";function ir(p,j){D.call(this,Vt.Ja,p),this.size=j}b(ir,D);function te(p,j){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},j)}function qe(){this.g=!0}qe.prototype.ua=function(){this.g=!1};function dt(p,j,I,B,oe,fe){p.info(function(){if(p.g)if(fe){var Pe="",rt=fe.split("&");for(let Ct=0;Ct<rt.length;Ct++){var Ns=rt[Ct].split("=");if(Ns.length>1){const ts=Ns[0];Ns=Ns[1];const Cr=ts.split("_");Pe=Cr.length>=2&&Cr[1]=="type"?Pe+(ts+"="+Ns+"&"):Pe+(ts+"=redacted&")}}}else Pe=null;else Pe=fe;return"XMLHTTP REQ ("+B+") [attempt "+oe+"]: "+j+`
`+I+`
`+Pe})}function es(p,j,I,B,oe,fe,Pe){p.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+oe+"]: "+j+`
`+I+`
`+fe+" "+Pe})}function ot(p,j,I,B){p.info(function(){return"XMLHTTP TEXT ("+j+"): "+Qr(p,I)+(B?" "+B:"")})}function tn(p,j){p.info(function(){return"TIMEOUT: "+j})}qe.prototype.info=function(){};function Qr(p,j){if(!p.g)return j;if(!j)return null;try{const fe=JSON.parse(j);if(fe){for(p=0;p<fe.length;p++)if(Array.isArray(fe[p])){var I=fe[p];if(!(I.length<2)){var B=I[1];if(Array.isArray(B)&&!(B.length<1)){var oe=B[0];if(oe!="noop"&&oe!="stop"&&oe!="close")for(let Pe=1;Pe<B.length;Pe++)B[Pe]=""}}}}return Xe(fe)}catch{return j}}var vn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},$i={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qi;function Jr(){}b(Jr,js),Jr.prototype.g=function(){return new XMLHttpRequest},qi=new Jr;function Xr(p){return encodeURIComponent(String(p))}function Em(p){var j=1;p=p.split(":");const I=[];for(;j>0&&p.length;)I.push(p.shift()),j--;return p.length&&I.push(p.join(":")),I}function Zr(p,j,I,B){this.j=p,this.i=j,this.l=I,this.S=B||1,this.V=new Ue(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ea}function ea(){this.i=null,this.g="",this.h=!1}var As={},Ks={};function Na(p,j,I){p.M=1,p.A=cl(Rs(j)),p.u=I,p.R=!0,Pc(p,null)}function Pc(p,j){p.F=Date.now(),_a(p),p.B=Rs(p.A);var I=p.B,B=p.S;Array.isArray(B)||(B=[String(B)]),Lc(I.i,"t",B),p.C=0,I=p.j.L,p.h=new ea,p.g=$m(p.j,I?j:null,!p.u),p.P>0&&(p.O=new be(m(p.Y,p,p.g),p.P)),j=p.V,I=p.g,B=p.ba;var oe="readystatechange";Array.isArray(oe)||(oe&&(ee[0]=oe.toString()),oe=ee);for(let fe=0;fe<oe.length;fe++){const Pe=Oe(I,oe[fe],B||j.handleEvent,!1,j.h||j);if(!Pe)break;j.g[Pe.key]=Pe}j=p.J?$(p.J):{},p.u?(p.v||(p.v="POST"),j["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,j)):(p.v="GET",p.g.ea(p.B,p.v,null,j)),ar(),dt(p.i,p.v,p.B,p.l,p.S,p.u)}Zr.prototype.ba=function(p){p=p.target;const j=this.O;j&&na(p)==3?j.j():this.Y(p)},Zr.prototype.Y=function(p){try{if(p==this.g)e:{const rt=na(this.g),Ns=this.g.ya(),Ct=this.g.ca();if(!(rt<3)&&(rt!=3||this.g&&(this.h.h||this.g.la()||sn(this.g)))){this.K||rt!=4||Ns==7||(Ns==8||Ct<=0?ar(3):ar(2)),ka(this);var j=this.g.ca();this.X=j;var I=e0(this);if(this.o=j==200,es(this.i,this.v,this.B,this.l,this.S,rt,j),this.o){if(this.U&&!this.L){t:{if(this.g){var B,oe=this.g;if((B=oe.g?oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(B)){var fe=B;break t}}fe=null}if(p=fe)ot(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Sa(this,p);else{this.o=!1,this.m=3,cs(12),or(this),Sr(this);break e}}if(this.R){p=!0;let ts;for(;!this.K&&this.C<I.length;)if(ts=Am(this,I),ts==Ks){rt==4&&(this.m=4,cs(14),p=!1),ot(this.i,this.l,null,"[Incomplete Response]");break}else if(ts==As){this.m=4,cs(15),ot(this.i,this.l,I,"[Invalid Chunk]"),p=!1;break}else ot(this.i,this.l,ts,null),Sa(this,ts);if(Cm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rt!=4||I.length!=0||this.h.h||(this.m=1,cs(16),p=!1),this.o=this.o&&p,!p)ot(this.i,this.l,I,"[Invalid Chunked Response]"),or(this),Sr(this);else if(I.length>0&&!this.W){this.W=!0;var Pe=this.j;Pe.g==this&&Pe.aa&&!Pe.P&&(Pe.j.info("Great, no buffering proxy detected. Bytes received: "+I.length),Zu(Pe),Pe.P=!0,cs(11))}}else ot(this.i,this.l,I,null),Sa(this,I);rt==4&&or(this),this.o&&!this.K&&(rt==4?Vm(this.j,this):(this.o=!1,_a(this)))}else si(this.g),j==400&&I.indexOf("Unknown SID")>0?(this.m=3,cs(12)):(this.m=0,cs(13)),or(this),Sr(this)}}}catch{}finally{}};function e0(p){if(!Cm(p))return p.g.la();const j=sn(p.g);if(j==="")return"";let I="";const B=j.length,oe=na(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return or(p),Sr(p),"";p.h.i=new c.TextDecoder}for(let fe=0;fe<B;fe++)p.h.h=!0,I+=p.h.i.decode(j[fe],{stream:!(oe&&fe==B-1)});return j.length=0,p.h.g+=I,p.C=0,p.h.g}function Cm(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function Am(p,j){var I=p.C,B=j.indexOf(`
`,I);return B==-1?Ks:(I=Number(j.substring(I,B)),isNaN(I)?As:(B+=1,B+I>j.length?Ks:(j=j.slice(B,B+I),p.C=B+I,j)))}Zr.prototype.cancel=function(){this.K=!0,or(this)};function _a(p){p.T=Date.now()+p.H,Dc(p,p.H)}function Dc(p,j){if(p.D!=null)throw Error("WatchDog timer not null");p.D=te(m(p.aa,p),j)}function ka(p){p.D&&(c.clearTimeout(p.D),p.D=null)}Zr.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(tn(this.i,this.B),this.M!=2&&(ar(),cs(17)),or(this),this.m=2,Sr(this)):Dc(this,this.T-p)};function Sr(p){p.j.I==0||p.K||Vm(p.j,p)}function or(p){ka(p);var j=p.O;j&&typeof j.dispose=="function"&&j.dispose(),p.O=null,Me(p.V),p.g&&(j=p.g,p.g=null,j.abort(),j.dispose())}function Sa(p,j){try{var I=p.j;if(I.I!=0&&(I.g==p||Ea(I.h,p))){if(!p.L&&Ea(I.h,p)&&I.I==3){try{var B=I.Ba.g.parse(j)}catch{B=null}if(Array.isArray(B)&&B.length==3){var oe=B;if(oe[0]==0){e:if(!I.v){if(I.g)if(I.g.F+3e3<p.F)Bc(I),Xi(I);else break e;gl(I),cs(18)}}else I.xa=oe[1],0<I.xa-I.K&&oe[2]<37500&&I.F&&I.A==0&&!I.C&&(I.C=te(m(I.Va,I),6e3));Ta(I.h)<=1&&I.ta&&(I.ta=void 0)}else Da(I,11)}else if((p.L||I.g==p)&&Bc(I),!R(j))for(oe=I.Ba.g.parse(j),j=0;j<oe.length;j++){let Ct=oe[j];const ts=Ct[0];if(!(ts<=I.K))if(I.K=ts,Ct=Ct[1],I.I==2)if(Ct[0]=="c"){I.M=Ct[1],I.ba=Ct[2];const Cr=Ct[3];Cr!=null&&(I.ka=Cr,I.j.info("VER="+I.ka));const Oa=Ct[4];Oa!=null&&(I.za=Oa,I.j.info("SVER="+I.za));const ra=Ct[5];ra!=null&&typeof ra=="number"&&ra>0&&(B=1.5*ra,I.O=B,I.j.info("backChannelRequestTimeoutMs_="+B)),B=I;const aa=p.g;if(aa){const xl=aa.g?aa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xl){var fe=B.h;fe.g||xl.indexOf("spdy")==-1&&xl.indexOf("quic")==-1&&xl.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&(Fu(fe,fe.h),fe.h=null))}if(B.G){const $c=aa.g?aa.g.getResponseHeader("X-HTTP-Session-Id"):null;$c&&(B.wa=$c,Pt(B.J,B.G,$c))}}I.I=3,I.l&&I.l.ra(),I.aa&&(I.T=Date.now()-p.F,I.j.info("Handshake RTT: "+I.T+"ms")),B=I;var Pe=p;if(B.na=Bm(B,B.L?B.ba:null,B.W),Pe.L){Bu(B.h,Pe);var rt=Pe,Ns=B.O;Ns&&(rt.H=Ns),rt.D&&(ka(rt),_a(rt)),B.g=Pe}else Lm(B);I.i.length>0&&Pa(I)}else Ct[0]!="stop"&&Ct[0]!="close"||Da(I,7);else I.I==3&&(Ct[0]=="stop"||Ct[0]=="close"?Ct[0]=="stop"?Da(I,7):Ju(I):Ct[0]!="noop"&&I.l&&I.l.qa(Ct),I.A=0)}}ar(4)}catch{}}var Is=class{constructor(p,j){this.g=p,this.map=j}};function Vu(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Uu(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Ta(p){return p.h?1:p.g?p.g.size:0}function Ea(p,j){return p.h?p.h==j:p.g?p.g.has(j):!1}function Fu(p,j){p.g?p.g.add(j):p.h=j}function Bu(p,j){p.h&&p.h==j?p.h=null:p.g&&p.g.has(j)&&p.g.delete(j)}Vu.prototype.cancel=function(){if(this.i=$u(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function $u(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let j=p.i;for(const I of p.g.values())j=j.concat(I.G);return j}return E(p.i)}var Im=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oc(p,j){if(p){p=p.split("&");for(let I=0;I<p.length;I++){const B=p[I].indexOf("=");let oe,fe=null;B>=0?(oe=p[I].substring(0,B),fe=p[I].substring(B+1)):oe=p[I],j(oe,fe?decodeURIComponent(fe.replace(/\+/g," ")):"")}}}function lr(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let j;p instanceof lr?(this.l=p.l,Ws(this,p.j),this.o=p.o,this.g=p.g,Hi(this,p.u),this.h=p.h,qu(this,Om(p.i)),this.m=p.m):p&&(j=String(p).match(Im))?(this.l=!1,Ws(this,j[1]||"",!0),this.o=Ca(j[2]||""),this.g=Ca(j[3]||"",!0),Hi(this,j[4]),this.h=Ca(j[5]||"",!0),qu(this,j[6]||"",!0),this.m=Ca(j[7]||"")):(this.l=!1,this.i=new Ki(null,this.l))}lr.prototype.toString=function(){const p=[];var j=this.j;j&&p.push(dl(j,Mc,!0),":");var I=this.g;return(I||j=="file")&&(p.push("//"),(j=this.o)&&p.push(dl(j,Mc,!0),"@"),p.push(Xr(I).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.u,I!=null&&p.push(":",String(I))),(I=this.h)&&(this.g&&I.charAt(0)!="/"&&p.push("/"),p.push(dl(I,I.charAt(0)=="/"?Hu:Rm,!0))),(I=this.i.toString())&&p.push("?",I),(I=this.m)&&p.push("#",dl(I,Pm)),p.join("")},lr.prototype.resolve=function(p){const j=Rs(this);let I=!!p.j;I?Ws(j,p.j):I=!!p.o,I?j.o=p.o:I=!!p.g,I?j.g=p.g:I=p.u!=null;var B=p.h;if(I)Hi(j,p.u);else if(I=!!p.h){if(B.charAt(0)!="/")if(this.g&&!this.h)B="/"+B;else{var oe=j.h.lastIndexOf("/");oe!=-1&&(B=j.h.slice(0,oe+1)+B)}if(oe=B,oe==".."||oe==".")B="";else if(oe.indexOf("./")!=-1||oe.indexOf("/.")!=-1){B=oe.lastIndexOf("/",0)==0,oe=oe.split("/");const fe=[];for(let Pe=0;Pe<oe.length;){const rt=oe[Pe++];rt=="."?B&&Pe==oe.length&&fe.push(""):rt==".."?((fe.length>1||fe.length==1&&fe[0]!="")&&fe.pop(),B&&Pe==oe.length&&fe.push("")):(fe.push(rt),B=!0)}B=fe.join("/")}else B=oe}return I?j.h=B:I=p.i.toString()!=="",I?qu(j,Om(p.i)):I=!!p.m,I&&(j.m=p.m),j};function Rs(p){return new lr(p)}function Ws(p,j,I){p.j=I?Ca(j,!0):j,p.j&&(p.j=p.j.replace(/:$/,""))}function Hi(p,j){if(j){if(j=Number(j),isNaN(j)||j<0)throw Error("Bad port number "+j);p.u=j}else p.u=null}function qu(p,j,I){j instanceof Ki?(p.i=j,zc(p.i,p.l)):(I||(j=dl(j,Gi)),p.i=new Ki(j,p.l))}function Pt(p,j,I){p.i.set(j,I)}function cl(p){return Pt(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function Ca(p,j){return p?j?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function dl(p,j,I){return typeof p=="string"?(p=encodeURI(p).replace(j,Vn),I&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Vn(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Mc=/[#\/\?@]/g,Rm=/[#\?:]/g,Hu=/[#\?]/g,Gi=/[#\?@]/g,Pm=/#/g;function Ki(p,j){this.h=this.g=null,this.i=p||null,this.j=!!j}function Un(p){p.g||(p.g=new Map,p.h=0,p.i&&Oc(p.i,function(j,I){p.add(decodeURIComponent(j.replace(/\+/g," ")),I)}))}n=Ki.prototype,n.add=function(p,j){Un(this),this.i=null,p=Wi(this,p);let I=this.g.get(p);return I||this.g.set(p,I=[]),I.push(j),this.h+=1,this};function Dm(p,j){Un(p),j=Wi(p,j),p.g.has(j)&&(p.i=null,p.h-=p.g.get(j).length,p.g.delete(j))}function Gu(p,j){return Un(p),j=Wi(p,j),p.g.has(j)}n.forEach=function(p,j){Un(this),this.g.forEach(function(I,B){I.forEach(function(oe){p.call(j,oe,B,this)},this)},this)};function Ku(p,j){Un(p);let I=[];if(typeof j=="string")Gu(p,j)&&(I=I.concat(p.g.get(Wi(p,j))));else for(p=Array.from(p.g.values()),j=0;j<p.length;j++)I=I.concat(p[j]);return I}n.set=function(p,j){return Un(this),this.i=null,p=Wi(this,p),Gu(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[j]),this.h+=1,this},n.get=function(p,j){return p?(p=Ku(this,p),p.length>0?String(p[0]):j):j};function Lc(p,j,I){Dm(p,j),I.length>0&&(p.i=null,p.g.set(Wi(p,j),E(I)),p.h+=I.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],j=Array.from(this.g.keys());for(let B=0;B<j.length;B++){var I=j[B];const oe=Xr(I);I=Ku(this,I);for(let fe=0;fe<I.length;fe++){let Pe=oe;I[fe]!==""&&(Pe+="="+Xr(I[fe])),p.push(Pe)}}return this.i=p.join("&")};function Om(p){const j=new Ki;return j.i=p.i,p.g&&(j.g=new Map(p.g),j.h=p.h),j}function Wi(p,j){return j=String(j),p.j&&(j=j.toLowerCase()),j}function zc(p,j){j&&!p.j&&(Un(p),p.i=null,p.g.forEach(function(I,B){const oe=B.toLowerCase();B!=oe&&(Dm(this,B),Lc(this,oe,I))},p)),p.j=j}function ta(p,j){const I=new qe;if(c.Image){const B=new Image;B.onload=g(Tr,I,"TestLoadImage: loaded",!0,j,B),B.onerror=g(Tr,I,"TestLoadImage: error",!1,j,B),B.onabort=g(Tr,I,"TestLoadImage: abort",!1,j,B),B.ontimeout=g(Tr,I,"TestLoadImage: timeout",!1,j,B),c.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=p}else j(!1)}function Wu(p,j){const I=new qe,B=new AbortController,oe=setTimeout(()=>{B.abort(),Tr(I,"TestPingServer: timeout",!1,j)},1e4);fetch(p,{signal:B.signal}).then(fe=>{clearTimeout(oe),fe.ok?Tr(I,"TestPingServer: ok",!0,j):Tr(I,"TestPingServer: server error",!1,j)}).catch(()=>{clearTimeout(oe),Tr(I,"TestPingServer: error",!1,j)})}function Tr(p,j,I,B,oe){try{oe&&(oe.onload=null,oe.onerror=null,oe.onabort=null,oe.ontimeout=null),B(I)}catch{}}function Yi(){this.g=new Gs}function Aa(p){this.i=p.Sb||null,this.h=p.ab||!1}b(Aa,js),Aa.prototype.g=function(){return new ul(this.i,this.h)};function ul(p,j){$e.call(this),this.H=p,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ul,$e),n=ul.prototype,n.open=function(p,j){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=j,this.readyState=1,sa(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const j={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(j.body=p),(this.H||c).fetch(new Request(this.D,j)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Qi(this)),this.readyState=0},n.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,sa(this)),this.g&&(this.readyState=3,sa(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Vc(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function Vc(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}n.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var j=p.value?p.value:new Uint8Array(0);(j=this.B.decode(j,{stream:!p.done}))&&(this.response=this.responseText+=j)}p.done?Qi(this):sa(this),this.readyState==3&&Vc(this)}},n.Oa=function(p){this.g&&(this.response=this.responseText=p,Qi(this))},n.Na=function(p){this.g&&(this.response=p,Qi(this))},n.ga=function(){this.g&&Qi(this)};function Qi(p){p.readyState=4,p.l=null,p.j=null,p.B=null,sa(p)}n.setRequestHeader=function(p,j){this.A.append(p,j)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],j=this.h.entries();for(var I=j.next();!I.done;)I=I.value,p.push(I[0]+": "+I[1]),I=j.next();return p.join(`\r
`)};function sa(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(ul.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Er(p){let j="";return Ie(p,function(I,B){j+=B,j+=":",j+=I,j+=`\r
`}),j}function hl(p,j,I){e:{for(B in I){var B=!1;break e}B=!0}B||(I=Er(I),typeof p=="string"?I!=null&&Xr(I):Pt(p,j,I))}function Ut(p){$e.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Ut,$e);var Ia=/^https?$/i,Yu=["POST","PUT"];n=Ut.prototype,n.Fa=function(p){this.H=p},n.ea=function(p,j,I,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);j=j?j.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qi.g(),this.g.onreadystatechange=v(m(this.Ca,this));try{this.B=!0,this.g.open(j,String(p),!0),this.B=!1}catch(fe){fl(this,fe);return}if(p=I||"",I=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var oe in B)I.set(oe,B[oe]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const fe of B.keys())I.set(fe,B.get(fe));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(I.keys()).find(fe=>fe.toLowerCase()=="content-type"),oe=c.FormData&&p instanceof c.FormData,!(Array.prototype.indexOf.call(Yu,j,void 0)>=0)||B||oe||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,Pe]of I)this.g.setRequestHeader(fe,Pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(fe){fl(this,fe)}};function fl(p,j){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=j,p.o=5,Qu(p),ti(p)}function Qu(p){p.A||(p.A=!0,tt(p,"complete"),tt(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,tt(this,"complete"),tt(this,"abort"),ti(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ti(this,!0)),Ut.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ml(this):this.Xa())},n.Xa=function(){ml(this)};function ml(p){if(p.h&&typeof l<"u"){if(p.v&&na(p)==4)setTimeout(p.Ca.bind(p),0);else if(tt(p,"readystatechange"),na(p)==4){p.h=!1;try{const fe=p.ca();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var I;if(!(I=j)){var B;if(B=fe===0){let Pe=String(p.D).match(Im)[1]||null;!Pe&&c.self&&c.self.location&&(Pe=c.self.location.protocol.slice(0,-1)),B=!Ia.test(Pe?Pe.toLowerCase():"")}I=B}if(I)tt(p,"complete"),tt(p,"success");else{p.o=6;try{var oe=na(p)>2?p.g.statusText:""}catch{oe=""}p.l=oe+" ["+p.ca()+"]",Qu(p)}}finally{ti(p)}}}}function ti(p,j){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const I=p.g;p.g=null,j||tt(p,"ready");try{I.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function na(p){return p.g?p.g.readyState:0}n.ca=function(){try{return na(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(p){if(this.g){var j=this.g.responseText;return p&&j.indexOf(p)==0&&(j=j.substring(p.length)),Zt(j)}};function sn(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function si(p){const j={};p=(p.g&&na(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<p.length;B++){if(R(p[B]))continue;var I=Em(p[B]);const oe=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const fe=j[oe]||[];j[oe]=fe,fe.push(I)}Ae(j,function(B){return B.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ra(p,j,I){return I&&I.internalChannelParams&&I.internalChannelParams[p]||j}function Ji(p){this.za=0,this.i=[],this.j=new qe,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ra("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ra("baseRetryDelayMs",5e3,p),this.Za=Ra("retryDelaySeedMs",1e4,p),this.Ta=Ra("forwardChannelMaxRetries",2,p),this.va=Ra("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new Vu(p&&p.concurrentRequestLimit),this.Ba=new Yi,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ji.prototype,n.ka=8,n.I=1,n.connect=function(p,j,I,B){cs(0),this.W=p,this.H=j||{},I&&B!==void 0&&(this.H.OSID=I,this.H.OAID=B),this.F=this.X,this.J=Bm(this,null,this.W),Pa(this)};function Ju(p){if(Uc(p),p.I==3){var j=p.V++,I=Rs(p.J);if(Pt(I,"SID",p.M),Pt(I,"RID",j),Pt(I,"TYPE","terminate"),pl(p,I),j=new Zr(p,p.j,j),j.M=2,j.A=cl(Rs(I)),I=!1,c.navigator&&c.navigator.sendBeacon)try{I=c.navigator.sendBeacon(j.A.toString(),"")}catch{}!I&&c.Image&&(new Image().src=j.A,I=!0),I||(j.g=$m(j.j,null),j.g.ea(j.A)),j.F=Date.now(),_a(j)}Fm(p)}function Xi(p){p.g&&(Zu(p),p.g.cancel(),p.g=null)}function Uc(p){Xi(p),p.v&&(c.clearTimeout(p.v),p.v=null),Bc(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&c.clearTimeout(p.m),p.m=null)}function Pa(p){if(!Uu(p.h)&&!p.m){p.m=!0;var j=p.Ea;U||P(),X||(U(),X=!0),A.add(j,p),p.D=0}}function Fc(p,j){return Ta(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=j.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=te(m(p.Ea,p,j),Um(p,p.D)),p.D++,!0)}n.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const oe=new Zr(this,this.j,p);let fe=this.o;if(this.U&&(fe?(fe=$(fe),G(fe,this.U)):fe=this.U),this.u!==null||this.R||(oe.J=fe,fe=null),this.S)e:{for(var j=0,I=0;I<this.i.length;I++){t:{var B=this.i[I];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(j+=B,j>4096){j=I;break e}if(j===4096||I===this.i.length-1){j=I+1;break e}}j=1e3}else j=1e3;j=Mm(this,oe,j),I=Rs(this.J),Pt(I,"RID",p),Pt(I,"CVER",22),this.G&&Pt(I,"X-HTTP-Session-Id",this.G),pl(this,I),fe&&(this.R?j="headers="+Xr(Er(fe))+"&"+j:this.u&&hl(I,this.u,fe)),Fu(this.h,oe),this.Ra&&Pt(I,"TYPE","init"),this.S?(Pt(I,"$req",j),Pt(I,"SID","null"),oe.U=!0,Na(oe,I,null)):Na(oe,I,j),this.I=2}}else this.I==3&&(p?Xu(this,p):this.i.length==0||Uu(this.h)||Xu(this))};function Xu(p,j){var I;j?I=j.l:I=p.V++;const B=Rs(p.J);Pt(B,"SID",p.M),Pt(B,"RID",I),Pt(B,"AID",p.K),pl(p,B),p.u&&p.o&&hl(B,p.u,p.o),I=new Zr(p,p.j,I,p.D+1),p.u===null&&(I.J=p.o),j&&(p.i=j.G.concat(p.i)),j=Mm(p,I,1e3),I.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),Fu(p.h,I),Na(I,B,j)}function pl(p,j){p.H&&Ie(p.H,function(I,B){Pt(j,B,I)}),p.l&&Ie({},function(I,B){Pt(j,B,I)})}function Mm(p,j,I){I=Math.min(p.i.length,I);const B=p.l?m(p.l.Ka,p.l,p):null;e:{var oe=p.i;let rt=-1;for(;;){const Ns=["count="+I];rt==-1?I>0?(rt=oe[0].g,Ns.push("ofs="+rt)):rt=0:Ns.push("ofs="+rt);let Ct=!0;for(let ts=0;ts<I;ts++){var fe=oe[ts].g;const Cr=oe[ts].map;if(fe-=rt,fe<0)rt=Math.max(0,oe[ts].g-100),Ct=!1;else try{fe="req"+fe+"_"||"";try{var Pe=Cr instanceof Map?Cr:Object.entries(Cr);for(const[Oa,ra]of Pe){let aa=ra;f(ra)&&(aa=Xe(ra)),Ns.push(fe+Oa+"="+encodeURIComponent(aa))}}catch(Oa){throw Ns.push(fe+"type="+encodeURIComponent("_badmap")),Oa}}catch{B&&B(Cr)}}if(Ct){Pe=Ns.join("&");break e}}Pe=void 0}return p=p.i.splice(0,I),j.G=p,Pe}function Lm(p){if(!p.g&&!p.v){p.Y=1;var j=p.Da;U||P(),X||(U(),X=!0),A.add(j,p),p.A=0}}function gl(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=te(m(p.Da,p),Um(p,p.A)),p.A++,!0)}n.Da=function(){if(this.v=null,zm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=te(m(this.Wa,this),p)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,cs(10),Xi(this),zm(this))};function Zu(p){p.B!=null&&(c.clearTimeout(p.B),p.B=null)}function zm(p){p.g=new Zr(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var j=Rs(p.na);Pt(j,"RID","rpc"),Pt(j,"SID",p.M),Pt(j,"AID",p.K),Pt(j,"CI",p.F?"0":"1"),!p.F&&p.ia&&Pt(j,"TO",p.ia),Pt(j,"TYPE","xmlhttp"),pl(p,j),p.u&&p.o&&hl(j,p.u,p.o),p.O&&(p.g.H=p.O);var I=p.g;p=p.ba,I.M=1,I.A=cl(Rs(j)),I.u=null,I.R=!0,Pc(I,p)}n.Va=function(){this.C!=null&&(this.C=null,Xi(this),gl(this),cs(19))};function Bc(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function Vm(p,j){var I=null;if(p.g==j){Bc(p),Zu(p),p.g=null;var B=2}else if(Ea(p.h,j))I=j.G,Bu(p.h,j),B=1;else return;if(p.I!=0){if(j.o)if(B==1){I=j.u?j.u.length:0,j=Date.now()-j.F;var oe=p.D;B=Bi(),tt(B,new ir(B,I)),Pa(p)}else Lm(p);else if(oe=j.m,oe==3||oe==0&&j.X>0||!(B==1&&Fc(p,j)||B==2&&gl(p)))switch(I&&I.length>0&&(j=p.h,j.i=j.i.concat(I)),oe){case 1:Da(p,5);break;case 4:Da(p,10);break;case 3:Da(p,6);break;default:Da(p,2)}}}function Um(p,j){let I=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(I*=2),I*j}function Da(p,j){if(p.j.info("Error code "+j),j==2){var I=m(p.bb,p),B=p.Ua;const oe=!B;B=new lr(B||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ws(B,"https"),cl(B),oe?ta(B.toString(),I):Wu(B.toString(),I)}else cs(2);p.I=0,p.l&&p.l.pa(j),Fm(p),Uc(p)}n.bb=function(p){p?(this.j.info("Successfully pinged google.com"),cs(2)):(this.j.info("Failed to ping google.com"),cs(1))};function Fm(p){if(p.I=0,p.ja=[],p.l){const j=$u(p.h);(j.length!=0||p.i.length!=0)&&(N(p.ja,j),N(p.ja,p.i),p.h.i.length=0,E(p.i),p.i.length=0),p.l.oa()}}function Bm(p,j,I){var B=I instanceof lr?Rs(I):new lr(I);if(B.g!="")j&&(B.g=j+"."+B.g),Hi(B,B.u);else{var oe=c.location;B=oe.protocol,j=j?j+"."+oe.hostname:oe.hostname,oe=+oe.port;const fe=new lr(null);B&&Ws(fe,B),j&&(fe.g=j),oe&&Hi(fe,oe),I&&(fe.h=I),B=fe}return I=p.G,j=p.wa,I&&j&&Pt(B,I,j),Pt(B,"VER",p.ka),pl(p,B),B}function $m(p,j,I){if(j&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return j=p.Aa&&!p.ma?new Ut(new Aa({ab:I})):new Ut(p.ma),j.Fa(p.L),j}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function qm(){}n=qm.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Zi(){}Zi.prototype.g=function(p,j){return new En(p,j)};function En(p,j){$e.call(this),this.g=new Ji(j),this.l=p,this.h=j&&j.messageUrlParams||null,p=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(p?p["X-WebChannel-Content-Type"]=j.messageContentType:p={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.sa&&(p?p["X-WebChannel-Client-Profile"]=j.sa:p={"X-WebChannel-Client-Profile":j.sa}),this.g.U=p,(p=j&&j.Qb)&&!R(p)&&(this.g.u=p),this.A=j&&j.supportsCrossDomainXhr||!1,this.v=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!R(j)&&(this.g.G=j,p=this.h,p!==null&&j in p&&(p=this.h,j in p&&delete p[j])),this.j=new ni(this)}b(En,$e),En.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Ju(this.g)},En.prototype.o=function(p){var j=this.g;if(typeof p=="string"){var I={};I.__data__=p,p=I}else this.v&&(I={},I.__data__=Xe(p),p=I);j.i.push(new Is(j.Ya++,p)),j.I==3&&Pa(j)},En.prototype.N=function(){this.g.l=null,delete this.j,Ju(this.g),delete this.g,En.Z.N.call(this)};function Hm(p){Fs.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var j=p.__sm__;if(j){e:{for(const I in j){p=I;break e}p=void 0}(this.i=p)&&(p=this.i,j=j!==null&&p in j?j[p]:void 0),this.data=j}else this.data=p}b(Hm,Fs);function Gm(){bn.call(this),this.status=1}b(Gm,bn);function ni(p){this.g=p}b(ni,qm),ni.prototype.ra=function(){tt(this.g,"a")},ni.prototype.qa=function(p){tt(this.g,new Hm(p))},ni.prototype.pa=function(p){tt(this.g,new Gm)},ni.prototype.oa=function(){tt(this.g,"b")},Zi.prototype.createWebChannel=Zi.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,PC=function(){return new Zi},RC=function(){return Bi()},IC=Vt,yv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},vn.NO_ERROR=0,vn.TIMEOUT=8,vn.HTTP_ERROR=6,bg=vn,$i.COMPLETE="complete",AC=$i,rr.EventType=Us,Us.OPEN="a",Us.CLOSE="b",Us.ERROR="c",Us.MESSAGE="d",$e.prototype.listen=$e.prototype.J,rf=rr,Ut.prototype.listenOnce=Ut.prototype.K,Ut.prototype.getLastError=Ut.prototype.Ha,Ut.prototype.getLastErrorCode=Ut.prototype.ya,Ut.prototype.getStatus=Ut.prototype.ca,Ut.prototype.getResponseJson=Ut.prototype.La,Ut.prototype.getResponseText=Ut.prototype.la,Ut.prototype.send=Ut.prototype.ea,Ut.prototype.setWithCredentials=Ut.prototype.Fa,CC=Ut}).apply(typeof ng<"u"?ng:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Js.UNAUTHENTICATED=new Js(null),Js.GOOGLE_CREDENTIALS=new Js("google-credentials-uid"),Js.FIRST_PARTY=new Js("first-party-uid"),Js.MOCK_USER=new Js("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iu="12.8.0";function R7(n){Iu=n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=new rm("@firebase/firestore");function Ad(){return Ko.logLevel}function P7(n){Ko.setLogLevel(n)}function Ee(n,...e){if(Ko.logLevel<=mt.DEBUG){const s=e.map(Yw);Ko.debug(`Firestore (${Iu}): ${n}`,...s)}}function Ss(n,...e){if(Ko.logLevel<=mt.ERROR){const s=e.map(Yw);Ko.error(`Firestore (${Iu}): ${n}`,...s)}}function Za(n,...e){if(Ko.logLevel<=mt.WARN){const s=e.map(Yw);Ko.warn(`Firestore (${Iu}): ${n}`,...s)}}function Yw(n){if(typeof n=="string")return n;try{return(function(s){return JSON.stringify(s)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(n,e,s){let r="Unexpected state";typeof e=="string"?r=e:s=e,DC(n,r,s)}function DC(n,e,s){let r=`FIRESTORE (${Iu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(s!==void 0)try{r+=" CONTEXT: "+JSON.stringify(s)}catch{r+=" CONTEXT: "+s}throw Ss(r),new Error(r)}function He(n,e,s,r){let i="Unexpected state";typeof s=="string"?i=s:r=s,n||DC(e,i,r)}function D7(n,e){n||Ve(57014,e)}function ze(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends pn{constructor(e,s){super(e,s),this.code=e,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(){this.promise=new Promise(((e,s)=>{this.resolve=e,this.reject=s}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class O7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,s){e.enqueueRetryable((()=>s(Js.UNAUTHENTICATED)))}shutdown(){}}class M7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,s){this.changeListener=s,e.enqueueRetryable((()=>s(this.token.user)))}shutdown(){this.changeListener=null}}class L7{constructor(e){this.t=e,this.currentUser=Js.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,s){He(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,s(u)):Promise.resolve();let l=new gn;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new gn,e.enqueueRetryable((()=>i(this.currentUser)))};const c=()=>{const u=l;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},f=u=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((u=>f(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?f(u):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new gn)}}),0),c()}getToken(){const e=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then((r=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string",31837,{l:r}),new OC(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new Js(e)}}class z7{constructor(e,s,r){this.P=e,this.T=s,this.I=r,this.type="FirstParty",this.user=Js.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class V7{constructor(e,s,r){this.P=e,this.T=s,this.I=r}getToken(){return Promise.resolve(new z7(this.P,this.T,this.I))}start(e,s){e.enqueueRetryable((()=>s(Js.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class dS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class U7{constructor(e,s){this.V=s,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,rs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,s){He(this.o===void 0,3512);const r=l=>{l.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Ee("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?s(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const i=l=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>i(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?i(l):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new dS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((s=>s?(He(typeof s.token=="string",44558,{tokenResult:s}),this.m=s.token,new dS(s.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F7(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(s);else for(let r=0;r<n;r++)s[r]=Math.floor(256*Math.random());return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=F7(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<s&&(r+=e.charAt(i[l]%62))}return r}}function et(n,e){return n<e?-1:n>e?1:0}function bv(n,e){const s=Math.min(n.length,e.length);for(let r=0;r<s;r++){const i=n.charAt(r),l=e.charAt(r);if(i!==l)return Ab(i)===Ab(l)?et(i,l):Ab(i)?1:-1}return et(n.length,e.length)}const B7=55296,$7=57343;function Ab(n){const e=n.charCodeAt(0);return e>=B7&&e<=$7}function nu(n,e,s){return n.length===e.length&&n.every(((r,i)=>s(r,e[i])))}function MC(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="__name__";class Ua{constructor(e,s,r){s===void 0?s=0:s>e.length&&Ve(637,{offset:s,range:e.length}),r===void 0?r=e.length-s:r>e.length-s&&Ve(1746,{length:r,range:e.length-s}),this.segments=e,this.offset=s,this.len=r}get length(){return this.len}isEqual(e){return Ua.comparator(this,e)===0}child(e){const s=this.segments.slice(this.offset,this.limit());return e instanceof Ua?e.forEach((r=>{s.push(r)})):s.push(e),this.construct(s)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}forEach(e){for(let s=this.offset,r=this.limit();s<r;s++)e(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,s){const r=Math.min(e.length,s.length);for(let i=0;i<r;i++){const l=Ua.compareSegments(e.get(i),s.get(i));if(l!==0)return l}return et(e.length,s.length)}static compareSegments(e,s){const r=Ua.isNumericId(e),i=Ua.isNumericId(s);return r&&!i?-1:!r&&i?1:r&&i?Ua.extractNumericId(e).compare(Ua.extractNumericId(s)):bv(e,s)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Lo.fromString(e.substring(4,e.length-2))}}class pt extends Ua{construct(e,s,r){return new pt(e,s,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const s=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);s.push(...r.split("/").filter((i=>i.length>0)))}return new pt(s)}static emptyPath(){return new pt([])}}const q7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class as extends Ua{construct(e,s,r){return new as(e,s,r)}static isValidIdentifier(e){return q7.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),as.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uS}static keyField(){return new as([uS])}static fromServerFormat(e){const s=[];let r="",i=0;const l=()=>{if(r.length===0)throw new Se(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(r),r=""};let c=!1;for(;i<e.length;){const f=e[i];if(f==="\\"){if(i+1===e.length)throw new Se(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Se(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else f==="`"?(c=!c,i++):f!=="."||c?(r+=f,i++):(l(),i++)}if(l(),c)throw new Se(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new as(s)}static emptyPath(){return new as([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(pt.fromString(e))}static fromName(e){return new De(pt.fromString(e).popFirst(5))}static empty(){return new De(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,s){return pt.comparator(e.path,s.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new pt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(n,e,s){if(!s)throw new Se(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function LC(n,e,s,r){if(e===!0&&r===!0)throw new Se(he.INVALID_ARGUMENT,`${n} and ${s} cannot be used together.`)}function hS(n){if(!De.isDocumentKey(n))throw new Se(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function fS(n){if(De.isDocumentKey(n))throw new Se(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function zC(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Tx(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ve(12329,{type:typeof n})}function Et(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Se(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=Tx(n);throw new Se(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${s}`)}}return n}function VC(n,e){if(e<=0)throw new Se(he.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(n,e){const s={typeString:n};return e&&(s.value=e),s}function hm(n,e){if(!zC(n))throw new Se(he.INVALID_ARGUMENT,"JSON must be an object");let s;for(const r in e)if(e[r]){const i=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){s=`JSON missing required field: '${r}'`;break}const c=n[r];if(i&&typeof c!==i){s=`JSON field '${r}' must be a ${i}.`;break}if(l!==void 0&&c!==l.value){s=`Expected '${r}' field to equal '${l.value}'`;break}}if(s)throw new Se(he.INVALID_ARGUMENT,s);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS=-62135596800,pS=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const s=Math.floor(e/1e3),r=Math.floor((e-1e3*s)*pS);return new Rt(s,r)}constructor(e,s){if(this.seconds=e,this.nanoseconds=s,s<0)throw new Se(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new Se(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(e<mS)throw new Se(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pS}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hm(e,Rt._jsonSchema))return new Rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-mS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Rt._jsonSchemaVersion="firestore/timestamp/1.0",Rt._jsonSchema={type:Vs("string",Rt._jsonSchemaVersion),seconds:Vs("number"),nanoseconds:Vs("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{static fromTimestamp(e){return new Ye(e)}static min(){return new Ye(new Rt(0,0))}static max(){return new Ye(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=-1;class $g{constructor(e,s,r,i){this.indexId=e,this.collectionGroup=s,this.fields=r,this.indexState=i}}function vv(n){return n.fields.find((e=>e.kind===2))}function Ol(n){return n.fields.filter((e=>e.kind!==2))}$g.UNKNOWN_ID=-1;class vg{constructor(e,s){this.fieldPath=e,this.kind=s}}class zf{constructor(e,s){this.sequenceNumber=e,this.offset=s}static empty(){return new zf(0,_r.min())}}function UC(n,e){const s=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ye.fromTimestamp(r===1e9?new Rt(s+1,0):new Rt(s,r));return new _r(i,De.empty(),e)}function FC(n){return new _r(n.readTime,n.key,ru)}class _r{constructor(e,s,r){this.readTime=e,this.documentKey=s,this.largestBatchId=r}static min(){return new _r(Ye.min(),De.empty(),ru)}static max(){return new _r(Ye.max(),De.empty(),ru)}}function Xw(n,e){let s=n.readTime.compareTo(e.readTime);return s!==0?s:(s=De.comparator(n.documentKey,e.documentKey),s!==0?s:et(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $C{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==BC)throw n;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)}),(s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)}))}catch(e){return this.next(void 0,e)}next(e,s){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(e,this.result):new re(((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(s,l).next(r,i)}}))}toPromise(){return new Promise(((e,s)=>{this.next(e,s)}))}wrapUserFunction(e){try{const s=e();return s instanceof re?s:re.resolve(s)}catch(s){return re.reject(s)}}wrapSuccess(e,s){return e?this.wrapUserFunction((()=>e(s))):re.resolve(s)}wrapFailure(e,s){return e?this.wrapUserFunction((()=>e(s))):re.reject(s)}static resolve(e){return new re(((s,r)=>{s(e)}))}static reject(e){return new re(((s,r)=>{r(e)}))}static waitFor(e){return new re(((s,r)=>{let i=0,l=0,c=!1;e.forEach((f=>{++i,f.next((()=>{++l,c&&l===i&&s()}),(u=>r(u)))})),c=!0,l===i&&s()}))}static or(e){let s=re.resolve(!1);for(const r of e)s=s.next((i=>i?re.resolve(i):r()));return s}static forEach(e,s){const r=[];return e.forEach(((i,l)=>{r.push(s.call(this,i,l))})),this.waitFor(r)}static mapArray(e,s){return new re(((r,i)=>{const l=e.length,c=new Array(l);let f=0;for(let u=0;u<l;u++){const m=u;s(e[m]).next((g=>{c[m]=g,++f,f===l&&r(c)}),(g=>i(g)))}}))}static doWhile(e,s){return new re(((r,i)=>{const l=()=>{e()===!0?s().next((()=>{l()}),i):r()};l()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr="SimpleDb";class Ex{static open(e,s,r,i){try{return new Ex(s,e.transaction(i,r))}catch(l){throw new xf(s,l)}}constructor(e,s){this.action=e,this.transaction=s,this.aborted=!1,this.S=new gn,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{s.error?this.S.reject(new xf(e,s.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=Zw(r.target.error);this.S.reject(new xf(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(Ee(gr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const s=this.transaction.objectStore(e);return new G7(s)}}class Qa{static delete(e){return Ee(gr,"Removing database:",e),Ll(bw().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!ic())return!1;if(Qa.F())return!0;const e=ds(),s=Qa.M(e),r=0<s&&s<10,i=qC(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,s){return e.store(s)}static M(e){const s=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=s?s[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,s,r){this.name=e,this.version=s,this.N=r,this.B=null,Qa.M(ds())===12.2&&Ss("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(Ee(gr,"Opening database:",this.name),this.db=await new Promise(((s,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=l=>{const c=l.target.result;s(c)},i.onblocked=()=>{r(new xf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=l=>{const c=l.target.error;c.name==="VersionError"?r(new Se(he.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?r(new Se(he.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):r(new xf(e,c))},i.onupgradeneeded=l=>{Ee(gr,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const c=l.target.result;this.N.k(c,i.transaction,l.oldVersion,this.version).next((()=>{Ee(gr,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=s=>this.K(s)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=s=>e(s))}async runTransaction(e,s,r,i){const l=s==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(e);const f=Ex.open(this.db,e,l?"readonly":"readwrite",r),u=i(f).next((m=>(f.C(),m))).catch((m=>(f.abort(m),re.reject(m)))).toPromise();return u.catch((()=>{})),await f.D,u}catch(f){const u=f,m=u.name!=="FirebaseError"&&c<3;if(Ee(gr,"Transaction failed with error:",u.message,"Retrying:",m),this.close(),!m)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}function qC(n){const e=n.match(/Android ([\d.]+)/i),s=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(s)}class H7{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return Ll(this.U.delete())}}class xf extends Se{constructor(e,s){super(he.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${s}`),this.name="IndexedDbTransactionError"}}function rl(n){return n.name==="IndexedDbTransactionError"}class G7{constructor(e){this.store=e}put(e,s){let r;return s!==void 0?(Ee(gr,"PUT",this.store.name,e,s),r=this.store.put(s,e)):(Ee(gr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ll(r)}add(e){return Ee(gr,"ADD",this.store.name,e,e),Ll(this.store.add(e))}get(e){return Ll(this.store.get(e)).next((s=>(s===void 0&&(s=null),Ee(gr,"GET",this.store.name,e,s),s)))}delete(e){return Ee(gr,"DELETE",this.store.name,e),Ll(this.store.delete(e))}count(){return Ee(gr,"COUNT",this.store.name),Ll(this.store.count())}H(e,s){const r=this.options(e,s),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const l=i.getAll(r.range);return new re(((c,f)=>{l.onerror=u=>{f(u.target.error)},l.onsuccess=u=>{c(u.target.result)}}))}{const l=this.cursor(r),c=[];return this.J(l,((f,u)=>{c.push(u)})).next((()=>c))}}Z(e,s){const r=this.store.getAll(e,s===null?void 0:s);return new re(((i,l)=>{r.onerror=c=>{l(c.target.error)},r.onsuccess=c=>{i(c.target.result)}}))}X(e,s){Ee(gr,"DELETE ALL",this.store.name);const r=this.options(e,s);r.Y=!1;const i=this.cursor(r);return this.J(i,((l,c,f)=>f.delete()))}ee(e,s){let r;s?r=e:(r={},s=e);const i=this.cursor(r);return this.J(i,s)}te(e){const s=this.cursor({});return new re(((r,i)=>{s.onerror=l=>{const c=Zw(l.target.error);i(c)},s.onsuccess=l=>{const c=l.target.result;c?e(c.primaryKey,c.value).next((f=>{f?c.continue():r()})):r()}}))}J(e,s){const r=[];return new re(((i,l)=>{e.onerror=c=>{l(c.target.error)},e.onsuccess=c=>{const f=c.target.result;if(!f)return void i();const u=new H7(f),m=s(f.primaryKey,f.value,u);if(m instanceof re){const g=m.catch((b=>(u.done(),re.reject(b))));r.push(g)}u.isDone?i():u.G===null?f.continue():f.continue(u.G)}})).next((()=>re.waitFor(r)))}options(e,s){let r;return e!==void 0&&(typeof e=="string"?r=e:s=e),{index:r,range:s}}cursor(e){let s="next";if(e.reverse&&(s="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,s):r.openCursor(e.range,s)}return this.store.openCursor(e.range,s)}}function Ll(n){return new re(((e,s)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=Zw(r.target.error);s(i)}}))}let gS=!1;function Zw(n){const e=Qa.M(ds());if(e>=12.2&&e<13){const s="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(s)>=0){const r=new Se("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${s}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return gS||(gS=!0,setTimeout((()=>{throw r}),0)),r}}return n}const yf="IndexBackfiller";class K7{constructor(e,s){this.asyncQueue=e,this.ne=s,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){Ee(yf,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const s=await this.ne.ie();Ee(yf,`Documents written: ${s}`)}catch(s){rl(s)?Ee(yf,"Ignoring IndexedDB error during index backfill: ",s):await nl(s)}await this.re(6e4)}))}}class W7{constructor(e,s){this.localStore=e,this.persistence=s}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(s=>this.se(s,e)))}se(e,s){const r=new Set;let i=s,l=!0;return re.doWhile((()=>l===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((c=>{if(c!==null&&!r.has(c))return Ee(yf,`Processing collection: ${c}`),this.oe(e,c,i).next((f=>{i-=f,r.add(c)}));l=!1})))).next((()=>s-i))}oe(e,s,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,s).next((i=>this.localStore.localDocuments.getNextDocuments(e,s,i,r).next((l=>{const c=l.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next((()=>this._e(i,l))).next((f=>(Ee(yf,`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,s,f)))).next((()=>c.size))}))))}_e(e,s){let r=e;return s.changes.forEach(((i,l)=>{const c=FC(l);Xw(c,r)>0&&(r=c)})),new _r(r.readTime,r.documentKey,Math.max(s.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,s){this.previousValue=e,s&&(s.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>s.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qn.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=-1;function fm(n){return n==null}function Vf(n){return n===0&&1/n==-1/0}function HC(n){return typeof n=="number"&&Number.isInteger(n)&&!Vf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="";function Sn(n){let e="";for(let s=0;s<n.length;s++)e.length>0&&(e=xS(e)),e=Y7(n.get(s),e);return xS(e)}function Y7(n,e){let s=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":s+="";break;case qg:s+="";break;default:s+=l}}return s}function xS(n){return n+qg+""}function Ka(n){const e=n.length;if(He(e>=2,64408,{path:n}),e===2)return He(n.charAt(0)===qg&&n.charAt(1)==="",56145,{path:n}),pt.emptyPath();const s=e-2,r=[];let i="";for(let l=0;l<e;){const c=n.indexOf(qg,l);switch((c<0||c>s)&&Ve(50515,{path:n}),n.charAt(c+1)){case"":const f=n.substring(l,c);let u;i.length===0?u=f:(i+=f,u=i,i=""),r.push(u);break;case"":i+=n.substring(l,c),i+="\0";break;case"":i+=n.substring(l,c+1);break;default:Ve(61167,{path:n})}l=c+2}return new pt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml="remoteDocuments",mm="owner",_d="owner",Uf="mutationQueues",Q7="userId",da="mutations",yS="batchId",ql="userMutationsIndex",bS=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(n,e){return[n,Sn(e)]}function GC(n,e,s){return[n,Sn(e),s]}const J7={},au="documentMutations",Hg="remoteDocumentsV14",X7=["prefixPath","collectionGroup","readTime","documentId"],jg="documentKeyIndex",Z7=["prefixPath","collectionGroup","documentId"],KC="collectionGroupIndex",e$=["collectionGroup","readTime","prefixPath","documentId"],Ff="remoteDocumentGlobal",wv="remoteDocumentGlobalKey",iu="targets",WC="queryTargetsIndex",t$=["canonicalId","targetId"],ou="targetDocuments",s$=["targetId","path"],ej="documentTargetsIndex",n$=["path","targetId"],Gg="targetGlobalKey",Zl="targetGlobal",Bf="collectionParents",r$=["collectionId","parent"],lu="clientMetadata",a$="clientId",Cx="bundles",i$="bundleId",Ax="namedQueries",o$="name",tj="indexConfiguration",l$="indexId",jv="collectionGroupIndex",c$="collectionGroup",bf="indexState",d$=["indexId","uid"],YC="sequenceNumberIndex",u$=["uid","sequenceNumber"],vf="indexEntries",h$=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],QC="documentKeyIndex",f$=["indexId","uid","orderedDocumentKey"],Ix="documentOverlays",m$=["userId","collectionPath","documentId"],Nv="collectionPathOverlayIndex",p$=["userId","collectionPath","largestBatchId"],JC="collectionGroupOverlayIndex",g$=["userId","collectionGroup","largestBatchId"],sj="globals",x$="name",XC=[Uf,da,au,Ml,iu,mm,Zl,ou,lu,Ff,Bf,Cx,Ax],y$=[...XC,Ix],ZC=[Uf,da,au,Hg,iu,mm,Zl,ou,lu,Ff,Bf,Cx,Ax,Ix],eA=ZC,nj=[...eA,tj,bf,vf],b$=nj,tA=[...nj,sj],v$=tA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v extends $C{constructor(e,s){super(),this.le=e,this.currentSequenceNumber=s}}function Hs(n,e){const s=ze(n);return Qa.O(s.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(n){let e=0;for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&e++;return e}function al(n,e){for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&e(s,n[s])}function sA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,s){this.comparator=e,this.root=s||dn.EMPTY}insert(e,s){return new Yt(this.comparator,this.root.insert(e,s,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new Yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return s.value;r<0?s=s.left:r>0&&(s=s.right)}return null}indexOf(e){let s=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return s+r.left.size;i<0?r=r.left:(s+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((s,r)=>(e(s,r),!1)))}toString(){const e=[];return this.inorderTraversal(((s,r)=>(e.push(`${s}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rg(this.root,e,this.comparator,!1)}getReverseIterator(){return new rg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rg(this.root,e,this.comparator,!0)}}class rg{constructor(e,s,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=s?r(e.key,s):1,s&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const s={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,s,r,i,l){this.key=e,this.value=s,this.color=r??dn.RED,this.left=i??dn.EMPTY,this.right=l??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,s,r,i,l){return new dn(e??this.key,s??this.value,r??this.color,i??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,s,r),null):l===0?i.copy(null,s,null,null,null):i.copy(null,null,null,null,i.right.insert(e,s,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,s){let r,i=this;if(s(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,s),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),s(e,i.key)===0){if(i.right.isEmpty())return dn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,s))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,s,r,i,l){return this}insert(e,s,r){return new dn(e,s)}remove(e,s){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new Yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((s,r)=>(e(s),!1)))}forEachInRange(e,s){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;s(i.key)}}forEachWhile(e,s){let r;for(r=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const s=this.data.getIteratorFrom(e);return s.hasNext()?s.getNext().key:null}getIterator(){return new wS(this.data.getIterator())}getIteratorFrom(e){return new wS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let s=this;return s.size<e.size&&(s=e,e=this),e.forEach((r=>{s=s.add(r)})),s}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const s=this.data.getIterator(),r=e.data.getIterator();for(;s.hasNext();){const i=s.getNext().key,l=r.getNext().key;if(this.comparator(i,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((s=>{e.push(s)})),e}toString(){const e=[];return this.forEach((s=>e.push(s))),"SortedSet("+e.toString()+")"}copy(e){const s=new zt(this.comparator);return s.data=e,s}}class wS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function kd(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(as.comparator)}static empty(){return new Jn([])}unionWith(e){let s=new zt(as.comparator);for(const r of this.fields)s=s.add(r);for(const r of e)s=s.add(r);return new Jn(s.toArray())}covers(e){for(const s of this.fields)if(s.isPrefixOf(e))return!0;return!1}isEqual(e){return nu(this.fields,e.fields,((s,r)=>s.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w$(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.binaryString=e}static fromBase64String(e){const s=(function(i){try{return atob(i)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new nA("Invalid base64 string: "+l):l}})(e);return new bs(s)}static fromUint8Array(e){const s=(function(i){let l="";for(let c=0;c<i.length;++c)l+=String.fromCharCode(i[c]);return l})(e);return new bs(s)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(s){return btoa(s)})(this.binaryString)}toUint8Array(){return(function(s){const r=new Uint8Array(s.length);for(let i=0;i<s.length;i++)r[i]=s.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bs.EMPTY_BYTE_STRING=new bs("");const j$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pi(n){if(He(!!n,39018),typeof n=="string"){let e=0;const s=j$.exec(n);if(He(!!s,46558,{timestamp:n}),s[1]){let i=s[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ns(n.seconds),nanos:ns(n.nanos)}}function ns(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Di(n){return typeof n=="string"?bs.fromBase64String(n):bs.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="server_timestamp",aA="__type__",iA="__previous_value__",oA="__local_write_time__";function Rx(n){var s,r;return((r=(((s=n==null?void 0:n.mapValue)==null?void 0:s.fields)||{})[aA])==null?void 0:r.stringValue)===rA}function Px(n){const e=n.mapValue.fields[iA];return Rx(e)?Px(e):e}function $f(n){const e=Pi(n.mapValue.fields[oA].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N${constructor(e,s,r,i,l,c,f,u,m,g,b){this.databaseId=e,this.appId=s,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=u,this.useFetchStreams=m,this.isUsingEmulator=g,this.apiKey=b}}const kv="(default)";class Wo{constructor(e,s){this.projectId=e,this.database=s||kv}static empty(){return new Wo("","")}get isDefaultDatabase(){return this.database===kv}isEqual(e){return e instanceof Wo&&e.projectId===this.projectId&&e.database===this.database}}function _$(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new Se(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wo(n.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj="__type__",lA="__max__",Ro={mapValue:{fields:{__type__:{stringValue:lA}}}},aj="__vector__",cu="value",Ng={nullValue:"NULL_VALUE"};function Yo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Rx(n)?4:cA(n)?9007199254740991:Dx(n)?10:11:Ve(28295,{value:n})}function ei(n,e){if(n===e)return!0;const s=Yo(n);if(s!==Yo(e))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $f(n).isEqual($f(e));case 3:return(function(i,l){if(typeof i.timestampValue=="string"&&typeof l.timestampValue=="string"&&i.timestampValue.length===l.timestampValue.length)return i.timestampValue===l.timestampValue;const c=Pi(i.timestampValue),f=Pi(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,l){return Di(i.bytesValue).isEqual(Di(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,l){return ns(i.geoPointValue.latitude)===ns(l.geoPointValue.latitude)&&ns(i.geoPointValue.longitude)===ns(l.geoPointValue.longitude)})(n,e);case 2:return(function(i,l){if("integerValue"in i&&"integerValue"in l)return ns(i.integerValue)===ns(l.integerValue);if("doubleValue"in i&&"doubleValue"in l){const c=ns(i.doubleValue),f=ns(l.doubleValue);return c===f?Vf(c)===Vf(f):isNaN(c)&&isNaN(f)}return!1})(n,e);case 9:return nu(n.arrayValue.values||[],e.arrayValue.values||[],ei);case 10:case 11:return(function(i,l){const c=i.mapValue.fields||{},f=l.mapValue.fields||{};if(vS(c)!==vS(f))return!1;for(const u in c)if(c.hasOwnProperty(u)&&(f[u]===void 0||!ei(c[u],f[u])))return!1;return!0})(n,e);default:return Ve(52216,{left:n})}}function qf(n,e){return(n.values||[]).find((s=>ei(s,e)))!==void 0}function Qo(n,e){if(n===e)return 0;const s=Yo(n),r=Yo(e);if(s!==r)return et(s,r);switch(s){case 0:case 9007199254740991:return 0;case 1:return et(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=ns(l.integerValue||l.doubleValue),u=ns(c.integerValue||c.doubleValue);return f<u?-1:f>u?1:f===u?0:isNaN(f)?isNaN(u)?0:-1:1})(n,e);case 3:return jS(n.timestampValue,e.timestampValue);case 4:return jS($f(n),$f(e));case 5:return bv(n.stringValue,e.stringValue);case 6:return(function(l,c){const f=Di(l),u=Di(c);return f.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),u=c.split("/");for(let m=0;m<f.length&&m<u.length;m++){const g=et(f[m],u[m]);if(g!==0)return g}return et(f.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=et(ns(l.latitude),ns(c.latitude));return f!==0?f:et(ns(l.longitude),ns(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return NS(n.arrayValue,e.arrayValue);case 10:return(function(l,c){var v,E,N,C;const f=l.fields||{},u=c.fields||{},m=(v=f[cu])==null?void 0:v.arrayValue,g=(E=u[cu])==null?void 0:E.arrayValue,b=et(((N=m==null?void 0:m.values)==null?void 0:N.length)||0,((C=g==null?void 0:g.values)==null?void 0:C.length)||0);return b!==0?b:NS(m,g)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Ro.mapValue&&c===Ro.mapValue)return 0;if(l===Ro.mapValue)return 1;if(c===Ro.mapValue)return-1;const f=l.fields||{},u=Object.keys(f),m=c.fields||{},g=Object.keys(m);u.sort(),g.sort();for(let b=0;b<u.length&&b<g.length;++b){const v=bv(u[b],g[b]);if(v!==0)return v;const E=Qo(f[u[b]],m[g[b]]);if(E!==0)return E}return et(u.length,g.length)})(n.mapValue,e.mapValue);default:throw Ve(23264,{he:s})}}function jS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return et(n,e);const s=Pi(n),r=Pi(e),i=et(s.seconds,r.seconds);return i!==0?i:et(s.nanos,r.nanos)}function NS(n,e){const s=n.values||[],r=e.values||[];for(let i=0;i<s.length&&i<r.length;++i){const l=Qo(s[i],r[i]);if(l)return l}return et(s.length,r.length)}function du(n){return Sv(n)}function Sv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(s){const r=Pi(s);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(s){return Di(s).toBase64()})(n.bytesValue):"referenceValue"in n?(function(s){return De.fromName(s).toString()})(n.referenceValue):"geoPointValue"in n?(function(s){return`geo(${s.latitude},${s.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(s){let r="[",i=!0;for(const l of s.values||[])i?i=!1:r+=",",r+=Sv(l);return r+"]"})(n.arrayValue):"mapValue"in n?(function(s){const r=Object.keys(s.fields||{}).sort();let i="{",l=!0;for(const c of r)l?l=!1:i+=",",i+=`${c}:${Sv(s.fields[c])}`;return i+"}"})(n.mapValue):Ve(61005,{value:n})}function _g(n){switch(Yo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Px(n);return e?16+_g(e):16;case 5:return 2*n.stringValue.length;case 6:return Di(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,l)=>i+_g(l)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return al(r.fields,((l,c)=>{i+=l.length+_g(c)})),i})(n.mapValue);default:throw Ve(13486,{value:n})}}function dc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Tv(n){return!!n&&"integerValue"in n}function Hf(n){return!!n&&"arrayValue"in n}function _S(n){return!!n&&"nullValue"in n}function kS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function kg(n){return!!n&&"mapValue"in n}function Dx(n){var s,r;return((r=(((s=n==null?void 0:n.mapValue)==null?void 0:s.fields)||{})[rj])==null?void 0:r.stringValue)===aj}function wf(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return al(n.mapValue.fields,((s,r)=>e.mapValue.fields[s]=wf(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let s=0;s<(n.arrayValue.values||[]).length;++s)e.arrayValue.values[s]=wf(n.arrayValue.values[s]);return e}return{...n}}function cA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===lA}const dA={mapValue:{fields:{[rj]:{stringValue:aj},[cu]:{arrayValue:{}}}}};function k$(n){return"nullValue"in n?Ng:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?dc(Wo.empty(),De.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Dx(n)?dA:{mapValue:{}}:Ve(35942,{value:n})}function S$(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?dc(Wo.empty(),De.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?dA:"mapValue"in n?Dx(n)?{mapValue:{}}:Ro:Ve(61959,{value:n})}function SS(n,e){const s=Qo(n.value,e.value);return s!==0?s:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function TS(n,e){const s=Qo(n.value,e.value);return s!==0?s:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let s=this.value;for(let r=0;r<e.length-1;++r)if(s=(s.mapValue.fields||{})[e.get(r)],!kg(s))return null;return s=(s.mapValue.fields||{})[e.lastSegment()],s||null}}set(e,s){this.getFieldsMap(e.popLast())[e.lastSegment()]=wf(s)}setAll(e){let s=as.emptyPath(),r={},i=[];e.forEach(((c,f)=>{if(!s.isImmediateParentOf(f)){const u=this.getFieldsMap(s);this.applyChanges(u,r,i),r={},i=[],s=f.popLast()}c?r[f.lastSegment()]=wf(c):i.push(f.lastSegment())}));const l=this.getFieldsMap(s);this.applyChanges(l,r,i)}delete(e){const s=this.field(e.popLast());kg(s)&&s.mapValue.fields&&delete s.mapValue.fields[e.lastSegment()]}isEqual(e){return ei(this.value,e.value)}getFieldsMap(e){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=s.mapValue.fields[e.get(r)];kg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},s.mapValue.fields[e.get(r)]=i),s=i}return s.mapValue.fields}applyChanges(e,s,r){al(s,((i,l)=>e[i]=l));for(const i of r)delete e[i]}clone(){return new hn(wf(this.value))}}function uA(n){const e=[];return al(n.fields,((s,r)=>{const i=new as([s]);if(kg(r)){const l=uA(r.mapValue).fields;if(l.length===0)e.push(i);else for(const c of l)e.push(i.child(c))}else e.push(i)})),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,s,r,i,l,c,f){this.key=e,this.documentType=s,this.version=r,this.readTime=i,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Xt(e,0,Ye.min(),Ye.min(),Ye.min(),hn.empty(),0)}static newFoundDocument(e,s,r,i){return new Xt(e,1,s,Ye.min(),r,i,0)}static newNoDocument(e,s){return new Xt(e,2,s,Ye.min(),Ye.min(),hn.empty(),0)}static newUnknownDocument(e,s){return new Xt(e,3,s,Ye.min(),Ye.min(),hn.empty(),2)}convertToFoundDocument(e,s){return!this.createTime.isEqual(Ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,s){this.position=e,this.inclusive=s}}function ES(n,e,s){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],c=n.position[i];if(l.field.isKeyField()?r=De.comparator(De.fromName(c.referenceValue),s.key):r=Qo(c,s.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function CS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let s=0;s<n.position.length;s++)if(!ei(n.position[s],e.position[s]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,s="asc"){this.field=e,this.dir=s}}function T$(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{}class vt extends hA{constructor(e,s,r){super(),this.field=e,this.op=s,this.value=r}static create(e,s,r){return e.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(e,s,r):new E$(e,s,r):s==="array-contains"?new I$(e,r):s==="in"?new yA(e,r):s==="not-in"?new R$(e,r):s==="array-contains-any"?new P$(e,r):new vt(e,s,r)}static createKeyFieldInFilter(e,s,r){return s==="in"?new C$(e,r):new A$(e,r)}matches(e){const s=e.data.field(this.field);return this.op==="!="?s!==null&&s.nullValue===void 0&&this.matchesComparison(Qo(s,this.value)):s!==null&&Yo(this.value)===Yo(s)&&this.matchesComparison(Qo(s,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mt extends hA{constructor(e,s){super(),this.filters=e,this.op=s,this.Pe=null}static create(e,s){return new Mt(e,s)}matches(e){return uu(this)?this.filters.find((s=>!s.matches(e)))===void 0:this.filters.find((s=>s.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,s)=>e.concat(s.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uu(n){return n.op==="and"}function Ev(n){return n.op==="or"}function ij(n){return fA(n)&&uu(n)}function fA(n){for(const e of n.filters)if(e instanceof Mt)return!1;return!0}function Cv(n){if(n instanceof vt)return n.field.canonicalString()+n.op.toString()+du(n.value);if(ij(n))return n.filters.map((e=>Cv(e))).join(",");{const e=n.filters.map((s=>Cv(s))).join(",");return`${n.op}(${e})`}}function mA(n,e){return n instanceof vt?(function(r,i){return i instanceof vt&&r.op===i.op&&r.field.isEqual(i.field)&&ei(r.value,i.value)})(n,e):n instanceof Mt?(function(r,i){return i instanceof Mt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((l,c,f)=>l&&mA(c,i.filters[f])),!0):!1})(n,e):void Ve(19439)}function pA(n,e){const s=n.filters.concat(e);return Mt.create(s,n.op)}function gA(n){return n instanceof vt?(function(s){return`${s.field.canonicalString()} ${s.op} ${du(s.value)}`})(n):n instanceof Mt?(function(s){return s.op.toString()+" {"+s.getFilters().map(gA).join(" ,")+"}"})(n):"Filter"}class E$ extends vt{constructor(e,s,r){super(e,s,r),this.key=De.fromName(r.referenceValue)}matches(e){const s=De.comparator(e.key,this.key);return this.matchesComparison(s)}}class C$ extends vt{constructor(e,s){super(e,"in",s),this.keys=xA("in",s)}matches(e){return this.keys.some((s=>s.isEqual(e.key)))}}class A$ extends vt{constructor(e,s){super(e,"not-in",s),this.keys=xA("not-in",s)}matches(e){return!this.keys.some((s=>s.isEqual(e.key)))}}function xA(n,e){var s;return(((s=e.arrayValue)==null?void 0:s.values)||[]).map((r=>De.fromName(r.referenceValue)))}class I$ extends vt{constructor(e,s){super(e,"array-contains",s)}matches(e){const s=e.data.field(this.field);return Hf(s)&&qf(s.arrayValue,this.value)}}class yA extends vt{constructor(e,s){super(e,"in",s)}matches(e){const s=e.data.field(this.field);return s!==null&&qf(this.value.arrayValue,s)}}class R$ extends vt{constructor(e,s){super(e,"not-in",s)}matches(e){if(qf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=e.data.field(this.field);return s!==null&&s.nullValue===void 0&&!qf(this.value.arrayValue,s)}}class P$ extends vt{constructor(e,s){super(e,"array-contains-any",s)}matches(e){const s=e.data.field(this.field);return!(!Hf(s)||!s.arrayValue.values)&&s.arrayValue.values.some((r=>qf(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(e,s=null,r=[],i=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=s,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function Av(n,e=null,s=[],r=[],i=null,l=null,c=null){return new D$(n,e,s,r,i,l,c)}function uc(n){const e=ze(n);if(e.Te===null){let s=e.path.canonicalString();e.collectionGroup!==null&&(s+="|cg:"+e.collectionGroup),s+="|f:",s+=e.filters.map((r=>Cv(r))).join(","),s+="|ob:",s+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),fm(e.limit)||(s+="|l:",s+=e.limit),e.startAt&&(s+="|lb:",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((r=>du(r))).join(",")),e.endAt&&(s+="|ub:",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((r=>du(r))).join(",")),e.Te=s}return e.Te}function pm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<n.orderBy.length;s++)if(!T$(n.orderBy[s],e.orderBy[s]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let s=0;s<n.filters.length;s++)if(!mA(n.filters[s],e.filters[s]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!CS(n.startAt,e.startAt)&&CS(n.endAt,e.endAt)}function Kg(n){return De.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Wg(n,e){return n.filters.filter((s=>s instanceof vt&&s.field.isEqual(e)))}function AS(n,e,s){let r=Ng,i=!0;for(const l of Wg(n,e)){let c=Ng,f=!0;switch(l.op){case"<":case"<=":c=k$(l.value);break;case"==":case"in":case">=":c=l.value;break;case">":c=l.value,f=!1;break;case"!=":case"not-in":c=Ng}SS({value:r,inclusive:i},{value:c,inclusive:f})<0&&(r=c,i=f)}if(s!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const c=s.position[l];SS({value:r,inclusive:i},{value:c,inclusive:s.inclusive})<0&&(r=c,i=s.inclusive);break}}return{value:r,inclusive:i}}function IS(n,e,s){let r=Ro,i=!0;for(const l of Wg(n,e)){let c=Ro,f=!0;switch(l.op){case">=":case">":c=S$(l.value),f=!1;break;case"==":case"in":case"<=":c=l.value;break;case"<":c=l.value,f=!1;break;case"!=":case"not-in":c=Ro}TS({value:r,inclusive:i},{value:c,inclusive:f})>0&&(r=c,i=f)}if(s!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const c=s.position[l];TS({value:r,inclusive:i},{value:c,inclusive:s.inclusive})>0&&(r=c,i=s.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,s=null,r=[],i=[],l=null,c="F",f=null,u=null){this.path=e,this.collectionGroup=s,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function bA(n,e,s,r,i,l,c,f){return new zi(n,e,s,r,i,l,c,f)}function Ru(n){return new zi(n)}function RS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function O$(n){return De.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function oj(n){return n.collectionGroup!==null}function qd(n){const e=ze(n);if(e.Ie===null){e.Ie=[];const s=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),s.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new zt(as.comparator);return c.filters.forEach((u=>{u.getFlattenedFilters().forEach((m=>{m.isInequality()&&(f=f.add(m.field))}))})),f})(e).forEach((l=>{s.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Gf(l,r))})),s.has(as.keyField().canonicalString())||e.Ie.push(new Gf(as.keyField(),r))}return e.Ie}function Mn(n){const e=ze(n);return e.Ee||(e.Ee=M$(e,qd(n))),e.Ee}function M$(n,e){if(n.limitType==="F")return Av(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const l=i.dir==="desc"?"asc":"desc";return new Gf(i.field,l)}));const s=n.endAt?new Jo(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Jo(n.startAt.position,n.startAt.inclusive):null;return Av(n.path,n.collectionGroup,e,n.filters,n.limit,s,r)}}function Iv(n,e){const s=n.filters.concat([e]);return new zi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),s,n.limit,n.limitType,n.startAt,n.endAt)}function L$(n,e){const s=n.explicitOrderBy.concat([e]);return new zi(n.path,n.collectionGroup,s,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function Yg(n,e,s){return new zi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,s,n.startAt,n.endAt)}function z$(n,e){return new zi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,e,n.endAt)}function V$(n,e){return new zi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,e)}function gm(n,e){return pm(Mn(n),Mn(e))&&n.limitType===e.limitType}function vA(n){return`${uc(Mn(n))}|lt:${n.limitType}`}function Id(n){return`Query(target=${(function(s){let r=s.path.canonicalString();return s.collectionGroup!==null&&(r+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(r+=`, filters: [${s.filters.map((i=>gA(i))).join(", ")}]`),fm(s.limit)||(r+=", limit: "+s.limit),s.orderBy.length>0&&(r+=`, orderBy: [${s.orderBy.map((i=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(i))).join(", ")}]`),s.startAt&&(r+=", startAt: ",r+=s.startAt.inclusive?"b:":"a:",r+=s.startAt.position.map((i=>du(i))).join(",")),s.endAt&&(r+=", endAt: ",r+=s.endAt.inclusive?"a:":"b:",r+=s.endAt.position.map((i=>du(i))).join(",")),`Target(${r})`})(Mn(n))}; limitType=${n.limitType})`}function xm(n,e){return e.isFoundDocument()&&(function(r,i){const l=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):De.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(n,e)&&(function(r,i){for(const l of qd(r))if(!l.field.isKeyField()&&i.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const l of r.filters)if(!l.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(c,f,u){const m=ES(c,f,u);return c.inclusive?m<=0:m<0})(r.startAt,qd(r),i)||r.endAt&&!(function(c,f,u){const m=ES(c,f,u);return c.inclusive?m>=0:m>0})(r.endAt,qd(r),i))})(n,e)}function wA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function jA(n){return(e,s)=>{let r=!1;for(const i of qd(n)){const l=U$(i,e,s);if(l!==0)return l;r=r||i.field.isKeyField()}return 0}}function U$(n,e,s){const r=n.field.isKeyField()?De.comparator(e.key,s.key):(function(l,c,f){const u=c.data.field(l),m=f.data.field(l);return u!==null&&m!==null?Qo(u,m):Ve(42886)})(n.field,e,s);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ve(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,s){this.mapKeyFn=e,this.equalsFn=s,this.inner={},this.innerSize=0}get(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r!==void 0){for(const[i,l]of r)if(this.equalsFn(i,e))return l}}has(e){return this.get(e)!==void 0}set(e,s){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,s]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,s]);i.push([e,s]),this.innerSize++}delete(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[s]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){al(this.inner,((s,r)=>{for(const[i,l]of r)e(i,l)}))}isEmpty(){return sA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F$=new Yt(De.comparator);function Xn(){return F$}const NA=new Yt(De.comparator);function af(...n){let e=NA;for(const s of n)e=e.insert(s.key,s);return e}function _A(n){let e=NA;return n.forEach(((s,r)=>e=e.insert(s,r.overlayedDocument))),e}function Wa(){return jf()}function kA(){return jf()}function jf(){return new Vi((n=>n.toString()),((n,e)=>n.isEqual(e)))}const B$=new Yt(De.comparator),$$=new zt(De.comparator);function it(...n){let e=$$;for(const s of n)e=e.add(s);return e}const q$=new zt(et);function lj(){return q$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vf(e)?"-0":e}}function SA(n){return{integerValue:""+n}}function TA(n,e){return HC(e)?SA(e):cj(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(){this._=void 0}}function H$(n,e,s){return n instanceof hu?(function(i,l){const c={fields:{[aA]:{stringValue:rA},[oA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return l&&Rx(l)&&(l=Px(l)),l&&(c.fields[iA]=l),{mapValue:c}})(s,e):n instanceof hc?CA(n,e):n instanceof fc?AA(n,e):(function(i,l){const c=EA(i,l),f=PS(c)+PS(i.Ae);return Tv(c)&&Tv(i.Ae)?SA(f):cj(i.serializer,f)})(n,e)}function G$(n,e,s){return n instanceof hc?CA(n,e):n instanceof fc?AA(n,e):s}function EA(n,e){return n instanceof fu?(function(r){return Tv(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class hu extends Ox{}class hc extends Ox{constructor(e){super(),this.elements=e}}function CA(n,e){const s=IA(e);for(const r of n.elements)s.some((i=>ei(i,r)))||s.push(r);return{arrayValue:{values:s}}}class fc extends Ox{constructor(e){super(),this.elements=e}}function AA(n,e){let s=IA(e);for(const r of n.elements)s=s.filter((i=>!ei(i,r)));return{arrayValue:{values:s}}}class fu extends Ox{constructor(e,s){super(),this.serializer=e,this.Ae=s}}function PS(n){return ns(n.integerValue||n.doubleValue)}function IA(n){return Hf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,s){this.field=e,this.transform=s}}function K$(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof hc&&i instanceof hc||r instanceof fc&&i instanceof fc?nu(r.elements,i.elements,ei):r instanceof fu&&i instanceof fu?ei(r.Ae,i.Ae):r instanceof hu&&i instanceof hu})(n.transform,e.transform)}class W${constructor(e,s){this.version=e,this.transformResults=s}}class is{constructor(e,s){this.updateTime=e,this.exists=s}static none(){return new is}static exists(e){return new is(void 0,e)}static updateTime(e){return new is(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Mx{}function RA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Du(n.key,is.none()):new Pu(n.key,n.data,is.none());{const s=n.data,r=hn.empty();let i=new zt(as.comparator);for(let l of e.fields)if(!i.has(l)){let c=s.field(l);c===null&&l.length>1&&(l=l.popLast(),c=s.field(l)),c===null?r.delete(l):r.set(l,c),i=i.add(l)}return new Ui(n.key,r,new Jn(i.toArray()),is.none())}}function Y$(n,e,s){n instanceof Pu?(function(i,l,c){const f=i.value.clone(),u=OS(i.fieldTransforms,l,c.transformResults);f.setAll(u),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,s):n instanceof Ui?(function(i,l,c){if(!Sg(i.precondition,l))return void l.convertToUnknownDocument(c.version);const f=OS(i.fieldTransforms,l,c.transformResults),u=l.data;u.setAll(PA(i)),u.setAll(f),l.convertToFoundDocument(c.version,u).setHasCommittedMutations()})(n,e,s):(function(i,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,s)}function Nf(n,e,s,r){return n instanceof Pu?(function(l,c,f,u){if(!Sg(l.precondition,c))return f;const m=l.value.clone(),g=MS(l.fieldTransforms,u,c);return m.setAll(g),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(n,e,s,r):n instanceof Ui?(function(l,c,f,u){if(!Sg(l.precondition,c))return f;const m=MS(l.fieldTransforms,u,c),g=c.data;return g.setAll(PA(l)),g.setAll(m),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(n,e,s,r):(function(l,c,f){return Sg(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(n,e,s)}function Q$(n,e){let s=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=EA(r.transform,i||null);l!=null&&(s===null&&(s=hn.empty()),s.set(r.field,l))}return s||null}function DS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&nu(r,i,((l,c)=>K$(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Pu extends Mx{constructor(e,s,r,i=[]){super(),this.key=e,this.value=s,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ui extends Mx{constructor(e,s,r,i,l=[]){super(),this.key=e,this.data=s,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function PA(n){const e=new Map;return n.fieldMask.fields.forEach((s=>{if(!s.isEmpty()){const r=n.data.field(s);e.set(s,r)}})),e}function OS(n,e,s){const r=new Map;He(n.length===s.length,32656,{Ve:s.length,de:n.length});for(let i=0;i<s.length;i++){const l=n[i],c=l.transform,f=e.data.field(l.field);r.set(l.field,G$(c,f,s[i]))}return r}function MS(n,e,s){const r=new Map;for(const i of n){const l=i.transform,c=s.data.field(i.field);r.set(i.field,H$(l,c,e))}return r}class Du extends Mx{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dj extends Mx{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e,s,r,i){this.batchId=e,this.localWriteTime=s,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,s){const r=s.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&Y$(l,e,r[i])}}applyToLocalView(e,s){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(s=Nf(r,e,s,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(s=Nf(r,e,s,this.localWriteTime));return s}applyToLocalDocumentSet(e,s){const r=kA();return this.mutations.forEach((i=>{const l=e.get(i.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=s.has(i.key)?null:f;const u=RA(c,f);u!==null&&r.set(i.key,u),c.isValidDocument()||c.convertToNoDocument(Ye.min())})),r}keys(){return this.mutations.reduce(((e,s)=>e.add(s.key)),it())}isEqual(e){return this.batchId===e.batchId&&nu(this.mutations,e.mutations,((s,r)=>DS(s,r)))&&nu(this.baseMutations,e.baseMutations,((s,r)=>DS(s,r)))}}class hj{constructor(e,s,r,i){this.batch=e,this.commitVersion=s,this.mutationResults=r,this.docVersions=i}static from(e,s,r){He(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return B$})();const l=e.mutations;for(let c=0;c<l.length;c++)i=i.insert(l[c].key,r[c].version);return new hj(e,s,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e,s){this.largestBatchId=e,this.mutation=s}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(e,s){this.count=e,this.unchangedNames=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ls,Nt;function DA(n){switch(n){case he.OK:return Ve(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Ve(15467,{code:n})}}function OA(n){if(n===void 0)return Ss("GRPC error has no .code"),he.UNKNOWN;switch(n){case Ls.OK:return he.OK;case Ls.CANCELLED:return he.CANCELLED;case Ls.UNKNOWN:return he.UNKNOWN;case Ls.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Ls.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Ls.INTERNAL:return he.INTERNAL;case Ls.UNAVAILABLE:return he.UNAVAILABLE;case Ls.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Ls.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Ls.NOT_FOUND:return he.NOT_FOUND;case Ls.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Ls.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Ls.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Ls.ABORTED:return he.ABORTED;case Ls.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Ls.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Ls.DATA_LOSS:return he.DATA_LOSS;default:return Ve(39323,{code:n})}}(Nt=Ls||(Ls={}))[Nt.OK=0]="OK",Nt[Nt.CANCELLED=1]="CANCELLED",Nt[Nt.UNKNOWN=2]="UNKNOWN",Nt[Nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nt[Nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nt[Nt.NOT_FOUND=5]="NOT_FOUND",Nt[Nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nt[Nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nt[Nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nt[Nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nt[Nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nt[Nt.ABORTED=10]="ABORTED",Nt[Nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nt[Nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nt[Nt.INTERNAL=13]="INTERNAL",Nt[Nt.UNAVAILABLE=14]="UNAVAILABLE",Nt[Nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X$=new Lo([4294967295,4294967295],0);function LS(n){const e=MA().encode(n),s=new EC;return s.update(e),new Uint8Array(s.digest())}function zS(n){const e=new DataView(n.buffer),s=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Lo([s,r],0),new Lo([i,l],0)]}class mj{constructor(e,s,r){if(this.bitmap=e,this.padding=s,this.hashCount=r,s<0||s>=8)throw new of(`Invalid padding: ${s}`);if(r<0)throw new of(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new of(`Invalid hash count: ${r}`);if(e.length===0&&s!==0)throw new of(`Invalid padding when bitmap length is 0: ${s}`);this.ge=8*e.length-s,this.pe=Lo.fromNumber(this.ge)}ye(e,s,r){let i=e.add(s.multiply(Lo.fromNumber(r)));return i.compare(X$)===1&&(i=new Lo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const s=LS(e),[r,i]=zS(s);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,i,l);if(!this.we(c))return!1}return!0}static create(e,s,r){const i=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new mj(l,i,s);return r.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const s=LS(e),[r,i]=zS(s);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,i,l);this.be(c)}}be(e){const s=Math.floor(e/8),r=e%8;this.bitmap[s]|=1<<r}}class of extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,s,r,i,l){this.snapshotVersion=e,this.targetChanges=s,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,s,r){const i=new Map;return i.set(e,vm.createSynthesizedTargetChangeForCurrentChange(e,s,r)),new bm(Ye.min(),i,new Yt(et),Xn(),it())}}class vm{constructor(e,s,r,i,l){this.resumeToken=e,this.current=s,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,s,r){return new vm(r,s,it(),it(),it())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,s,r,i){this.Se=e,this.removedTargetIds=s,this.key=r,this.De=i}}class LA{constructor(e,s){this.targetId=e,this.Ce=s}}class zA{constructor(e,s,r=bs.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=s,this.resumeToken=r,this.cause=i}}class VS{constructor(){this.ve=0,this.Fe=US(),this.Me=bs.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=it(),s=it(),r=it();return this.Fe.forEach(((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:s=s.add(i);break;case 1:r=r.add(i);break;default:Ve(38017,{changeType:l})}})),new vm(this.Me,this.xe,e,s,r)}Ke(){this.Oe=!1,this.Fe=US()}qe(e,s){this.Oe=!0,this.Fe=this.Fe.insert(e,s)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Z${constructor(e){this.Ge=e,this.ze=new Map,this.je=Xn(),this.He=ag(),this.Je=ag(),this.Ze=new Yt(et)}Xe(e){for(const s of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(s,e.De):this.et(s,e.key,e.De);for(const s of e.removedTargetIds)this.et(s,e.key,e.De)}tt(e){this.forEachTarget(e,(s=>{const r=this.nt(s);switch(e.state){case 0:this.rt(s)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(s);break;case 3:this.rt(s)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(s)&&(this.it(s),r.Le(e.resumeToken));break;default:Ve(56790,{state:e.state})}}))}forEachTarget(e,s){e.targetIds.length>0?e.targetIds.forEach(s):this.ze.forEach(((r,i)=>{this.rt(i)&&s(i)}))}st(e){const s=e.targetId,r=e.Ce.count,i=this.ot(s);if(i){const l=i.target;if(Kg(l))if(r===0){const c=new De(l.path);this.et(s,c,Xt.newNoDocument(c,Ye.min()))}else He(r===1,20013,{expectedCount:r});else{const c=this._t(s);if(c!==r){const f=this.ut(e),u=f?this.ct(f,e,c):1;if(u!==0){this.it(s);const m=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(s,m)}}}}}ut(e){const s=e.Ce.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:l=0}=s;let c,f;try{c=Di(r).toUint8Array()}catch(u){if(u instanceof nA)return Za("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{f=new mj(c,i,l)}catch(u){return Za(u instanceof of?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return f.ge===0?null:f}ct(e,s,r){return s.Ce.count===r-this.Pt(e,s.targetId)?0:2}Pt(e,s){const r=this.Ge.getRemoteKeysForTarget(s);let i=0;return r.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(s,l,null),i++)})),i}Tt(e){const s=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&Kg(f.target)){const u=new De(f.target.path);this.It(u).has(c)||this.Et(c,u)||this.et(c,u,Xt.newNoDocument(u,e))}l.Be&&(s.set(c,l.ke()),l.Ke())}}));let r=it();this.Je.forEach(((l,c)=>{let f=!0;c.forEachWhile((u=>{const m=this.ot(u);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const i=new bm(e,s,this.Ze,this.je,r);return this.je=Xn(),this.He=ag(),this.Je=ag(),this.Ze=new Yt(et),i}Ye(e,s){if(!this.rt(e))return;const r=this.Et(e,s.key)?2:0;this.nt(e).qe(s.key,r),this.je=this.je.insert(s.key,s),this.He=this.He.insert(s.key,this.It(s.key).add(e)),this.Je=this.Je.insert(s.key,this.Rt(s.key).add(e))}et(e,s,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,s)?i.qe(s,1):i.Ue(s),this.Je=this.Je.insert(s,this.Rt(s).delete(e)),this.Je=this.Je.insert(s,this.Rt(s).add(e)),r&&(this.je=this.je.insert(s,r))}removeTarget(e){this.ze.delete(e)}_t(e){const s=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+s.addedDocuments.size-s.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let s=this.ze.get(e);return s||(s=new VS,this.ze.set(e,s)),s}Rt(e){let s=this.Je.get(e);return s||(s=new zt(et),this.Je=this.Je.insert(e,s)),s}It(e){let s=this.He.get(e);return s||(s=new zt(et),this.He=this.He.insert(e,s)),s}rt(e){const s=this.ot(e)!==null;return s||Ee("WatchChangeAggregator","Detected inactive target",e),s}ot(e){const s=this.ze.get(e);return s&&s.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new VS),this.Ge.getRemoteKeysForTarget(e).forEach((s=>{this.et(e,s,null)}))}Et(e,s){return this.Ge.getRemoteKeysForTarget(e).has(s)}}function ag(){return new Yt(De.comparator)}function US(){return new Yt(De.comparator)}const eq={asc:"ASCENDING",desc:"DESCENDING"},tq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sq={and:"AND",or:"OR"};class nq{constructor(e,s){this.databaseId=e,this.useProto3Json=s}}function Rv(n,e){return n.useProto3Json||fm(e)?e:{value:e}}function mu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function rq(n,e){return mu(n,e.toTimestamp())}function Es(n){return He(!!n,49232),Ye.fromTimestamp((function(s){const r=Pi(s);return new Rt(r.seconds,r.nanos)})(n))}function pj(n,e){return Pv(n,e).canonicalString()}function Pv(n,e){const s=(function(i){return new pt(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?s:s.child(e)}function UA(n){const e=pt.fromString(n);return He(QA(e),10190,{key:e.toString()}),e}function Kf(n,e){return pj(n.databaseId,e.path)}function Ja(n,e){const s=UA(e);if(s.get(1)!==n.databaseId.projectId)throw new Se(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+n.databaseId.projectId);if(s.get(3)!==n.databaseId.database)throw new Se(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+n.databaseId.database);return new De($A(s))}function FA(n,e){return pj(n.databaseId,e)}function BA(n){const e=UA(n);return e.length===4?pt.emptyPath():$A(e)}function Dv(n){return new pt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $A(n){return He(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function FS(n,e,s){return{name:Kf(n,e),fields:s.value.mapValue.fields}}function qA(n,e,s){const r=Ja(n,e.name),i=Es(e.updateTime),l=e.createTime?Es(e.createTime):Ye.min(),c=new hn({mapValue:{fields:e.fields}}),f=Xt.newFoundDocument(r,i,l,c);return s&&f.setHasCommittedMutations(),s?f.setHasCommittedMutations():f}function aq(n,e){return"found"in e?(function(r,i){He(!!i.found,43571),i.found.name,i.found.updateTime;const l=Ja(r,i.found.name),c=Es(i.found.updateTime),f=i.found.createTime?Es(i.found.createTime):Ye.min(),u=new hn({mapValue:{fields:i.found.fields}});return Xt.newFoundDocument(l,c,f,u)})(n,e):"missing"in e?(function(r,i){He(!!i.missing,3894),He(!!i.readTime,22933);const l=Ja(r,i.missing),c=Es(i.readTime);return Xt.newNoDocument(l,c)})(n,e):Ve(7234,{result:e})}function iq(n,e){let s;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ve(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],l=(function(m,g){return m.useProto3Json?(He(g===void 0||typeof g=="string",58123),bs.fromBase64String(g||"")):(He(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),bs.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(m){const g=m.code===void 0?he.UNKNOWN:OA(m.code);return new Se(g,m.message||"")})(c);s=new zA(r,i,l,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ja(n,r.document.name),l=Es(r.document.updateTime),c=r.document.createTime?Es(r.document.createTime):Ye.min(),f=new hn({mapValue:{fields:r.document.fields}}),u=Xt.newFoundDocument(i,l,c,f),m=r.targetIds||[],g=r.removedTargetIds||[];s=new Tg(m,g,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ja(n,r.document),l=r.readTime?Es(r.readTime):Ye.min(),c=Xt.newNoDocument(i,l),f=r.removedTargetIds||[];s=new Tg([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ja(n,r.document),l=r.removedTargetIds||[];s=new Tg([],l,i,null)}else{if(!("filter"in e))return Ve(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:l}=r,c=new J$(i,l),f=r.targetId;s=new LA(f,c)}}return s}function Wf(n,e){let s;if(e instanceof Pu)s={update:FS(n,e.key,e.value)};else if(e instanceof Du)s={delete:Kf(n,e.key)};else if(e instanceof Ui)s={update:FS(n,e.key,e.data),updateMask:hq(e.fieldMask)};else{if(!(e instanceof dj))return Ve(16599,{dt:e.type});s={verify:Kf(n,e.key)}}return e.fieldTransforms.length>0&&(s.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const f=c.transform;if(f instanceof hu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof hc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof fc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof fu)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw Ve(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(s.currentDocument=(function(i,l){return l.updateTime!==void 0?{updateTime:rq(i,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ve(27497)})(n,e.precondition)),s}function Ov(n,e){const s=e.currentDocument?(function(l){return l.updateTime!==void 0?is.updateTime(Es(l.updateTime)):l.exists!==void 0?is.exists(l.exists):is.none()})(e.currentDocument):is.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(c,f){let u=null;if("setToServerValue"in f)He(f.setToServerValue==="REQUEST_TIME",16630,{proto:f}),u=new hu;else if("appendMissingElements"in f){const g=f.appendMissingElements.values||[];u=new hc(g)}else if("removeAllFromArray"in f){const g=f.removeAllFromArray.values||[];u=new fc(g)}else"increment"in f?u=new fu(c,f.increment):Ve(16584,{proto:f});const m=as.fromServerFormat(f.fieldPath);return new ym(m,u)})(n,i))):[];if(e.update){e.update.name;const i=Ja(n,e.update.name),l=new hn({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=(function(u){const m=u.fieldPaths||[];return new Jn(m.map((g=>as.fromServerFormat(g))))})(e.updateMask);return new Ui(i,l,c,s,r)}return new Pu(i,l,s,r)}if(e.delete){const i=Ja(n,e.delete);return new Du(i,s)}if(e.verify){const i=Ja(n,e.verify);return new dj(i,s)}return Ve(1463,{proto:e})}function oq(n,e){return n&&n.length>0?(He(e!==void 0,14353),n.map((s=>(function(i,l){let c=i.updateTime?Es(i.updateTime):Es(l);return c.isEqual(Ye.min())&&(c=Es(l)),new W$(c,i.transformResults||[])})(s,e)))):[]}function HA(n,e){return{documents:[FA(n,e.path)]}}function GA(n,e){const s={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,s.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),s.structuredQuery.from=[{collectionId:r.lastSegment()}]),s.parent=FA(n,i);const l=(function(m){if(m.length!==0)return YA(Mt.create(m,"and"))})(e.filters);l&&(s.structuredQuery.where=l);const c=(function(m){if(m.length!==0)return m.map((g=>(function(v){return{field:Rd(v.field),direction:cq(v.dir)}})(g)))})(e.orderBy);c&&(s.structuredQuery.orderBy=c);const f=Rv(n,e.limit);return f!==null&&(s.structuredQuery.limit=f),e.startAt&&(s.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(s.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:s,parent:i}}function KA(n){let e=BA(n.parent);const s=n.structuredQuery,r=s.from?s.from.length:0;let i=null;if(r>0){He(r===1,65062);const g=s.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let l=[];s.where&&(l=(function(b){const v=WA(b);return v instanceof Mt&&ij(v)?v.getFilters():[v]})(s.where));let c=[];s.orderBy&&(c=(function(b){return b.map((v=>(function(N){return new Gf(Pd(N.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(v)))})(s.orderBy));let f=null;s.limit&&(f=(function(b){let v;return v=typeof b=="object"?b.value:b,fm(v)?null:v})(s.limit));let u=null;s.startAt&&(u=(function(b){const v=!!b.before,E=b.values||[];return new Jo(E,v)})(s.startAt));let m=null;return s.endAt&&(m=(function(b){const v=!b.before,E=b.values||[];return new Jo(E,v)})(s.endAt)),bA(e,i,c,l,f,"F",u,m)}function lq(n,e){const s=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:i})}})(e.purpose);return s==null?null:{"goog-listen-tags":s}}function WA(n){return n.unaryFilter!==void 0?(function(s){switch(s.unaryFilter.op){case"IS_NAN":const r=Pd(s.unaryFilter.field);return vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Pd(s.unaryFilter.field);return vt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Pd(s.unaryFilter.field);return vt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Pd(s.unaryFilter.field);return vt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}})(n):n.fieldFilter!==void 0?(function(s){return vt.create(Pd(s.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}})(s.fieldFilter.op),s.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(s){return Mt.create(s.compositeFilter.filters.map((r=>WA(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}})(s.compositeFilter.op))})(n):Ve(30097,{filter:n})}function cq(n){return eq[n]}function dq(n){return tq[n]}function uq(n){return sq[n]}function Rd(n){return{fieldPath:n.canonicalString()}}function Pd(n){return as.fromServerFormat(n.fieldPath)}function YA(n){return n instanceof vt?(function(s){if(s.op==="=="){if(kS(s.value))return{unaryFilter:{field:Rd(s.field),op:"IS_NAN"}};if(_S(s.value))return{unaryFilter:{field:Rd(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if(kS(s.value))return{unaryFilter:{field:Rd(s.field),op:"IS_NOT_NAN"}};if(_S(s.value))return{unaryFilter:{field:Rd(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rd(s.field),op:dq(s.op),value:s.value}}})(n):n instanceof Mt?(function(s){const r=s.getFilters().map((i=>YA(i)));return r.length===1?r[0]:{compositeFilter:{op:uq(s.op),filters:r}}})(n):Ve(54877,{filter:n})}function hq(n){const e=[];return n.fields.forEach((s=>e.push(s.canonicalString()))),{fieldPaths:e}}function QA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function JA(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,s,r,i,l=Ye.min(),c=Ye.min(),f=bs.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=s,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=u}withSequenceNumber(e){return new Ni(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,s){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this.yt=e}}function fq(n,e){let s;if(e.document)s=qA(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=De.fromSegments(e.noDocument.path),i=pc(e.noDocument.readTime);s=Xt.newNoDocument(r,i),e.hasCommittedMutations&&s.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ve(56709);{const r=De.fromSegments(e.unknownDocument.path),i=pc(e.unknownDocument.version);s=Xt.newUnknownDocument(r,i)}}return e.readTime&&s.setReadTime((function(i){const l=new Rt(i[0],i[1]);return Ye.fromTimestamp(l)})(e.readTime)),s}function BS(n,e){const s=e.key,r={prefixPath:s.getCollectionPath().popLast().toArray(),collectionGroup:s.collectionGroup,documentId:s.path.lastSegment(),readTime:Qg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(l,c){return{name:Kf(l,c.key),fields:c.data.value.mapValue.fields,updateTime:mu(l,c.version.toTimestamp()),createTime:mu(l,c.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())r.noDocument={path:s.path.toArray(),readTime:mc(e.version)};else{if(!e.isUnknownDocument())return Ve(57904,{document:e});r.unknownDocument={path:s.path.toArray(),version:mc(e.version)}}return r}function Qg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function mc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function pc(n){const e=new Rt(n.seconds,n.nanoseconds);return Ye.fromTimestamp(e)}function zl(n,e){const s=(e.baseMutations||[]).map((l=>Ov(n.yt,l)));for(let l=0;l<e.mutations.length-1;++l){const c=e.mutations[l];if(l+1<e.mutations.length&&e.mutations[l+1].transform!==void 0){const f=e.mutations[l+1];c.updateTransforms=f.transform.fieldTransforms,e.mutations.splice(l+1,1),++l}}const r=e.mutations.map((l=>Ov(n.yt,l))),i=Rt.fromMillis(e.localWriteTimeMs);return new uj(e.batchId,i,s,r)}function lf(n){const e=pc(n.readTime),s=n.lastLimboFreeSnapshotVersion!==void 0?pc(n.lastLimboFreeSnapshotVersion):Ye.min();let r;return r=(function(l){return l.documents!==void 0})(n.query)?(function(l){const c=l.documents.length;return He(c===1,1966,{count:c}),Mn(Ru(BA(l.documents[0])))})(n.query):(function(l){return Mn(KA(l))})(n.query),new Ni(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,s,bs.fromBase64String(n.resumeToken))}function ZA(n,e){const s=mc(e.snapshotVersion),r=mc(e.lastLimboFreeSnapshotVersion);let i;i=Kg(e.target)?HA(n.yt,e.target):GA(n.yt,e.target).ft;const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:uc(e.target),readTime:s,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function gj(n){const e=KA({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Yg(e,e.limit,"L"):e}function Ib(n,e){return new fj(e.largestBatchId,Ov(n.yt,e.overlayMutation))}function $S(n,e){const s=e.path.lastSegment();return[n,Sn(e.path.popLast()),s]}function qS(n,e,s,r){return{indexId:n,uid:e,sequenceNumber:s,readTime:mc(r.readTime),documentKey:Sn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mq{getBundleMetadata(e,s){return HS(e).get(s).next((r=>{if(r)return(function(l){return{id:l.bundleId,createTime:pc(l.createTime),version:l.version}})(r)}))}saveBundleMetadata(e,s){return HS(e).put((function(i){return{bundleId:i.id,createTime:mc(Es(i.createTime)),version:i.version}})(s))}getNamedQuery(e,s){return GS(e).get(s).next((r=>{if(r)return(function(l){return{name:l.name,query:gj(l.bundledQuery),readTime:pc(l.readTime)}})(r)}))}saveNamedQuery(e,s){return GS(e).put((function(i){return{name:i.name,readTime:mc(Es(i.readTime)),bundledQuery:i.bundledQuery}})(s))}}function HS(n){return Hs(n,Cx)}function GS(n){return Hs(n,Ax)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,s){this.serializer=e,this.userId=s}static wt(e,s){const r=s.uid||"";return new Lx(e,r)}getOverlay(e,s){return Kh(e).get($S(this.userId,s)).next((r=>r?Ib(this.serializer,r):null))}getOverlays(e,s){const r=Wa();return re.forEach(s,(i=>this.getOverlay(e,i).next((l=>{l!==null&&r.set(i,l)})))).next((()=>r))}saveOverlays(e,s,r){const i=[];return r.forEach(((l,c)=>{const f=new fj(s,c);i.push(this.bt(e,f))})),re.waitFor(i)}removeOverlaysForBatchId(e,s,r){const i=new Set;s.forEach((c=>i.add(Sn(c.getCollectionPath()))));const l=[];return i.forEach((c=>{const f=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);l.push(Kh(e).X(Nv,f))})),re.waitFor(l)}getOverlaysForCollection(e,s,r){const i=Wa(),l=Sn(s),c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Kh(e).H(Nv,c).next((f=>{for(const u of f){const m=Ib(this.serializer,u);i.set(m.getKey(),m)}return i}))}getOverlaysForCollectionGroup(e,s,r,i){const l=Wa();let c;const f=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Kh(e).ee({index:JC,range:f},((u,m,g)=>{const b=Ib(this.serializer,m);l.size()<i||b.largestBatchId===c?(l.set(b.getKey(),b),c=b.largestBatchId):g.done()})).next((()=>l))}bt(e,s){return Kh(e).put((function(i,l,c){const[f,u,m]=$S(l,c.mutation.key);return{userId:l,collectionPath:u,documentId:m,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Wf(i.yt,c.mutation)}})(this.serializer,this.userId,s))}}function Kh(n){return Hs(n,Ix)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pq{St(e){return Hs(e,sj)}getSessionToken(e){return this.St(e).get("sessionToken").next((s=>{const r=s==null?void 0:s.value;return r?bs.fromUint8Array(r):bs.EMPTY_BYTE_STRING}))}setSessionToken(e,s){return this.St(e).put({name:"sessionToken",value:s.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(){}Dt(e,s){this.Ct(e,s),s.vt()}Ct(e,s){if("nullValue"in e)this.Ft(s,5);else if("booleanValue"in e)this.Ft(s,10),s.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(s,15),s.Mt(ns(e.integerValue));else if("doubleValue"in e){const r=ns(e.doubleValue);isNaN(r)?this.Ft(s,13):(this.Ft(s,15),Vf(r)?s.Mt(0):s.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(s,20),typeof r=="string"&&(r=Pi(r)),s.xt(`${r.seconds||""}`),s.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,s),this.Nt(s);else if("bytesValue"in e)this.Ft(s,30),s.Bt(Di(e.bytesValue)),this.Nt(s);else if("referenceValue"in e)this.Lt(e.referenceValue,s);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(s,45),s.Mt(r.latitude||0),s.Mt(r.longitude||0)}else"mapValue"in e?cA(e)?this.Ft(s,Number.MAX_SAFE_INTEGER):Dx(e)?this.kt(e.mapValue,s):(this.Kt(e.mapValue,s),this.Nt(s)):"arrayValue"in e?(this.qt(e.arrayValue,s),this.Nt(s)):Ve(19022,{Ut:e})}Ot(e,s){this.Ft(s,25),this.$t(e,s)}$t(e,s){s.xt(e)}Kt(e,s){const r=e.fields||{};this.Ft(s,55);for(const i of Object.keys(r))this.Ot(i,s),this.Ct(r[i],s)}kt(e,s){var c,f;const r=e.fields||{};this.Ft(s,53);const i=cu,l=((f=(c=r[i].arrayValue)==null?void 0:c.values)==null?void 0:f.length)||0;this.Ft(s,15),s.Mt(ns(l)),this.Ot(i,s),this.Ct(r[i],s)}qt(e,s){const r=e.values||[];this.Ft(s,50);for(const i of r)this.Ct(i,s)}Lt(e,s){this.Ft(s,37),De.fromName(e).path.forEach((r=>{this.Ft(s,60),this.$t(r,s)}))}Ft(e,s){e.Mt(s)}Nt(e){e.Mt(2)}}Vl.Wt=new Vl;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=255;function gq(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function KS(n){const e=64-(function(r){let i=0;for(let l=0;l<8;++l){const c=gq(255&r[l]);if(i+=c,c!==8)break}return i})(n);return Math.ceil(e/8)}class xq{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){const s=e[Symbol.iterator]();let r=s.next();for(;!r.done;)this.Gt(r.value),r=s.next();this.zt()}jt(e){const s=e[Symbol.iterator]();let r=s.next();for(;!r.done;)this.Ht(r.value),r=s.next();this.Jt()}Zt(e){for(const s of e){const r=s.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(s<"\uD800"||"\uDBFF"<s)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=s.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Xt(e){for(const s of e){const r=s.charCodeAt(0);if(r<128)this.Ht(r);else if(r<2048)this.Ht(960|r>>>6),this.Ht(128|63&r);else if(s<"\uD800"||"\uDBFF"<s)this.Ht(480|r>>>12),this.Ht(128|63&r>>>6),this.Ht(128|63&r);else{const i=s.codePointAt(0);this.Ht(240|i>>>18),this.Ht(128|63&i>>>12),this.Ht(128|63&i>>>6),this.Ht(128|63&i)}}this.Jt()}Yt(e){const s=this.en(e),r=KS(s);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=s.length-r;i<s.length;++i)this.buffer[this.position++]=255&s[i]}nn(e){const s=this.en(e),r=KS(s);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=s.length-r;i<s.length;++i)this.buffer[this.position++]=~(255&s[i])}rn(){this.sn(Sd),this.sn(255)}_n(){this.an(Sd),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const s=(function(l){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,l,!1),new Uint8Array(c.buffer)})(e),r=!!(128&s[0]);s[0]^=r?255:128;for(let i=1;i<s.length;++i)s[i]^=r?255:0;return s}Gt(e){const s=255&e;s===0?(this.sn(0),this.sn(255)):s===Sd?(this.sn(Sd),this.sn(0)):this.sn(s)}Ht(e){const s=255&e;s===0?(this.an(0),this.an(255)):s===Sd?(this.an(Sd),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const s=e+this.position;if(s<=this.buffer.length)return;let r=2*this.buffer.length;r<s&&(r=s);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class yq{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class bq{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Wh{constructor(){this.cn=new xq,this.ascending=new yq(this.cn),this.descending=new bq(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,s,r,i){this.hn=e,this.Pn=s,this.Tn=r,this.In=i}En(){const e=this.In.length,s=e===0||this.In[e-1]===255?e+1:e,r=new Uint8Array(s);return r.set(this.In,0),s!==e?r.set([0],this.In.length):++r[r.length-1],new Ul(this.hn,this.Pn,this.Tn,r)}Rn(e,s,r){return{indexId:this.hn,uid:e,arrayValue:Eg(this.Tn),directionalValue:Eg(this.In),orderedDocumentKey:Eg(s),documentKey:r.path.toArray()}}An(e,s,r){const i=this.Rn(e,s,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function So(n,e){let s=n.hn-e.hn;return s!==0?s:(s=WS(n.Tn,e.Tn),s!==0?s:(s=WS(n.In,e.In),s!==0?s:De.comparator(n.Pn,e.Pn)))}function WS(n,e){for(let s=0;s<n.length&&s<e.length;++s){const r=n[s]-e[s];if(r!==0)return r}return n.length-e.length}function Eg(n){return mE()?(function(s){let r="";for(let i=0;i<s.length;i++)r+=String.fromCharCode(s[i]);return r})(n):n}function YS(n){return typeof n!="string"?n:(function(s){const r=new Uint8Array(s.length);for(let i=0;i<s.length;i++)r[i]=s.charCodeAt(i);return r})(n)}class QS{constructor(e){this.Vn=new zt(((s,r)=>as.comparator(s.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(const s of e.filters){const r=s;r.isInequality()?this.Vn=this.Vn.add(r):this.mn.push(r)}}get fn(){return this.Vn.size>1}gn(e){if(He(e.collectionGroup===this.collectionId,49279),this.fn)return!1;const s=vv(e);if(s!==void 0&&!this.pn(s))return!1;const r=Ol(e);let i=new Set,l=0,c=0;for(;l<r.length&&this.pn(r[l]);++l)i=i.add(r[l].fieldPath.canonicalString());if(l===r.length)return!0;if(this.Vn.size>0){const f=this.Vn.getIterator().getNext();if(!i.has(f.field.canonicalString())){const u=r[l];if(!this.yn(f,u)||!this.wn(this.dn[c++],u))return!1}++l}for(;l<r.length;++l){const f=r[l];if(c>=this.dn.length||!this.wn(this.dn[c++],f))return!1}return!0}bn(){if(this.fn)return null;let e=new zt(as.comparator);const s=[];for(const r of this.mn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")s.push(new vg(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),s.push(new vg(r.field,0))}for(const r of this.dn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),s.push(new vg(r.field,r.dir==="asc"?0:1)));return new $g($g.UNKNOWN_ID,this.collectionId,s,zf.empty())}pn(e){for(const s of this.mn)if(this.yn(s,e))return!0;return!1}yn(e,s){if(e===void 0||!e.field.isEqual(s.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return s.kind===2===r}wn(e,s){return!!e.field.isEqual(s.fieldPath)&&(s.kind===0&&e.dir==="asc"||s.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(n){var s,r;if(He(n instanceof vt||n instanceof Mt,20012),n instanceof vt){if(n instanceof yA){const i=((r=(s=n.value.arrayValue)==null?void 0:s.values)==null?void 0:r.map((l=>vt.create(n.field,"==",l))))||[];return Mt.create(i,"or")}return n}const e=n.filters.map((i=>eI(i)));return Mt.create(e,n.op)}function vq(n){if(n.getFilters().length===0)return[];const e=zv(eI(n));return He(tI(e),7391),Mv(e)||Lv(e)?[e]:e.getFilters()}function Mv(n){return n instanceof vt}function Lv(n){return n instanceof Mt&&ij(n)}function tI(n){return Mv(n)||Lv(n)||(function(s){if(s instanceof Mt&&Ev(s)){for(const r of s.getFilters())if(!Mv(r)&&!Lv(r))return!1;return!0}return!1})(n)}function zv(n){if(He(n instanceof vt||n instanceof Mt,34018),n instanceof vt)return n;if(n.filters.length===1)return zv(n.filters[0]);const e=n.filters.map((r=>zv(r)));let s=Mt.create(e,n.op);return s=Jg(s),tI(s)?s:(He(s instanceof Mt,64498),He(uu(s),40251),He(s.filters.length>1,57927),s.filters.reduce(((r,i)=>xj(r,i))))}function xj(n,e){let s;return He(n instanceof vt||n instanceof Mt,38388),He(e instanceof vt||e instanceof Mt,25473),s=n instanceof vt?e instanceof vt?(function(i,l){return Mt.create([i,l],"and")})(n,e):JS(n,e):e instanceof vt?JS(e,n):(function(i,l){if(He(i.filters.length>0&&l.filters.length>0,48005),uu(i)&&uu(l))return pA(i,l.getFilters());const c=Ev(i)?i:l,f=Ev(i)?l:i,u=c.filters.map((m=>xj(m,f)));return Mt.create(u,"or")})(n,e),Jg(s)}function JS(n,e){if(uu(e))return pA(e,n.getFilters());{const s=e.filters.map((r=>xj(n,r)));return Mt.create(s,"or")}}function Jg(n){if(He(n instanceof vt||n instanceof Mt,11850),n instanceof vt)return n;const e=n.getFilters();if(e.length===1)return Jg(e[0]);if(fA(n))return n;const s=e.map((i=>Jg(i))),r=[];return s.forEach((i=>{i instanceof vt?r.push(i):i instanceof Mt&&(i.op===n.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:Mt.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wq{constructor(){this.Sn=new yj}addToCollectionParentIndex(e,s){return this.Sn.add(s),re.resolve()}getCollectionParents(e,s){return re.resolve(this.Sn.getEntries(s))}addFieldIndex(e,s){return re.resolve()}deleteFieldIndex(e,s){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,s){return re.resolve()}getDocumentsMatchingTarget(e,s){return re.resolve(null)}getIndexType(e,s){return re.resolve(0)}getFieldIndexes(e,s){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,s){return re.resolve(_r.min())}getMinOffsetFromCollectionGroup(e,s){return re.resolve(_r.min())}updateCollectionGroup(e,s,r){return re.resolve()}updateIndexEntries(e,s){return re.resolve()}}class yj{constructor(){this.index={}}add(e){const s=e.lastSegment(),r=e.popLast(),i=this.index[s]||new zt(pt.comparator),l=!i.has(r);return this.index[s]=i.add(r),l}has(e){const s=e.lastSegment(),r=e.popLast(),i=this.index[s];return i&&i.has(r)}getEntries(e){return(this.index[e]||new zt(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="IndexedDbIndexManager",ig=new Uint8Array(0);class jq{constructor(e,s){this.databaseId=s,this.Dn=new yj,this.Cn=new Vi((r=>uc(r)),((r,i)=>pm(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,s){if(!this.Dn.has(s)){const r=s.lastSegment(),i=s.popLast();e.addOnCommittedListener((()=>{this.Dn.add(s)}));const l={collectionId:r,parent:Sn(i)};return ZS(e).put(l)}return re.resolve()}getCollectionParents(e,s){const r=[],i=IDBKeyRange.bound([s,""],[MC(s),""],!1,!0);return ZS(e).H(i).next((l=>{for(const c of l){if(c.collectionId!==s)break;r.push(Ka(c.parent))}return r}))}addFieldIndex(e,s){const r=Yh(e),i=(function(f){return{indexId:f.indexId,collectionGroup:f.collectionGroup,fields:f.fields.map((u=>[u.fieldPath.canonicalString(),u.kind]))}})(s);delete i.indexId;const l=r.add(i);if(s.indexState){const c=Ed(e);return l.next((f=>{c.put(qS(f,this.uid,s.indexState.sequenceNumber,s.indexState.offset))}))}return l.next()}deleteFieldIndex(e,s){const r=Yh(e),i=Ed(e),l=Td(e);return r.delete(s.indexId).next((()=>i.delete(IDBKeyRange.bound([s.indexId],[s.indexId+1],!1,!0)))).next((()=>l.delete(IDBKeyRange.bound([s.indexId],[s.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const s=Yh(e),r=Td(e),i=Ed(e);return s.X().next((()=>r.X())).next((()=>i.X()))}createTargetIndexes(e,s){return re.forEach(this.vn(s),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const l=new QS(r).bn();if(l!=null)return this.addFieldIndex(e,l)}}))))}getDocumentsMatchingTarget(e,s){const r=Td(e);let i=!0;const l=new Map;return re.forEach(this.vn(s),(c=>this.Fn(e,c).next((f=>{i&&(i=!!f),l.set(c,f)})))).next((()=>{if(i){let c=it();const f=[];return re.forEach(l,((u,m)=>{Ee(XS,`Using index ${(function(z){return`id=${z.indexId}|cg=${z.collectionGroup}|f=${z.fields.map((M=>`${M.fieldPath}:${M.kind}`)).join(",")}`})(u)} to execute ${uc(s)}`);const g=(function(z,M){const U=vv(M);if(U===void 0)return null;for(const X of Wg(z,U.fieldPath))switch(X.op){case"array-contains-any":return X.value.arrayValue.values||[];case"array-contains":return[X.value]}return null})(m,u),b=(function(z,M){const U=new Map;for(const X of Ol(M))for(const A of Wg(z,X.fieldPath))switch(A.op){case"==":case"in":U.set(X.fieldPath.canonicalString(),A.value);break;case"not-in":case"!=":return U.set(X.fieldPath.canonicalString(),A.value),Array.from(U.values())}return null})(m,u),v=(function(z,M){const U=[];let X=!0;for(const A of Ol(M)){const P=A.kind===0?AS(z,A.fieldPath,z.startAt):IS(z,A.fieldPath,z.startAt);U.push(P.value),X&&(X=P.inclusive)}return new Jo(U,X)})(m,u),E=(function(z,M){const U=[];let X=!0;for(const A of Ol(M)){const P=A.kind===0?IS(z,A.fieldPath,z.endAt):AS(z,A.fieldPath,z.endAt);U.push(P.value),X&&(X=P.inclusive)}return new Jo(U,X)})(m,u),N=this.Mn(u,m,v),C=this.Mn(u,m,E),T=this.xn(u,m,b),O=this.On(u.indexId,g,N,v.inclusive,C,E.inclusive,T);return re.forEach(O,(F=>r.Z(F,s.limit).next((z=>{z.forEach((M=>{const U=De.fromSegments(M.documentKey);c.has(U)||(c=c.add(U),f.push(U))}))}))))})).next((()=>f))}return re.resolve(null)}))}vn(e){let s=this.Cn.get(e);return s||(e.filters.length===0?s=[e]:s=vq(Mt.create(e.filters,"and")).map((r=>Av(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Cn.set(e,s),s)}On(e,s,r,i,l,c,f){const u=(s!=null?s.length:1)*Math.max(r.length,l.length),m=u/(s!=null?s.length:1),g=[];for(let b=0;b<u;++b){const v=s?this.Nn(s[b/m]):ig,E=this.Bn(e,v,r[b%m],i),N=this.Ln(e,v,l[b%m],c),C=f.map((T=>this.Bn(e,v,T,!0)));g.push(...this.createRange(E,N,C))}return g}Bn(e,s,r,i){const l=new Ul(e,De.empty(),s,r);return i?l:l.En()}Ln(e,s,r,i){const l=new Ul(e,De.empty(),s,r);return i?l.En():l}Fn(e,s){const r=new QS(s),i=s.collectionGroup!=null?s.collectionGroup:s.path.lastSegment();return this.getFieldIndexes(e,i).next((l=>{let c=null;for(const f of l)r.gn(f)&&(!c||f.fields.length>c.fields.length)&&(c=f);return c}))}getIndexType(e,s){let r=2;const i=this.vn(s);return re.forEach(i,(l=>this.Fn(e,l).next((c=>{c?r!==0&&c.fields.length<(function(u){let m=new zt(as.comparator),g=!1;for(const b of u.filters)for(const v of b.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?g=!0:m=m.add(v.field));for(const b of u.orderBy)b.field.isKeyField()||(m=m.add(b.field));return m.size+(g?1:0)})(l)&&(r=1):r=0})))).next((()=>(function(c){return c.limit!==null})(s)&&i.length>1&&r===2?1:r))}kn(e,s){const r=new Wh;for(const i of Ol(e)){const l=s.data.field(i.fieldPath);if(l==null)return null;const c=r.ln(i.kind);Vl.Wt.Dt(l,c)}return r.un()}Nn(e){const s=new Wh;return Vl.Wt.Dt(e,s.ln(0)),s.un()}Kn(e,s){const r=new Wh;return Vl.Wt.Dt(dc(this.databaseId,s),r.ln((function(l){const c=Ol(l);return c.length===0?0:c[c.length-1].kind})(e))),r.un()}xn(e,s,r){if(r===null)return[];let i=[];i.push(new Wh);let l=0;for(const c of Ol(e)){const f=r[l++];for(const u of i)if(this.qn(s,c.fieldPath)&&Hf(f))i=this.Un(i,c,f);else{const m=u.ln(c.kind);Vl.Wt.Dt(f,m)}}return this.$n(i)}Mn(e,s,r){return this.xn(e,s,r.position)}$n(e){const s=[];for(let r=0;r<e.length;++r)s[r]=e[r].un();return s}Un(e,s,r){const i=[...e],l=[];for(const c of r.arrayValue.values||[])for(const f of i){const u=new Wh;u.seed(f.un()),Vl.Wt.Dt(c,u.ln(s.kind)),l.push(u)}return l}qn(e,s){return!!e.filters.find((r=>r instanceof vt&&r.field.isEqual(s)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,s){const r=Yh(e),i=Ed(e);return(s?r.H(jv,IDBKeyRange.bound(s,s)):r.H()).next((l=>{const c=[];return re.forEach(l,(f=>i.get([f.indexId,this.uid]).next((u=>{c.push((function(g,b){const v=b?new zf(b.sequenceNumber,new _r(pc(b.readTime),new De(Ka(b.documentKey)),b.largestBatchId)):zf.empty(),E=g.fields.map((([N,C])=>new vg(as.fromServerFormat(N),C)));return new $g(g.indexId,g.collectionGroup,E,v)})(f,u))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((s=>s.length===0?null:(s.sort(((r,i)=>{const l=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return l!==0?l:et(r.collectionGroup,i.collectionGroup)})),s[0].collectionGroup)))}updateCollectionGroup(e,s,r){const i=Yh(e),l=Ed(e);return this.Wn(e).next((c=>i.H(jv,IDBKeyRange.bound(s,s)).next((f=>re.forEach(f,(u=>l.put(qS(u.indexId,this.uid,c,r))))))))}updateIndexEntries(e,s){const r=new Map;return re.forEach(s,((i,l)=>{const c=r.get(i.collectionGroup);return(c?re.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next((f=>(r.set(i.collectionGroup,f),re.forEach(f,(u=>this.Qn(e,i,u).next((m=>{const g=this.Gn(l,u);return m.isEqual(g)?re.resolve():this.zn(e,l,u,m,g)})))))))}))}jn(e,s,r,i){return Td(e).put(i.Rn(this.uid,this.Kn(r,s.key),s.key))}Hn(e,s,r,i){return Td(e).delete(i.An(this.uid,this.Kn(r,s.key),s.key))}Qn(e,s,r){const i=Td(e);let l=new zt(So);return i.ee({index:QC,range:IDBKeyRange.only([r.indexId,this.uid,Eg(this.Kn(r,s))])},((c,f)=>{l=l.add(new Ul(r.indexId,s,YS(f.arrayValue),YS(f.directionalValue)))})).next((()=>l))}Gn(e,s){let r=new zt(So);const i=this.kn(s,e);if(i==null)return r;const l=vv(s);if(l!=null){const c=e.data.field(l.fieldPath);if(Hf(c))for(const f of c.arrayValue.values||[])r=r.add(new Ul(s.indexId,e.key,this.Nn(f),i))}else r=r.add(new Ul(s.indexId,e.key,ig,i));return r}zn(e,s,r,i,l){Ee(XS,"Updating index entries for document '%s'",s.key);const c=[];return(function(u,m,g,b,v){const E=u.getIterator(),N=m.getIterator();let C=kd(E),T=kd(N);for(;C||T;){let O=!1,F=!1;if(C&&T){const z=g(C,T);z<0?F=!0:z>0&&(O=!0)}else C!=null?F=!0:O=!0;O?(b(T),T=kd(N)):F?(v(C),C=kd(E)):(C=kd(E),T=kd(N))}})(i,l,So,(f=>{c.push(this.jn(e,s,r,f))}),(f=>{c.push(this.Hn(e,s,r,f))})),re.waitFor(c)}Wn(e){let s=1;return Ed(e).ee({index:YC,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,l)=>{l.done(),s=i.sequenceNumber+1})).next((()=>s))}createRange(e,s,r){r=r.sort(((c,f)=>So(c,f))).filter(((c,f,u)=>!f||So(c,u[f-1])!==0));const i=[];i.push(e);for(const c of r){const f=So(c,e),u=So(c,s);if(f===0)i[0]=e.En();else if(f>0&&u<0)i.push(c),i.push(c.En());else if(u>0)break}i.push(s);const l=[];for(let c=0;c<i.length;c+=2){if(this.Jn(i[c],i[c+1]))return[];const f=i[c].An(this.uid,ig,De.empty()),u=i[c+1].An(this.uid,ig,De.empty());l.push(IDBKeyRange.bound(f,u))}return l}Jn(e,s){return So(e,s)>0}getMinOffsetFromCollectionGroup(e,s){return this.getFieldIndexes(e,s).next(e4)}getMinOffset(e,s){return re.mapArray(this.vn(s),(r=>this.Fn(e,r).next((i=>i||Ve(44426))))).next(e4)}}function ZS(n){return Hs(n,Bf)}function Td(n){return Hs(n,vf)}function Yh(n){return Hs(n,tj)}function Ed(n){return Hs(n,bf)}function e4(n){He(n.length!==0,28825);let e=n[0].indexState.offset,s=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;Xw(i,e)<0&&(e=i),s<i.largestBatchId&&(s=i.largestBatchId)}return new _r(e.readTime,e.documentKey,s)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sI=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,s,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(n,e,s){const r=n.store(da),i=n.store(au),l=[],c=IDBKeyRange.only(s.batchId);let f=0;const u=r.ee({range:c},((g,b,v)=>(f++,v.delete())));l.push(u.next((()=>{He(f===1,47070,{batchId:s.batchId})})));const m=[];for(const g of s.mutations){const b=GC(e,g.key.path,s.batchId);l.push(i.delete(b)),m.push(g.key)}return re.waitFor(l).next((()=>m))}function Xg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ve(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(sI,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);class zx{constructor(e,s,r,i){this.userId=e,this.serializer=s,this.indexManager=r,this.referenceDelegate=i,this.Zn={}}static wt(e,s,r,i){He(e.uid!=="",64387);const l=e.isAuthenticated()?e.uid:"";return new zx(l,s,r,i)}checkEmpty(e){let s=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return To(e).ee({index:ql,range:r},((i,l,c)=>{s=!1,c.done()})).next((()=>s))}addMutationBatch(e,s,r,i){const l=Dd(e),c=To(e);return c.add({}).next((f=>{He(typeof f=="number",49019);const u=new uj(f,s,r,i),m=(function(E,N,C){const T=C.baseMutations.map((F=>Wf(E.yt,F))),O=C.mutations.map((F=>Wf(E.yt,F)));return{userId:N,batchId:C.batchId,localWriteTimeMs:C.localWriteTime.toMillis(),baseMutations:T,mutations:O}})(this.serializer,this.userId,u),g=[];let b=new zt(((v,E)=>et(v.canonicalString(),E.canonicalString())));for(const v of i){const E=GC(this.userId,v.key.path,f);b=b.add(v.key.path.popLast()),g.push(c.put(m)),g.push(l.put(E,J7))}return b.forEach((v=>{g.push(this.indexManager.addToCollectionParentIndex(e,v))})),e.addOnCommittedListener((()=>{this.Zn[f]=u.keys()})),re.waitFor(g).next((()=>u))}))}lookupMutationBatch(e,s){return To(e).get(s).next((r=>r?(He(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:s}),zl(this.serializer,r)):null))}Xn(e,s){return this.Zn[s]?re.resolve(this.Zn[s]):this.lookupMutationBatch(e,s).next((r=>{if(r){const i=r.keys();return this.Zn[s]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,s){const r=s+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return To(e).ee({index:ql,range:i},((c,f,u)=>{f.userId===this.userId&&(He(f.batchId>=r,47524,{Yn:r}),l=zl(this.serializer,f)),u.done()})).next((()=>l))}getHighestUnacknowledgedBatchId(e){const s=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=zo;return To(e).ee({index:ql,range:s,reverse:!0},((i,l,c)=>{r=l.batchId,c.done()})).next((()=>r))}getAllMutationBatches(e){const s=IDBKeyRange.bound([this.userId,zo],[this.userId,Number.POSITIVE_INFINITY]);return To(e).H(ql,s).next((r=>r.map((i=>zl(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,s){const r=wg(this.userId,s.path),i=IDBKeyRange.lowerBound(r),l=[];return Dd(e).ee({range:i},((c,f,u)=>{const[m,g,b]=c,v=Ka(g);if(m===this.userId&&s.path.isEqual(v))return To(e).get(b).next((E=>{if(!E)throw Ve(61480,{er:c,batchId:b});He(E.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:E.userId,batchId:b}),l.push(zl(this.serializer,E))}));u.done()})).next((()=>l))}getAllMutationBatchesAffectingDocumentKeys(e,s){let r=new zt(et);const i=[];return s.forEach((l=>{const c=wg(this.userId,l.path),f=IDBKeyRange.lowerBound(c),u=Dd(e).ee({range:f},((m,g,b)=>{const[v,E,N]=m,C=Ka(E);v===this.userId&&l.path.isEqual(C)?r=r.add(N):b.done()}));i.push(u)})),re.waitFor(i).next((()=>this.tr(e,r)))}getAllMutationBatchesAffectingQuery(e,s){const r=s.path,i=r.length+1,l=wg(this.userId,r),c=IDBKeyRange.lowerBound(l);let f=new zt(et);return Dd(e).ee({range:c},((u,m,g)=>{const[b,v,E]=u,N=Ka(v);b===this.userId&&r.isPrefixOf(N)?N.length===i&&(f=f.add(E)):g.done()})).next((()=>this.tr(e,f)))}tr(e,s){const r=[],i=[];return s.forEach((l=>{i.push(To(e).get(l).next((c=>{if(c===null)throw Ve(35274,{batchId:l});He(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:l}),r.push(zl(this.serializer,c))})))})),re.waitFor(i).next((()=>r))}removeMutationBatch(e,s){return nI(e.le,this.userId,s).next((r=>(e.addOnCommittedListener((()=>{this.nr(s.batchId)})),re.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((s=>{if(!s)return re.resolve();const r=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),i=[];return Dd(e).ee({range:r},((l,c,f)=>{if(l[0]===this.userId){const u=Ka(l[1]);i.push(u)}else f.done()})).next((()=>{He(i.length===0,56720,{rr:i.map((l=>l.canonicalString()))})}))}))}containsKey(e,s){return rI(e,this.userId,s)}ir(e){return aI(e).get(this.userId).next((s=>s||{userId:this.userId,lastAcknowledgedBatchId:zo,lastStreamToken:""}))}}function rI(n,e,s){const r=wg(e,s.path),i=r[1],l=IDBKeyRange.lowerBound(r);let c=!1;return Dd(n).ee({range:l,Y:!0},((f,u,m)=>{const[g,b,v]=f;g===e&&b===i&&(c=!0),m.done()})).next((()=>c))}function To(n){return Hs(n,da)}function Dd(n){return Hs(n,au)}function aI(n){return Hs(n,Uf)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new gc(0)}static ar(){return new gc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{constructor(e,s){this.referenceDelegate=e,this.serializer=s}allocateTargetId(e){return this.ur(e).next((s=>{const r=new gc(s.highestTargetId);return s.highestTargetId=r.next(),this.cr(e,s).next((()=>s.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.ur(e).next((s=>Ye.fromTimestamp(new Rt(s.lastRemoteSnapshotVersion.seconds,s.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.ur(e).next((s=>s.highestListenSequenceNumber))}setTargetsMetadata(e,s,r){return this.ur(e).next((i=>(i.highestListenSequenceNumber=s,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),s>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=s),this.cr(e,i))))}addTargetData(e,s){return this.lr(e,s).next((()=>this.ur(e).next((r=>(r.targetCount+=1,this.hr(s,r),this.cr(e,r))))))}updateTargetData(e,s){return this.lr(e,s)}removeTargetData(e,s){return this.removeMatchingKeysForTargetId(e,s.targetId).next((()=>Cd(e).delete(s.targetId))).next((()=>this.ur(e))).next((r=>(He(r.targetCount>0,8065),r.targetCount-=1,this.cr(e,r))))}removeTargets(e,s,r){let i=0;const l=[];return Cd(e).ee(((c,f)=>{const u=lf(f);u.sequenceNumber<=s&&r.get(u.targetId)===null&&(i++,l.push(this.removeTargetData(e,u)))})).next((()=>re.waitFor(l))).next((()=>i))}forEachTarget(e,s){return Cd(e).ee(((r,i)=>{const l=lf(i);s(l)}))}ur(e){return s4(e).get(Gg).next((s=>(He(s!==null,2888),s)))}cr(e,s){return s4(e).put(Gg,s)}lr(e,s){return Cd(e).put(ZA(this.serializer,s))}hr(e,s){let r=!1;return e.targetId>s.highestTargetId&&(s.highestTargetId=e.targetId,r=!0),e.sequenceNumber>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.ur(e).next((s=>s.targetCount))}getTargetData(e,s){const r=uc(s),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Cd(e).ee({range:i,index:WC},((c,f,u)=>{const m=lf(f);pm(s,m.target)&&(l=m,u.done())})).next((()=>l))}addMatchingKeys(e,s,r){const i=[],l=Ao(e);return s.forEach((c=>{const f=Sn(c.path);i.push(l.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,c))})),re.waitFor(i)}removeMatchingKeys(e,s,r){const i=Ao(e);return re.forEach(s,(l=>{const c=Sn(l.path);return re.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,l)])}))}removeMatchingKeysForTargetId(e,s){const r=Ao(e),i=IDBKeyRange.bound([s],[s+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,s){const r=IDBKeyRange.bound([s],[s+1],!1,!0),i=Ao(e);let l=it();return i.ee({range:r,Y:!0},((c,f,u)=>{const m=Ka(c[1]),g=new De(m);l=l.add(g)})).next((()=>l))}containsKey(e,s){const r=Sn(s.path),i=IDBKeyRange.bound([r],[MC(r)],!1,!0);let l=0;return Ao(e).ee({index:ej,Y:!0,range:i},(([c,f],u,m)=>{c!==0&&(l++,m.done())})).next((()=>l>0))}At(e,s){return Cd(e).get(s).next((r=>r?lf(r):null))}}function Cd(n){return Hs(n,iu)}function s4(n){return Hs(n,Zl)}function Ao(n){return Hs(n,ou)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4="LruGarbageCollector",_q=1048576;function r4([n,e],[s,r]){const i=et(n,s);return i===0?et(e,r):i}class kq{constructor(e){this.Pr=e,this.buffer=new zt(r4),this.Tr=0}Ir(){return++this.Tr}Er(e){const s=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(s);else{const r=this.buffer.last();r4(s,r)<0&&(this.buffer=this.buffer.delete(r).add(s))}}get maxValue(){return this.buffer.last()[0]}}class iI{constructor(e,s,r){this.garbageCollector=e,this.asyncQueue=s,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Ee(n4,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(s){rl(s)?Ee(n4,"Ignoring IndexedDB error during garbage collection: ",s):await nl(s)}await this.Ar(3e5)}))}}class Sq{constructor(e,s){this.Vr=e,this.params=s}calculateTargetCount(e,s){return this.Vr.dr(e).next((r=>Math.floor(s/100*r)))}nthSequenceNumber(e,s){if(s===0)return re.resolve(Qn.ce);const r=new kq(s);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,s,r){return this.Vr.removeTargets(e,s,r)}removeOrphanedDocuments(e,s){return this.Vr.removeOrphanedDocuments(e,s)}collect(e,s){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(t4)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),t4):this.gr(e,s)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,s){let r,i,l,c,f,u,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),i=this.params.maximumSequenceNumbersToCollect):i=b,c=Date.now(),this.nthSequenceNumber(e,i)))).next((b=>(r=b,f=Date.now(),this.removeTargets(e,r,s)))).next((b=>(l=b,u=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(m=Date.now(),Ad()<=mt.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${i} in `+(f-c)+`ms
	Removed ${l} targets in `+(u-f)+`ms
	Removed ${b} documents in `+(m-u)+`ms
Total Duration: ${m-g}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:b}))))}}function oI(n,e){return new Sq(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tq{constructor(e,s){this.db=e,this.garbageCollector=oI(this,s)}dr(e){const s=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>s.next((i=>r+i))))}pr(e){let s=0;return this.mr(e,(r=>{s++})).next((()=>s))}forEachTarget(e,s){return this.db.getTargetCache().forEachTarget(e,s)}mr(e,s){return this.yr(e,((r,i)=>s(i)))}addReference(e,s,r){return og(e,r)}removeReference(e,s,r){return og(e,r)}removeTargets(e,s,r){return this.db.getTargetCache().removeTargets(e,s,r)}markPotentiallyOrphaned(e,s){return og(e,s)}wr(e,s){return(function(i,l){let c=!1;return aI(i).te((f=>rI(i,f,l).next((u=>(u&&(c=!0),re.resolve(!u)))))).next((()=>c))})(e,s)}removeOrphanedDocuments(e,s){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.yr(e,((c,f)=>{if(f<=s){const u=this.wr(e,c).next((m=>{if(!m)return l++,r.getEntry(e,c).next((()=>(r.removeEntry(c,Ye.min()),Ao(e).delete((function(b){return[0,Sn(b.path)]})(c)))))}));i.push(u)}})).next((()=>re.waitFor(i))).next((()=>r.apply(e))).next((()=>l))}removeTarget(e,s){const r=s.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,s){return og(e,s)}yr(e,s){const r=Ao(e);let i,l=Qn.ce;return r.ee({index:ej},(([c,f],{path:u,sequenceNumber:m})=>{c===0?(l!==Qn.ce&&s(new De(Ka(i)),l),l=m,i=u):l=Qn.ce})).next((()=>{l!==Qn.ce&&s(new De(Ka(i)),l)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function og(n,e){return Ao(n).put((function(r,i){return{targetId:0,path:Sn(r.path),sequenceNumber:i}})(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(){this.changes=new Vi((e=>e.toString()),((e,s)=>e.isEqual(s))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,s){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(s))}getEntry(e,s){this.assertNotApplied();const r=this.changes.get(s);return r!==void 0?re.resolve(r):this.getFromCache(e,s)}getEntries(e,s){return this.getAllFromCache(e,s)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eq{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,s,r){return Pl(e).put(r)}removeEntry(e,s,r){return Pl(e).delete((function(l,c){const f=l.path.toArray();return[f.slice(0,f.length-2),f[f.length-2],Qg(c),f[f.length-1]]})(s,r))}updateMetadata(e,s){return this.getMetadata(e).next((r=>(r.byteSize+=s,this.br(e,r))))}getEntry(e,s){let r=Xt.newInvalidDocument(s);return Pl(e).ee({index:jg,range:IDBKeyRange.only(Qh(s))},((i,l)=>{r=this.Sr(s,l)})).next((()=>r))}Dr(e,s){let r={size:0,document:Xt.newInvalidDocument(s)};return Pl(e).ee({index:jg,range:IDBKeyRange.only(Qh(s))},((i,l)=>{r={document:this.Sr(s,l),size:Xg(l)}})).next((()=>r))}getEntries(e,s){let r=Xn();return this.Cr(e,s,((i,l)=>{const c=this.Sr(i,l);r=r.insert(i,c)})).next((()=>r))}vr(e,s){let r=Xn(),i=new Yt(De.comparator);return this.Cr(e,s,((l,c)=>{const f=this.Sr(l,c);r=r.insert(l,f),i=i.insert(l,Xg(c))})).next((()=>({documents:r,Fr:i})))}Cr(e,s,r){if(s.isEmpty())return re.resolve();let i=new zt(o4);s.forEach((u=>i=i.add(u)));const l=IDBKeyRange.bound(Qh(i.first()),Qh(i.last())),c=i.getIterator();let f=c.getNext();return Pl(e).ee({index:jg,range:l},((u,m,g)=>{const b=De.fromSegments([...m.prefixPath,m.collectionGroup,m.documentId]);for(;f&&o4(f,b)<0;)r(f,null),f=c.getNext();f&&f.isEqual(b)&&(r(f,m),f=c.hasNext()?c.getNext():null),f?g.j(Qh(f)):g.done()})).next((()=>{for(;f;)r(f,null),f=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(e,s,r,i,l){const c=s.path,f=[c.popLast().toArray(),c.lastSegment(),Qg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Pl(e).H(IDBKeyRange.bound(f,u,!0)).next((m=>{l==null||l.incrementDocumentReadCount(m.length);let g=Xn();for(const b of m){const v=this.Sr(De.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);v.isFoundDocument()&&(xm(s,v)||i.has(v.key))&&(g=g.insert(v.key,v))}return g}))}getAllFromCollectionGroup(e,s,r,i){let l=Xn();const c=i4(s,r),f=i4(s,_r.max());return Pl(e).ee({index:KC,range:IDBKeyRange.bound(c,f,!0)},((u,m,g)=>{const b=this.Sr(De.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);l=l.insert(b.key,b),l.size===i&&g.done()})).next((()=>l))}newChangeBuffer(e){return new Cq(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((s=>s.byteSize))}getMetadata(e){return a4(e).get(wv).next((s=>(He(!!s,20021),s)))}br(e,s){return a4(e).put(wv,s)}Sr(e,s){if(s){const r=fq(this.serializer,s);if(!(r.isNoDocument()&&r.version.isEqual(Ye.min())))return r}return Xt.newInvalidDocument(e)}}function cI(n){return new Eq(n)}class Cq extends lI{constructor(e,s){super(),this.Mr=e,this.trackRemovals=s,this.Or=new Vi((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const s=[];let r=0,i=new zt(((l,c)=>et(l.canonicalString(),c.canonicalString())));return this.changes.forEach(((l,c)=>{const f=this.Or.get(l);if(s.push(this.Mr.removeEntry(e,l,f.readTime)),c.isValidDocument()){const u=BS(this.Mr.serializer,c);i=i.add(l.path.popLast());const m=Xg(u);r+=m-f.size,s.push(this.Mr.addEntry(e,l,u))}else if(r-=f.size,this.trackRemovals){const u=BS(this.Mr.serializer,c.convertToNoDocument(Ye.min()));s.push(this.Mr.addEntry(e,l,u))}})),i.forEach((l=>{s.push(this.Mr.indexManager.addToCollectionParentIndex(e,l))})),s.push(this.Mr.updateMetadata(e,r)),re.waitFor(s)}getFromCache(e,s){return this.Mr.Dr(e,s).next((r=>(this.Or.set(s,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,s){return this.Mr.vr(e,s).next((({documents:r,Fr:i})=>(i.forEach(((l,c)=>{this.Or.set(l,{size:c,readTime:r.get(l).readTime})})),r)))}}function a4(n){return Hs(n,Ff)}function Pl(n){return Hs(n,Hg)}function Qh(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function i4(n,e){const s=e.documentKey.path.toArray();return[n,Qg(e.readTime),s.slice(0,s.length-2),s.length>0?s[s.length-1]:""]}function o4(n,e){const s=n.path.toArray(),r=e.path.toArray();let i=0;for(let l=0;l<s.length-2&&l<r.length-2;++l)if(i=et(s[l],r[l]),i)return i;return i=et(s.length,r.length),i||(i=et(s[s.length-2],r[r.length-2]),i||et(s[s.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aq{constructor(e,s){this.overlayedDocument=e,this.mutatedFields=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,s,r,i){this.remoteDocumentCache=e,this.mutationQueue=s,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,s){let r=null;return this.documentOverlayCache.getOverlay(e,s).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,s)))).next((i=>(r!==null&&Nf(r.mutation,i,Jn.empty(),Rt.now()),i)))}getDocuments(e,s){return this.remoteDocumentCache.getEntries(e,s).next((r=>this.getLocalViewOfDocuments(e,r,it()).next((()=>r))))}getLocalViewOfDocuments(e,s,r=it()){const i=Wa();return this.populateOverlays(e,i,s).next((()=>this.computeViews(e,s,i,r).next((l=>{let c=af();return l.forEach(((f,u)=>{c=c.insert(f,u.overlayedDocument)})),c}))))}getOverlayedDocuments(e,s){const r=Wa();return this.populateOverlays(e,r,s).next((()=>this.computeViews(e,s,r,it())))}populateOverlays(e,s,r){const i=[];return r.forEach((l=>{s.has(l)||i.push(l)})),this.documentOverlayCache.getOverlays(e,i).next((l=>{l.forEach(((c,f)=>{s.set(c,f)}))}))}computeViews(e,s,r,i){let l=Xn();const c=jf(),f=(function(){return jf()})();return s.forEach(((u,m)=>{const g=r.get(m.key);i.has(m.key)&&(g===void 0||g.mutation instanceof Ui)?l=l.insert(m.key,m):g!==void 0?(c.set(m.key,g.mutation.getFieldMask()),Nf(g.mutation,m,g.mutation.getFieldMask(),Rt.now())):c.set(m.key,Jn.empty())})),this.recalculateAndSaveOverlays(e,l).next((u=>(u.forEach(((m,g)=>c.set(m,g))),s.forEach(((m,g)=>f.set(m,new Aq(g,c.get(m)??null)))),f)))}recalculateAndSaveOverlays(e,s){const r=jf();let i=new Yt(((c,f)=>c-f)),l=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,s).next((c=>{for(const f of c)f.keys().forEach((u=>{const m=s.get(u);if(m===null)return;let g=r.get(u)||Jn.empty();g=f.applyToLocalView(m,g),r.set(u,g);const b=(i.get(f.batchId)||it()).add(u);i=i.insert(f.batchId,b)}))})).next((()=>{const c=[],f=i.getReverseIterator();for(;f.hasNext();){const u=f.getNext(),m=u.key,g=u.value,b=kA();g.forEach((v=>{if(!l.has(v)){const E=RA(s.get(v),r.get(v));E!==null&&b.set(v,E),l=l.add(v)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,b))}return re.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,s){return this.remoteDocumentCache.getEntries(e,s).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,s,r,i){return O$(s)?this.getDocumentsMatchingDocumentQuery(e,s.path):oj(s)?this.getDocumentsMatchingCollectionGroupQuery(e,s,r,i):this.getDocumentsMatchingCollectionQuery(e,s,r,i)}getNextDocuments(e,s,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,s,r,i).next((l=>{const c=i-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,s,r.largestBatchId,i-l.size):re.resolve(Wa());let f=ru,u=l;return c.next((m=>re.forEach(m,((g,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),l.get(g)?re.resolve():this.remoteDocumentCache.getEntry(e,g).next((v=>{u=u.insert(g,v)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,u,m,it()))).next((g=>({batchId:f,changes:_A(g)})))))}))}getDocumentsMatchingDocumentQuery(e,s){return this.getDocument(e,new De(s)).next((r=>{let i=af();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,s,r,i){const l=s.collectionGroup;let c=af();return this.indexManager.getCollectionParents(e,l).next((f=>re.forEach(f,(u=>{const m=(function(b,v){return new zi(v,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(s,u.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,r,i).next((g=>{g.forEach(((b,v)=>{c=c.insert(b,v)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,s,r,i){let l;return this.documentOverlayCache.getOverlaysForCollection(e,s.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,s,r,l,i)))).next((c=>{l.forEach(((u,m)=>{const g=m.getKey();c.get(g)===null&&(c=c.insert(g,Xt.newInvalidDocument(g)))}));let f=af();return c.forEach(((u,m)=>{const g=l.get(u);g!==void 0&&Nf(g.mutation,m,Jn.empty(),Rt.now()),xm(s,m)&&(f=f.insert(u,m))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iq{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,s){return re.resolve(this.Nr.get(s))}saveBundleMetadata(e,s){return this.Nr.set(s.id,(function(i){return{id:i.id,version:i.version,createTime:Es(i.createTime)}})(s)),re.resolve()}getNamedQuery(e,s){return re.resolve(this.Br.get(s))}saveNamedQuery(e,s){return this.Br.set(s.name,(function(i){return{name:i.name,query:gj(i.bundledQuery),readTime:Es(i.readTime)}})(s)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{constructor(){this.overlays=new Yt(De.comparator),this.Lr=new Map}getOverlay(e,s){return re.resolve(this.overlays.get(s))}getOverlays(e,s){const r=Wa();return re.forEach(s,(i=>this.getOverlay(e,i).next((l=>{l!==null&&r.set(i,l)})))).next((()=>r))}saveOverlays(e,s,r){return r.forEach(((i,l)=>{this.bt(e,s,l)})),re.resolve()}removeOverlaysForBatchId(e,s,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(r)),re.resolve()}getOverlaysForCollection(e,s,r){const i=Wa(),l=s.length+1,c=new De(s.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const u=f.getNext().value,m=u.getKey();if(!s.isPrefixOf(m.path))break;m.path.length===l&&u.largestBatchId>r&&i.set(u.getKey(),u)}return re.resolve(i)}getOverlaysForCollectionGroup(e,s,r,i){let l=new Yt(((m,g)=>m-g));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===s&&m.largestBatchId>r){let g=l.get(m.largestBatchId);g===null&&(g=Wa(),l=l.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const f=Wa(),u=l.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((m,g)=>f.set(m,g))),!(f.size()>=i)););return re.resolve(f)}bt(e,s,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new fj(s,r));let l=this.Lr.get(s);l===void 0&&(l=it(),this.Lr.set(s,l)),this.Lr.set(s,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pq{constructor(){this.sessionToken=bs.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,s){return this.sessionToken=s,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(){this.kr=new zt(Qs.Kr),this.qr=new zt(Qs.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,s){const r=new Qs(e,s);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,s){e.forEach((r=>this.addReference(r,s)))}removeReference(e,s){this.Wr(new Qs(e,s))}Qr(e,s){e.forEach((r=>this.removeReference(r,s)))}Gr(e){const s=new De(new pt([])),r=new Qs(s,e),i=new Qs(s,e+1),l=[];return this.qr.forEachInRange([r,i],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const s=new De(new pt([])),r=new Qs(s,e),i=new Qs(s,e+1);let l=it();return this.qr.forEachInRange([r,i],(c=>{l=l.add(c.key)})),l}containsKey(e){const s=new Qs(e,0),r=this.kr.firstAfterOrEqual(s);return r!==null&&e.isEqual(r.key)}}class Qs{constructor(e,s){this.key=e,this.Hr=s}static Kr(e,s){return De.comparator(e.key,s.key)||et(e.Hr,s.Hr)}static Ur(e,s){return et(e.Hr,s.Hr)||De.comparator(e.key,s.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(e,s){this.indexManager=e,this.referenceDelegate=s,this.mutationQueue=[],this.Yn=1,this.Jr=new zt(Qs.Kr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,s,r,i){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new uj(l,s,r,i);this.mutationQueue.push(c);for(const f of i)this.Jr=this.Jr.add(new Qs(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return re.resolve(c)}lookupMutationBatch(e,s){return re.resolve(this.Zr(s))}getNextMutationBatchAfterBatchId(e,s){const r=s+1,i=this.Xr(r),l=i<0?0:i;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?zo:this.Yn-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,s){const r=new Qs(s,0),i=new Qs(s,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([r,i],(c=>{const f=this.Zr(c.Hr);l.push(f)})),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,s){let r=new zt(et);return s.forEach((i=>{const l=new Qs(i,0),c=new Qs(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(f=>{r=r.add(f.Hr)}))})),re.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,s){const r=s.path,i=r.length+1;let l=r;De.isDocumentKey(l)||(l=l.child(""));const c=new Qs(new De(l),0);let f=new zt(et);return this.Jr.forEachWhile((u=>{const m=u.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(f=f.add(u.Hr)),!0)}),c),re.resolve(this.Yr(f))}Yr(e){const s=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&s.push(i)})),s}removeMutationBatch(e,s){He(this.ei(s.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return re.forEach(s.mutations,(i=>{const l=new Qs(i.key,s.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,s){const r=new Qs(s,0),i=this.Jr.firstAfterOrEqual(r);return re.resolve(s.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ei(e,s){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const s=this.Xr(e);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oq{constructor(e){this.ti=e,this.docs=(function(){return new Yt(De.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,s){const r=s.key,i=this.docs.get(r),l=i?i.size:0,c=this.ti(s);return this.docs=this.docs.insert(r,{document:s.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const s=this.docs.get(e);s&&(this.docs=this.docs.remove(e),this.size-=s.size)}getEntry(e,s){const r=this.docs.get(s);return re.resolve(r?r.document.mutableCopy():Xt.newInvalidDocument(s))}getEntries(e,s){let r=Xn();return s.forEach((i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():Xt.newInvalidDocument(i))})),re.resolve(r)}getDocumentsMatchingQuery(e,s,r,i){let l=Xn();const c=s.path,f=new De(c.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(f);for(;u.hasNext();){const{key:m,value:{document:g}}=u.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||Xw(FC(g),r)<=0||(i.has(g.key)||xm(s,g))&&(l=l.insert(g.key,g.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,s,r,i){Ve(9500)}ni(e,s){return re.forEach(this.docs,(r=>s(r)))}newChangeBuffer(e){return new Mq(this)}getSize(e){return re.resolve(this.size)}}class Mq extends lI{constructor(e){super(),this.Mr=e}applyChanges(e){const s=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?s.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),re.waitFor(s)}getFromCache(e,s){return this.Mr.getEntry(e,s)}getAllFromCache(e,s){return this.Mr.getEntries(e,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(e){this.persistence=e,this.ri=new Vi((s=>uc(s)),pm),this.lastRemoteSnapshotVersion=Ye.min(),this.highestTargetId=0,this.ii=0,this.si=new bj,this.targetCount=0,this.oi=gc._r()}forEachTarget(e,s){return this.ri.forEach(((r,i)=>s(i))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,s,r){return r&&(this.lastRemoteSnapshotVersion=r),s>this.ii&&(this.ii=s),re.resolve()}lr(e){this.ri.set(e.target,e);const s=e.targetId;s>this.highestTargetId&&(this.oi=new gc(s),this.highestTargetId=s),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,s){return this.lr(s),this.targetCount+=1,re.resolve()}updateTargetData(e,s){return this.lr(s),re.resolve()}removeTargetData(e,s){return this.ri.delete(s.target),this.si.Gr(s.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,s,r){let i=0;const l=[];return this.ri.forEach(((c,f)=>{f.sequenceNumber<=s&&r.get(f.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)})),re.waitFor(l).next((()=>i))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,s){const r=this.ri.get(s)||null;return re.resolve(r)}addMatchingKeys(e,s,r){return this.si.$r(s,r),re.resolve()}removeMatchingKeys(e,s,r){this.si.Qr(s,r);const i=this.persistence.referenceDelegate,l=[];return i&&s.forEach((c=>{l.push(i.markPotentiallyOrphaned(e,c))})),re.waitFor(l)}removeMatchingKeysForTargetId(e,s){return this.si.Gr(s),re.resolve()}getMatchingKeysForTargetId(e,s){const r=this.si.jr(s);return re.resolve(r)}containsKey(e,s){return re.resolve(this.si.containsKey(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e,s){this._i={},this.overlays={},this.ai=new Qn(0),this.ui=!1,this.ui=!0,this.ci=new Pq,this.referenceDelegate=e(this),this.li=new Lq(this),this.indexManager=new wq,this.remoteDocumentCache=(function(i){return new Oq(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new XA(s),this.Pi=new Iq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let s=this.overlays[e.toKey()];return s||(s=new Rq,this.overlays[e.toKey()]=s),s}getMutationQueue(e,s){let r=this._i[e.toKey()];return r||(r=new Dq(s,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,s,r){Ee("MemoryPersistence","Starting transaction:",e);const i=new zq(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((l=>this.referenceDelegate.Ii(i).next((()=>l)))).toPromise().then((l=>(i.raiseOnCommittedEvent(),l)))}Ei(e,s){return re.or(Object.values(this._i).map((r=>()=>r.containsKey(e,s))))}}class zq extends $C{constructor(e){super(),this.currentSequenceNumber=e}}class Vx{constructor(e){this.persistence=e,this.Ri=new bj,this.Ai=null}static Vi(e){return new Vx(e)}get di(){if(this.Ai)return this.Ai;throw Ve(60996)}addReference(e,s,r){return this.Ri.addReference(r,s),this.di.delete(r.toString()),re.resolve()}removeReference(e,s,r){return this.Ri.removeReference(r,s),this.di.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,s){return this.di.add(s.toString()),re.resolve()}removeTarget(e,s){this.Ri.Gr(s.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,s.targetId).next((i=>{i.forEach((l=>this.di.add(l.toString())))})).next((()=>r.removeTargetData(e,s)))}Ti(){this.Ai=new Set}Ii(e){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.di,(r=>{const i=De.fromPath(r);return this.mi(e,i).next((l=>{l||s.removeEntry(i,Ye.min())}))})).next((()=>(this.Ai=null,s.apply(e))))}updateLimboDocument(e,s){return this.mi(e,s).next((r=>{r?this.di.delete(s.toString()):this.di.add(s.toString())}))}hi(e){return 0}mi(e,s){return re.or([()=>re.resolve(this.Ri.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(e,s),()=>this.persistence.Ei(e,s)])}}class Zg{constructor(e,s){this.persistence=e,this.fi=new Vi((r=>Sn(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=oI(this,s)}static Vi(e,s){return new Zg(e,s)}Ti(){}Ii(e){return re.resolve()}forEachTarget(e,s){return this.persistence.getTargetCache().forEachTarget(e,s)}dr(e){const s=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>s.next((i=>r+i))))}pr(e){let s=0;return this.mr(e,(r=>{s++})).next((()=>s))}mr(e,s){return re.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((l=>l?re.resolve():s(i)))))}removeTargets(e,s,r){return this.persistence.getTargetCache().removeTargets(e,s,r)}removeOrphanedDocuments(e,s){let r=0;const i=this.persistence.getRemoteDocumentCache(),l=i.newChangeBuffer();return i.ni(e,(c=>this.wr(e,c,s).next((f=>{f||(r++,l.removeEntry(c,Ye.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,s){return this.fi.set(s,e.currentSequenceNumber),re.resolve()}removeTarget(e,s){const r=s.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,s,r){return this.fi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,s,r){return this.fi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,s){return this.fi.set(s,e.currentSequenceNumber),re.resolve()}hi(e){let s=e.key.toString().length;return e.isFoundDocument()&&(s+=_g(e.data.value)),s}wr(e,s,r){return re.or([()=>this.persistence.Ei(e,s),()=>this.persistence.getTargetCache().containsKey(e,s),()=>{const i=this.fi.get(s);return re.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{constructor(e){this.serializer=e}k(e,s,r,i){const l=new Ex("createOrUpgrade",s);r<1&&i>=1&&((function(u){u.createObjectStore(mm)})(e),(function(u){u.createObjectStore(Uf,{keyPath:Q7}),u.createObjectStore(da,{keyPath:yS,autoIncrement:!0}).createIndex(ql,bS,{unique:!0}),u.createObjectStore(au)})(e),l4(e),(function(u){u.createObjectStore(Ml)})(e));let c=re.resolve();return r<3&&i>=3&&(r!==0&&((function(u){u.deleteObjectStore(ou),u.deleteObjectStore(iu),u.deleteObjectStore(Zl)})(e),l4(e)),c=c.next((()=>(function(u){const m=u.store(Zl),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ye.min().toTimestamp(),targetCount:0};return m.put(Gg,g)})(l)))),r<4&&i>=4&&(r!==0&&(c=c.next((()=>(function(u,m){return m.store(da).H().next((b=>{u.deleteObjectStore(da),u.createObjectStore(da,{keyPath:yS,autoIncrement:!0}).createIndex(ql,bS,{unique:!0});const v=m.store(da),E=b.map((N=>v.put(N)));return re.waitFor(E)}))})(e,l)))),c=c.next((()=>{(function(u){u.createObjectStore(lu,{keyPath:a$})})(e)}))),r<5&&i>=5&&(c=c.next((()=>this.gi(l)))),r<6&&i>=6&&(c=c.next((()=>((function(u){u.createObjectStore(Ff)})(e),this.pi(l))))),r<7&&i>=7&&(c=c.next((()=>this.yi(l)))),r<8&&i>=8&&(c=c.next((()=>this.wi(e,l)))),r<9&&i>=9&&(c=c.next((()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(c=c.next((()=>this.bi(l)))),r<11&&i>=11&&(c=c.next((()=>{(function(u){u.createObjectStore(Cx,{keyPath:i$})})(e),(function(u){u.createObjectStore(Ax,{keyPath:o$})})(e)}))),r<12&&i>=12&&(c=c.next((()=>{(function(u){const m=u.createObjectStore(Ix,{keyPath:m$});m.createIndex(Nv,p$,{unique:!1}),m.createIndex(JC,g$,{unique:!1})})(e)}))),r<13&&i>=13&&(c=c.next((()=>(function(u){const m=u.createObjectStore(Hg,{keyPath:X7});m.createIndex(jg,Z7),m.createIndex(KC,e$)})(e))).next((()=>this.Si(e,l))).next((()=>e.deleteObjectStore(Ml)))),r<14&&i>=14&&(c=c.next((()=>this.Di(e,l)))),r<15&&i>=15&&(c=c.next((()=>(function(u){u.createObjectStore(tj,{keyPath:l$,autoIncrement:!0}).createIndex(jv,c$,{unique:!1}),u.createObjectStore(bf,{keyPath:d$}).createIndex(YC,u$,{unique:!1}),u.createObjectStore(vf,{keyPath:h$}).createIndex(QC,f$,{unique:!1})})(e)))),r<16&&i>=16&&(c=c.next((()=>{s.objectStore(bf).clear()})).next((()=>{s.objectStore(vf).clear()}))),r<17&&i>=17&&(c=c.next((()=>{(function(u){u.createObjectStore(sj,{keyPath:x$})})(e)}))),r<18&&i>=18&&mE()&&(c=c.next((()=>{s.objectStore(bf).clear()})).next((()=>{s.objectStore(vf).clear()}))),c}pi(e){let s=0;return e.store(Ml).ee(((r,i)=>{s+=Xg(i)})).next((()=>{const r={byteSize:s};return e.store(Ff).put(wv,r)}))}gi(e){const s=e.store(Uf),r=e.store(da);return s.H().next((i=>re.forEach(i,(l=>{const c=IDBKeyRange.bound([l.userId,zo],[l.userId,l.lastAcknowledgedBatchId]);return r.H(ql,c).next((f=>re.forEach(f,(u=>{He(u.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:u.batchId});const m=zl(this.serializer,u);return nI(e,l.userId,m).next((()=>{}))}))))}))))}yi(e){const s=e.store(ou),r=e.store(Ml);return e.store(Zl).get(Gg).next((i=>{const l=[];return r.ee(((c,f)=>{const u=new pt(c),m=(function(b){return[0,Sn(b)]})(u);l.push(s.get(m).next((g=>g?re.resolve():(b=>s.put({targetId:0,path:Sn(b),sequenceNumber:i.highestListenSequenceNumber}))(u))))})).next((()=>re.waitFor(l)))}))}wi(e,s){e.createObjectStore(Bf,{keyPath:r$});const r=s.store(Bf),i=new yj,l=c=>{if(i.add(c)){const f=c.lastSegment(),u=c.popLast();return r.put({collectionId:f,parent:Sn(u)})}};return s.store(Ml).ee({Y:!0},((c,f)=>{const u=new pt(c);return l(u.popLast())})).next((()=>s.store(au).ee({Y:!0},(([c,f,u],m)=>{const g=Ka(f);return l(g.popLast())}))))}bi(e){const s=e.store(iu);return s.ee(((r,i)=>{const l=lf(i),c=ZA(this.serializer,l);return s.put(c)}))}Si(e,s){const r=s.store(Ml),i=[];return r.ee(((l,c)=>{const f=s.store(Hg),u=(function(b){return b.document?new De(pt.fromString(b.document.name).popFirst(5)):b.noDocument?De.fromSegments(b.noDocument.path):b.unknownDocument?De.fromSegments(b.unknownDocument.path):Ve(36783)})(c).path.toArray(),m={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(f.put(m))})).next((()=>re.waitFor(i)))}Di(e,s){const r=s.store(da),i=cI(this.serializer),l=new vj(Vx.Vi,this.serializer.yt);return r.H().next((c=>{const f=new Map;return c.forEach((u=>{let m=f.get(u.userId)??it();zl(this.serializer,u).keys().forEach((g=>m=m.add(g))),f.set(u.userId,m)})),re.forEach(f,((u,m)=>{const g=new Js(m),b=Lx.wt(this.serializer,g),v=l.getIndexManager(g),E=zx.wt(g,this.serializer,v,l.referenceDelegate);return new dI(i,E,b,v).recalculateAndSaveOverlaysForDocumentKeys(new _v(s,Qn.ce),u).next()}))}))}}function l4(n){n.createObjectStore(ou,{keyPath:s$}).createIndex(ej,n$,{unique:!0}),n.createObjectStore(iu,{keyPath:"targetId"}).createIndex(WC,t$,{unique:!0}),n.createObjectStore(Zl)}const Eo="IndexedDbPersistence",Rb=18e5,Pb=5e3,Db="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",uI="main";class wj{constructor(e,s,r,i,l,c,f,u,m,g,b=18){if(this.allowTabSynchronization=e,this.persistenceKey=s,this.clientId=r,this.Ci=l,this.window=c,this.document=f,this.Fi=m,this.Mi=g,this.xi=b,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=v=>Promise.resolve(),!wj.v())throw new Se(he.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Tq(this,i),this.Ki=s+uI,this.serializer=new XA(u),this.qi=new Qa(this.Ki,this.xi,new Vq(this.serializer)),this.ci=new pq,this.li=new Nq(this.referenceDelegate,this.serializer),this.remoteDocumentCache=cI(this.serializer),this.Pi=new mq,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,g===!1&&Ss(Eo,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Se(he.FAILED_PRECONDITION,Db);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.li.getHighestSequenceNumber(e)))})).then((e=>{this.ai=new Qn(e,this.Fi)})).then((()=>{this.ui=!0})).catch((e=>(this.qi&&this.qi.close(),Promise.reject(e))))}zi(e){return this.ki=async s=>{if(this.started)return e(s)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q((async s=>{s.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>lg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(e).next((s=>{s||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(e))).next((s=>this.isPrimary&&!s?this.Ji(e).next((()=>!1)):!!s&&this.Zi(e).next((()=>!0)))))).catch((e=>{if(rl(e))return Ee(Eo,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ee(Eo,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable((()=>this.ki(e))),this.isPrimary=e}))}ji(e){return Jh(e).get(_d).next((s=>re.resolve(this.Xi(s))))}Yi(e){return lg(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,Rb)){this.Li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(s=>{const r=Hs(s,lu);return r.H().next((i=>{const l=this.ns(i,Rb),c=i.filter((f=>l.indexOf(f)===-1));return re.forEach(c,(f=>r.delete(f.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ui)for(const s of e)this.Ui.removeItem(this.rs(s.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?re.resolve(!0):Jh(e).get(_d).next((s=>{if(s!==null&&this.ts(s.leaseTimestampMs,Pb)&&!this.ss(s.ownerId)){if(this.Xi(s)&&this.networkEnabled)return!0;if(!this.Xi(s)){if(!s.allowTabSynchronization)throw new Se(he.FAILED_PRECONDITION,Db);return!1}}return!(!this.networkEnabled||!this.inForeground)||lg(e).H().next((r=>this.ns(r,Pb).find((i=>{if(this.clientId!==i.clientId){const l=!this.networkEnabled&&i.networkEnabled,c=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(l||c&&f)return!0}return!1}))===void 0))})).next((s=>(this.isPrimary!==s&&Ee(Eo,`Client ${s?"is":"is not"} eligible for a primary lease.`),s)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[mm,lu],(e=>{const s=new _v(e,Qn.ce);return this.Ji(s).next((()=>this.Yi(s)))})),this.qi.close(),this.ls()}ns(e,s){return e.filter((r=>this.ts(r.updateTimeMs,s)&&!this.ss(r.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(e=>lg(e).H().next((s=>this.ns(s,Rb).map((r=>r.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,s){return zx.wt(e,this.serializer,s,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new jq(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Lx.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,s,r){Ee(Eo,"Starting transaction:",e);const i=s==="readonly"?"readonly":"readwrite",l=(function(u){return u===18?v$:u===17?tA:u===16?b$:u===15?nj:u===14?eA:u===13?ZC:u===12?y$:u===11?XC:void Ve(60245)})(this.xi);let c;return this.qi.runTransaction(e,i,l,(f=>(c=new _v(f,this.ai?this.ai.next():Qn.ce),s==="readwrite-primary"?this.ji(c).next((u=>!!u||this.Hi(c))).next((u=>{if(!u)throw Ss(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new Se(he.FAILED_PRECONDITION,BC);return r(c)})).next((u=>this.Zi(c).next((()=>u)))):this.Ps(c).next((()=>r(c)))))).then((f=>(c.raiseOnCommittedEvent(),f)))}Ps(e){return Jh(e).get(_d).next((s=>{if(s!==null&&this.ts(s.leaseTimestampMs,Pb)&&!this.ss(s.ownerId)&&!this.Xi(s)&&!(this.Mi||this.allowTabSynchronization&&s.allowTabSynchronization))throw new Se(he.FAILED_PRECONDITION,Db)}))}Zi(e){const s={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Jh(e).put(_d,s)}static v(){return Qa.v()}Ji(e){const s=Jh(e);return s.get(_d).next((r=>this.Xi(r)?(Ee(Eo,"Releasing primary lease."),s.delete(_d)):re.resolve()))}ts(e,s){const r=Date.now();return!(e<r-s)&&(!(e>r)||(Ss(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Oi=()=>{this._s();const s=/(?:Version|Mobile)\/1[456]/;fE()&&(navigator.appVersion.match(s)||navigator.userAgent.match(s))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){var s;try{const r=((s=this.Ui)==null?void 0:s.getItem(this.rs(e)))!==null;return Ee(Eo,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Ss(Eo,"Failed to get zombied client id.",r),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){Ss("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Jh(n){return Hs(n,mm)}function lg(n){return Hs(n,lu)}function jj(n,e){let s=n.projectId;return n.isDefaultDatabase||(s+="."+n.database),"firestore/"+e+"/"+s+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e,s,r,i){this.targetId=e,this.fromCache=s,this.Ts=r,this.Is=i}static Es(e,s){let r=it(),i=it();for(const l of s.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new Nj(e,s.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return fE()?8:qC(ds())>0?6:4})()}initialize(e,s){this.fs=e,this.indexManager=s,this.Rs=!0}getDocumentsMatchingQuery(e,s,r,i){const l={result:null};return this.gs(e,s).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,s,i,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new Uq;return this.ys(e,s,c).next((f=>{if(l.result=f,this.As)return this.ws(e,s,c,f.size)}))})).next((()=>l.result))}ws(e,s,r,i){return r.documentReadCount<this.Vs?(Ad()<=mt.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Id(s),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),re.resolve()):(Ad()<=mt.DEBUG&&Ee("QueryEngine","Query:",Id(s),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Ad()<=mt.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Id(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mn(s))):re.resolve())}gs(e,s){if(RS(s))return re.resolve(null);let r=Mn(s);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(s.limit!==null&&i===1&&(s=Yg(s,null,"F"),r=Mn(s)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=it(...l);return this.fs.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,r).next((u=>{const m=this.bs(s,f);return this.Ss(s,m,c,u.readTime)?this.gs(e,Yg(s,null,"F")):this.Ds(e,m,s,u)}))))})))))}ps(e,s,r,i){return RS(s)||i.isEqual(Ye.min())?re.resolve(null):this.fs.getDocuments(e,r).next((l=>{const c=this.bs(s,l);return this.Ss(s,c,r,i)?re.resolve(null):(Ad()<=mt.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Id(s)),this.Ds(e,c,s,UC(i,ru)).next((f=>f)))}))}bs(e,s){let r=new zt(jA(e));return s.forEach(((i,l)=>{xm(e,l)&&(r=r.add(l))})),r}Ss(e,s,r,i){if(e.limit===null)return!1;if(r.size!==s.size)return!0;const l=e.limitType==="F"?s.last():s.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}ys(e,s,r){return Ad()<=mt.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Id(s)),this.fs.getDocumentsMatchingQuery(e,s,_r.min(),r)}Ds(e,s,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((l=>(s.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j="LocalStore",Fq=3e8;class Bq{constructor(e,s,r,i){this.persistence=e,this.Cs=s,this.serializer=i,this.vs=new Yt(et),this.Fs=new Vi((l=>uc(l)),pm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(s=>e.collect(s,this.vs)))}}function fI(n,e,s,r){return new Bq(n,e,s,r)}async function mI(n,e){const s=ze(n);return await s.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return s.mutationQueue.getAllMutationBatches(r).next((l=>(i=l,s.Os(e),s.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],f=[];let u=it();for(const m of i){c.push(m.batchId);for(const g of m.mutations)u=u.add(g.key)}for(const m of l){f.push(m.batchId);for(const g of m.mutations)u=u.add(g.key)}return s.localDocuments.getDocuments(r,u).next((m=>({Ns:m,removedBatchIds:c,addedBatchIds:f})))}))}))}function $q(n,e){const s=ze(n);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),l=s.xs.newChangeBuffer({trackRemovals:!0});return(function(f,u,m,g){const b=m.batch,v=b.keys();let E=re.resolve();return v.forEach((N=>{E=E.next((()=>g.getEntry(u,N))).next((C=>{const T=m.docVersions.get(N);He(T!==null,48541),C.version.compareTo(T)<0&&(b.applyToRemoteDocument(C,m),C.isValidDocument()&&(C.setReadTime(m.commitVersion),g.addEntry(C)))}))})),E.next((()=>f.mutationQueue.removeMutationBatch(u,b)))})(s,r,e,l).next((()=>l.apply(r))).next((()=>s.mutationQueue.performConsistencyCheck(r))).next((()=>s.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(f){let u=it();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(u=u.add(f.batch.mutations[m].key));return u})(e)))).next((()=>s.localDocuments.getDocuments(r,i)))}))}function pI(n){const e=ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(s=>e.li.getLastRemoteSnapshotVersion(s)))}function qq(n,e){const s=ze(n),r=e.snapshotVersion;let i=s.vs;return s.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=s.xs.newChangeBuffer({trackRemovals:!0});i=s.vs;const f=[];e.targetChanges.forEach(((g,b)=>{const v=i.get(b);if(!v)return;f.push(s.li.removeMatchingKeys(l,g.removedDocuments,b).next((()=>s.li.addMatchingKeys(l,g.addedDocuments,b))));let E=v.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?E=E.withResumeToken(bs.EMPTY_BYTE_STRING,Ye.min()).withLastLimboFreeSnapshotVersion(Ye.min()):g.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(g.resumeToken,r)),i=i.insert(b,E),(function(C,T,O){return C.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=Fq?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(v,E,g)&&f.push(s.li.updateTargetData(l,E))}));let u=Xn(),m=it();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&f.push(s.persistence.referenceDelegate.updateLimboDocument(l,g))})),f.push(gI(l,c,e.documentUpdates).next((g=>{u=g.Bs,m=g.Ls}))),!r.isEqual(Ye.min())){const g=s.li.getLastRemoteSnapshotVersion(l).next((b=>s.li.setTargetsMetadata(l,l.currentSequenceNumber,r)));f.push(g)}return re.waitFor(f).next((()=>c.apply(l))).next((()=>s.localDocuments.getLocalViewOfDocuments(l,u,m))).next((()=>u))})).then((l=>(s.vs=i,l)))}function gI(n,e,s){let r=it(),i=it();return s.forEach((l=>r=r.add(l))),e.getEntries(n,r).next((l=>{let c=Xn();return s.forEach(((f,u)=>{const m=l.get(f);u.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(f)),u.isNoDocument()&&u.version.isEqual(Ye.min())?(e.removeEntry(f,u.readTime),c=c.insert(f,u)):!m.isValidDocument()||u.version.compareTo(m.version)>0||u.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(u),c=c.insert(f,u)):Ee(_j,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",u.version)})),{Bs:c,Ls:i}}))}function Hq(n,e){const s=ze(n);return s.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=zo),s.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function pu(n,e){const s=ze(n);return s.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return s.li.getTargetData(r,e).next((l=>l?(i=l,re.resolve(i)):s.li.allocateTargetId(r).next((c=>(i=new Ni(e,c,"TargetPurposeListen",r.currentSequenceNumber),s.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=s.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(s.vs=s.vs.insert(r.targetId,r),s.Fs.set(e,r.targetId)),r}))}async function gu(n,e,s){const r=ze(n),i=r.vs.get(e),l=s?"readwrite":"readwrite-primary";try{s||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!rl(c))throw c;Ee(_j,`Failed to update sequence numbers for target ${e}: ${c}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function ex(n,e,s){const r=ze(n);let i=Ye.min(),l=it();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(u,m,g){const b=ze(u),v=b.Fs.get(g);return v!==void 0?re.resolve(b.vs.get(v)):b.li.getTargetData(m,g)})(r,c,Mn(e)).next((f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,f.targetId).next((u=>{l=u}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,e,s?i:Ye.min(),s?l:it()))).next((f=>(bI(r,wA(e),f),{documents:f,ks:l})))))}function xI(n,e){const s=ze(n),r=ze(s.li),i=s.vs.get(e);return i?Promise.resolve(i.target):s.persistence.runTransaction("Get target data","readonly",(l=>r.At(l,e).next((c=>c?c.target:null))))}function yI(n,e){const s=ze(n),r=s.Ms.get(e)||Ye.min();return s.persistence.runTransaction("Get new document changes","readonly",(i=>s.xs.getAllFromCollectionGroup(i,e,UC(r,ru),Number.MAX_SAFE_INTEGER))).then((i=>(bI(s,e,i),i)))}function bI(n,e,s){let r=n.Ms.get(e)||Ye.min();s.forEach(((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),n.Ms.set(e,r)}async function Gq(n,e,s,r){const i=ze(n);let l=it(),c=Xn();for(const m of s){const g=e.Ks(m.metadata.name);m.document&&(l=l.add(g));const b=e.qs(m);b.setReadTime(e.Us(m.metadata.readTime)),c=c.insert(g,b)}const f=i.xs.newChangeBuffer({trackRemovals:!0}),u=await pu(i,(function(g){return Mn(Ru(pt.fromString(`__bundle__/docs/${g}`)))})(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(m=>gI(m,f,c).next((g=>(f.apply(m),g))).next((g=>i.li.removeMatchingKeysForTargetId(m,u.targetId).next((()=>i.li.addMatchingKeys(m,l,u.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(m,g.Bs,g.Ls))).next((()=>g.Bs))))))}async function Kq(n,e,s=it()){const r=await pu(n,Mn(gj(e.bundledQuery))),i=ze(n);return i.persistence.runTransaction("Save named query","readwrite",(l=>{const c=Es(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Pi.saveNamedQuery(l,e);const f=r.withResumeToken(bs.EMPTY_BYTE_STRING,c);return i.vs=i.vs.insert(f.targetId,f),i.li.updateTargetData(l,f).next((()=>i.li.removeMatchingKeysForTargetId(l,r.targetId))).next((()=>i.li.addMatchingKeys(l,s,r.targetId))).next((()=>i.Pi.saveNamedQuery(l,e)))}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="firestore_clients";function c4(n,e){return`${vI}_${n}_${e}`}const wI="firestore_mutations";function d4(n,e,s){let r=`${wI}_${n}_${s}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const jI="firestore_targets";function Ob(n,e){return`${jI}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="SharedClientState";class tx{constructor(e,s,r,i){this.user=e,this.batchId=s,this.state=r,this.error=i}static $s(e,s,r){const i=JSON.parse(r);let l,c=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return c&&i.error&&(c=typeof i.error.message=="string"&&typeof i.error.code=="string",c&&(l=new Se(i.error.code,i.error.message))),c?new tx(e,s,i.state,l):(Ss(Fa,`Failed to parse mutation state for ID '${s}': ${r}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _f{constructor(e,s,r){this.targetId=e,this.state=s,this.error=r}static $s(e,s){const r=JSON.parse(s);let i,l=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return l&&r.error&&(l=typeof r.error.message=="string"&&typeof r.error.code=="string",l&&(i=new Se(r.error.code,r.error.message))),l?new _f(e,r.state,i):(Ss(Fa,`Failed to parse target state for ID '${e}': ${s}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class sx{constructor(e,s){this.clientId=e,this.activeTargetIds=s}static $s(e,s){const r=JSON.parse(s);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,l=lj();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=HC(r.activeTargetIds[c]),l=l.add(r.activeTargetIds[c]);return i?new sx(e,l):(Ss(Fa,`Failed to parse client data for instance '${e}': ${s}`),null)}}class kj{constructor(e,s){this.clientId=e,this.onlineState=s}static $s(e){const s=JSON.parse(e);return typeof s=="object"&&["Unknown","Online","Offline"].indexOf(s.onlineState)!==-1&&typeof s.clientId=="string"?new kj(s.clientId,s.onlineState):(Ss(Fa,`Failed to parse online state: ${e}`),null)}}class Vv{constructor(){this.activeTargetIds=lj()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Mb{constructor(e,s,r,i,l){this.window=e,this.Ci=s,this.persistenceKey=r,this.zs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.js=this.Hs.bind(this),this.Js=new Yt(et),this.started=!1,this.Zs=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Xs=c4(this.persistenceKey,this.zs),this.Ys=(function(u){return`firestore_sequence_number_${u}`})(this.persistenceKey),this.Js=this.Js.insert(this.zs,new Vv),this.eo=new RegExp(`^${vI}_${c}_([^_]*)$`),this.no=new RegExp(`^${wI}_${c}_(\\d+)(?:_(.*))?$`),this.ro=new RegExp(`^${jI}_${c}_(\\d+)$`),this.io=(function(u){return`firestore_online_state_${u}`})(this.persistenceKey),this.so=(function(u){return`firestore_bundle_loaded_v2_${u}`})(this.persistenceKey),this.window.addEventListener("storage",this.js)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.hs();for(const r of e){if(r===this.zs)continue;const i=this.getItem(c4(this.persistenceKey,r));if(i){const l=sx.$s(r,i);l&&(this.Js=this.Js.insert(l.clientId,l))}}this.oo();const s=this.storage.getItem(this.io);if(s){const r=this._o(s);r&&this.ao(r)}for(const r of this.Zs)this.Hs(r);this.Zs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ys,JSON.stringify(e))}getAllActiveQueryTargets(){return this.uo(this.Js)}isActiveQueryTarget(e){let s=!1;return this.Js.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(s=!0)})),s}addPendingMutation(e){this.co(e,"pending")}updateMutationState(e,s,r){this.co(e,s,r),this.lo(e)}addLocalQueryTarget(e,s=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Ob(this.persistenceKey,e));if(i){const l=_f.$s(e,i);l&&(r=l.state)}}return s&&this.ho.Qs(e),this.oo(),r}removeLocalQueryTarget(e){this.ho.Gs(e),this.oo()}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ob(this.persistenceKey,e))}updateQueryState(e,s,r){this.Po(e,s,r)}handleUserChange(e,s,r){s.forEach((i=>{this.lo(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.To(e)}notifyBundleLoaded(e){this.Io(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.js),this.removeItem(this.Xs),this.started=!1)}getItem(e){const s=this.storage.getItem(e);return Ee(Fa,"READ",e,s),s}setItem(e,s){Ee(Fa,"SET",e,s),this.storage.setItem(e,s)}removeItem(e){Ee(Fa,"REMOVE",e),this.storage.removeItem(e)}Hs(e){const s=e;if(s.storageArea===this.storage){if(Ee(Fa,"EVENT",s.key,s.newValue),s.key===this.Xs)return void Ss("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ci.enqueueRetryable((async()=>{if(this.started){if(s.key!==null){if(this.eo.test(s.key)){if(s.newValue==null){const r=this.Eo(s.key);return this.Ro(r,null)}{const r=this.Ao(s.key,s.newValue);if(r)return this.Ro(r.clientId,r)}}else if(this.no.test(s.key)){if(s.newValue!==null){const r=this.Vo(s.key,s.newValue);if(r)return this.mo(r)}}else if(this.ro.test(s.key)){if(s.newValue!==null){const r=this.fo(s.key,s.newValue);if(r)return this.po(r)}}else if(s.key===this.io){if(s.newValue!==null){const r=this._o(s.newValue);if(r)return this.ao(r)}}else if(s.key===this.Ys){const r=(function(l){let c=Qn.ce;if(l!=null)try{const f=JSON.parse(l);He(typeof f=="number",30636,{yo:l}),c=f}catch(f){Ss(Fa,"Failed to read sequence number from WebStorage",f)}return c})(s.newValue);r!==Qn.ce&&this.sequenceNumberHandler(r)}else if(s.key===this.so){const r=this.wo(s.newValue);await Promise.all(r.map((i=>this.syncEngine.bo(i))))}}}else this.Zs.push(s)}))}}get ho(){return this.Js.get(this.zs)}oo(){this.setItem(this.Xs,this.ho.Ws())}co(e,s,r){const i=new tx(this.currentUser,e,s,r),l=d4(this.persistenceKey,this.currentUser,e);this.setItem(l,i.Ws())}lo(e){const s=d4(this.persistenceKey,this.currentUser,e);this.removeItem(s)}To(e){const s={clientId:this.zs,onlineState:e};this.storage.setItem(this.io,JSON.stringify(s))}Po(e,s,r){const i=Ob(this.persistenceKey,e),l=new _f(e,s,r);this.setItem(i,l.Ws())}Io(e){const s=JSON.stringify(Array.from(e));this.setItem(this.so,s)}Eo(e){const s=this.eo.exec(e);return s?s[1]:null}Ao(e,s){const r=this.Eo(e);return sx.$s(r,s)}Vo(e,s){const r=this.no.exec(e),i=Number(r[1]),l=r[2]!==void 0?r[2]:null;return tx.$s(new Js(l),i,s)}fo(e,s){const r=this.ro.exec(e),i=Number(r[1]);return _f.$s(i,s)}_o(e){return kj.$s(e)}wo(e){return JSON.parse(e)}async mo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.So(e.batchId,e.state,e.error);Ee(Fa,`Ignoring mutation for non-active user ${e.user.uid}`)}po(e){return this.syncEngine.Do(e.targetId,e.state,e.error)}Ro(e,s){const r=s?this.Js.insert(e,s):this.Js.remove(e),i=this.uo(this.Js),l=this.uo(r),c=[],f=[];return l.forEach((u=>{i.has(u)||c.push(u)})),i.forEach((u=>{l.has(u)||f.push(u)})),this.syncEngine.Co(c,f).then((()=>{this.Js=r}))}ao(e){this.Js.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}uo(e){let s=lj();return e.forEach(((r,i)=>{s=s.unionWith(i.activeTargetIds)})),s}}class NI{constructor(){this.vo=new Vv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,s,r){}addLocalQueryTarget(e,s=!0){return s&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,s,r){this.Fo[e]=s}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Vv,Promise.resolve()}handleUserChange(e,s,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4="ConnectivityMonitor";class h4{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Ee(u4,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Ee(u4,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cg=null;function Uv(){return cg===null?cg=(function(){return 268435456+Math.round(2147483648*Math.random())})():cg++,"0x"+cg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="RestConnection",Yq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Qq{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const s=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=s+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===kv?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,s,r,i,l){const c=Uv(),f=this.Qo(e,s.toUriEncodedString());Ee(Lb,`Sending RPC '${e}' ${c}:`,f,r);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,i,l);const{host:m}=new URL(f),g=Su(m);return this.zo(e,f,u,r,g).then((b=>(Ee(Lb,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw Za(Lb,`RPC '${e}' ${c} failed with error: `,b,"url: ",f,"request:",r),b}))}jo(e,s,r,i,l,c){return this.Wo(e,s,r,i,l)}Go(e,s,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Iu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((i,l)=>e[l]=i)),r&&r.headers.forEach(((i,l)=>e[l]=i))}Qo(e,s){const r=Yq[e];let i=`${this.qo}/v1/${s}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn="WebChannelConnection",Xh=(n,e,s)=>{n.listen(e,(r=>{try{s(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class Hd extends Qq{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Hd.c_){const e=RC();Xh(e,IC.STAT_EVENT,(s=>{s.stat===yv.PROXY?Ee(jn,"STAT_EVENT: detected buffering proxy"):s.stat===yv.NOPROXY&&Ee(jn,"STAT_EVENT: detected no buffering proxy")})),Hd.c_=!0}}zo(e,s,r,i,l){const c=Uv();return new Promise(((f,u)=>{const m=new CC;m.setWithCredentials(!0),m.listenOnce(AC.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case bg.NO_ERROR:const b=m.getResponseJson();Ee(jn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),f(b);break;case bg.TIMEOUT:Ee(jn,`RPC '${e}' ${c} timed out`),u(new Se(he.DEADLINE_EXCEEDED,"Request time out"));break;case bg.HTTP_ERROR:const v=m.getStatus();if(Ee(jn,`RPC '${e}' ${c} failed with status:`,v,"response text:",m.getResponseText()),v>0){let E=m.getResponseJson();Array.isArray(E)&&(E=E[0]);const N=E==null?void 0:E.error;if(N&&N.status&&N.message){const C=(function(O){const F=O.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(F)>=0?F:he.UNKNOWN})(N.status);u(new Se(C,N.message))}else u(new Se(he.UNKNOWN,"Server responded with status "+m.getStatus()))}else u(new Se(he.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{Ee(jn,`RPC '${e}' ${c} completed.`)}}));const g=JSON.stringify(i);Ee(jn,`RPC '${e}' ${c} sending request:`,i),m.send(s,"POST",g,r,15)}))}T_(e,s,r){const i=Uv(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(f.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Go(f.initMessageHeaders,s,r),f.encodeInitMessageHeaders=!0;const m=l.join("");Ee(jn,`Creating RPC '${e}' stream ${i}: ${m}`,f);const g=c.createWebChannel(m,f);this.I_(g);let b=!1,v=!1;const E=new Jq({Ho:N=>{v?Ee(jn,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(b||(Ee(jn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),b=!0),Ee(jn,`RPC '${e}' stream ${i} sending:`,N),g.send(N))},Jo:()=>g.close()});return Xh(g,rf.EventType.OPEN,(()=>{v||(Ee(jn,`RPC '${e}' stream ${i} transport opened.`),E.i_())})),Xh(g,rf.EventType.CLOSE,(()=>{v||(v=!0,Ee(jn,`RPC '${e}' stream ${i} transport closed`),E.o_(),this.E_(g))})),Xh(g,rf.EventType.ERROR,(N=>{v||(v=!0,Za(jn,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),E.o_(new Se(he.UNAVAILABLE,"The operation could not be completed")))})),Xh(g,rf.EventType.MESSAGE,(N=>{var C;if(!v){const T=N.data[0];He(!!T,16349);const O=T,F=(O==null?void 0:O.error)||((C=O[0])==null?void 0:C.error);if(F){Ee(jn,`RPC '${e}' stream ${i} received error:`,F);const z=F.status;let M=(function(A){const P=Ls[A];if(P!==void 0)return OA(P)})(z),U=F.message;M===void 0&&(M=he.INTERNAL,U="Unknown error status: "+z+" with message "+F.message),v=!0,E.o_(new Se(M,U)),g.close()}else Ee(jn,`RPC '${e}' stream ${i} received:`,T),E.__(T)}})),Hd.u_(),setTimeout((()=>{E.s_()}),0),E}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((s=>s===e))}Go(e,s,r){super.Go(e,s,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return PC()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xq(n){return new Hd(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(){return typeof window<"u"?window:null}function Cg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(n){return new nq(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hd.c_=!1;class Sj{constructor(e,s,r=1e3,i=1.5,l=6e4){this.Ci=e,this.timerId=s,this.R_=r,this.A_=i,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const s=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,s-r);i>0&&Ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${s} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4="PersistentStream";class kI{constructor(e,s,r,i,l,c,f,u){this.Ci=e,this.b_=r,this.S_=i,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Sj(e,s)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,s){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():s&&s.code===he.RESOURCE_EXHAUSTED?(Ss(s.toString()),Ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):s&&s.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(s)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),s=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===s&&this.G_(r,i)}),(r=>{e((()=>{const i=new Se(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,s){const r=this.Q_(this.D_);this.stream=this.j_(e,s),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ee(f4,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return s=>{this.Ci.enqueueAndForget((()=>this.D_===e?s():(Ee(f4,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Zq extends kI{constructor(e,s,r,i,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,r,i,c),this.serializer=l}j_(e,s){return this.connection.T_("Listen",e,s)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const s=iq(this.serializer,e),r=(function(l){if(!("targetChange"in l))return Ye.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ye.min():c.readTime?Es(c.readTime):Ye.min()})(e);return this.listener.J_(s,r)}Z_(e){const s={};s.database=Dv(this.serializer),s.addTarget=(function(l,c){let f;const u=c.target;if(f=Kg(u)?{documents:HA(l,u)}:{query:GA(l,u).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=VA(l,c.resumeToken);const m=Rv(l,c.expectedCount);m!==null&&(f.expectedCount=m)}else if(c.snapshotVersion.compareTo(Ye.min())>0){f.readTime=mu(l,c.snapshotVersion.toTimestamp());const m=Rv(l,c.expectedCount);m!==null&&(f.expectedCount=m)}return f})(this.serializer,e);const r=lq(this.serializer,e);r&&(s.labels=r),this.K_(s)}X_(e){const s={};s.database=Dv(this.serializer),s.removeTarget=e,this.K_(s)}}class eH extends kI{constructor(e,s,r,i,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,r,i,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,s){return this.connection.T_("Write",e,s)}H_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const s=oq(e.writeResults,e.commitTime),r=Es(e.commitTime);return this.listener.na(r,s)}ra(){const e={};e.database=Dv(this.serializer),this.K_(e)}ea(e){const s={streamToken:this.lastStreamToken,writes:e.map((r=>Wf(this.serializer,r)))};this.K_(s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{}class sH extends tH{constructor(e,s,r,i){super(),this.authCredentials=e,this.appCheckCredentials=s,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Se(he.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,s,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,Pv(s,r),i,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Se(he.UNKNOWN,l.toString())}))}jo(e,s,r,i,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.jo(e,Pv(s,r),i,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Se(he.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function nH(n,e,s,r){return new sH(n,e,s,r)}class rH{constructor(e,s){this.asyncQueue=e,this.onlineStateHandler=s,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const s=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ss(s),this.aa=!1):Ee("OnlineStateTracker",s)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc="RemoteStore";class aH{constructor(e,s,r,i,l){this.localStore=e,this.datastore=s,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{il(this)&&(Ee(xc,"Restarting streams for network reachability change."),await(async function(u){const m=ze(u);m.Ea.add(4),await Ou(m),m.Va.set("Unknown"),m.Ea.delete(4),await jm(m)})(this))}))})),this.Va=new rH(r,i)}}async function jm(n){if(il(n))for(const e of n.Ra)await e(!0)}async function Ou(n){for(const e of n.Ra)await e(!1)}function Ux(n,e){const s=ze(n);s.Ia.has(e.targetId)||(s.Ia.set(e.targetId,e),Cj(s)?Ej(s):Lu(s).O_()&&Tj(s,e))}function xu(n,e){const s=ze(n),r=Lu(s);s.Ia.delete(e),r.O_()&&SI(s,e),s.Ia.size===0&&(r.O_()?r.L_():il(s)&&s.Va.set("Unknown"))}function Tj(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ye.min())>0){const s=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(s)}Lu(n).Z_(e)}function SI(n,e){n.da.$e(e),Lu(n).X_(e)}function Ej(n){n.da=new Z$({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Lu(n).start(),n.Va.ua()}function Cj(n){return il(n)&&!Lu(n).x_()&&n.Ia.size>0}function il(n){return ze(n).Ea.size===0}function TI(n){n.da=void 0}async function iH(n){n.Va.set("Online")}async function oH(n){n.Ia.forEach(((e,s)=>{Tj(n,e)}))}async function lH(n,e){TI(n),Cj(n)?(n.Va.ha(e),Ej(n)):n.Va.set("Unknown")}async function cH(n,e,s){if(n.Va.set("Online"),e instanceof zA&&e.state===2&&e.cause)try{await(async function(i,l){const c=l.cause;for(const f of l.targetIds)i.Ia.has(f)&&(await i.remoteSyncer.rejectListen(f,c),i.Ia.delete(f),i.da.removeTarget(f))})(n,e)}catch(r){Ee(xc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await nx(n,r)}else if(e instanceof Tg?n.da.Xe(e):e instanceof LA?n.da.st(e):n.da.tt(e),!s.isEqual(Ye.min()))try{const r=await pI(n.localStore);s.compareTo(r)>=0&&await(function(l,c){const f=l.da.Tt(c);return f.targetChanges.forEach(((u,m)=>{if(u.resumeToken.approximateByteSize()>0){const g=l.Ia.get(m);g&&l.Ia.set(m,g.withResumeToken(u.resumeToken,c))}})),f.targetMismatches.forEach(((u,m)=>{const g=l.Ia.get(u);if(!g)return;l.Ia.set(u,g.withResumeToken(bs.EMPTY_BYTE_STRING,g.snapshotVersion)),SI(l,u);const b=new Ni(g.target,u,m,g.sequenceNumber);Tj(l,b)})),l.remoteSyncer.applyRemoteEvent(f)})(n,s)}catch(r){Ee(xc,"Failed to raise snapshot:",r),await nx(n,r)}}async function nx(n,e,s){if(!rl(e))throw e;n.Ea.add(1),await Ou(n),n.Va.set("Offline"),s||(s=()=>pI(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Ee(xc,"Retrying IndexedDB access"),await s(),n.Ea.delete(1),await jm(n)}))}function EI(n,e){return e().catch((s=>nx(n,s,e)))}async function Mu(n){const e=ze(n),s=Xo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:zo;for(;dH(e);)try{const i=await Hq(e.localStore,r);if(i===null){e.Ta.length===0&&s.L_();break}r=i.batchId,uH(e,i)}catch(i){await nx(e,i)}CI(e)&&AI(e)}function dH(n){return il(n)&&n.Ta.length<10}function uH(n,e){n.Ta.push(e);const s=Xo(n);s.O_()&&s.Y_&&s.ea(e.mutations)}function CI(n){return il(n)&&!Xo(n).x_()&&n.Ta.length>0}function AI(n){Xo(n).start()}async function hH(n){Xo(n).ra()}async function fH(n){const e=Xo(n);for(const s of n.Ta)e.ea(s.mutations)}async function mH(n,e,s){const r=n.Ta.shift(),i=hj.from(r,e,s);await EI(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await Mu(n)}async function pH(n,e){e&&Xo(n).Y_&&await(async function(r,i){if((function(c){return DA(c)&&c!==he.ABORTED})(i.code)){const l=r.Ta.shift();Xo(r).B_(),await EI(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i))),await Mu(r)}})(n,e),CI(n)&&AI(n)}async function m4(n,e){const s=ze(n);s.asyncQueue.verifyOperationInProgress(),Ee(xc,"RemoteStore received new credentials");const r=il(s);s.Ea.add(3),await Ou(s),r&&s.Va.set("Unknown"),await s.remoteSyncer.handleCredentialChange(e),s.Ea.delete(3),await jm(s)}async function Fv(n,e){const s=ze(n);e?(s.Ea.delete(2),await jm(s)):e||(s.Ea.add(2),await Ou(s),s.Va.set("Unknown"))}function Lu(n){return n.ma||(n.ma=(function(s,r,i){const l=ze(s);return l.sa(),new Zq(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)})(n.datastore,n.asyncQueue,{Zo:iH.bind(null,n),Yo:oH.bind(null,n),t_:lH.bind(null,n),J_:cH.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),Cj(n)?Ej(n):n.Va.set("Unknown")):(await n.ma.stop(),TI(n))}))),n.ma}function Xo(n){return n.fa||(n.fa=(function(s,r,i){const l=ze(s);return l.sa(),new eH(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:hH.bind(null,n),t_:pH.bind(null,n),ta:fH.bind(null,n),na:mH.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await Mu(n)):(await n.fa.stop(),n.Ta.length>0&&(Ee(xc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e,s,r,i,l){this.asyncQueue=e,this.timerId=s,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new gn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,s,r,i,l){const c=Date.now()+r,f=new Aj(e,s,c,i,l);return f.start(r),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zu(n,e){if(Ss("AsyncQueue",`${e}: ${n}`),rl(n))return new Se(he.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{static emptySet(e){return new Gd(e.comparator)}constructor(e){this.comparator=e?(s,r)=>e(s,r)||De.comparator(s.key,r.key):(s,r)=>De.comparator(s.key,r.key),this.keyedMap=af(),this.sortedSet=new Yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const s=this.keyedMap.get(e);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((s,r)=>(e(s),!1)))}add(e){const s=this.delete(e.key);return s.copy(s.keyedMap.insert(e.key,e),s.sortedSet.insert(e,null))}delete(e){const s=this.get(e);return s?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(s)):this}isEqual(e){if(!(e instanceof Gd)||this.size!==e.size)return!1;const s=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;s.hasNext();){const i=s.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((s=>{e.push(s.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,s){const r=new Gd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=s,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(){this.ga=new Yt(De.comparator)}track(e){const s=e.doc.key,r=this.ga.get(s);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(s,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(s,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(s,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(s):e.type===1&&r.type===2?this.ga=this.ga.insert(s,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):Ve(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(s,e)}ya(){const e=[];return this.ga.inorderTraversal(((s,r)=>{e.push(r)})),e}}class yu{constructor(e,s,r,i,l,c,f,u,m){this.query=e,this.docs=s,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=u,this.hasCachedResults=m}static fromInitialDocuments(e,s,r,i,l){const c=[];return s.forEach((f=>{c.push({type:0,doc:f})})),new yu(e,s,Gd.emptySet(s),c,r,i,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const s=this.docChanges,r=e.docChanges;if(s.length!==r.length)return!1;for(let i=0;i<s.length;i++)if(s[i].type!==r[i].type||!s[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class xH{constructor(){this.queries=g4(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(s,r){const i=ze(s),l=i.queries;i.queries=g4(),l.forEach(((c,f)=>{for(const u of f.ba)u.onError(r)}))})(this,new Se(he.ABORTED,"Firestore shutting down"))}}function g4(){return new Vi((n=>vA(n)),gm)}async function Ij(n,e){const s=ze(n);let r=3;const i=e.query;let l=s.queries.get(i);l?!l.Sa()&&e.Da()&&(r=2):(l=new gH,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await s.onListen(i,!0);break;case 1:l.wa=await s.onListen(i,!1);break;case 2:await s.onFirstRemoteStoreListen(i)}}catch(c){const f=zu(c,`Initialization of query '${Id(e.query)}' failed`);return void e.onError(f)}s.queries.set(i,l),l.ba.push(e),e.va(s.onlineState),l.wa&&e.Fa(l.wa)&&Pj(s)}async function Rj(n,e){const s=ze(n),r=e.query;let i=3;const l=s.queries.get(r);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?i=e.Da()?0:1:!l.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return s.queries.delete(r),s.onUnlisten(r,!0);case 1:return s.queries.delete(r),s.onUnlisten(r,!1);case 2:return s.onLastRemoteStoreUnlisten(r);default:return}}function yH(n,e){const s=ze(n);let r=!1;for(const i of e){const l=i.query,c=s.queries.get(l);if(c){for(const f of c.ba)f.Fa(i)&&(r=!0);c.wa=i}}r&&Pj(s)}function bH(n,e,s){const r=ze(n),i=r.queries.get(e);if(i)for(const l of i.ba)l.onError(s);r.queries.delete(e)}function Pj(n){n.Ca.forEach((e=>{e.next()}))}var Bv,x4;(x4=Bv||(Bv={})).Ma="default",x4.Cache="cache";class Dj{constructor(e,s,r){this.query=e,this.xa=s,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new yu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let s=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),s=!0):this.La(e,this.onlineState)&&(this.ka(e),s=!0),this.Na=e,s}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let s=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),s=!0),s}La(e,s){if(!e.fromCache||!this.Da())return!0;const r=s!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||s==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const s=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}ka(e){e=yu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Bv.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{constructor(e,s){this.qa=e,this.byteLength=s}Ua(){return"metadata"in this.qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e){this.serializer=e}Ks(e){return Ja(this.serializer,e)}qs(e){return e.metadata.exists?qA(this.serializer,e.document,!1):Xt.newNoDocument(this.Ks(e.metadata.name),this.Us(e.metadata.readTime))}Us(e){return Es(e)}}class wH{constructor(e,s){this.$a=e,this.serializer=s,this.Wa=[],this.Qa=[],this.collectionGroups=new Set,this.progress=II(e)}get queries(){return this.Wa}get documents(){return this.Qa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let s=this.progress.documentsLoaded;if(e.qa.namedQuery)this.Wa.push(e.qa.namedQuery);else if(e.qa.documentMetadata){this.Qa.push({metadata:e.qa.documentMetadata}),e.qa.documentMetadata.exists||++s;const r=pt.fromString(e.qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.qa.document&&(this.Qa[this.Qa.length-1].document=e.qa.document,++s);return s!==this.progress.documentsLoaded?(this.progress.documentsLoaded=s,{...this.progress}):null}za(e){const s=new Map,r=new y4(this.serializer);for(const i of e)if(i.metadata.queries){const l=r.Ks(i.metadata.name);for(const c of i.metadata.queries){const f=(s.get(c)||it()).add(l);s.set(c,f)}}return s}async ja(e){const s=await Gq(e,new y4(this.serializer),this.Qa,this.$a.id),r=this.za(this.documents);for(const i of this.Wa)await Kq(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ha:this.collectionGroups,Ja:s}}}function II(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.key=e}}class PI{constructor(e){this.key=e}}class DI{constructor(e,s){this.query=e,this.Za=s,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=it(),this.mutatedKeys=it(),this.eu=jA(e),this.tu=new Gd(this.eu)}get nu(){return this.Za}ru(e,s){const r=s?s.iu:new p4,i=s?s.tu:this.tu;let l=s?s.mutatedKeys:this.mutatedKeys,c=i,f=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((g,b)=>{const v=i.get(g),E=xm(this.query,b)?b:null,N=!!v&&this.mutatedKeys.has(v.key),C=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let T=!1;v&&E?v.data.isEqual(E.data)?N!==C&&(r.track({type:3,doc:E}),T=!0):this.su(v,E)||(r.track({type:2,doc:E}),T=!0,(u&&this.eu(E,u)>0||m&&this.eu(E,m)<0)&&(f=!0)):!v&&E?(r.track({type:0,doc:E}),T=!0):v&&!E&&(r.track({type:1,doc:v}),T=!0,(u||m)&&(f=!0)),T&&(E?(c=c.add(E),l=C?l.add(g):l.delete(g)):(c=c.delete(g),l=l.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),l=l.delete(g.key),r.track({type:1,doc:g})}return{tu:c,iu:r,Ss:f,mutatedKeys:l}}su(e,s){return e.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(e,s,r,i){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((g,b)=>(function(E,N){const C=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{Vt:T})}};return C(E)-C(N)})(g.type,b.type)||this.eu(g.doc,b.doc))),this.ou(r),i=i??!1;const f=s&&!i?this._u():[],u=this.Ya.size===0&&this.current&&!i?1:0,m=u!==this.Xa;return this.Xa=u,c.length!==0||m?{snapshot:new yu(this.query,e.tu,l,c,e.mutatedKeys,u===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new p4,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((s=>this.Za=this.Za.add(s))),e.modifiedDocuments.forEach((s=>{})),e.removedDocuments.forEach((s=>this.Za=this.Za.delete(s))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=it(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const s=[];return e.forEach((r=>{this.Ya.has(r)||s.push(new PI(r))})),this.Ya.forEach((r=>{e.has(r)||s.push(new RI(r))})),s}cu(e){this.Za=e.ks,this.Ya=it();const s=this.ru(e.documents);return this.applyChanges(s,!0)}lu(){return yu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ol="SyncEngine";class jH{constructor(e,s,r){this.query=e,this.targetId=s,this.view=r}}class NH{constructor(e){this.key=e,this.hu=!1}}class _H{constructor(e,s,r,i,l,c){this.localStore=e,this.remoteStore=s,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Vi((f=>vA(f)),gm),this.Iu=new Map,this.Eu=new Set,this.Ru=new Yt(De.comparator),this.Au=new Map,this.Vu=new bj,this.du={},this.mu=new Map,this.fu=gc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function kH(n,e,s=!0){const r=Fx(n);let i;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),i=l.view.lu()):i=await OI(r,e,s,!0),i}async function SH(n,e){const s=Fx(n);await OI(s,e,!0,!1)}async function OI(n,e,s,r){const i=await pu(n.localStore,Mn(e)),l=i.targetId,c=n.sharedClientState.addLocalQueryTarget(l,s);let f;return r&&(f=await Oj(n,e,l,c==="current",i.resumeToken)),n.isPrimaryClient&&s&&Ux(n.remoteStore,i),f}async function Oj(n,e,s,r,i){n.pu=(b,v,E)=>(async function(C,T,O,F){let z=T.view.ru(O);z.Ss&&(z=await ex(C.localStore,T.query,!1).then((({documents:A})=>T.view.ru(A,z))));const M=F&&F.targetChanges.get(T.targetId),U=F&&F.targetMismatches.get(T.targetId)!=null,X=T.view.applyChanges(z,C.isPrimaryClient,M,U);return $v(C,T.targetId,X.au),X.snapshot})(n,b,v,E);const l=await ex(n.localStore,e,!0),c=new DI(e,l.ks),f=c.ru(l.documents),u=vm.createSynthesizedTargetChangeForCurrentChange(s,r&&n.onlineState!=="Offline",i),m=c.applyChanges(f,n.isPrimaryClient,u);$v(n,s,m.au);const g=new jH(e,s,c);return n.Tu.set(e,g),n.Iu.has(s)?n.Iu.get(s).push(e):n.Iu.set(s,[e]),m.snapshot}async function TH(n,e,s){const r=ze(n),i=r.Tu.get(e),l=r.Iu.get(i.targetId);if(l.length>1)return r.Iu.set(i.targetId,l.filter((c=>!gm(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await gu(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),s&&xu(r.remoteStore,i.targetId),bu(r,i.targetId)})).catch(nl)):(bu(r,i.targetId),await gu(r.localStore,i.targetId,!0))}async function EH(n,e){const s=ze(n),r=s.Tu.get(e),i=s.Iu.get(r.targetId);s.isPrimaryClient&&i.length===1&&(s.sharedClientState.removeLocalQueryTarget(r.targetId),xu(s.remoteStore,r.targetId))}async function CH(n,e,s){const r=Vj(n);try{const i=await(function(c,f){const u=ze(c),m=Rt.now(),g=f.reduce(((E,N)=>E.add(N.key)),it());let b,v;return u.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let N=Xn(),C=it();return u.xs.getEntries(E,g).next((T=>{N=T,N.forEach(((O,F)=>{F.isValidDocument()||(C=C.add(O))}))})).next((()=>u.localDocuments.getOverlayedDocuments(E,N))).next((T=>{b=T;const O=[];for(const F of f){const z=Q$(F,b.get(F.key).overlayedDocument);z!=null&&O.push(new Ui(F.key,z,uA(z.value.mapValue),is.exists(!0)))}return u.mutationQueue.addMutationBatch(E,m,O,f)})).next((T=>{v=T;const O=T.applyToLocalDocumentSet(b,C);return u.documentOverlayCache.saveOverlays(E,T.batchId,O)}))})).then((()=>({batchId:v.batchId,changes:_A(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(c,f,u){let m=c.du[c.currentUser.toKey()];m||(m=new Yt(et)),m=m.insert(f,u),c.du[c.currentUser.toKey()]=m})(r,i.batchId,s),await Fi(r,i.changes),await Mu(r.remoteStore)}catch(i){const l=zu(i,"Failed to persist write");s.reject(l)}}async function MI(n,e){const s=ze(n);try{const r=await qq(s.localStore,e);e.targetChanges.forEach(((i,l)=>{const c=s.Au.get(l);c&&(He(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?c.hu=!0:i.modifiedDocuments.size>0?He(c.hu,14607):i.removedDocuments.size>0&&(He(c.hu,42227),c.hu=!1))})),await Fi(s,r,e)}catch(r){await nl(r)}}function b4(n,e,s){const r=ze(n);if(r.isPrimaryClient&&s===0||!r.isPrimaryClient&&s===1){const i=[];r.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&i.push(f.snapshot)})),(function(c,f){const u=ze(c);u.onlineState=f;let m=!1;u.queries.forEach(((g,b)=>{for(const v of b.ba)v.va(f)&&(m=!0)})),m&&Pj(u)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function AH(n,e,s){const r=ze(n);r.sharedClientState.updateQueryState(e,"rejected",s);const i=r.Au.get(e),l=i&&i.key;if(l){let c=new Yt(De.comparator);c=c.insert(l,Xt.newNoDocument(l,Ye.min()));const f=it().add(l),u=new bm(Ye.min(),new Map,new Yt(et),c,f);await MI(r,u),r.Ru=r.Ru.remove(l),r.Au.delete(e),zj(r)}else await gu(r.localStore,e,!1).then((()=>bu(r,e,s))).catch(nl)}async function IH(n,e){const s=ze(n),r=e.batch.batchId;try{const i=await $q(s.localStore,e);Lj(s,r,null),Mj(s,r),s.sharedClientState.updateMutationState(r,"acknowledged"),await Fi(s,i)}catch(i){await nl(i)}}async function RH(n,e,s){const r=ze(n);try{const i=await(function(c,f){const u=ze(c);return u.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let g;return u.mutationQueue.lookupMutationBatch(m,f).next((b=>(He(b!==null,37113),g=b.keys(),u.mutationQueue.removeMutationBatch(m,b)))).next((()=>u.mutationQueue.performConsistencyCheck(m))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(m,g,f))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g))).next((()=>u.localDocuments.getDocuments(m,g)))}))})(r.localStore,e);Lj(r,e,s),Mj(r,e),r.sharedClientState.updateMutationState(e,"rejected",s),await Fi(r,i)}catch(i){await nl(i)}}async function PH(n,e){const s=ze(n);il(s.remoteStore)||Ee(ol,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(c){const f=ze(c);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(u=>f.mutationQueue.getHighestUnacknowledgedBatchId(u)))})(s.localStore);if(r===zo)return void e.resolve();const i=s.mu.get(r)||[];i.push(e),s.mu.set(r,i)}catch(r){const i=zu(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function Mj(n,e){(n.mu.get(e)||[]).forEach((s=>{s.resolve()})),n.mu.delete(e)}function Lj(n,e,s){const r=ze(n);let i=r.du[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(s?l.reject(s):l.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function bu(n,e,s=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),s&&n.Pu.yu(r,s);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||LI(n,r)}))}function LI(n,e){n.Eu.delete(e.path.canonicalString());const s=n.Ru.get(e);s!==null&&(xu(n.remoteStore,s),n.Ru=n.Ru.remove(e),n.Au.delete(s),zj(n))}function $v(n,e,s){for(const r of s)r instanceof RI?(n.Vu.addReference(r.key,e),DH(n,r)):r instanceof PI?(Ee(ol,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||LI(n,r.key)):Ve(19791,{wu:r})}function DH(n,e){const s=e.key,r=s.path.canonicalString();n.Ru.get(s)||n.Eu.has(r)||(Ee(ol,"New document in limbo: "+s),n.Eu.add(r),zj(n))}function zj(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const s=new De(pt.fromString(e)),r=n.fu.next();n.Au.set(r,new NH(s)),n.Ru=n.Ru.insert(s,r),Ux(n.remoteStore,new Ni(Mn(Ru(s.path)),r,"TargetPurposeLimboResolution",Qn.ce))}}async function Fi(n,e,s){const r=ze(n),i=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((f,u)=>{c.push(r.pu(u,e,s).then((m=>{var g;if((m||s)&&r.isPrimaryClient){const b=m?!m.fromCache:(g=s==null?void 0:s.targetChanges.get(u.targetId))==null?void 0:g.current;r.sharedClientState.updateQueryState(u.targetId,b?"current":"not-current")}if(m){i.push(m);const b=Nj.Es(u.targetId,m);l.push(b)}})))})),await Promise.all(c),r.Pu.J_(i),await(async function(u,m){const g=ze(u);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>re.forEach(m,(v=>re.forEach(v.Ts,(E=>g.persistence.referenceDelegate.addReference(b,v.targetId,E))).next((()=>re.forEach(v.Is,(E=>g.persistence.referenceDelegate.removeReference(b,v.targetId,E)))))))))}catch(b){if(!rl(b))throw b;Ee(_j,"Failed to update sequence numbers: "+b)}for(const b of m){const v=b.targetId;if(!b.fromCache){const E=g.vs.get(v),N=E.snapshotVersion,C=E.withLastLimboFreeSnapshotVersion(N);g.vs=g.vs.insert(v,C)}}})(r.localStore,l))}async function OH(n,e){const s=ze(n);if(!s.currentUser.isEqual(e)){Ee(ol,"User change. New user:",e.toKey());const r=await mI(s.localStore,e);s.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((u=>{u.reject(new Se(he.CANCELLED,c))}))})),l.mu.clear()})(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fi(s,r.Ns)}}function MH(n,e){const s=ze(n),r=s.Au.get(e);if(r&&r.hu)return it().add(r.key);{let i=it();const l=s.Iu.get(e);if(!l)return i;for(const c of l){const f=s.Tu.get(c);i=i.unionWith(f.view.nu)}return i}}async function LH(n,e){const s=ze(n),r=await ex(s.localStore,e.query,!0),i=e.view.cu(r);return s.isPrimaryClient&&$v(s,e.targetId,i.au),i}async function zH(n,e){const s=ze(n);return yI(s.localStore,e).then((r=>Fi(s,r)))}async function VH(n,e,s,r){const i=ze(n),l=await(function(f,u){const m=ze(f),g=ze(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",(b=>g.Xn(b,u).next((v=>v?m.localDocuments.getDocuments(b,v):re.resolve(null)))))})(i.localStore,e);l!==null?(s==="pending"?await Mu(i.remoteStore):s==="acknowledged"||s==="rejected"?(Lj(i,e,r||null),Mj(i,e),(function(f,u){ze(ze(f).mutationQueue).nr(u)})(i.localStore,e)):Ve(6720,"Unknown batchState",{bu:s}),await Fi(i,l)):Ee(ol,"Cannot apply mutation batch with id: "+e)}async function UH(n,e){const s=ze(n);if(Fx(s),Vj(s),e===!0&&s.gu!==!0){const r=s.sharedClientState.getAllActiveQueryTargets(),i=await v4(s,r.toArray());s.gu=!0,await Fv(s.remoteStore,!0);for(const l of i)Ux(s.remoteStore,l)}else if(e===!1&&s.gu!==!1){const r=[];let i=Promise.resolve();s.Iu.forEach(((l,c)=>{s.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then((()=>(bu(s,c),gu(s.localStore,c,!0)))),xu(s.remoteStore,c)})),await i,await v4(s,r),(function(c){const f=ze(c);f.Au.forEach(((u,m)=>{xu(f.remoteStore,m)})),f.Vu.zr(),f.Au=new Map,f.Ru=new Yt(De.comparator)})(s),s.gu=!1,await Fv(s.remoteStore,!1)}}async function v4(n,e,s){const r=ze(n),i=[],l=[];for(const c of e){let f;const u=r.Iu.get(c);if(u&&u.length!==0){f=await pu(r.localStore,Mn(u[0]));for(const m of u){const g=r.Tu.get(m),b=await LH(r,g);b.snapshot&&l.push(b.snapshot)}}else{const m=await xI(r.localStore,c);f=await pu(r.localStore,m),await Oj(r,zI(m),c,!1,f.resumeToken)}i.push(f)}return r.Pu.J_(l),i}function zI(n){return bA(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function FH(n){return(function(s){return ze(ze(s).persistence).hs()})(ze(n).localStore)}async function BH(n,e,s,r){const i=ze(n);if(i.gu)return void Ee(ol,"Ignoring unexpected query state notification.");const l=i.Iu.get(e);if(l&&l.length>0)switch(s){case"current":case"not-current":{const c=await yI(i.localStore,wA(l[0])),f=bm.createSynthesizedRemoteEventForCurrentChange(e,s==="current",bs.EMPTY_BYTE_STRING);await Fi(i,c,f);break}case"rejected":await gu(i.localStore,e,!0),bu(i,e,r);break;default:Ve(64155,s)}}async function $H(n,e,s){const r=Fx(n);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){Ee(ol,"Adding an already active target "+i);continue}const l=await xI(r.localStore,i),c=await pu(r.localStore,l);await Oj(r,zI(l),c.targetId,!1,c.resumeToken),Ux(r.remoteStore,c)}for(const i of s)r.Iu.has(i)&&await gu(r.localStore,i,!1).then((()=>{xu(r.remoteStore,i),bu(r,i)})).catch(nl)}}function Fx(n){const e=ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=MI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AH.bind(null,e),e.Pu.J_=yH.bind(null,e.eventManager),e.Pu.yu=bH.bind(null,e.eventManager),e}function Vj(n){const e=ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RH.bind(null,e),e}function qH(n,e,s){const r=ze(n);(async function(l,c,f){try{const u=await c.getMetadata();if(await(function(E,N){const C=ze(E),T=Es(N.createTime);return C.persistence.runTransaction("hasNewerBundle","readonly",(O=>C.Pi.getBundleMetadata(O,N.id))).then((O=>!!O&&O.createTime.compareTo(T)>=0))})(l.localStore,u))return await c.close(),f._completeWith((function(E){return{taskState:"Success",documentsLoaded:E.totalDocuments,bytesLoaded:E.totalBytes,totalDocuments:E.totalDocuments,totalBytes:E.totalBytes}})(u)),Promise.resolve(new Set);f._updateProgress(II(u));const m=new wH(u,c.serializer);let g=await c.Su();for(;g;){const v=await m.Ga(g);v&&f._updateProgress(v),g=await c.Su()}const b=await m.ja(l.localStore);return await Fi(l,b.Ja,void 0),await(function(E,N){const C=ze(E);return C.persistence.runTransaction("Save bundle","readwrite",(T=>C.Pi.saveBundleMetadata(T,N)))})(l.localStore,u),f._completeWith(b.progress),Promise.resolve(b.Ha)}catch(u){return Za(ol,`Loading bundle failed with ${u}`),f._failWith(u),Promise.resolve(new Set)}})(r,e,s).then((i=>{r.sharedClientState.notifyBundleLoaded(i)}))}class Yf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,s){return null}Mu(e,s){return null}vu(e){return fI(this.persistence,new hI,e.initialUser,this.serializer)}Cu(e){return new vj(Vx.Vi,this.serializer)}Du(e){return new NI}async terminate(){var e,s;(e=this.gcScheduler)==null||e.stop(),(s=this.indexBackfillerScheduler)==null||s.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yf.provider={build:()=>new Yf};class HH extends Yf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,s){He(this.persistence.referenceDelegate instanceof Zg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new iI(r,e.asyncQueue,s)}Cu(e){const s=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new vj((r=>Zg.Vi(r,s)),this.serializer)}}class VI extends Yf{constructor(e,s,r){super(),this.xu=e,this.cacheSizeBytes=s,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await Vj(this.xu.syncEngine),await Mu(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return fI(this.persistence,new hI,e.initialUser,this.serializer)}Fu(e,s){const r=this.persistence.referenceDelegate.garbageCollector;return new iI(r,e.asyncQueue,s)}Mu(e,s){const r=new W7(s,this.persistence);return new K7(e.asyncQueue,r)}Cu(e){const s=jj(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new wj(this.synchronizeTabs,s,e.clientId,r,e.asyncQueue,_I(),Cg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new NI}}class GH extends VI{constructor(e,s){super(e,s,!1),this.xu=e,this.cacheSizeBytes=s,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const s=this.xu.syncEngine;this.sharedClientState instanceof Mb&&(this.sharedClientState.syncEngine={So:VH.bind(null,s),Do:BH.bind(null,s),Co:$H.bind(null,s),hs:FH.bind(null,s),bo:zH.bind(null,s)},await this.sharedClientState.start()),await this.persistence.zi((async r=>{await UH(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const s=_I();if(!Mb.v(s))throw new Se(he.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=jj(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Mb(s,e.asyncQueue,r,e.clientId,e.initialUser)}}class Qf{async initialize(e,s){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>b4(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=OH.bind(null,this.syncEngine),await Fv(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new xH})()}createDatastore(e){const s=wm(e.databaseInfo.databaseId),r=Xq(e.databaseInfo);return nH(e.authCredentials,e.appCheckCredentials,r,s)}createRemoteStore(e){return(function(r,i,l,c,f){return new aH(r,i,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(s=>b4(this.syncEngine,s,0)),(function(){return h4.v()?new h4:new Wq})())}createSyncEngine(e,s){return(function(i,l,c,f,u,m,g){const b=new _H(i,l,c,f,u,m);return g&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,s)}async terminate(){var e,s;await(async function(i){const l=ze(i);Ee(xc,"RemoteStore shutting down."),l.Ea.add(5),await Ou(l),l.Aa.shutdown(),l.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(s=this.eventManager)==null||s.terminate()}}Qf.provider={build:()=>new Qf};function w4(n,e=10240){let s=0;return{async read(){if(s<n.byteLength){const r={value:n.slice(s,s+e),done:!1};return s+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ss("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,s){setTimeout((()=>{this.muted||e(s)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KH{constructor(e,s){this.Bu=e,this.serializer=s,this.metadata=new gn,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.Ua()?this.metadata.resolve(r.qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async Su(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.Ku();if(e===null)return null;const s=this.Lu.decode(e),r=Number(s);isNaN(r)&&this.qu(`length string (${s}) is not valid number`);const i=await this.Uu(r);return new vH(JSON.parse(i),e.length+r)}$u(){return this.buffer.findIndex((e=>e===123))}async Ku(){for(;this.$u()<0&&!await this.Wu(););if(this.buffer.length===0)return null;const e=this.$u();e<0&&this.qu("Reached the end of bundle when a length string is expected.");const s=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),s}async Uu(e){for(;this.buffer.length<e;)await this.Wu()&&this.qu("Reached the end of bundle when more is expected.");const s=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),s}qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Wu(){const e=await this.Bu.read();if(!e.done){const s=new Uint8Array(this.buffer.length+e.value.length);s.set(this.buffer),s.set(e.value,this.buffer.length),this.buffer=s}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WH=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Se(he.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const s=await(async function(i,l){const c=ze(i),f={documents:l.map((b=>Kf(c.serializer,b)))},u=await c.jo("BatchGetDocuments",c.serializer.databaseId,pt.emptyPath(),f,l.length),m=new Map;u.forEach((b=>{const v=aq(c.serializer,b);m.set(v.key.toString(),v)}));const g=[];return l.forEach((b=>{const v=m.get(b.toString());He(!!v,55234,{key:b}),g.push(v)})),g})(this.datastore,e);return s.forEach((r=>this.recordVersion(r))),s}set(e,s){this.write(s.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,s){try{this.write(s.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Du(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((s=>{e.delete(s.key.toString())})),e.forEach(((s,r)=>{const i=De.fromPath(r);this.mutations.push(new dj(i,this.precondition(i)))})),await(async function(r,i){const l=ze(r),c={writes:i.map((f=>Wf(l.serializer,f)))};await l.Wo("Commit",l.serializer.databaseId,pt.emptyPath(),c)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let s;if(e.isFoundDocument())s=e.version;else{if(!e.isNoDocument())throw Ve(50498,{Gu:e.constructor.name});s=Ye.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!s.isEqual(r))throw new Se(he.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),s)}precondition(e){const s=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&s?s.isEqual(Ye.min())?is.exists(!1):is.updateTime(s):is.none()}preconditionForUpdate(e){const s=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&s){if(s.isEqual(Ye.min()))throw new Se(he.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return is.updateTime(s)}return is.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YH{constructor(e,s,r,i,l){this.asyncQueue=e,this.datastore=s,this.options=r,this.updateFunction=i,this.deferred=l,this.zu=r.maxAttempts,this.M_=new Sj(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const e=new WH(this.datastore),s=this.Ju(e);s&&s.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Zu(i)}))))})).catch((r=>{this.Zu(r)}))}))}Ju(e){try{const s=this.updateFunction(e);return!fm(s)&&s.catch&&s.then?s:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(s){return this.deferred.reject(s),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(e)}Xu(e){if((e==null?void 0:e.name)==="FirebaseError"){const s=e.code;return s==="aborted"||s==="failed-precondition"||s==="already-exists"||!DA(s)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo="FirestoreClient";class QH{constructor(e,s,r,i,l){this.authCredentials=e,this.appCheckCredentials=s,this.asyncQueue=r,this._databaseInfo=i,this.user=Js.UNAUTHENTICATED,this.clientId=Qw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{Ee(Zo,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Ee(Zo,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(s){const r=zu(s,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function zb(n,e){n.asyncQueue.verifyOperationInProgress(),Ee(Zo,"Initializing OfflineComponentProvider");const s=n.configuration;await e.initialize(s);let r=s.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await mI(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function j4(n,e){n.asyncQueue.verifyOperationInProgress();const s=await Uj(n);Ee(Zo,"Initializing OnlineComponentProvider"),await e.initialize(s,n.configuration),n.setCredentialChangeListener((r=>m4(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>m4(e.remoteStore,i))),n._onlineComponents=e}async function Uj(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ee(Zo,"Using user provided OfflineComponentProvider");try{await zb(n,n._uninitializedComponentsProvider._offline)}catch(e){const s=e;if(!(function(i){return i.name==="FirebaseError"?i.code===he.FAILED_PRECONDITION||i.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(s))throw s;Za("Error using user provided cache. Falling back to memory cache: "+s),await zb(n,new Yf)}}else Ee(Zo,"Using default OfflineComponentProvider"),await zb(n,new HH(void 0));return n._offlineComponents}async function $x(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ee(Zo,"Using user provided OnlineComponentProvider"),await j4(n,n._uninitializedComponentsProvider._online)):(Ee(Zo,"Using default OnlineComponentProvider"),await j4(n,new Qf))),n._onlineComponents}function UI(n){return Uj(n).then((e=>e.persistence))}function Fj(n){return Uj(n).then((e=>e.localStore))}function FI(n){return $x(n).then((e=>e.remoteStore))}function Bj(n){return $x(n).then((e=>e.syncEngine))}function JH(n){return $x(n).then((e=>e.datastore))}async function vu(n){const e=await $x(n),s=e.eventManager;return s.onListen=kH.bind(null,e.syncEngine),s.onUnlisten=TH.bind(null,e.syncEngine),s.onFirstRemoteStoreListen=SH.bind(null,e.syncEngine),s.onLastRemoteStoreUnlisten=EH.bind(null,e.syncEngine),s}function XH(n){return n.asyncQueue.enqueue((async()=>{const e=await UI(n),s=await FI(n);return e.setNetworkEnabled(!0),(function(i){const l=ze(i);return l.Ea.delete(0),jm(l)})(s)}))}function ZH(n){return n.asyncQueue.enqueue((async()=>{const e=await UI(n),s=await FI(n);return e.setNetworkEnabled(!1),(async function(i){const l=ze(i);l.Ea.add(0),await Ou(l),l.Va.set("Offline")})(s)}))}function eG(n,e,s,r){const i=new Bx(r),l=new Dj(e,i,s);return n.asyncQueue.enqueueAndForget((async()=>Ij(await vu(n),l))),()=>{i.Nu(),n.asyncQueue.enqueueAndForget((async()=>Rj(await vu(n),l)))}}function tG(n,e){const s=new gn;return n.asyncQueue.enqueueAndForget((async()=>(async function(i,l,c){try{const f=await(function(m,g){const b=ze(m);return b.persistence.runTransaction("read document","readonly",(v=>b.localDocuments.getDocument(v,g)))})(i,l);f.isFoundDocument()?c.resolve(f):f.isNoDocument()?c.resolve(null):c.reject(new Se(he.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const u=zu(f,`Failed to get document '${l} from cache`);c.reject(u)}})(await Fj(n),e,s))),s.promise}function BI(n,e,s={}){const r=new gn;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,u,m){const g=new Bx({next:v=>{g.Nu(),c.enqueueAndForget((()=>Rj(l,b)));const E=v.docs.has(f);!E&&v.fromCache?m.reject(new Se(he.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&v.fromCache&&u&&u.source==="server"?m.reject(new Se(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(v)},error:v=>m.reject(v)}),b=new Dj(Ru(f.path),g,{includeMetadataChanges:!0,Ka:!0});return Ij(l,b)})(await vu(n),n.asyncQueue,e,s,r))),r.promise}function sG(n,e){const s=new gn;return n.asyncQueue.enqueueAndForget((async()=>(async function(i,l,c){try{const f=await ex(i,l,!0),u=new DI(l,f.ks),m=u.ru(f.documents),g=u.applyChanges(m,!1);c.resolve(g.snapshot)}catch(f){const u=zu(f,`Failed to execute query '${l} against cache`);c.reject(u)}})(await Fj(n),e,s))),s.promise}function $I(n,e,s={}){const r=new gn;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,u,m){const g=new Bx({next:v=>{g.Nu(),c.enqueueAndForget((()=>Rj(l,b))),v.fromCache&&u.source==="server"?m.reject(new Se(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(v)},error:v=>m.reject(v)}),b=new Dj(f,g,{includeMetadataChanges:!0,Ka:!0});return Ij(l,b)})(await vu(n),n.asyncQueue,e,s,r))),r.promise}function nG(n,e){const s=new gn;return n.asyncQueue.enqueueAndForget((async()=>CH(await Bj(n),e,s))),s.promise}function rG(n,e){const s=new Bx(e);return n.asyncQueue.enqueueAndForget((async()=>(function(i,l){ze(i).Ca.add(l),l.next()})(await vu(n),s))),()=>{s.Nu(),n.asyncQueue.enqueueAndForget((async()=>(function(i,l){ze(i).Ca.delete(l)})(await vu(n),s)))}}function aG(n,e,s){const r=new gn;return n.asyncQueue.enqueueAndForget((async()=>{const i=await JH(n);new YH(n.asyncQueue,i,s,e,r).ju()})),r.promise}function iG(n,e,s,r){const i=(function(c,f){let u;return u=typeof c=="string"?MA().encode(c):c,(function(g,b){return new KH(g,b)})((function(g,b){if(g instanceof Uint8Array)return w4(g,b);if(g instanceof ArrayBuffer)return w4(new Uint8Array(g),b);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(u),f)})(s,wm(e));n.asyncQueue.enqueueAndForget((async()=>{qH(await Bj(n),i,r)}))}function oG(n,e){return n.asyncQueue.enqueue((async()=>(function(r,i){const l=ze(r);return l.persistence.runTransaction("Get named query","readonly",(c=>l.Pi.getNamedQuery(c,i)))})(await Fj(n),e)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lG="ComponentProvider",N4=new Map;function cG(n,e,s,r,i){return new N$(n,e,s,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,qI(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI="firestore.googleapis.com",_4=!0;class k4{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Se(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HI,this.ssl=_4}else this.host=e.host,this.ssl=e.ssl??_4;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_q)throw new Se(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qI(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Se(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Se(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Se(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nm{constructor(e,s,r,i){this._authCredentials=e,this._appCheckCredentials=s,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new O7;switch(r.type){case"firstParty":return new V7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(s){const r=N4.get(s);r&&(Ee(lG,"Removing Datastore"),N4.delete(s),r.terminate())})(this),Promise.resolve()}}function dG(n,e,s,r={}){var m;n=Et(n,Nm);const i=Su(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${s}`;i&&(cE(`https://${f}`),dE("Firestore",!0)),l.host!==HI&&l.host!==f&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...l,host:f,ssl:i,emulatorOptions:r};if(!qo(u,c)&&(n._setSettings(u),r.mockUserToken)){let g,b;if(typeof r.mockUserToken=="string")g=r.mockUserToken,b=Js.MOCK_USER;else{g=Yz(r.mockUserToken,(m=n._app)==null?void 0:m.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Se(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Js(v)}n._authCredentials=new M7(new OC(g,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zn=class GI{constructor(e,s,r){this.converter=s,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new GI(this.firestore,e,this._query)}},Wt=class cf{constructor(e,s,r){this.converter=s,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cf(this.firestore,e,this._key)}toJSON(){return{type:cf._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,s,r){if(hm(s,cf._jsonSchema))return new cf(e,r||null,new De(pt.fromString(s.referencePath)))}};Wt._jsonSchemaVersion="firestore/documentReference/1.0",Wt._jsonSchema={type:Vs("string",Wt._jsonSchemaVersion),referencePath:Vs("string")};let Vo=class KI extends zn{constructor(e,s,r){super(e,s,Ru(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new De(e))}withConverter(e){return new KI(this.firestore,e,this._path)}};function WI(n,e,...s){if(n=Qe(n),Jw("collection","path",e),n instanceof Nm){const r=pt.fromString(e,...s);return fS(r),new Vo(n,null,r)}{if(!(n instanceof Wt||n instanceof Vo))throw new Se(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pt.fromString(e,...s));return fS(r),new Vo(n.firestore,null,r)}}function uG(n,e){if(n=Et(n,Nm),Jw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Se(he.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new zn(n,null,(function(r){return new zi(pt.emptyPath(),r)})(e))}function rx(n,e,...s){if(n=Qe(n),arguments.length===1&&(e=Qw.newId()),Jw("doc","path",e),n instanceof Nm){const r=pt.fromString(e,...s);return hS(r),new Wt(n,null,new De(r))}{if(!(n instanceof Wt||n instanceof Vo))throw new Se(he.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pt.fromString(e,...s));return hS(r),new Wt(n.firestore,n instanceof Vo?n.converter:null,new De(r))}}function YI(n,e){return n=Qe(n),e=Qe(e),(n instanceof Wt||n instanceof Vo)&&(e instanceof Wt||e instanceof Vo)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function QI(n,e){return n=Qe(n),e=Qe(e),n instanceof zn&&e instanceof zn&&n.firestore===e.firestore&&gm(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4="AsyncQueue";class T4{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Sj(this,"async_queue_retry"),this._c=()=>{const r=Cg();r&&Ee(S4,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const s=Cg();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const s=Cg();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const s=new gn;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(s.resolve,s.reject),s.promise))).then((()=>s.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!rl(e))throw e;Ee(S4,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const s=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ss("INTERNAL UNHANDLED ERROR: ",E4(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=s,s}enqueueAfterDelay(e,s,r){this.uc(),this.oc.indexOf(e)>-1&&(s=0);const i=Aj.createAndSchedule(this,e,s,r,(l=>this.hc(l)));return this.tc.push(i),i}uc(){this.nc&&Ve(47125,{Pc:E4(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const s of this.tc)if(s.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((s,r)=>s.targetTimeMs-r.targetTimeMs));for(const s of this.tc)if(s.skipDelay(),e!=="all"&&s.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const s=this.tc.indexOf(e);this.tc.splice(s,1)}}function E4(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hG{constructor(){this._progressObserver={},this._taskCompletionResolver=new gn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,s,r){this._progressObserver={next:e,error:s,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,s){return this._taskCompletionResolver.promise.then(e,s)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fG=-1;let Cs=class extends Nm{constructor(e,s,r,i){super(e,s,r,i),this.type="firestore",this._queue=new T4,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new T4(e),this._firestoreClient=void 0,await e}}};function Tn(n){if(n._terminated)throw new Se(he.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||JI(n),n._firestoreClient}function JI(n){var r,i,l,c;const e=n._freezeSettings(),s=cG(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,(i=n._app)==null?void 0:i.options.apiKey,e);n._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new QH(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&(function(u){const m=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(m),_online:m}})(n._componentsProvider))}function mG(n,e){Za("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=n._freezeSettings();return XI(n,Qf.provider,{build:r=>new VI(r,s.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function pG(n){Za("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();XI(n,Qf.provider,{build:s=>new GH(s,e.cacheSizeBytes)})}function XI(n,e,s){if((n=Et(n,Cs))._firestoreClient||n._terminated)throw new Se(he.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new Se(he.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:s},JI(n)}function gG(n){if(n._initialized&&!n._terminated)throw new Se(he.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new gn;return n._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!Qa.v())return Promise.resolve();const i=r+uI;await Qa.delete(i)})(jj(n._databaseId,n._persistenceKey)),e.resolve()}catch(s){e.reject(s)}})),e.promise}function xG(n){return(function(s){const r=new gn;return s.asyncQueue.enqueueAndForget((async()=>PH(await Bj(s),r))),r.promise})(Tn(n=Et(n,Cs)))}function yG(n){return XH(Tn(n=Et(n,Cs)))}function bG(n){return ZH(Tn(n=Et(n,Cs)))}function vG(n,e){const s=Tn(n=Et(n,Cs)),r=new hG;return iG(s,n._databaseId,e,r),r}function wG(n,e){return oG(Tn(n=Et(n,Cs)),e).then((s=>s?new zn(n,null,s.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _n(bs.fromBase64String(e))}catch(s){throw new Se(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(e){return new _n(bs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:_n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hm(e,_n._jsonSchema))return _n.fromBase64String(e.bytes)}}_n._jsonSchemaVersion="firestore/bytes/1.0",_n._jsonSchema={type:Vs("string",_n._jsonSchemaVersion),bytes:Vs("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yc=class{constructor(...e){for(let s=0;s<e.length;++s)if(e[s].length===0)throw new Se(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new as(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ec=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,s){if(!isFinite(e)||e<-90||e>90)throw new Se(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(s)||s<-180||s>180)throw new Se(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=e,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fa._jsonSchemaVersion}}static fromJSON(e){if(hm(e,fa._jsonSchema))return new fa(e.latitude,e.longitude)}}fa._jsonSchemaVersion="firestore/geoPoint/1.0",fa._jsonSchema={type:Vs("string",fa._jsonSchemaVersion),latitude:Vs("number"),longitude:Vs("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this._values=(e||[]).map((s=>s))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==i[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ma._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hm(e,ma._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((s=>typeof s=="number")))return new ma(e.vectorValues);throw new Se(he.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ma._jsonSchemaVersion="firestore/vectorValue/1.0",ma._jsonSchema={type:Vs("string",ma._jsonSchemaVersion),vectorValues:Vs("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jG=/^__.*__$/;class NG{constructor(e,s,r){this.data=e,this.fieldMask=s,this.fieldTransforms=r}toMutation(e,s){return this.fieldMask!==null?new Ui(e,this.data,this.fieldMask,s,this.fieldTransforms):new Pu(e,this.data,s,this.fieldTransforms)}}class ZI{constructor(e,s,r){this.data=e,this.fieldMask=s,this.fieldTransforms=r}toMutation(e,s){return new Ui(e,this.data,this.fieldMask,s,this.fieldTransforms)}}function eR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{dataSource:n})}}class qx{constructor(e,s,r,i,l,c){this.settings=e,this.databaseId=s,this.serializer=r,this.ignoreUndefinedProperties=i,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new qx({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const s=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:s,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const s=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:s,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return ax(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((s=>e.isPrefixOf(s)))!==void 0||this.fieldTransforms.find((s=>e.isPrefixOf(s.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(eR(this.dataSource)&&jG.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class _G{constructor(e,s,r){this.databaseId=e,this.ignoreUndefinedProperties=s,this.serializer=r||wm(e)}createContext(e,s,r,i=!1){return new qx({dataSource:e,methodName:s,targetDoc:r,path:as.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cc(n){const e=n._freezeSettings(),s=wm(n._databaseId);return new _G(n._databaseId,!!e.ignoreUndefinedProperties,s)}function Hx(n,e,s,r,i,l={}){const c=n.createContext(l.merge||l.mergeFields?2:0,e,s,i);Yj("Data must be an object, but it was:",c,r);const f=nR(r,c);let u,m;if(l.merge)u=new Jn(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const g=[];for(const b of l.mergeFields){const v=bc(e,b,s);if(!c.contains(v))throw new Se(he.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);iR(g,v)||g.push(v)}u=new Jn(g),m=c.fieldTransforms.filter((b=>u.covers(b.field)))}else u=null,m=c.fieldTransforms;return new NG(new hn(f),u,m)}class _m extends Ec{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _m}}function tR(n,e,s){return new qx({dataSource:3,targetDoc:e.settings.targetDoc,methodName:n._methodName,arrayElement:s},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class $j extends Ec{_toFieldTransform(e){return new ym(e.path,new hu)}isEqual(e){return e instanceof $j}}class qj extends Ec{constructor(e,s){super(e),this.Ac=s}_toFieldTransform(e){const s=tR(this,e,!0),r=this.Ac.map((l=>Ac(l,s))),i=new hc(r);return new ym(e.path,i)}isEqual(e){return e instanceof qj&&qo(this.Ac,e.Ac)}}class Hj extends Ec{constructor(e,s){super(e),this.Ac=s}_toFieldTransform(e){const s=tR(this,e,!0),r=this.Ac.map((l=>Ac(l,s))),i=new fc(r);return new ym(e.path,i)}isEqual(e){return e instanceof Hj&&qo(this.Ac,e.Ac)}}class Gj extends Ec{constructor(e,s){super(e),this.Vc=s}_toFieldTransform(e){const s=new fu(e.serializer,TA(e.serializer,this.Vc));return new ym(e.path,s)}isEqual(e){return e instanceof Gj&&this.Vc===e.Vc}}function Kj(n,e,s,r){const i=n.createContext(1,e,s);Yj("Data must be an object, but it was:",i,r);const l=[],c=hn.empty();al(r,((u,m)=>{const g=aR(e,u,s);m=Qe(m);const b=i.childContextForFieldPath(g);if(m instanceof _m)l.push(g);else{const v=Ac(m,b);v!=null&&(l.push(g),c.set(g,v))}}));const f=new Jn(l);return new ZI(c,f,i.fieldTransforms)}function Wj(n,e,s,r,i,l){const c=n.createContext(1,e,s),f=[bc(e,r,s)],u=[i];if(l.length%2!=0)throw new Se(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<l.length;v+=2)f.push(bc(e,l[v])),u.push(l[v+1]);const m=[],g=hn.empty();for(let v=f.length-1;v>=0;--v)if(!iR(m,f[v])){const E=f[v];let N=u[v];N=Qe(N);const C=c.childContextForFieldPath(E);if(N instanceof _m)m.push(E);else{const T=Ac(N,C);T!=null&&(m.push(E),g.set(E,T))}}const b=new Jn(m);return new ZI(g,b,c.fieldTransforms)}function sR(n,e,s,r=!1){return Ac(s,n.createContext(r?4:3,e))}function Ac(n,e){if(rR(n=Qe(n)))return Yj("Unsupported field value:",e,n),nR(n,e);if(n instanceof Ec)return(function(r,i){if(!eR(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(i);l&&i.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const l=[];let c=0;for(const f of r){let u=Ac(f,i.childContextForArray(c));u==null&&(u={nullValue:"NULL_VALUE"}),l.push(u),c++}return{arrayValue:{values:l}}})(n,e)}return(function(r,i){if((r=Qe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return TA(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Rt.fromDate(r);return{timestampValue:mu(i.serializer,l)}}if(r instanceof Rt){const l=new Rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mu(i.serializer,l)}}if(r instanceof fa)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _n)return{bytesValue:VA(i.serializer,r._byteString)};if(r instanceof Wt){const l=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw i.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:pj(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ma)return(function(c,f){const u=c instanceof ma?c.toArray():c;return{mapValue:{fields:{[rj]:{stringValue:aj},[cu]:{arrayValue:{values:u.map((g=>{if(typeof g!="number")throw f.createError("VectorValues must only contain numeric values.");return cj(f.serializer,g)}))}}}}}})(r,i);if(JA(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${Tx(r)}`)})(n,e)}function nR(n,e){const s={};return sA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):al(n,((r,i)=>{const l=Ac(i,e.childContextForField(r));l!=null&&(s[r]=l)})),{mapValue:{fields:s}}}function rR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Rt||n instanceof fa||n instanceof _n||n instanceof Wt||n instanceof Ec||n instanceof ma||JA(n))}function Yj(n,e,s){if(!rR(s)||!zC(s)){const r=Tx(s);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function bc(n,e,s){if((e=Qe(e))instanceof yc)return e._internalPath;if(typeof e=="string")return aR(n,e);throw ax("Field path arguments must be of type string or ",n,!1,void 0,s)}const kG=new RegExp("[~\\*/\\[\\]]");function aR(n,e,s){if(e.search(kG)>=0)throw ax(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,s);try{return new yc(...e.split("."))._internalPath}catch{throw ax(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,s)}}function ax(n,e,s,r,i){const l=r&&!r.isEmpty(),c=i!==void 0;let f=`Function ${e}() called with invalid data`;s&&(f+=" (via `toFirestore()`)"),f+=". ";let u="";return(l||c)&&(u+=" (found",l&&(u+=` in field ${r}`),c&&(u+=` in document ${i}`),u+=")"),new Se(he.INVALID_ARGUMENT,f+n+u)}function iR(n,e){return n.some((s=>s.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{convertValue(e,s="none"){switch(Yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ns(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,s);case 5:return e.stringValue;case 6:return this.convertBytes(Di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,s);case 11:return this.convertObject(e.mapValue,s);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,s){return this.convertObjectMap(e.fields,s)}convertObjectMap(e,s="none"){const r={};return al(e,((i,l)=>{r[i]=this.convertValue(l,s)})),r}convertVectorValue(e){var r,i,l;const s=(l=(i=(r=e.fields)==null?void 0:r[cu].arrayValue)==null?void 0:i.values)==null?void 0:l.map((c=>ns(c.doubleValue)));return new ma(s)}convertGeoPoint(e){return new fa(ns(e.latitude),ns(e.longitude))}convertArray(e,s){return(e.values||[]).map((r=>this.convertValue(r,s)))}convertServerTimestamp(e,s){switch(s){case"previous":const r=Px(e);return r==null?null:this.convertValue(r,s);case"estimate":return this.convertTimestamp($f(e));default:return null}}convertTimestamp(e){const s=Pi(e);return new Rt(s.seconds,s.nanos)}convertDocumentKey(e,s){const r=pt.fromString(e);He(QA(r),9688,{name:e});const i=new Wo(r.get(1),r.get(3)),l=new De(r.popFirst(5));return i.isEqual(s)||Ss(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),l}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic extends Qj{constructor(e){super(),this.firestore=e}convertBytes(e){return new _n(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SG(){return new _m("deleteField")}function TG(){return new $j("serverTimestamp")}function EG(...n){return new qj("arrayUnion",n)}function CG(...n){return new Hj("arrayRemove",n)}function AG(n){return new Gj("increment",n)}const C4="@firebase/firestore",A4="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(n){return(function(s,r){if(typeof s!="object"||s===null)return!1;const i=s;for(const l of r)if(l in i&&typeof i[l]=="function")return!0;return!1})(n,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,s,r,i,l){this._firestore=e,this._userDataWriter=s,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new IG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const s=this._document.data.field(bc("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s)}}}class IG extends Jf{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Se(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jj{}class km extends Jj{}function Co(n,e,...s){let r=[];e instanceof Jj&&r.push(e),r=r.concat(s),(function(l){const c=l.filter((u=>u instanceof Xj)).length,f=l.filter((u=>u instanceof Gx)).length;if(c>1||c>0&&f>0)throw new Se(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)n=i._apply(n);return n}class Gx extends km{constructor(e,s,r){super(),this._field=e,this._op=s,this._value=r,this.type="where"}static _create(e,s,r){return new Gx(e,s,r)}_apply(e){const s=this._parse(e);return cR(e._query,s),new zn(e.firestore,e.converter,Iv(e._query,s))}_parse(e){const s=Cc(e.firestore);return(function(l,c,f,u,m,g,b){let v;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Se(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){R4(b,g);const N=[];for(const C of b)N.push(I4(u,l,C));v={arrayValue:{values:N}}}else v=I4(u,l,b)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||R4(b,g),v=sR(f,c,b,g==="in"||g==="not-in");return vt.create(m,g,v)})(e._query,"where",s,e.firestore._databaseId,this._field,this._op,this._value)}}function RG(n,e,s){const r=e,i=bc("where",n);return Gx._create(i,r,s)}class Xj extends Jj{constructor(e,s){super(),this.type=e,this._queryConstraints=s}static _create(e,s){return new Xj(e,s)}_parse(e){const s=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return s.length===1?s[0]:Mt.create(s,this._getOperator())}_apply(e){const s=this._parse(e);return s.getFilters().length===0?e:((function(i,l){let c=i;const f=l.getFlattenedFilters();for(const u of f)cR(c,u),c=Iv(c,u)})(e._query,s),new zn(e.firestore,e.converter,Iv(e._query,s)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zj extends km{constructor(e,s){super(),this._field=e,this._direction=s,this.type="orderBy"}static _create(e,s){return new Zj(e,s)}_apply(e){const s=(function(i,l,c){if(i.startAt!==null)throw new Se(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Se(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gf(l,c)})(e._query,this._field,this._direction);return new zn(e.firestore,e.converter,L$(e._query,s))}}function PG(n,e="asc"){const s=e,r=bc("orderBy",n);return Zj._create(r,s)}class Kx extends km{constructor(e,s,r){super(),this.type=e,this._limit=s,this._limitType=r}static _create(e,s,r){return new Kx(e,s,r)}_apply(e){return new zn(e.firestore,e.converter,Yg(e._query,this._limit,this._limitType))}}function DG(n){return VC("limit",n),Kx._create("limit",n,"F")}function OG(n){return VC("limitToLast",n),Kx._create("limitToLast",n,"L")}class Wx extends km{constructor(e,s,r){super(),this.type=e,this._docOrFields=s,this._inclusive=r}static _create(e,s,r){return new Wx(e,s,r)}_apply(e){const s=lR(e,this.type,this._docOrFields,this._inclusive);return new zn(e.firestore,e.converter,z$(e._query,s))}}function MG(...n){return Wx._create("startAt",n,!0)}function LG(...n){return Wx._create("startAfter",n,!1)}class Yx extends km{constructor(e,s,r){super(),this.type=e,this._docOrFields=s,this._inclusive=r}static _create(e,s,r){return new Yx(e,s,r)}_apply(e){const s=lR(e,this.type,this._docOrFields,this._inclusive);return new zn(e.firestore,e.converter,V$(e._query,s))}}function zG(...n){return Yx._create("endBefore",n,!1)}function VG(...n){return Yx._create("endAt",n,!0)}function lR(n,e,s,r){if(s[0]=Qe(s[0]),s[0]instanceof Jf)return(function(l,c,f,u,m){if(!u)throw new Se(he.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const g=[];for(const b of qd(l))if(b.field.isKeyField())g.push(dc(c,u.key));else{const v=u.data.field(b.field);if(Rx(v))throw new Se(he.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const E=b.field.canonicalString();throw new Se(he.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${E}' (used as the orderBy) does not exist.`)}g.push(v)}return new Jo(g,m)})(n._query,n.firestore._databaseId,e,s[0]._document,r);{const i=Cc(n.firestore);return(function(c,f,u,m,g,b){const v=c.explicitOrderBy;if(g.length>v.length)throw new Se(he.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const E=[];for(let N=0;N<g.length;N++){const C=g[N];if(v[N].field.isKeyField()){if(typeof C!="string")throw new Se(he.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof C}`);if(!oj(c)&&C.indexOf("/")!==-1)throw new Se(he.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${C}' contains a slash.`);const T=c.path.child(pt.fromString(C));if(!De.isDocumentKey(T))throw new Se(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${T}' is not because it contains an odd number of segments.`);const O=new De(T);E.push(dc(f,O))}else{const T=sR(u,m,C);E.push(T)}}return new Jo(E,b)})(n._query,n.firestore._databaseId,i,e,s,r)}}function I4(n,e,s){if(typeof(s=Qe(s))=="string"){if(s==="")throw new Se(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oj(e)&&s.indexOf("/")!==-1)throw new Se(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${s}' contains a '/' character.`);const r=e.path.child(pt.fromString(s));if(!De.isDocumentKey(r))throw new Se(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dc(n,new De(r))}if(s instanceof Wt)return dc(n,s._key);throw new Se(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tx(s)}.`)}function R4(n,e){if(!Array.isArray(n)||n.length===0)throw new Se(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cR(n,e){const s=(function(i,l){for(const c of i)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(s!==null)throw s===e.op?new Se(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${s.toString()}' filters.`)}function Qx(n,e,s){let r;return r=n?s&&(s.merge||s.mergeFields)?n.toFirestore(e,s):n.toFirestore(e):e,r}class UG extends Qj{constructor(e){super(),this.firestore=e}convertBytes(e){return new _n(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,s)}}class Hl{constructor(e,s){this.hasPendingWrites=e,this.fromCache=s}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let $r=class dR extends Jf{constructor(e,s,r,i,l,c){super(e,s,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const s=new kf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,s={}){if(this._document){const r=this._document.data.field(bc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,s.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(he.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,s={};return s.type=dR._jsonSchemaVersion,s.bundle="",s.bundleSource="DocumentSnapshot",s.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?s:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),s.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),s)}};$r._jsonSchemaVersion="firestore/documentSnapshot/1.0",$r._jsonSchema={type:Vs("string",$r._jsonSchemaVersion),bundleSource:Vs("string","DocumentSnapshot"),bundleName:Vs("string"),bundle:Vs("string")};let kf=class extends $r{data(e={}){return super.data(e)}},pa=class uR{constructor(e,s,r,i){this._firestore=e,this._userDataWriter=s,this._snapshot=i,this.metadata=new Hl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((s=>e.push(s))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,s){this._snapshot.docs.forEach((r=>{e.call(s,new kf(this._firestore,this._userDataWriter,r.key,r,new Hl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const s=!!e.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new Se(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=(function(i,l){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map((f=>{const u=new kf(i._firestore,i._userDataWriter,f.doc.key,f.doc,new Hl(i._snapshot.mutatedKeys.has(f.doc.key),i._snapshot.fromCache),i.query.converter);return f.doc,{type:"added",doc:u,oldIndex:-1,newIndex:c++}}))}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const u=new kf(i._firestore,i._userDataWriter,f.doc.key,f.doc,new Hl(i._snapshot.mutatedKeys.has(f.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,g=-1;return f.type!==0&&(m=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),g=c.indexOf(f.doc.key)),{type:FG(f.type),doc:u,oldIndex:m,newIndex:g}}))}})(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(he.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=uR._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Qw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const s=[],r=[],i=[];return this.docs.forEach((l=>{l._document!==null&&(s.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),i.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function FG(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:n})}}function hR(n,e){return n instanceof $r&&e instanceof $r?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof pa&&e instanceof pa&&n._firestore===e._firestore&&QI(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pa._jsonSchemaVersion="firestore/querySnapshot/1.0",pa._jsonSchema={type:Vs("string",pa._jsonSchemaVersion),bundleSource:Vs("string","QuerySnapshot"),bundleName:Vs("string"),bundle:Vs("string")};const BG={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $G=class{constructor(e,s){this._firestore=e,this._commitHandler=s,this._mutations=[],this._committed=!1,this._dataReader=Cc(e)}set(e,s,r){this._verifyNotCommitted();const i=Po(e,this._firestore),l=Qx(i.converter,s,r),c=Hx(this._dataReader,"WriteBatch.set",i._key,l,i.converter!==null,r);return this._mutations.push(c.toMutation(i._key,is.none())),this}update(e,s,r,...i){this._verifyNotCommitted();const l=Po(e,this._firestore);let c;return c=typeof(s=Qe(s))=="string"||s instanceof yc?Wj(this._dataReader,"WriteBatch.update",l._key,s,r,i):Kj(this._dataReader,"WriteBatch.update",l._key,s),this._mutations.push(c.toMutation(l._key,is.exists(!0))),this}delete(e){this._verifyNotCommitted();const s=Po(e,this._firestore);return this._mutations=this._mutations.concat(new Du(s._key,is.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Se(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Po(n,e){if((n=Qe(n)).firestore!==e)throw new Se(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qG{constructor(e,s){this._firestore=e,this._transaction=s,this._dataReader=Cc(e)}get(e){const s=Po(e,this._firestore),r=new UG(this._firestore);return this._transaction.lookup([s._key]).then((i=>{if(!i||i.length!==1)return Ve(24041);const l=i[0];if(l.isFoundDocument())return new Jf(this._firestore,r,l.key,l,s.converter);if(l.isNoDocument())return new Jf(this._firestore,r,s._key,null,s.converter);throw Ve(18433,{doc:l})}))}set(e,s,r){const i=Po(e,this._firestore),l=Qx(i.converter,s,r),c=Hx(this._dataReader,"Transaction.set",i._key,l,i.converter!==null,r);return this._transaction.set(i._key,c),this}update(e,s,r,...i){const l=Po(e,this._firestore);let c;return c=typeof(s=Qe(s))=="string"||s instanceof yc?Wj(this._dataReader,"Transaction.update",l._key,s,r,i):Kj(this._dataReader,"Transaction.update",l._key,s),this._transaction.update(l._key,c),this}delete(e){const s=Po(e,this._firestore);return this._transaction.delete(s._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HG=class extends qG{constructor(e,s){super(e,s),this._firestore=e}get(e){const s=Po(e,this._firestore),r=new Ic(this._firestore);return super.get(e).then((i=>new $r(this._firestore,r,s._key,i._document,new Hl(!1,!1),s.converter)))}};function GG(n,e,s){n=Et(n,Cs);const r={...BG,...s};(function(c){if(c.maxAttempts<1)throw new Se(he.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r);const i=Tn(n);return aG(i,(l=>e(new HG(n,l))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KG(n){n=Et(n,Wt);const e=Et(n.firestore,Cs),s=Tn(e);return BI(s,n._key).then((r=>e1(e,n,r)))}function WG(n){n=Et(n,Wt);const e=Et(n.firestore,Cs),s=Tn(e),r=new Ic(e);return tG(s,n._key).then((i=>new $r(e,r,n._key,i,new Hl(i!==null&&i.hasLocalMutations,!0),n.converter)))}function YG(n){n=Et(n,Wt);const e=Et(n.firestore,Cs),s=Tn(e);return BI(s,n._key,{source:"server"}).then((r=>e1(e,n,r)))}function QG(n){n=Et(n,zn);const e=Et(n.firestore,Cs),s=Tn(e),r=new Ic(e);return oR(n._query),$I(s,n._query).then((i=>new pa(e,r,n,i)))}function JG(n){n=Et(n,zn);const e=Et(n.firestore,Cs),s=Tn(e),r=new Ic(e);return sG(s,n._query).then((i=>new pa(e,r,n,i)))}function XG(n){n=Et(n,zn);const e=Et(n.firestore,Cs),s=Tn(e),r=new Ic(e);return $I(s,n._query,{source:"server"}).then((i=>new pa(e,r,n,i)))}function P4(n,e,s){n=Et(n,Wt);const r=Et(n.firestore,Cs),i=Qx(n.converter,e,s),l=Cc(r);return Sm(r,[Hx(l,"setDoc",n._key,i,n.converter!==null,s).toMutation(n._key,is.none())])}function D4(n,e,s,...r){n=Et(n,Wt);const i=Et(n.firestore,Cs),l=Cc(i);let c;return c=typeof(e=Qe(e))=="string"||e instanceof yc?Wj(l,"updateDoc",n._key,e,s,r):Kj(l,"updateDoc",n._key,e),Sm(i,[c.toMutation(n._key,is.exists(!0))])}function ZG(n){return Sm(Et(n.firestore,Cs),[new Du(n._key,is.none())])}function eK(n,e){const s=Et(n.firestore,Cs),r=rx(n),i=Qx(n.converter,e),l=Cc(n.firestore);return Sm(s,[Hx(l,"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,is.exists(!1))]).then((()=>r))}function fR(n,...e){var m,g,b;n=Qe(n);let s={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||qv(e[r])||(s=e[r++]);const i={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(qv(e[r])){const v=e[r];e[r]=(m=v.next)==null?void 0:m.bind(v),e[r+1]=(g=v.error)==null?void 0:g.bind(v),e[r+2]=(b=v.complete)==null?void 0:b.bind(v)}let l,c,f;if(n instanceof Wt)c=Et(n.firestore,Cs),f=Ru(n._key.path),l={next:v=>{e[r]&&e[r](e1(c,n,v))},error:e[r+1],complete:e[r+2]};else{const v=Et(n,zn);c=Et(v.firestore,Cs),f=v._query;const E=new Ic(c);l={next:N=>{e[r]&&e[r](new pa(c,E,v,N))},error:e[r+1],complete:e[r+2]},oR(n._query)}const u=Tn(c);return eG(u,f,i,l)}function tK(n,e){n=Et(n,Cs);const s=Tn(n),r=qv(e)?e:{next:e};return rG(s,r)}function Sm(n,e){const s=Tn(n);return nG(s,e)}function e1(n,e,s){const r=s.docs.get(e._key),i=new Ic(n);return new $r(n,i,e._key,r,new Hl(s.hasPendingWrites,s.fromCache),e.converter)}(function(e,s=!0){R7(el),Wr(new Ln("firestore",((r,{instanceIdentifier:i,options:l})=>{const c=r.getProvider("app").getImmediate(),f=new Cs(new L7(r.getProvider("auth-internal")),new U7(c,r.getProvider("app-check-internal")),_$(c,i),c);return l={useFetchStreams:s,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),On(C4,A4,e),On(C4,A4,"esm2020")})();const sK="@firebase/firestore-compat",nK="0.4.4";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new Se("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(){if(typeof Uint8Array>"u")throw new Se("unimplemented","Uint8Arrays are not available in this environment.")}function M4(){if(!w$())throw new Se("unimplemented","Blobs are unavailable in Firestore in this environment.")}let mR=class Hv{constructor(e){this._delegate=e}static fromBase64String(e){return M4(),new Hv(_n.fromBase64String(e))}static fromUint8Array(e){return O4(),new Hv(_n.fromUint8Array(e))}toBase64(){return M4(),this._delegate.toBase64()}toUint8Array(){return O4(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(n){return rK(n,["next","error","complete"])}function rK(n,e){if(typeof n!="object"||n===null)return!1;const s=n;for(const r of e)if(r in s&&typeof s[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aK{enableIndexedDbPersistence(e,s){return mG(e._delegate,{forceOwnership:s})}enableMultiTabIndexedDbPersistence(e){return pG(e._delegate)}clearIndexedDbPersistence(e){return gG(e._delegate)}}class pR{constructor(e,s,r){this._delegate=s,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Wo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const s=this._delegate._getSettings();!e.merge&&s.host!==e.host&&Za("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...s,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,s,r={}){dG(this._delegate,e,s,r)}enableNetwork(){return yG(this._delegate)}disableNetwork(){return bG(this._delegate)}enablePersistence(e){let s=!1,r=!1;return e&&(s=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,LC("synchronizeTabs",s,"experimentalForceOwningTab",r)),s?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return xG(this._delegate)}onSnapshotsInSync(e){return tK(this._delegate,e)}get app(){if(!this._appCompat)throw new Se("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new wu(this,WI(this._delegate,e))}catch(s){throw Pn(s,"collection()","Firestore.collection()")}}doc(e){try{return new Br(this,rx(this._delegate,e))}catch(s){throw Pn(s,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Rn(this,uG(this._delegate,e))}catch(s){throw Pn(s,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return GG(this._delegate,s=>e(new gR(this,s)))}batch(){return Tn(this._delegate),new xR(new $G(this._delegate,e=>Sm(this._delegate,e)))}loadBundle(e){return vG(this._delegate,e)}namedQuery(e){return wG(this._delegate,e).then(s=>s?new Rn(this,s):null)}}class Jx extends Qj{constructor(e){super(),this.firestore=e}convertBytes(e){return new mR(new _n(e))}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return Br.forKey(s,this.firestore,null)}}function iK(n){P7(n)}class gR{constructor(e,s){this._firestore=e,this._delegate=s,this._userDataWriter=new Jx(e)}get(e){const s=Gl(e);return this._delegate.get(s).then(r=>new Xf(this._firestore,new $r(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,s.converter)))}set(e,s,r){const i=Gl(e);return r?(t1("Transaction.set",r),this._delegate.set(i,s,r)):this._delegate.set(i,s),this}update(e,s,r,...i){const l=Gl(e);return arguments.length===2?this._delegate.update(l,s):this._delegate.update(l,s,r,...i),this}delete(e){const s=Gl(e);return this._delegate.delete(s),this}}class xR{constructor(e){this._delegate=e}set(e,s,r){const i=Gl(e);return r?(t1("WriteBatch.set",r),this._delegate.set(i,s,r)):this._delegate.set(i,s),this}update(e,s,r,...i){const l=Gl(e);return arguments.length===2?this._delegate.update(l,s):this._delegate.update(l,s,r,...i),this}delete(e){const s=Gl(e);return this._delegate.delete(s),this}commit(){return this._delegate.commit()}}class vc{constructor(e,s,r){this._firestore=e,this._userDataWriter=s,this._delegate=r}fromFirestore(e,s){const r=new kf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Zf(this._firestore,r),s??{})}toFirestore(e,s){return s?this._delegate.toFirestore(e,s):this._delegate.toFirestore(e)}static getInstance(e,s){const r=vc.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(s);return l||(l=new vc(e,new Jx(e),s),i.set(s,l)),l}}vc.INSTANCES=new WeakMap;class Br{constructor(e,s){this.firestore=e,this._delegate=s,this._userDataWriter=new Jx(e)}static forPath(e,s,r){if(e.length%2!==0)throw new Se("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Br(s,new Wt(s._delegate,r,new De(e)))}static forKey(e,s,r){return new Br(s,new Wt(s._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new wu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new wu(this.firestore,WI(this._delegate,e))}catch(s){throw Pn(s,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Qe(e),e instanceof Wt?YI(this._delegate,e):!1}set(e,s){s=t1("DocumentReference.set",s);try{return s?P4(this._delegate,e,s):P4(this._delegate,e)}catch(r){throw Pn(r,"setDoc()","DocumentReference.set()")}}update(e,s,...r){try{return arguments.length===1?D4(this._delegate,e):D4(this._delegate,e,s,...r)}catch(i){throw Pn(i,"updateDoc()","DocumentReference.update()")}}delete(){return ZG(this._delegate)}onSnapshot(...e){const s=yR(e),r=bR(e,i=>new Xf(this.firestore,new $r(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return fR(this._delegate,s,r)}get(e){let s;return(e==null?void 0:e.source)==="cache"?s=WG(this._delegate):(e==null?void 0:e.source)==="server"?s=YG(this._delegate):s=KG(this._delegate),s.then(r=>new Xf(this.firestore,new $r(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Br(this.firestore,e?this._delegate.withConverter(vc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Pn(n,e,s){return n.message=n.message.replace(e,s),n}function yR(n){for(const e of n)if(typeof e=="object"&&!Gv(e))return e;return{}}function bR(n,e){var r,i;let s;return Gv(n[0])?s=n[0]:Gv(n[1])?s=n[1]:typeof n[0]=="function"?s={next:n[0],error:n[1],complete:n[2]}:s={next:n[1],error:n[2],complete:n[3]},{next:l=>{s.next&&s.next(e(l))},error:(r=s.error)==null?void 0:r.bind(s),complete:(i=s.complete)==null?void 0:i.bind(s)}}class Xf{constructor(e,s){this._firestore=e,this._delegate=s}get ref(){return new Br(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,s){return this._delegate.get(e,s)}isEqual(e){return hR(this._delegate,e._delegate)}}class Zf extends Xf{data(e){const s=this._delegate.data(e);return this._delegate._converter||D7(s!==void 0,"Document in a QueryDocumentSnapshot should exist"),s}}class Rn{constructor(e,s){this.firestore=e,this._delegate=s,this._userDataWriter=new Jx(e)}where(e,s,r){try{return new Rn(this.firestore,Co(this._delegate,RG(e,s,r)))}catch(i){throw Pn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,s){try{return new Rn(this.firestore,Co(this._delegate,PG(e,s)))}catch(r){throw Pn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Rn(this.firestore,Co(this._delegate,DG(e)))}catch(s){throw Pn(s,"limit()","Query.limit()")}}limitToLast(e){try{return new Rn(this.firestore,Co(this._delegate,OG(e)))}catch(s){throw Pn(s,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Rn(this.firestore,Co(this._delegate,MG(...e)))}catch(s){throw Pn(s,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Rn(this.firestore,Co(this._delegate,LG(...e)))}catch(s){throw Pn(s,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Rn(this.firestore,Co(this._delegate,zG(...e)))}catch(s){throw Pn(s,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Rn(this.firestore,Co(this._delegate,VG(...e)))}catch(s){throw Pn(s,"endAt()","Query.endAt()")}}isEqual(e){return QI(this._delegate,e._delegate)}get(e){let s;return(e==null?void 0:e.source)==="cache"?s=JG(this._delegate):(e==null?void 0:e.source)==="server"?s=XG(this._delegate):s=QG(this._delegate),s.then(r=>new Kv(this.firestore,new pa(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const s=yR(e),r=bR(e,i=>new Kv(this.firestore,new pa(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return fR(this._delegate,s,r)}withConverter(e){return new Rn(this.firestore,e?this._delegate.withConverter(vc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class oK{constructor(e,s){this._firestore=e,this._delegate=s}get type(){return this._delegate.type}get doc(){return new Zf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Kv{constructor(e,s){this._firestore=e,this._delegate=s}get query(){return new Rn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Zf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(s=>new oK(this._firestore,s))}forEach(e,s){this._delegate.forEach(r=>{e.call(s,new Zf(this._firestore,r))})}isEqual(e){return hR(this._delegate,e._delegate)}}class wu extends Rn{constructor(e,s){super(e,s),this.firestore=e,this._delegate=s}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Br(this.firestore,e):null}doc(e){try{return e===void 0?new Br(this.firestore,rx(this._delegate)):new Br(this.firestore,rx(this._delegate,e))}catch(s){throw Pn(s,"doc()","CollectionReference.doc()")}}add(e){return eK(this._delegate,e).then(s=>new Br(this.firestore,s))}isEqual(e){return YI(this._delegate,e._delegate)}withConverter(e){return new wu(this.firestore,e?this._delegate.withConverter(vc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Gl(n){return Et(n,Wt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(...e){this._delegate=new yc(...e)}static documentId(){return new s1(as.keyField().canonicalString())}isEqual(e){return e=Qe(e),e instanceof yc?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{static serverTimestamp(){const e=TG();return e._methodName="FieldValue.serverTimestamp",new Fl(e)}static delete(){const e=SG();return e._methodName="FieldValue.delete",new Fl(e)}static arrayUnion(...e){const s=EG(...e);return s._methodName="FieldValue.arrayUnion",new Fl(s)}static arrayRemove(...e){const s=CG(...e);return s._methodName="FieldValue.arrayRemove",new Fl(s)}static increment(e){const s=AG(e);return s._methodName="FieldValue.increment",new Fl(s)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lK={Firestore:pR,GeoPoint:fa,Timestamp:Rt,Blob:mR,Transaction:gR,WriteBatch:xR,DocumentReference:Br,DocumentSnapshot:Xf,Query:Rn,QueryDocumentSnapshot:Zf,QuerySnapshot:Kv,CollectionReference:wu,FieldPath:s1,FieldValue:Fl,setLogLevel:iK,CACHE_SIZE_UNLIMITED:fG};function cK(n,e){n.INTERNAL.registerComponent(new Ln("firestore-compat",s=>{const r=s.getProvider("app-compat").getImmediate(),i=s.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps({...lK}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dK(n){cK(n,(e,s)=>new pR(e,s,new aK)),n.registerVersion(sK,nK)}dK(tl);const vR="@firebase/installations",n1="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=1e4,jR=`w:${n1}`,NR="FIS_v2",uK="https://firebaseinstallations.googleapis.com/v1",hK=3600*1e3,fK="installations",mK="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pK={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},wc=new Oi(fK,mK,pK);function _R(n){return n instanceof pn&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR({projectId:n}){return`${uK}/projects/${n}/installations`}function SR(n){return{token:n.token,requestStatus:2,expiresIn:xK(n.expiresIn),creationTime:Date.now()}}async function TR(n,e){const r=(await e.json()).error;return wc.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function ER({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function gK(n,{refreshToken:e}){const s=ER(n);return s.append("Authorization",yK(e)),s}async function CR(n){const e=await n();return e.status>=500&&e.status<600?n():e}function xK(n){return Number(n.replace("s","000"))}function yK(n){return`${NR} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bK({appConfig:n,heartbeatServiceProvider:e},{fid:s}){const r=kR(n),i=ER(n),l=e.getImmediate({optional:!0});if(l){const m=await l.getHeartbeatsHeader();m&&i.append("x-firebase-client",m)}const c={fid:s,authVersion:NR,appId:n.appId,sdkVersion:jR},f={method:"POST",headers:i,body:JSON.stringify(c)},u=await CR(()=>fetch(r,f));if(u.ok){const m=await u.json();return{fid:m.fid||s,registrationStatus:2,refreshToken:m.refreshToken,authToken:SR(m.authToken)}}else throw await TR("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vK(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wK=/^[cdef][\w-]{21}$/,Wv="";function jK(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const s=NK(n);return wK.test(s)?s:Wv}catch{return Wv}}function NK(n){return vK(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=new Map;function RR(n,e){const s=Xx(n);PR(s,e),_K(s,e)}function PR(n,e){const s=IR.get(n);if(s)for(const r of s)r(e)}function _K(n,e){const s=kK();s&&s.postMessage({key:n,fid:e}),SK()}let Kl=null;function kK(){return!Kl&&"BroadcastChannel"in self&&(Kl=new BroadcastChannel("[Firebase] FID Change"),Kl.onmessage=n=>{PR(n.data.key,n.data.fid)}),Kl}function SK(){IR.size===0&&Kl&&(Kl.close(),Kl=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TK="firebase-installations-database",EK=1,jc="firebase-installations-store";let Vb=null;function r1(){return Vb||(Vb=wE(TK,EK,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(jc)}}})),Vb}async function ix(n,e){const s=Xx(n),i=(await r1()).transaction(jc,"readwrite"),l=i.objectStore(jc),c=await l.get(s);return await l.put(e,s),await i.done,(!c||c.fid!==e.fid)&&RR(n,e.fid),e}async function DR(n){const e=Xx(n),r=(await r1()).transaction(jc,"readwrite");await r.objectStore(jc).delete(e),await r.done}async function Zx(n,e){const s=Xx(n),i=(await r1()).transaction(jc,"readwrite"),l=i.objectStore(jc),c=await l.get(s),f=e(c);return f===void 0?await l.delete(s):await l.put(f,s),await i.done,f&&(!c||c.fid!==f.fid)&&RR(n,f.fid),f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a1(n){let e;const s=await Zx(n.appConfig,r=>{const i=CK(r),l=AK(n,i);return e=l.registrationPromise,l.installationEntry});return s.fid===Wv?{installationEntry:await e}:{installationEntry:s,registrationPromise:e}}function CK(n){const e=n||{fid:jK(),registrationStatus:0};return OR(e)}function AK(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(wc.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const s={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=IK(n,s);return{installationEntry:s,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:RK(n)}:{installationEntry:e}}async function IK(n,e){try{const s=await bK(n,e);return ix(n.appConfig,s)}catch(s){throw _R(s)&&s.customData.serverCode===409?await DR(n.appConfig):await ix(n.appConfig,{fid:e.fid,registrationStatus:0}),s}}async function RK(n){let e=await L4(n.appConfig);for(;e.registrationStatus===1;)await AR(100),e=await L4(n.appConfig);if(e.registrationStatus===0){const{installationEntry:s,registrationPromise:r}=await a1(n);return r||s}return e}function L4(n){return Zx(n,e=>{if(!e)throw wc.create("installation-not-found");return OR(e)})}function OR(n){return PK(n)?{fid:n.fid,registrationStatus:0}:n}function PK(n){return n.registrationStatus===1&&n.registrationTime+wR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DK({appConfig:n,heartbeatServiceProvider:e},s){const r=OK(n,s),i=gK(n,s),l=e.getImmediate({optional:!0});if(l){const m=await l.getHeartbeatsHeader();m&&i.append("x-firebase-client",m)}const c={installation:{sdkVersion:jR,appId:n.appId}},f={method:"POST",headers:i,body:JSON.stringify(c)},u=await CR(()=>fetch(r,f));if(u.ok){const m=await u.json();return SR(m)}else throw await TR("Generate Auth Token",u)}function OK(n,{fid:e}){return`${kR(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i1(n,e=!1){let s;const r=await Zx(n.appConfig,l=>{if(!MR(l))throw wc.create("not-registered");const c=l.authToken;if(!e&&zK(c))return l;if(c.requestStatus===1)return s=MK(n,e),l;{if(!navigator.onLine)throw wc.create("app-offline");const f=UK(l);return s=LK(n,f),f}});return s?await s:r.authToken}async function MK(n,e){let s=await z4(n.appConfig);for(;s.authToken.requestStatus===1;)await AR(100),s=await z4(n.appConfig);const r=s.authToken;return r.requestStatus===0?i1(n,e):r}function z4(n){return Zx(n,e=>{if(!MR(e))throw wc.create("not-registered");const s=e.authToken;return FK(s)?{...e,authToken:{requestStatus:0}}:e})}async function LK(n,e){try{const s=await DK(n,e),r={...e,authToken:s};return await ix(n.appConfig,r),s}catch(s){if(_R(s)&&(s.customData.serverCode===401||s.customData.serverCode===404))await DR(n.appConfig);else{const r={...e,authToken:{requestStatus:0}};await ix(n.appConfig,r)}throw s}}function MR(n){return n!==void 0&&n.registrationStatus===2}function zK(n){return n.requestStatus===2&&!VK(n)}function VK(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+hK}function UK(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function FK(n){return n.requestStatus===1&&n.requestTime+wR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BK(n){const e=n,{installationEntry:s,registrationPromise:r}=await a1(e);return r?r.catch(console.error):i1(e).catch(console.error),s.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $K(n,e=!1){const s=n;return await qK(s),(await i1(s,e)).token}async function qK(n){const{registrationPromise:e}=await a1(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HK(n){if(!n||!n.options)throw Ub("App Configuration");if(!n.name)throw Ub("App Name");const e=["projectId","apiKey","appId"];for(const s of e)if(!n.options[s])throw Ub(s);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Ub(n){return wc.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="installations",GK="installations-internal",KK=n=>{const e=n.getProvider("app").getImmediate(),s=HK(e),r=px(e,"heartbeat");return{app:e,appConfig:s,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},WK=n=>{const e=n.getProvider("app").getImmediate(),s=px(e,LR).getImmediate();return{getId:()=>BK(s),getToken:i=>$K(s,i)}};function YK(){Wr(new Ln(LR,KK,"PUBLIC")),Wr(new Ln(GK,WK,"PRIVATE"))}YK();On(vR,n1);On(vR,n1,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4="analytics",QK="firebase_id",JK="origin",XK=60*1e3,ZK="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",o1="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en=new rm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eW={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},wr=new Oi("analytics","Analytics",eW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tW(n){if(!n.startsWith(o1)){const e=wr.create("invalid-gtag-resource",{gtagURL:n});return en.warn(e.message),""}return n}function zR(n){return Promise.all(n.map(e=>e.catch(s=>s)))}function sW(n,e){let s;return window.trustedTypes&&(s=window.trustedTypes.createPolicy(n,e)),s}function nW(n,e){const s=sW("firebase-js-sdk-policy",{createScriptURL:tW}),r=document.createElement("script"),i=`${o1}?l=${n}&id=${e}`;r.src=s?s==null?void 0:s.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function rW(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function aW(n,e,s,r,i,l){const c=r[i];try{if(c)await e[c];else{const u=(await zR(s)).find(m=>m.measurementId===i);u&&await e[u.appId]}}catch(f){en.error(f)}n("config",i,l)}async function iW(n,e,s,r,i){try{let l=[];if(i&&i.send_to){let c=i.send_to;Array.isArray(c)||(c=[c]);const f=await zR(s);for(const u of c){const m=f.find(b=>b.measurementId===u),g=m&&e[m.appId];if(g)l.push(g);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),n("event",r,i||{})}catch(l){en.error(l)}}function oW(n,e,s,r){async function i(l,...c){try{if(l==="event"){const[f,u]=c;await iW(n,e,s,f,u)}else if(l==="config"){const[f,u]=c;await aW(n,e,s,r,f,u)}else if(l==="consent"){const[f,u]=c;n("consent",f,u)}else if(l==="get"){const[f,u,m]=c;n("get",f,u,m)}else if(l==="set"){const[f]=c;n("set",f)}else n(l,...c)}catch(f){en.error(f)}}return i}function lW(n,e,s,r,i){let l=function(...c){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(l=window[i]),window[i]=oW(l,n,e,s),{gtagCore:l,wrappedGtag:window[i]}}function cW(n){const e=window.document.getElementsByTagName("script");for(const s of Object.values(e))if(s.src&&s.src.includes(o1)&&s.src.includes(n))return s;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dW=30,uW=1e3;class hW{constructor(e={},s=uW){this.throttleMetadata=e,this.intervalMillis=s}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,s){this.throttleMetadata[e]=s}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const VR=new hW;function fW(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function mW(n){var c;const{appId:e,apiKey:s}=n,r={method:"GET",headers:fW(s)},i=ZK.replace("{app-id}",e),l=await fetch(i,r);if(l.status!==200&&l.status!==304){let f="";try{const u=await l.json();(c=u.error)!=null&&c.message&&(f=u.error.message)}catch{}throw wr.create("config-fetch-failed",{httpStatus:l.status,responseMessage:f})}return l.json()}async function pW(n,e=VR,s){const{appId:r,apiKey:i,measurementId:l}=n.options;if(!r)throw wr.create("no-app-id");if(!i){if(l)return{measurementId:l,appId:r};throw wr.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new yW;return setTimeout(async()=>{f.abort()},XK),UR({appId:r,apiKey:i,measurementId:l},c,f,e)}async function UR(n,{throttleEndTimeMillis:e,backoffCount:s},r,i=VR){var f;const{appId:l,measurementId:c}=n;try{await gW(r,e)}catch(u){if(c)return en.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:l,measurementId:c};throw u}try{const u=await mW(n);return i.deleteThrottleMetadata(l),u}catch(u){const m=u;if(!xW(m)){if(i.deleteThrottleMetadata(l),c)return en.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:l,measurementId:c};throw u}const g=Number((f=m==null?void 0:m.customData)==null?void 0:f.httpStatus)===503?Ik(s,i.intervalMillis,dW):Ik(s,i.intervalMillis),b={throttleEndTimeMillis:Date.now()+g,backoffCount:s+1};return i.setThrottleMetadata(l,b),en.debug(`Calling attemptFetch again in ${g} millis`),UR(n,b,r,i)}}function gW(n,e){return new Promise((s,r)=>{const i=Math.max(e-Date.now(),0),l=setTimeout(s,i);n.addEventListener(()=>{clearTimeout(l),r(wr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function xW(n){if(!(n instanceof pn)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class yW{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function bW(n,e,s,r,i){if(i&&i.global){n("event",s,r);return}else{const l=await e,c={...r,send_to:l};n("event",s,c)}}async function vW(n,e,s,r){if(r&&r.global)return n("set",{screen_name:s}),Promise.resolve();{const i=await e;n("config",i,{update:!0,screen_name:s})}}async function wW(n,e,s,r){if(r&&r.global)return n("set",{user_id:s}),Promise.resolve();{const i=await e;n("config",i,{update:!0,user_id:s})}}async function jW(n,e,s,r){if(r&&r.global){const i={};for(const l of Object.keys(s))i[`user_properties.${l}`]=s[l];return n("set",i),Promise.resolve()}else{const i=await e;n("config",i,{update:!0,user_properties:s})}}async function NW(n,e){const s=await n;window[`ga-disable-${s}`]=!e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _W(){if(ic())try{await Nw()}catch(n){return en.warn(wr.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return en.warn(wr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function kW(n,e,s,r,i,l,c){const f=pW(n);f.then(v=>{s[v.measurementId]=v.appId,n.options.measurementId&&v.measurementId!==n.options.measurementId&&en.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>en.error(v)),e.push(f);const u=_W().then(v=>{if(v)return r.getId()}),[m,g]=await Promise.all([f,u]);cW(l)||nW(l,m.measurementId),i("js",new Date);const b=(c==null?void 0:c.config)??{};return b[JK]="firebase",b.update=!0,g!=null&&(b[QK]=g),i("config",m.measurementId,b),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SW=class{constructor(e){this.app=e}_delete(){return delete Ti[this.app.options.appId],Promise.resolve()}},Ti={},U4=[];const F4={};let Ag="dataLayer",FR="gtag",B4,Tm,Yv=!1;function TW(n){if(Yv)throw wr.create("already-initialized");n.dataLayerName&&(Ag=n.dataLayerName),n.gtagName&&(FR=n.gtagName)}function EW(){const n=[];if(mx()&&n.push("This is a browser extension environment."),pE()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),s=wr.create("invalid-analytics-context",{errorInfo:e});en.warn(s.message)}}function CW(n,e,s){EW();const r=n.options.appId;if(!r)throw wr.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)en.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw wr.create("no-api-key");if(Ti[r]!=null)throw wr.create("already-exists",{id:r});if(!Yv){rW(Ag);const{wrappedGtag:l,gtagCore:c}=lW(Ti,U4,F4,Ag,FR);Tm=l,B4=c,Yv=!0}return Ti[r]=kW(n,U4,F4,e,B4,Ag,s),new SW(n)}async function AW(){if(mx()||!pE()||!ic())return!1;try{return await Nw()}catch{return!1}}function IW(n,e,s){n=Qe(n),vW(Tm,Ti[n.app.options.appId],e,s).catch(r=>en.error(r))}function RW(n,e,s){n=Qe(n),wW(Tm,Ti[n.app.options.appId],e,s).catch(r=>en.error(r))}function BR(n,e,s){n=Qe(n),jW(Tm,Ti[n.app.options.appId],e,s).catch(r=>en.error(r))}function PW(n,e){n=Qe(n),NW(Ti[n.app.options.appId],e).catch(s=>en.error(s))}function $R(n,e,s,r){n=Qe(n),bW(Tm,Ti[n.app.options.appId],e,s,r).catch(i=>en.error(i))}const $4="@firebase/analytics",q4="0.10.19";function DW(){Wr(new Ln(V4,(e,{options:s})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return CW(r,i,s)},"PUBLIC")),Wr(new Ln("analytics-internal",n,"PRIVATE")),On($4,q4),On($4,q4,"esm2020");function n(e){try{const s=e.getProvider(V4).getImmediate();return{logEvent:(r,i,l)=>$R(s,r,i,l),setUserProperties:(r,i)=>BR(s,r,i)}}catch(s){throw wr.create("interop-component-reg-failed",{reason:s})}}}DW();const OW="@firebase/analytics-compat",MW="0.2.25";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,s){this.app=e,this._delegate=s}logEvent(e,s,r){$R(this._delegate,e,s,r)}setCurrentScreen(e,s){IW(this._delegate,e,s)}setUserId(e,s){RW(this._delegate,e,s)}setUserProperties(e,s){BR(this._delegate,e,s)}setAnalyticsCollectionEnabled(e){PW(this._delegate,e)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qv;(function(n){n.ADD_SHIPPING_INFO="add_shipping_info",n.ADD_PAYMENT_INFO="add_payment_info",n.ADD_TO_CART="add_to_cart",n.ADD_TO_WISHLIST="add_to_wishlist",n.BEGIN_CHECKOUT="begin_checkout",n.CHECKOUT_PROGRESS="checkout_progress",n.EXCEPTION="exception",n.GENERATE_LEAD="generate_lead",n.LOGIN="login",n.PAGE_VIEW="page_view",n.PURCHASE="purchase",n.REFUND="refund",n.REMOVE_FROM_CART="remove_from_cart",n.SCREEN_VIEW="screen_view",n.SEARCH="search",n.SELECT_CONTENT="select_content",n.SELECT_ITEM="select_item",n.SELECT_PROMOTION="select_promotion",n.SET_CHECKOUT_OPTION="set_checkout_option",n.SHARE="share",n.SIGN_UP="sign_up",n.TIMING_COMPLETE="timing_complete",n.VIEW_CART="view_cart",n.VIEW_ITEM="view_item",n.VIEW_ITEM_LIST="view_item_list",n.VIEW_PROMOTION="view_promotion",n.VIEW_SEARCH_RESULTS="view_search_results"})(Qv||(Qv={}));/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LW=n=>{const e=n.getProvider("app-compat").getImmediate(),s=n.getProvider("analytics").getImmediate();return new qR(e,s)};function zW(){const n={Analytics:qR,settings:TW,isSupported:AW,EventName:Qv};tl.INTERNAL.registerComponent(new Ln("analytics-compat",LW,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}zW();tl.registerVersion(OW,MW);const VW={apiKey:"AIzaSyDxhDxNIO-Svce0yRajiWPT0Xw22IwPBvE",authDomain:"traffic-websites.firebaseapp.com",projectId:"traffic-websites",storageBucket:"traffic-websites.firebasestorage.app",messagingSenderId:"617379565314",appId:"1:617379565314:web:8f9ce22c31b2548cc4bc1b",measurementId:"G-SWTXXWP99R"},l1=tl.initializeApp(VW);l1.auth();l1.firestore();l1.analytics();const HR=document.getElementById("root");if(!HR)throw new Error("Could not find root element to mount to");const UW=D6.createRoot(HR);UW.render(t.jsx(Fe.StrictMode,{children:t.jsx(J4,{children:t.jsx(EP,{children:t.jsx(zz,{})})})}));
